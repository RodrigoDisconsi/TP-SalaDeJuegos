"use strict";(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[179],{2011:(ft,Ie,P)=>{P.d(Ie,{Dh:()=>ge,GT:()=>ye,cc:()=>Ne,hO:()=>Je,on:()=>$,pX:()=>ne,xv:()=>he});var l=P(5e3),X=P(127),L=P(5813);ft=P.hmd(ft);const ce=["ngOnDestroy"],ne=(Ce,ot,et,Me={})=>new Proxy(Ce,{get:(Ee,De)=>et.runOutsideAngular(()=>{var Ke;if(Ce[De])return(null===(Ke=null==Me?void 0:Me.spy)||void 0===Ke?void 0:Ke.get)&&Me.spy.get(De,Ce[De]),Ce[De];if(ce.indexOf(De)>-1)return()=>{};const We=ot.toPromise().then(se=>{const Y=se&&se[De];return"function"==typeof Y?Y.bind(se):Y&&Y.then?Y.then(oe=>et.run(()=>oe)):et.run(()=>Y)});return new Proxy(()=>{},{get:(se,Y)=>We[Y],apply:(se,Y,oe)=>We.then(ve=>{var ae;const Fe=ve&&ve(...oe);return(null===(ae=null==Me?void 0:Me.spy)||void 0===ae?void 0:ae.apply)&&Me.spy.apply(De,oe,Fe),Fe})})})}),ye=(Ce,ot)=>{ot.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Me=>{Object.defineProperty(Ce.prototype,Me,Object.getOwnPropertyDescriptor(et.prototype||et,Me))})})};class ie{constructor(ot){return ot}}const ge=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function $(Ce,ot,et){const Ee="object"==typeof et&&et||{};Ee.name=Ee.name||"string"==typeof et&&et||"[DEFAULT]";const Ke=X.Z.apps.filter(We=>We&&We.name===Ee.name)[0]||ot.runOutsideAngular(()=>X.Z.initializeApp(Ce,Ee));try{JSON.stringify(Ce)!==JSON.stringify(Ke.options)&&z("error",`${Ke.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new ie(Ke)}const z=(Ce,...ot)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ot)},te={provide:ie,useFactory:$,deps:[ge,l.R0b,[new l.FiY,he]]};let Je=(()=>{class Ce{constructor(et){X.Z.registerVersion("angularfire",L.q4.full,"core"),X.Z.registerVersion("angularfire",L.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,et.toString())}static initializeApp(et,Me){return{ngModule:Ce,providers:[{provide:ge,useValue:et},{provide:he,useValue:Me}]}}}return Ce.\u0275fac=function(et){return new(et||Ce)(l.LFG(l.Lbi))},Ce.\u0275mod=l.oAB({type:Ce}),Ce.\u0275inj=l.cJS({providers:[te]}),Ce})();function Ne(Ce,ot,et,Me,Ee){const[,De,Ke]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===Ce)||[];if(De)return function Be(Ce,ot){try{return Ce.toString()===ot.toString()}catch(et){return Ce===ot}}(Ee,Ke)||(me("error",`${ot} was already initialized on the ${et} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:Ke})),De;{const We=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ce,We,Ee]),We}}const He=!!ft.hot,me=(Ce,...ot)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Ie,P)=>{P.d(Ie,{q4:()=>hu,iC:()=>_u,HU:()=>Ql,vb:()=>jd,JM:()=>yo});var l=P(5e3),X=P(5867),L=P(5861),ce=P(9681),ne=P(2090),ye=P(4859),ie=P(1877);const ge="@firebase/installations",z="w:0.5.7",te="FIS_v2",Ce=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(T){return T instanceof ne.ZR&&T.code.includes("request-failed")}function et({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Me(T){return{token:T.token,requestStatus:2,expiresIn:oe(T.expiresIn),creationTime:Date.now()}}function Ee(T,S){return De.apply(this,arguments)}function De(){return(De=(0,L.Z)(function*(T,S){const V=(yield S.json()).error;return Ce.create("request-failed",{requestName:T,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ke({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function We(T,{refreshToken:S}){const O=Ke(T);return O.append("Authorization",function ve(T){return`${te} ${T}`}(S)),O}function se(T){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function oe(T){return Number(T.replace("s","000"))}function ae(T,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:O}){const V=et(T),J=Ke(T),re=S.getImmediate({optional:!0});if(re){const Nt=yield re.getHeartbeatsHeader();Nt&&J.append("x-firebase-client",Nt)}const ke={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:te,appId:T.appId,sdkVersion:z})},it=yield se(()=>fetch(V,ke));if(it.ok){const Nt=yield it.json();return{fid:Nt.fid||O,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Me(Nt.authToken)}}throw yield Ee("Create Installation",it)})).apply(this,arguments)}function ue(T){return new Promise(S=>{setTimeout(S,T)})}const an=/^[cdef][\w-]{21}$/;function mt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function Dt(T){return function Pt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return an.test(O)?O:""}catch(T){return""}}function yn(T){return`${T.appName}!${T.appId}`}const vn=new Map;function zr(T,S){const O=yn(T);ln(O,S),function Qt(T,S){const O=function Tr(){return!Ai&&"BroadcastChannel"in self&&(Ai=new BroadcastChannel("[Firebase] FID Change"),Ai.onmessage=T=>{ln(T.data.key,T.data.fid)}),Ai}();O&&O.postMessage({key:T,fid:S}),function Zs(){0===vn.size&&Ai&&(Ai.close(),Ai=null)}()}(O,S)}function ln(T,S){const O=vn.get(T);if(O)for(const V of O)V(S)}let Ai=null;const Xi="firebase-installations-store";let Es=null;function Ds(){return Es||(Es=(0,ne.X3)("firebase-installations-database",1,(T,S)=>{0===S&&T.createObjectStore(Xi)})),Es}function _t(T,S){return lr.apply(this,arguments)}function lr(){return(lr=(0,L.Z)(function*(T,S){const O=yn(T),J=(yield Ds()).transaction(Xi,"readwrite"),re=J.objectStore(Xi),Oe=yield re.get(O);return yield re.put(S,O),yield J.complete,(!Oe||Oe.fid!==S.fid)&&zr(T,S.fid),S})).apply(this,arguments)}function wi(T){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(T){const S=yn(T),V=(yield Ds()).transaction(Xi,"readwrite");yield V.objectStore(Xi).delete(S),yield V.complete})).apply(this,arguments)}function Sr(T,S){return xo.apply(this,arguments)}function xo(){return(xo=(0,L.Z)(function*(T,S){const O=yn(T),J=(yield Ds()).transaction(Xi,"readwrite"),re=J.objectStore(Xi),Oe=yield re.get(O),ke=S(Oe);return void 0===ke?yield re.delete(O):yield re.put(ke,O),yield J.complete,ke&&(!Oe||Oe.fid!==ke.fid)&&zr(T,ke.fid),ke})).apply(this,arguments)}function In(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,L.Z)(function*(T){let S;const O=yield Sr(T.appConfig,V=>{const J=Ks(V),re=qa(T,J);return S=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function Ks(T){return Kt(T||{fid:mt(),registrationStatus:0})}function qa(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ce.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function Xt(T,S){return ht.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:At(T)}:{installationEntry:S}}function ht(){return(ht=(0,L.Z)(function*(T,S){try{const O=yield ae(T,S);return _t(T.appConfig,O)}catch(O){throw ot(O)&&409===O.customData.serverCode?yield wi(T.appConfig):yield _t(T.appConfig,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function At(T){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,L.Z)(function*(T){let S=yield ls(T.appConfig);for(;1===S.registrationStatus;)yield ue(100),S=yield ls(T.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield In(T);return V||O}return S})).apply(this,arguments)}function ls(T){return Sr(T,S=>{if(!S)throw Ce.create("installation-not-found");return Kt(S)})}function Kt(T){return function No(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Bi(T,S){return xi.apply(this,arguments)}function xi(){return(xi=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:S},O){const V=yt(T,O),J=We(T,O),re=S.getImmediate({optional:!0});if(re){const Nt=yield re.getHeartbeatsHeader();Nt&&J.append("x-firebase-client",Nt)}const ke={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:z,appId:T.appId}})},it=yield se(()=>fetch(V,ke));if(it.ok)return Me(yield it.json());throw yield Ee("Generate Auth Token",it)})).apply(this,arguments)}function yt(T,{fid:S}){return`${et(T)}/${S}/authTokens:generate`}function Vi(T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,L.Z)(function*(T,S=!1){let O;const V=yield Sr(T.appConfig,re=>{if(!zt(re))throw Ce.create("not-registered");const Oe=re.authToken;if(!S&&G(Oe))return re;if(1===Oe.requestStatus)return O=tt(T,S),re;{if(!navigator.onLine)throw Ce.create("app-offline");const ke=q(re);return O=vt(T,ke),ke}});return O?yield O:V.authToken})).apply(this,arguments)}function tt(T,S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(T,S){let O=yield rt(T.appConfig);for(;1===O.authToken.requestStatus;)yield ue(100),O=yield rt(T.appConfig);const V=O.authToken;return 0===V.requestStatus?Vi(T,S):V})).apply(this,arguments)}function rt(T){return Sr(T,S=>{if(!zt(S))throw Ce.create("not-registered");return function fe(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function vt(T,S){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(T,S){try{const O=yield Bi(T,S),V=Object.assign(Object.assign({},S),{authToken:O});return yield _t(T.appConfig,V),O}catch(O){if(!ot(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield _t(T.appConfig,V)}else yield wi(T.appConfig);throw O}})).apply(this,arguments)}function zt(T){return void 0!==T&&2===T.registrationStatus}function G(T){return 2===T.requestStatus&&!function U(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function q(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function Ge(){return(Ge=(0,L.Z)(function*(T){const S=T,{installationEntry:O,registrationPromise:V}=yield In(S);return V?V.catch(console.error):Vi(S).catch(console.error),O.fid})).apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(T,S=!1){const O=T;return yield Ui(O),(yield Vi(O,S)).token})).apply(this,arguments)}function Ui(T){return en.apply(this,arguments)}function en(){return(en=(0,L.Z)(function*(T){const{registrationPromise:S}=yield In(T);S&&(yield S)})).apply(this,arguments)}function fi(T){return Ce.create("missing-app-config-values",{valueName:T})}const Za="installations",Ve=T=>{const S=T.getProvider("app").getImmediate(),O=function Cs(T){if(!T||!T.options)throw fi("App Configuration");if(!T.name)throw fi("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!T.options[O])throw fi(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,ce._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Gt=T=>{const S=T.getProvider("app").getImmediate(),O=(0,ce._getProvider)(S,Za).getImmediate();return{getId:()=>function ee(T){return Ge.apply(this,arguments)}(O),getToken:J=>function Ct(T){return rn.apply(this,arguments)}(O,J)}};(function En(){(0,ce._registerComponent)(new ye.wA(Za,Ve,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("installations-internal",Gt,"PRIVATE"))})(),(0,ce.registerVersion)(ge,"0.5.7"),(0,ce.registerVersion)(ge,"0.5.7","esm2017");const Ni="@firebase/remote-config",Yn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gf{constructor(S,O,V,J){this.client=S,this.storage=O,this.storageCache=V,this.logger=J}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,J=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var O=this;return(0,L.Z)(function*(){const[V,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(S.cacheMaxAgeMillis,V))return J;S.eTag=J&&J.eTag;const re=yield O.client.fetch(S),Oe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Oe.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Oe),re})()}}function fa(T=navigator){return T.languages&&T.languages[0]||T.language}class Nl{constructor(S,O,V,J,re,Oe){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=V,this.projectId=J,this.apiKey=re,this.appId=Oe}fetch(S){var O=this;return(0,L.Z)(function*(){const[V,J]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},it={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:J,app_id:O.appId,language_code:fa()},Nt={method:"POST",headers:ke,body:JSON.stringify(it)},Vt=fetch(Oe,Nt),Ft=new Promise((Pr,es)=>{S.signal.addEventListener(()=>{const zo=new Error("The operation was aborted.");zo.name="AbortError",es(zo)})});let li;try{yield Promise.race([Vt,Ft]),li=yield Vt}catch(Pr){let es="fetch-client-network";throw"AbortError"===Pr.name&&(es="fetch-timeout"),Yn.create(es,{originalErrorMessage:Pr.message})}let $n=li.status;const Ta=li.headers.get("ETag")||void 0;let $o,er;if(200===li.status){let Pr;try{Pr=yield li.json()}catch(es){throw Yn.create("fetch-client-parse",{originalErrorMessage:es.message})}$o=Pr.entries,er=Pr.state}if("INSTANCE_STATE_UNSPECIFIED"===er?$n=500:"NO_CHANGE"===er?$n=304:("NO_TEMPLATE"===er||"EMPTY_CONFIG"===er)&&($o={}),304!==$n&&200!==$n)throw Yn.create("fetch-status",{httpStatus:$n});return{status:$n,eTag:Ta,config:$o}})()}}class Mg{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,L.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:V}){var J=this;return(0,L.Z)(function*(){yield function ri(T,S){return new Promise((O,V)=>{const J=Math.max(S-Date.now(),0),re=setTimeout(O,J);T.addEventListener(()=>{clearTimeout(re),V(Yn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const re=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),re}catch(re){if(!function Ed(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Oe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield J.storage.setThrottleMetadata(Oe),J.attemptFetch(S,Oe)}})()}}class Uc{constructor(S,O,V,J,re){this.app=S,this._client=O,this._storageCache=V,this._storage=J,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jc(T,S){const O=T.target.error||void 0;return Yn.create(S,{originalErrorMessage:O&&O.message})}const to="app_namespace_store";class kg{constructor(S,O,V,J=function Og(){return new Promise((T,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{S(jc(V,"storage-open"))},O.onsuccess=V=>{T(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(to,{keyPath:"compositeKey"})}}catch(O){S(Yn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=S,this.appName=O,this.namespace=V,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((J,re)=>{const ke=V.transaction([to],"readonly").objectStore(to),it=O.createCompositeKey(S);try{const Nt=ke.get(it);Nt.onerror=Vt=>{re(jc(Vt,"storage-get"))},Nt.onsuccess=Vt=>{const Ft=Vt.target.result;J(Ft?Ft.value:void 0)}}catch(Nt){re(Yn.create("storage-get",{originalErrorMessage:Nt&&Nt.message}))}})})()}set(S,O){var V=this;return(0,L.Z)(function*(){const J=yield V.openDbPromise;return new Promise((re,Oe)=>{const it=J.transaction([to],"readwrite").objectStore(to),Nt=V.createCompositeKey(S);try{const Vt=it.put({compositeKey:Nt,value:O});Vt.onerror=Ft=>{Oe(jc(Ft,"storage-set"))},Vt.onsuccess=()=>{re()}}catch(Vt){Oe(Yn.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(S){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((J,re)=>{const ke=V.transaction([to],"readwrite").objectStore(to),it=O.createCompositeKey(S);try{const Nt=ke.delete(it);Nt.onerror=Vt=>{re(jc(Vt,"storage-delete"))},Nt.onsuccess=()=>{J()}}catch(Nt){re(Yn.create("storage-delete",{originalErrorMessage:Nt&&Nt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Cd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const O=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),re=yield O;re&&(S.lastFetchStatus=re);const Oe=yield V;Oe&&(S.lastSuccessfulFetchTimestampMillis=Oe);const ke=yield J;ke&&(S.activeConfig=ke)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function ko(){return mf.apply(this,arguments)}function mf(){return(mf=(0,L.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(T){return!1}})).apply(this,arguments)}!function pa(){(0,ce._registerComponent)(new ye.wA("remote-config",function T(S,{instanceIdentifier:O}){const V=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Yn.create("registration-window");if(!(0,ne.hl)())throw Yn.create("indexed-db-unavailable");const{projectId:re,apiKey:Oe,appId:ke}=V.options;if(!re)throw Yn.create("registration-project-id");if(!Oe)throw Yn.create("registration-api-key");if(!ke)throw Yn.create("registration-app-id");const it=new kg(ke,V.name,O=O||"firebase"),Nt=new Cd(it),Vt=new ie.Yd(Ni);Vt.logLevel=ie.in.ERROR;const Ft=new Nl(J,ce.SDK_VERSION,O,re,Oe,ke),li=new Mg(Ft,it),$n=new gf(li,it,Nt,Vt),Ta=new Uc(V,$n,Nt,it,Vt);return function jn(T){const S=(0,ne.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ta),Ta},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ni,"0.3.6"),(0,ce.registerVersion)(Ni,"0.3.6","esm2017")}();const Hc="/firebase-messaging-sw.js",no="/firebase-cloud-messaging-push-scope",dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",Ya="google.c.a.c_l",Td="google.c.a.ts",Rg="google.c.a.e";var io=(()=>{return(T=io||(io={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",io;var T})();function Mr(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kl(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),J=new Uint8Array(V.length);for(let re=0;re<V.length;++re)J[re]=V.charCodeAt(re);return J}const Rl="fcm_token_details_db",Oi="fcm_token_object_Store";function _f(T){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Rl))return null;let S=null;return(yield(0,ne.X3)(Rl,5,function(){var V=(0,L.Z)(function*(J,re,Oe,ke){var it;if(re<2||!J.objectStoreNames.contains(Oi))return;const Nt=ke.objectStore(Oi),Vt=yield Nt.index("fcmSenderId").get(T);if(yield Nt.clear(),Vt)if(2===re){const Ft=Vt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;S={token:Ft.fcmToken,createTime:null!==(it=Ft.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Mr(Ft.vapidKey)}}}else if(3===re){const Ft=Vt;S={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Mr(Ft.auth),p256dh:Mr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Mr(Ft.vapidKey)}}}else if(4===re){const Ft=Vt;S={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Mr(Ft.auth),p256dh:Mr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Mr(Ft.vapidKey)}}}});return function(J,re,Oe,ke){return V.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(Rl),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Sd(S)?S:null}),Pl.apply(this,arguments)}function Sd(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const As="firebase-messaging-store";let Ja=null;function Gc(){return Ja||(Ja=(0,ne.X3)("firebase-messaging-database",1,(T,S)=>{0===S&&T.createObjectStore(As)})),Ja}function Sn(T){return ma.apply(this,arguments)}function ma(){return(ma=(0,L.Z)(function*(T){const S=Fo(T),V=yield(yield Gc()).transaction(As).objectStore(As).get(S);if(V)return V;{const J=yield _f(T.appConfig.senderId);if(J)return yield ro(T,J),J}})).apply(this,arguments)}function ro(T,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,L.Z)(function*(T,S){const O=Fo(T),J=(yield Gc()).transaction(As,"readwrite");return yield J.objectStore(As).put(S,O),yield J.complete,S})).apply(this,arguments)}function Id(T){return Po.apply(this,arguments)}function Po(){return(Po=(0,L.Z)(function*(T){const S=Fo(T),V=(yield Gc()).transaction(As,"readwrite");yield V.objectStore(As).delete(S),yield V.complete})).apply(this,arguments)}function Fo({appConfig:T}){return T.appId}const Qn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qa(T,S){return qr.apply(this,arguments)}function qr(){return(qr=(0,L.Z)(function*(T,S){const O=yield oo(T),V=bt(S),J={method:"POST",headers:O,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(hr(T.appConfig),J)).json()}catch(Oe){throw Qn.create("token-subscribe-failed",{errorInfo:Oe})}if(re.error)throw Qn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Gi(T,S){return so.apply(this,arguments)}function so(){return(so=(0,L.Z)(function*(T,S){const O=yield oo(T),V=bt(S.subscriptionOptions),J={method:"PATCH",headers:O,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${hr(T.appConfig)}/${S.token}`,J)).json()}catch(Oe){throw Qn.create("token-update-failed",{errorInfo:Oe})}if(re.error)throw Qn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Ms(T,S){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,L.Z)(function*(T,S){const V={method:"DELETE",headers:yield oo(T)};try{const re=yield(yield fetch(`${hr(T.appConfig)}/${S}`,V)).json();if(re.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(J){throw Qn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function hr({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function oo(T){return ao.apply(this,arguments)}function ao(){return(ao=(0,L.Z)(function*({appConfig:T,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function bt({p256dh:T,auth:S,endpoint:O,vapidKey:V}){const J={web:{endpoint:O,auth:S,p256dh:T}};return V!==dr&&(J.web.applicationPubKey=V),J}const Vl=6048e5;function Xa(T){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,L.Z)(function*(T){const S=yield qc(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:Mr(S.getKey("auth")),p256dh:Mr(S.getKey("p256dh"))},V=yield Sn(T.firebaseDependencies);if(V){if(_a(V.subscriptionOptions,O))return Date.now()>=V.createTime+Vl?$c(T,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield Ms(T.firebaseDependencies,V.token)}catch(J){console.warn(J)}return Te(T.firebaseDependencies,O)}return Te(T.firebaseDependencies,O)})).apply(this,arguments)}function jl(T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,L.Z)(function*(T){const S=yield Sn(T.firebaseDependencies);S&&(yield Ms(T.firebaseDependencies,S.token),yield Id(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function $c(T,S){return zc.apply(this,arguments)}function zc(){return(zc=(0,L.Z)(function*(T,S){try{const O=yield Gi(T.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield ro(T.firebaseDependencies,V),O}catch(O){throw yield jl(T),O}})).apply(this,arguments)}function Te(T,S){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(T,S){const V={token:yield Qa(T,S),createTime:Date.now(),subscriptionOptions:S};return yield ro(T,V),V.token})).apply(this,arguments)}function qc(T,S){return An.apply(this,arguments)}function An(){return(An=(0,L.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kl(S)})})).apply(this,arguments)}function _a(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function ya(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function fr(T,S){if(!S.notification)return;T.notification={};const O=S.notification.title;O&&(T.notification.title=O);const V=S.notification.body;V&&(T.notification.body=V);const J=S.notification.image;J&&(T.notification.image=J)}(S,T),function Wc(T,S){!S.data||(T.data=S.data)}(S,T),function Zc(T,S){if(!S.fcmOptions)return;T.fcmOptions={};const O=S.fcmOptions.link;O&&(T.fcmOptions.link=O);const V=S.fcmOptions.analytics_label;V&&(T.fcmOptions.analyticsLabel=V)}(S,T),S}function Ad(T){return"object"==typeof T&&!!T&&Ro in T}function Kc(T,S){const O=[];for(let V=0;V<T.length;V++)O.push(T.charAt(V)),V<S.length&&O.push(S.charAt(V));return O.join("")}function lo(T){return Qn.create("missing-app-config-values",{valueName:T})}Kc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ki{constructor(S,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Gl(T){if(!T||!T.options)throw lo("App Configuration Object");if(!T.name)throw lo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const V of S)if(!O[V])throw lo(V);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function xr(T){return $l.apply(this,arguments)}function $l(){return($l=(0,L.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Hc,{scope:no}),T.swRegistration.update().catch(()=>{})}catch(S){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function co(T,S){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,L.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield xr(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function Yc(T,S){return zl.apply(this,arguments)}function zl(){return(zl=(0,L.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=dr)})).apply(this,arguments)}function Jc(){return(Jc=(0,L.Z)(function*(T,S){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield Yc(T,null==S?void 0:S.vapidKey),yield co(T,null==S?void 0:S.serviceWorkerRegistration),Xa(T)})).apply(this,arguments)}function el(T,S,O){return va.apply(this,arguments)}function va(){return(va=(0,L.Z)(function*(T,S,O){const V=Qc(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[Ro],message_name:O[Ya],message_time:O[Td],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qc(T){switch(T){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Md(){return(Md=(0,L.Z)(function*(T,S){const O=S.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===io.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(ya(O)):T.onMessageHandler.next(ya(O)));const V=O.data;Ad(V)&&"1"===V[Rg]&&(yield el(T,O.messageType,V))})).apply(this,arguments)}const eu="@firebase/messaging",xd=T=>{const S=new ki(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Xc(T,S){return Md.apply(this,arguments)}(S,O)),S},Bo=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:V=>function ql(T,S){return Jc.apply(this,arguments)}(S,V)}};function Od(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,L.Z)(function*(){try{yield(0,ne.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nd(){(0,ce._registerComponent)(new ye.wA("messaging",xd,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("messaging-internal",Bo,"PRIVATE")),(0,ce.registerVersion)(eu,"0.9.11"),(0,ce.registerVersion)(eu,"0.9.11","esm2017")}();const nu="analytics",Cy="firebase_id",tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wl="https://www.googletagmanager.com/gtag/js",si=new ie.Yd("@firebase/analytics");function Rd(T){return Promise.all(T.map(S=>S.catch(O=>O)))}function Pg(T,S){const O=document.createElement("script");O.src=`${Wl}?l=${T}&id=${S}`,O.async=!0,document.head.appendChild(O)}function ba(T,S,O,V,J,re){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,L.Z)(function*(T,S,O,V,J,re){const Oe=V[J];try{if(Oe)yield S[Oe];else{const it=(yield Rd(O)).find(Nt=>Nt.measurementId===J);it&&(yield S[it.appId])}}catch(ke){si.error(ke)}T("config",J,re)})).apply(this,arguments)}function ru(T,S,O,V,J){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(T,S,O,V,J){try{let re=[];if(J&&J.send_to){let Oe=J.send_to;Array.isArray(Oe)||(Oe=[Oe]);const ke=yield Rd(O);for(const it of Oe){const Nt=ke.find(Ft=>Ft.measurementId===it),Vt=Nt&&S[Nt.appId];if(!Vt){re=[];break}re.push(Vt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),T("event",V,J||{})}catch(re){si.error(re)}})).apply(this,arguments)}function Fg(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Wl))return S;return null}const kn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pn=new class Rn{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function wa(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Ld(T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(T){var S;const{appId:O,apiKey:V}=T,J={method:"GET",headers:wa(V)},re=tl.replace("{app-id}",O),Oe=yield fetch(re,J);if(200!==Oe.status&&304!==Oe.status){let ke="";try{const it=yield Oe.json();(null===(S=it.error)||void 0===S?void 0:S.message)&&(ke=it.error.message)}catch(it){}throw kn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:ke})}return Oe.json()})).apply(this,arguments)}function yf(T){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,L.Z)(function*(T,S=Pn,O){const{appId:V,apiKey:J,measurementId:re}=T.options;if(!V)throw kn.create("no-app-id");if(!J){if(re)return{measurementId:re,appId:V};throw kn.create("no-api-key")}const Oe=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new ou;return setTimeout((0,L.Z)(function*(){ke.abort()}),void 0!==O?O:6e4),Zl({appId:V,apiKey:J,measurementId:re},Oe,ke,S)})).apply(this,arguments)}function Zl(T,S,O){return pr.apply(this,arguments)}function pr(){return(pr=(0,L.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:O},V,J=Pn){const{appId:re,measurementId:Oe}=T;try{yield pt(V,S)}catch(ke){if(Oe)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:re,measurementId:Oe};throw ke}try{const ke=yield Ld(T);return J.deleteThrottleMetadata(re),ke}catch(ke){if(!Bd(ke)){if(J.deleteThrottleMetadata(re),Oe)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:re,measurementId:Oe};throw ke}const it=503===Number(ke.customData.httpStatus)?(0,ne.$s)(O,J.intervalMillis,30):(0,ne.$s)(O,J.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+it,backoffCount:O+1};return J.setThrottleMetadata(re,Nt),si.debug(`Calling attemptFetch again in ${it} millis`),Zl(T,Nt,V,J)}})).apply(this,arguments)}function pt(T,S){return new Promise((O,V)=>{const J=Math.max(S-Date.now(),0),re=setTimeout(O,J);T.addEventListener(()=>{clearTimeout(re),V(kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Bd(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ou{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function au(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(){if(!(0,ne.hl)())return si.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(T){return si.warn(kn.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(T,S,O,V,J,re,Oe){var ke;const it=yf(T);it.then($n=>{O[$n.measurementId]=$n.appId,T.options.measurementId&&$n.measurementId!==T.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>si.error($n)),S.push(it);const Nt=au().then($n=>{if($n)return V.getId()}),[Vt,Ft]=yield Promise.all([it,Nt]);Fg()||Pg(re,Vt.measurementId),J("js",new Date);const li=null!==(ke=null==Oe?void 0:Oe.config)&&void 0!==ke?ke:{};return li.origin="firebase",li.update=!0,null!=Ft&&(li[Cy]=Ft),J("config",Vt.measurementId,li),Vt.measurementId})).apply(this,arguments)}class fo{constructor(S){this.app=S}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},po=[];const Or={};let go,ds,Kr="dataLayer",cu=!1;function Yr(T,S,O){!function gr(){const T=[];if((0,ne.ru)()&&T.push("This is a browser extension environment."),(0,ne.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((V,J)=>`(${J+1}) ${V}`).join(" "),O=kn.create("invalid-analytics-context",{errorInfo:S});si.warn(O.message)}}();const V=T.options.appId;if(!V)throw kn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw kn.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[V])throw kn.create("already-exists",{id:V});if(!cu){!function Ns(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(Kr);const{wrappedGtag:re,gtagCore:Oe}=function Fd(T,S,O,V,J){let re=function(...Oe){window[V].push(arguments)};return window[J]&&"function"==typeof window[J]&&(re=window[J]),window[J]=function su(T,S,O,V){function re(){return(re=(0,L.Z)(function*(Oe,ke,it){try{"event"===Oe?yield ru(T,S,O,ke,it):"config"===Oe?yield ba(T,S,O,V,ke,it):T("set",ke)}catch(Nt){si.error(Nt)}})).apply(this,arguments)}return function J(Oe,ke,it){return re.apply(this,arguments)}}(re,T,S,O),{gtagCore:re,wrappedGtag:window[J]}}(Nr,po,Or,Kr,"gtag");ds=re,go=Oe,cu=!0}return Nr[V]=function _n(T,S,O,V,J,re,Oe){return Os.apply(this,arguments)}(T,po,Or,S,go,Kr,O),new fo(T)}function jo(){return(jo=(0,L.Z)(function*(T,S,O,V,J){if(J&&J.global)T("event",O,V);else{const re=yield S;T("event",O,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function On(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,L.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(T){return!1}})).apply(this,arguments)}const mo="@firebase/analytics";!function vf(){(0,ce._registerComponent)(new ye.wA(nu,(S,{options:O})=>Yr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ce._registerComponent)(new ye.wA("analytics-internal",function T(S){try{const O=S.getProvider(nu).getImmediate();return{logEvent:(V,J,re)=>function Vg(T,S,O,V){T=(0,ne.m9)(T),function ks(T,S,O,V,J){return jo.apply(this,arguments)}(ds,Nr[T.app.options.appId],S,O,V).catch(J=>si.error(J))}(O,V,J,re)}}catch(O){throw kn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ce.registerVersion)(mo,"0.7.7"),(0,ce.registerVersion)(mo,"0.7.7","esm2017")}();var _o=P(4408),Yl=P(7565);const uu=new class Ln extends Yl.v{}(class Ps extends _o.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,O,V):S.flush(this)}});var Ug=P(4986),du=P(8505),qi=P(9468),kr=P(5363);const hu=new l.GfV("7.3.0"),Fs="__angularfire_symbol__analyticsIsSupportedValue",Xr="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupportedValue",nl="__angularfire_symbol__remoteConfigIsSupported",fu="__angularfire_symbol__messagingIsSupportedValue",pu="__angularfire_symbol__messagingIsSupported";function yo(T,S,O){if(S){if(1===S.length)return S[0];const re=S.filter(Oe=>Oe.app===O);if(1===re.length)return re[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Xr]||(globalThis[Xr]=On().then(T=>globalThis[Fs]=T).catch(()=>globalThis[Fs]=!1)),globalThis[pu]||(globalThis[pu]=Od().then(T=>globalThis[fu]=T).catch(()=>globalThis[fu]=!1)),globalThis[nl]||(globalThis[nl]=ko().then(T=>globalThis[hs]=T).catch(()=>globalThis[hs]=!1));const jd=(T,S)=>{const O=S?[S]:(0,X.C6)(),V=[];return O.forEach(J=>{J.container.getProvider(T).instances.forEach(Oe=>{V.includes(Oe)||V.push(Oe)})}),V};function Ho(){}class Jl{constructor(S,O=uu){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,V){const J=this.zone;return this.delegate.schedule(function(Oe){J.runGuarded(()=>{S.apply(this,[Oe])})},O,V)}}class fs{constructor(S){this.zone=S,this.task=null}call(S,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),O.pipe((0,du.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ql=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=O.run(()=>new Jl(Zone.current,Ug.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(l.LFG(l.R0b))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ps(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function _u(T){return ps(),function Go(T){return function(O){return(O=O.lift(new fs(T.ngZone))).pipe((0,qi.R)(T.outsideAngular),(0,kr.Q)(T.insideAngular))}}(ps())(T)}},2090:(ft,Ie,P)=>{P.d(Ie,{$s:()=>No,BH:()=>Ne,G6:()=>se,L:()=>he,LL:()=>Pt,Lj:()=>Zt,Mn:()=>Ke,Sg:()=>Be,UG:()=>Ce,US:()=>ie,X3:()=>vt,ZB:()=>te,ZR:()=>ue,b$:()=>Me,d:()=>Ee,eu:()=>oe,hl:()=>Y,jU:()=>ot,m9:()=>yt,ne:()=>_t,pd:()=>Es,r3:()=>ln,ru:()=>et,tV:()=>$,uI:()=>me,vZ:()=>Zs,w1:()=>De,xO:()=>as,xb:()=>Ai,z$:()=>He,zI:()=>ve,zd:()=>Xi});var l=P(5861);const ne=function(G){const U=[];let q=0;for(let fe=0;fe<G.length;fe++){let ee=G.charCodeAt(fe);ee<128?U[q++]=ee:ee<2048?(U[q++]=ee>>6|192,U[q++]=63&ee|128):55296==(64512&ee)&&fe+1<G.length&&56320==(64512&G.charCodeAt(fe+1))?(ee=65536+((1023&ee)<<10)+(1023&G.charCodeAt(++fe)),U[q++]=ee>>18|240,U[q++]=ee>>12&63|128,U[q++]=ee>>6&63|128,U[q++]=63&ee|128):(U[q++]=ee>>12|224,U[q++]=ee>>6&63|128,U[q++]=63&ee|128)}return U},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,U){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let ee=0;ee<G.length;ee+=3){const Ge=G[ee],Ct=ee+1<G.length,rn=Ct?G[ee+1]:0,Ui=ee+2<G.length,en=Ui?G[ee+2]:0;let wn=(15&rn)<<2|en>>6,Di=63&en;Ui||(Di=64,Ct||(wn=64)),fe.push(q[Ge>>2],q[(3&Ge)<<4|rn>>4],q[wn],q[Di])}return fe.join("")},encodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(G):this.encodeByteArray(ne(G),U)},decodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(G):function(G){const U=[];let q=0,fe=0;for(;q<G.length;){const ee=G[q++];if(ee<128)U[fe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ge=G[q++];U[fe++]=String.fromCharCode((31&ee)<<6|63&Ge)}else if(ee>239&&ee<365){const Ui=((7&ee)<<18|(63&G[q++])<<12|(63&G[q++])<<6|63&G[q++])-65536;U[fe++]=String.fromCharCode(55296+(Ui>>10)),U[fe++]=String.fromCharCode(56320+(1023&Ui))}else{const Ge=G[q++],Ct=G[q++];U[fe++]=String.fromCharCode((15&ee)<<12|(63&Ge)<<6|63&Ct)}}return U.join("")}(this.decodeStringToByteArray(G,U))},decodeStringToByteArray(G,U){this.init_();const q=U?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let ee=0;ee<G.length;){const Ge=q[G.charAt(ee++)],rn=ee<G.length?q[G.charAt(ee)]:0;++ee;const en=ee<G.length?q[G.charAt(ee)]:64;++ee;const Ht=ee<G.length?q[G.charAt(ee)]:64;if(++ee,null==Ge||null==rn||null==en||null==Ht)throw Error();fe.push(Ge<<2|rn>>4),64!==en&&(fe.push(rn<<4&240|en>>2),64!==Ht&&fe.push(en<<6&192|Ht))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},he=function(G){return function(G){const U=ne(G);return ie.encodeByteArray(U,!0)}(G).replace(/\./g,"")},$=function(G){try{return ie.decodeString(G,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function te(G,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return U}for(const q in U)!U.hasOwnProperty(q)||!Je(q)||(G[q]=te(G[q],U[q]));return G}function Je(G){return"__proto__"!==G}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,q)=>{this.resolve=U,this.reject=q})}wrapCallback(U){return(q,fe)=>{q?this.reject(q):this.resolve(fe),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(q):U(q,fe))}}}function Be(G,U){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=U||"demo-project",ee=G.iat||0,Ge=G.sub||G.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:ee,exp:ee+3600,auth_time:ee,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ct)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function ot(){return"object"==typeof self&&self.self===self}function et(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){return He().indexOf("Electron/")>=0}function De(){const G=He();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ke(){return He().indexOf("MSAppHost/")>=0}function se(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function oe(){return new Promise((G,U)=>{try{let q=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(fe);ee.onsuccess=()=>{ee.result.close(),q||self.indexedDB.deleteDatabase(fe),G(!0)},ee.onupgradeneeded=()=>{q=!1},ee.onerror=()=>{var Ge;U((null===(Ge=ee.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(q){U(q)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(U,q,fe){super(q),this.code=U,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(U,q,fe){this.service=U,this.serviceName=q,this.errors=fe}create(U,...q){const fe=q[0]||{},ee=`${this.service}/${U}`,Ge=this.errors[U],Ct=Ge?function an(G,U){return G.replace(Kn,(q,fe)=>{const ee=U[fe];return null!=ee?String(ee):`<${fe}?>`})}(Ge,fe):"Error";return new ue(ee,`${this.serviceName}: ${Ct} (${ee}).`,fe)}}const Kn=/\{\$([^}]+)}/g;function ln(G,U){return Object.prototype.hasOwnProperty.call(G,U)}function Ai(G){for(const U in G)if(Object.prototype.hasOwnProperty.call(G,U))return!1;return!0}function Zs(G,U){if(G===U)return!0;const q=Object.keys(G),fe=Object.keys(U);for(const ee of q){if(!fe.includes(ee))return!1;const Ge=G[ee],Ct=U[ee];if(Qi(Ge)&&Qi(Ct)){if(!Zs(Ge,Ct))return!1}else if(Ge!==Ct)return!1}for(const ee of fe)if(!q.includes(ee))return!1;return!0}function Qi(G){return null!==G&&"object"==typeof G}function as(G){const U=[];for(const[q,fe]of Object.entries(G))Array.isArray(fe)?fe.forEach(ee=>{U.push(encodeURIComponent(q)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(q)+"="+encodeURIComponent(fe));return U.length?"&"+U.join("&"):""}function Xi(G){const U={};return G.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[ee,Ge]=fe.split("=");U[decodeURIComponent(ee)]=decodeURIComponent(Ge)}}),U}function Es(G){const U=G.indexOf("?");if(!U)return"";const q=G.indexOf("#",U);return G.substring(U,q>0?q:void 0)}function _t(G,U){const q=new lr(G,U);return q.subscribe.bind(q)}class lr{constructor(U,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{U(this)}).catch(fe=>{this.error(fe)})}next(U){this.forEachObserver(q=>{q.next(U)})}error(U){this.forEachObserver(q=>{q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,q,fe){let ee;if(void 0===U&&void 0===q&&void 0===fe)throw new Error("Missing Observer.");ee=function hi(G,U){if("object"!=typeof G||null===G)return!1;for(const q of U)if(q in G&&"function"==typeof G[q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:q,complete:fe},void 0===ee.next&&(ee.next=Sr),void 0===ee.error&&(ee.error=Sr),void 0===ee.complete&&(ee.complete=Sr);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(Ct){}}),this.observers.push(ee),Ge}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,U)}sendOne(U,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{q(this.observers[U])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}function No(G,U=1e3,q=2){const fe=U*Math.pow(q,G),ee=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+ee)}function yt(G){return G&&G._delegate?G._delegate:G}function Vi(G,U){return new Promise((q,fe)=>{G.onsuccess=ee=>{q(ee.target.result)},G.onerror=ee=>{var Ge;fe(`${U}: ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}})}class Wt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,q){return new tt(this._db.transaction.call(this._db,U,q))}createObjectStore(U,q){return new xe(this._db.createObjectStore(U,q))}close(){this._db.close()}}class tt{constructor(U){this._transaction=U,this.complete=new Promise((q,fe)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(U){return new xe(this._transaction.objectStore(U))}}class xe{constructor(U){this._store=U}index(U){return new rt(this._store.index(U))}createIndex(U,q,fe){return new rt(this._store.createIndex(U,q,fe))}get(U){return Vi(this._store.get(U),"Error reading from IndexedDB")}put(U,q){return Vi(this._store.put(U,q),"Error writing to IndexedDB")}delete(U){return Vi(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return Vi(this._store.clear(),"Error clearing IndexedDB object store")}}class rt{constructor(U){this._index=U}get(U){return Vi(this._index.get(U),"Error reading from IndexedDB")}}function vt(G,U,q){return new Promise((fe,ee)=>{try{const Ge=indexedDB.open(G,U);Ge.onsuccess=Ct=>{fe(new Wt(Ct.target.result))},Ge.onerror=Ct=>{var rn;ee(`Error opening indexedDB: ${null===(rn=Ct.target.error)||void 0===rn?void 0:rn.message}`)},Ge.onupgradeneeded=Ct=>{q(new Wt(Ge.result),Ct.oldVersion,Ct.newVersion,new tt(Ge.transaction))}}catch(Ge){ee(`Error opening indexedDB: ${Ge.message}`)}})}function Zt(G){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(G){return new Promise((U,q)=>{try{const fe=indexedDB.deleteDatabase(G);fe.onsuccess=()=>{U()},fe.onerror=ee=>{var Ge;q(`Error deleting indexedDB database "${G}": ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}}catch(fe){q(`Error deleting indexedDB database "${G}": ${fe.message}`)}})})).apply(this,arguments)}},4383:(ft,Ie,P)=>{var l=P(5e3);let X=null;function L(){return X}const ie=new l.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const $=new l.OlP("Location Initialized");let z=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){te()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){te()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Je(){return new z((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,l.LFG)(ie).location;return new et((0,l.LFG)(ge),e&&e.origin||"")}()},providedIn:"root"}),n})();const ot=new l.OlP("appBaseHref");let et=(()=>{class n extends me{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ot,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ne(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ot,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Be(We(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+He(i))}normalize(t){return n.stripTrailingSlash(function Ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ne,n.stripTrailingSlash=Be,n.\u0275fac=function(t){return new(t||n)(l.LFG(me),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(){return new Ee((0,l.LFG)(me),(0,l.LFG)(ge))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}let Qs=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})(),jn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Al("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Al("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function Al(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Ml{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ar=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),cr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ml(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ar,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Ed{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Mg{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Is=new Mg,xg=new Ed;let Uc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Is;if((0,l.F4k)(t))return xg;throw function ri(n,e){return new l.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),Jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const io="browser";function Oi(n){return"server"===n}let Fl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ll((0,l.LFG)(ie),window)}),n})();class Ll{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ja(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ro extends class ma extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){X||(X=n)}(new ro)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Id(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==t?null:function Fo(n){Po=Po||document.createElement("a"),Po.setAttribute("href",n);const e=Po.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ha(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Po,mn=null;const Hi=new l.OlP("TRANSITION_ID"),Qa=[{provide:l.ip1,useFactory:function Qn(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Hi,ie,l.zs3],multi:!0}];class qr{static init(){(0,l.VLi)(new qr)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Gi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const so=new l.OlP("EventManagerPlugins");let Ms=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(so),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Bl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let hr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),oo=(()=>{class n extends hr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ao),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ao))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ao(n){L().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vl=/%COMP%/g;function Te(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Te(n,r,t):(r=r.replace(Vl,n),t.push(r))}return t}function qt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let An=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new _a(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Wc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Zc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Te(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ms),l.LFG(oo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=bt[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=bt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qt(i)):this.eventManager.addEventListener(e,t,qt(i))}}class Wc extends _a{constructor(e,t,i,r){super(e),this.component=i;const a=Te(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function $c(n){return"_ngcontent-%COMP%".replace(Vl,n)}(r+"-"+i.id),this.hostAttr=function zc(n){return"_nghost-%COMP%".replace(Vl,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Zc extends _a{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Te(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ad=(()=>{class n extends Bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=["alt","control","meta","shift"],lo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ki={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $l=(()=>{class n extends Bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Kc.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function co(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ki.hasOwnProperty(e)&&(e=ki[e]))}return lo[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Kc.forEach(a=>{a!=r&&xr[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:io},{provide:l.g9A,useValue:function Wr(){ro.makeCurrent(),qr.init()},multi:!0},{provide:ie,useFactory:function zl(){return(0,l.RDi)(document),document},deps:[]}]),el=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Yc(){return new l.qLn},deps:[]},{provide:so,useClass:Ad,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:so,useClass:$l,multi:!0,deps:[ie]},{provide:An,useClass:An,deps:[Ms,oo,l.AFp]},{provide:l.FYo,useExisting:An},{provide:hr,useExisting:oo},{provide:oo,useClass:oo,deps:[ie]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ms,useClass:Ms,deps:[so,l.R0b]},{provide:class Sn{},useClass:Gi,deps:[]}];let va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Hi,useExisting:l.AFp},Qa]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:el,imports:[Jn,l.hGG]}),n})();"undefined"!=typeof window&&window;let us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Fd),i},providedIn:"root"}),n})(),Fd=(()=>{class n extends us{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function su(n){return new Fd(n.get(ie))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Xn=P(8996),kn=P(3269);function ct(...n){const e=(0,kn.yG)(n);return(0,Xn.D)(n,e)}var xt=P(7579);class Rn extends xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Pn=P(8306);const{isArray:wa}=Array,{getPrototypeOf:Ld,prototype:Dn,keys:yf}=Object;function Zr(n){if(1===n.length){const e=n[0];if(wa(e))return{args:e,keys:null};if(function Zl(n){return n&&"object"==typeof n&&Ld(n)===Dn}(e)){const t=yf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var pr=P(4671),pt=P(4004);const{isArray:Bd}=Array;function au(n){return(0,pt.U)(e=>function ou(n,e){return Bd(e)?n(...e):n(e)}(n,e))}function Uo(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var _n=P(5403),Os=P(9672);function po(n,e,t){n?(0,Os.f)(t,n,e):e()}var Or=P(576);function Kr(n,e){const t=(0,Or.m)(n)?n:()=>n,i=r=>r.error(t());return new Pn.y(e?r=>e.schedule(i,0,r):i)}const go=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ds=P(8189);function Kl(...n){return function cu(){return(0,ds.J)(1)}()((0,Xn.D)(n,(0,kn.yG)(n)))}var gr=P(8421);function Yr(n){return new Pn.y(e=>{(0,gr.Xf)(n()).subscribe(e)})}var ks=P(515),jo=P(727),oi=P(4482);function Jr(){return(0,oi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,_n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Vd extends Pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,oi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_n.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jo.w0.EMPTY)}return e}refCount(){return Jr()(this)}}function Fn(n,e){return(0,oi.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,_n.x)(i,_=>{null==r||r.unsubscribe();let b=0;const C=a++;(0,gr.Xf)(n(_,C)).subscribe(r=(0,_n.x)(i,I=>i.next(e?e(_,I,C,b++):I),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Nn=P(5698);function ai(...n){const e=(0,kn.yG)(n);return(0,oi.e)((t,i)=>{(e?Kl(n,t,e):Kl(n,t)).subscribe(i)})}function Ea(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,_n.x)(u,C=>{const I=b++;_=f?n(_,C,I):(f=!0,C),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function zi(n,e){return(0,oi.e)(Ea(n,e,arguments.length>=2,!0))}function Mn(n,e){return(0,oi.e)((t,i)=>{let r=0;t.subscribe((0,_n.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function Qr(n){return(0,oi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,_n.x)(t,void 0,void 0,u=>{a=(0,gr.Xf)(n(u,Qr(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var On=P(5577);function Rs(n,e){return(0,Or.m)(e)?(0,On.z)(n,e,1):(0,On.z)(n,1)}function Ud(n){return n<=0?()=>ks.E:(0,oi.e)((e,t)=>{let i=[];e.subscribe((0,_n.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Gn(n=Lg){return(0,oi.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Lg(){return new go}function Bg(n){return(0,oi.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function mo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Mn((r,a)=>n(r,a,i)):pr.y,(0,Nn.q)(1),t?Bg(e):Gn(()=>new go))}var pi=P(8505);function vf(n){return(0,oi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class _o{constructor(e,t){this.id=e,this.url=t}}class Ps extends _o{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yl extends _o{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ln extends _o{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uu extends _o{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Da extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ug extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class du extends _o{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qi extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xr{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class gu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gi(n){return new gu(n)}const mu="ngNavigationCancelingError";function yo(n){const e=Error("NavigationCancelingError: "+n);return e[mu]=!0,e}function Ho(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Ql(n[r],e[r]))return!1;return!0}function Ql(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function ps(n){return Array.prototype.concat.apply([],n)}function Hd(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Rr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):ct(n)}const Go={exact:function S(n,e,t){if(!Vt(n.segments,e.segments)||!re(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!S(n.children[i],e.children[i],t))return!1;return!0},subset:V},Ca={exact:function T(n,e){return fs(n,e)},subset:function O(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ql(n[t],e[t]))},ignored:()=>!0};function Xl(n,e,t){return Go[t.paths](n.root,e.root,t.matrixParams)&&Ca[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function V(n,e,t){return J(n,e,e.segments,t)}function J(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Vt(r,t)||e.hasChildren()||!re(r,t,i))}if(n.segments.length===t.length){if(!Vt(n.segments,t)||!re(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!V(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Vt(n.segments,r)&&re(n.segments,r,i)&&n.children[$t])&&J(n.children[$t],e,a,i)}}function re(n,e,t){return e.every((i,r)=>Ca[t](n[r].parameters,i.parameters))}class Oe{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gi(this.queryParams)),this._queryParamMap}toString(){return Ta.serialize(this)}}class ke{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class it{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gi(this.parameters)),this._parameterMap}toString(){return il(this)}}function Vt(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class li{}class $n{parse(e){const t=new $d(e);return new Oe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${er(e.root,!0)}`,i=function Ty(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${es(t)}=${es(r)}`).join("&"):`${es(t)}=${es(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function zo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ta=new $n;function $o(n){return n.segments.map(e=>il(e)).join("/")}function er(n,e){if(!n.hasChildren())return $o(n);if(e){const t=n.children[$t]?er(n.children[$t],!1):"",i=[];return mi(n.children,(r,a)=>{a!==$t&&i.push(`${a}:${er(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Ft(n,e){let t=[];return mi(n.children,(i,r)=>{r===$t&&(t=t.concat(e(i,r)))}),mi(n.children,(i,r)=>{r!==$t&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$t?[er(n.children[$t],!1)]:[`${r}:${er(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${$o(n)}/${t[0]}`:`${$o(n)}/(${t.join("//")})`}}function Pr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function es(n){return Pr(n).replace(/%3B/gi,";")}function Gd(n){return Pr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yu(n){return decodeURIComponent(n)}function vu(n){return yu(n.replace(/\+/g,"%20"))}function il(n){return`${Gd(n.path)}${function jg(n){return Object.keys(n).map(e=>`;${Gd(e)}=${Gd(n[e])}`).join("")}(n.parameters)}`}const Sy=/^[^\/()?;=#]+/;function Ls(n){const e=n.match(Sy);return e?e[0]:""}const bu=/^[^=?&#]+/,Ay=/^[^&#]+/;class $d{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$t]=new ke(e,t)),i}parseSegment(){const e=Ls(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new it(yu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ls(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ls(this.remaining);r&&(i=r,this.capture(i))}e[yu(t)]=yu(i)}parseQueryParam(e){const t=function Iy(n){const e=n.match(bu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Hg(n){const e=n.match(Ay);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=vu(t),a=vu(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ls(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$t);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[$t]:new ke([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class My{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wf(e,this._root).map(t=>t.value)}}function bf(n,e){if(n===e.value)return e;for(const t of e.children){const i=bf(n,t);if(i)return i}return null}function wf(n,e){if(n===e.value)return[e];for(const t of e.children){const i=wf(n,t);if(i.length)return i.unshift(e),i}return[]}class qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class zd extends My{constructor(e,t){super(e),this.snapshot=t,Wd(this,e)}toString(){return this.snapshot.toString()}}function rl(n,e){const t=function xy(n,e){const u=new ec([],{},{},"",{},$t,e,null,n.root,-1,{});return new Ef("",new qo(u,[]))}(n,e),i=new Rn([new it("",{})]),r=new Rn({}),a=new Rn({}),u=new Rn({}),f=new Rn(""),_=new Sa(i,r,u,f,a,$t,e,t.root);return _.snapshot=t.root,new zd(new qo(_,[]),t)}class Sa{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>gi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>gi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ny(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function qd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ec{constructor(e,t,i,r,a,u,f,_,b,C,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ef extends My{constructor(e,t){super(t),this.url=e,Wd(this,t)}toString(){return Zd(this._root)}}function Wd(n,e){e.value._routerState=n,e.children.forEach(t=>Wd(n,t))}function Zd(n){const e=n.children.length>0?` { ${n.children.map(Zd).join(", ")} } `:"";return`${n.value}${e}`}function Zo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fs(e.params,t.params)||n.params.next(t.params),function Jl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Df(n,e){const t=fs(n.params,e.params)&&function Nt(n,e){return Vt(n,e)&&n.every((t,i)=>fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Df(n.parent,e.parent))}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Cf(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return wu(n,i,r);return wu(n,i)})}(n,e,t);return new qo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>wu(n,f)),u}}const i=function ky(n){return new Sa(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>wu(n,a));return new qo(i,r)}}function Ko(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sl(n){return"object"==typeof n&&null!=n&&n.outlets}function Tf(n,e,t,i,r){let a={};if(i&&mi(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new Oe(t,a,r);const u=Kd(n,e,t);return new Oe(u,a,r)}function Kd(n,e,t){const i={};return mi(n.children,(r,a)=>{i[a]=r===e?t:Kd(r,e,t)}),new ke(n.segments,i)}class Gg{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ko(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(sl);if(r&&r!==Hd(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Fy(n,e,t){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return vo(n,e,t);const i=function zw(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(sl(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!ts(_,b,u))return a;i+=2}else{if(!ts(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new ke(n.segments.slice(0,i.pathIndex),{});return a.children[$t]=new ke(n.segments.slice(i.pathIndex),n.children),vo(a,0,r)}return i.match&&0===r.length?new ke(n.segments,{}):i.match&&!n.hasChildren()?Sf(n,e,t):i.match?vo(n,0,r):Sf(n,e,t)}function vo(n,e,t){if(0===t.length)return new ke(n.segments,{});{const i=function Py(n){return sl(n[0])?n[0].outlets:{[$t]:n}}(t),r={};return mi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Fy(n.children[u],e,a))}),mi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new ke(n.segments,r)}}function Sf(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(sl(a)){const _=ol(a.outlets);return new ke(i,_)}if(0===r&&Ko(t[0])){i.push(new it(n.segments[e].path,If(t[0]))),r++;continue}const u=sl(a)?a.outlets[$t]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Ko(f)?(i.push(new it(u,If(f))),r+=2):(i.push(new it(u,{})),r++)}return new ke(i,{})}function ol(n){const e={};return mi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Sf(new ke([],{}),0,t))}),e}function If(n){const e={};return mi(n,(t,i)=>e[i]=`${t}`),e}function ts(n,e,t){return n==t.path&&fs(e,t.parameters)}class qg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zo(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Wo(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),mi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Wo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Wo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Wo(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new fu(a.value.snapshot))}),e.children.length&&this.forwardEvent(new hs(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Zo(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Zo(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function Jd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Qd{constructor(e,t){this.routes=e,this.module=t}}function al(n){return"function"==typeof n}function tc(n){return n instanceof Oe}const Du=Symbol("INITIAL_VALUE");function Ia(){return Fn(n=>function fo(...n){const e=(0,kn.yG)(n),t=(0,kn.jO)(n),{args:i,keys:r}=Zr(n);if(0===i.length)return(0,Xn.D)([],e);const a=new Pn.y(function Nr(n,e,t=pr.y){return i=>{po(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)po(e,()=>{const b=(0,Xn.D)(n[_],e);let C=!1;b.subscribe((0,_n.x)(i,I=>{a[_]=I,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Uo(r,u):pr.y));return t?a.pipe(au(t)):a}(n.map(e=>e.pipe((0,Nn.q)(1),ai(Du)))).pipe(zi((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==Du?r:(a===Du&&(i=!0),i||!1!==a&&u!==t.length-1&&!tc(a)?r:a),e)},Du),Mn(e=>e!==Du),(0,pt.U)(e=>tc(e)?e:!0===e),(0,Nn.q)(1)))}class Ly{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cu,this.attachRef=null}}class Cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ly,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let nc=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Nf(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cu),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Nf{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Sa?this.route:e===Cu?this.childContexts:this.parent.get(e,t)}}let Of=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[nc],encapsulation:2}),n})();function Tu(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Su(i,kf(e,i))}}function Su(n,e){n.children&&Tu(n.children,e)}function kf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Rf(n){const e=n.children&&n.children.map(Rf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=Of),t}function cn(n){return n.outlet||$t}function Pf(n,e){const t=n.filter(i=>cn(i)===e);return t.push(...n.filter(i=>cn(i)!==e)),t}const Zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ic(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Zg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Ho)(t,n,e);if(!a)return Object.assign({},Zg);const u={};mi(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function Iu(n,e,t,i,r="corrected"){if(t.length>0&&function Vy(n,e,t){return t.some(i=>eh(n,e,i)&&cn(i)!==$t)}(n,t,i)){const u=new ke(e,function Xd(n,e,t,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&cn(a)!==$t){const u=new ke([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[cn(a)]=u}return r}(n,e,i,new ke(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Kg(n,e,t){return t.some(i=>eh(n,e,i))}(n,t,i)){const u=new ke(n.segments,function By(n,e,t,i,r,a){const u={};for(const f of i)if(eh(n,t,f)&&!r[cn(f)]){const _=new ke([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[cn(f)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new ke(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function eh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uy(n,e,t,i){return!!(cn(n)===i||i!==$t&&eh(e,t,n))&&("**"===n.path||ic(e,n,t).matched)}function jy(n,e,t){return 0===e.length&&!n.children[t]}class Aa{constructor(e){this.segmentGroup=e||null}}class Wi{constructor(e){this.urlTree=e}}function Yo(n){return Kr(new Aa(n))}function Au(n){return Kr(new Wi(n))}class Lf{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Iu(this.urlTree.root,[],[],this.config).segmentGroup,t=new ke(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,pt.U)(a=>this.createUrlTree(cl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qr(a=>{if(a instanceof Wi)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Aa?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,pt.U)(r=>this.createUrlTree(cl(r),e.queryParams,e.fragment))).pipe(Qr(r=>{throw r instanceof Aa?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new ke([],{[$t]:e}):e;return new Oe(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,pt.U)(a=>new ke([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Xn.D)(r).pipe(Rs(a=>{const u=i.children[a],f=Pf(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,pt.U)(_=>({segment:_,outlet:a})))}),zi((a,u)=>(a[u.outlet]=u.segment,a),{}),function Vg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Mn((r,a)=>n(r,a,i)):pr.y,Ud(1),t?Bg(e):Gn(()=>new go))}())}expandSegment(e,t,i,r,a,u){return(0,Xn.D)(i).pipe(Rs(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(Qr(b=>{if(b instanceof Aa)return ct(null);throw b}))),mo(f=>!!f),Qr((f,_)=>{if(f instanceof go||"EmptyError"===f.name)return jy(t,r,a)?ct(new ke([],{})):Yo(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return Uy(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Yo(t):Yo(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Au(a):this.lineralizeSegments(i,a).pipe((0,On.z)(u=>{const f=new ke(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=ic(t,r,a);if(!f)return Yo(t);const I=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?Au(I):this.lineralizeSegments(r,I).pipe((0,On.z)(k=>this.expandSegment(e,t,i,k.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ct(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,pt.U)(I=>(i._loadedConfig=I,new ke(r,{})))):ct(new ke(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=ic(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,On.z)(C=>{const I=C.module,k=C.routes,{segmentGroup:F,slicedSegments:j}=Iu(t,f,_,k),W=new ke(F.segments,F.children);if(0===j.length&&W.hasChildren())return this.expandChildren(I,k,W).pipe((0,pt.U)(nt=>new ke(f,nt)));if(0===k.length&&0===j.length)return ct(new ke(f,{}));const _e=cn(i)===a;return this.expandSegment(I,W,k,j,_e?$t:a,!0).pipe((0,pt.U)(Se=>new ke(f.concat(Se.segments),Se.children)))})):Yo(t)}getChildConfig(e,t,i){return t.children?ct(new Qd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,On.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,pt.U)(a=>(t._loadedConfig=a,a))):function tr(n){return Kr(yo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ct(new Qd([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ct(r.map(u=>{const f=e.get(u);let _;if(function Af(n){return n&&al(n.canLoad)}(f))_=f.canLoad(t,i);else{if(!al(f))throw new Error("Invalid CanLoad guard");_=f(t,i)}return Rr(_)})).pipe(Ia(),(0,pi.b)(u=>{if(!tc(u))return;const f=yo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,pt.U)(u=>!0===u)):ct(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[$t])return Kr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[$t]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Oe(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return mi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return mi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new ke(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function cl(n){const e={};for(const i of Object.keys(n.children)){const a=cl(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function ns(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new ke(n.segments.concat(e.segments),e.children)}return n}(new ke(n.segments,e))}class Yg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ul{constructor(e,t){this.component=e,this.route=t}}function Vf(n,e,t){const i=n._root;return Fr(i,e?e._root:null,t,[i.value])}function Mu(n,e,t){const i=function Hy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Fr(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Wo(e);return n.children.forEach(u=>{(function Qg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function Gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vt(n.url,e.url)||!fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(n,e)||!fs(n.queryParams,e.queryParams);default:return!Df(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Yg(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Fr(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new ul(f.outlet.component,u))}else u&&dl(e,f,r),r.canActivateChecks.push(new Yg(i)),Fr(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),mi(a,(u,f)=>dl(u,t.getContext(f),r)),r}function dl(n,e,t){const i=Wo(n),r=n.value;mi(i,(a,u)=>{dl(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new ul(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Hf{}function Gf(n){return new Pn.y(e=>e.error(n))}class $f{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=Iu(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const i=new ec([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qo(i,t),a=new Ef(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=Ny(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=Pf(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=em(i);return function Wy(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return jy(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!Uy(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const F=i.length>0?Hd(i).parameters:{};a=new ec(i,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),cn(e),e.component,e,p(t),m(t)+i.length,M(e))}else{const F=ic(t,e,i);if(!F.matched)return null;u=F.consumedSegments,f=F.remainingSegments,a=new ec(u,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),cn(e),e.component,e,p(t),m(t)+u.length,M(e))}const _=function Zy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:C}=Iu(t,u,f,_.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===C.length&&b.hasChildren()){const F=this.processChildren(_,b);return null===F?null:[new qo(a,F)]}if(0===_.length&&0===C.length)return[new qo(a,[])];const I=cn(e)===r,k=this.processSegment(_,b,C,I?$t:r);return null===k?null:[new qo(a,k)]}}function Ky(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function em(n){const e=[],t=new Set;for(const i of n){if(!Ky(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=em(i.children);e.push(new qo(i.value,r))}return e.filter(i=>!t.has(i))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function w(n){return n.data||{}}function M(n){return n.resolve||{}}function st(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gt(n){return Fn(e=>{const t=n(e);return t?(0,Xn.D)(t).pipe((0,pt.U)(()=>e)):ct(e)})}class Nu extends class ms{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rc=new l.OlP("ROUTES");class sc{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new Qd(ps(u.injector.get(rc,void 0,l.XFs.Self|l.XFs.Optional)).map(Rf),u)}),Qr(a=>{throw t._loader$=void 0,a}));return t._loader$=new Vd(r,()=>new xt.x).pipe(Jr()),t._loader$}loadModuleFactory(e){return Rr(e()).pipe((0,On.z)(t=>t instanceof l.YKP?ct(t):(0,Xn.D)(this.compiler.compileModuleAsync(t))))}}class Yy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ma(n){throw n}function th(n,e,t){return e.parse("/")}function nh(n,e){return ct(null)}const qf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ih={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.x,this.errorHandler=Ma,this.malformedUriErrorHandler=th,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nh,afterPreactivation:nh},this.urlHandlingStrategy=new Yy,this.routeReuseStrategy=new Nu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function _u(){return new Oe(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sc(u,f,k=>this.triggerEvent(new hu(k)),k=>this.triggerEvent(new Fs(k))),this.routerState=rl(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Mn(r=>0!==r.id),(0,pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let a=!1,u=!1;return ct(r).pipe((0,pi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return tm(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(Fn(I=>{const k=this.transitions.getValue();return i.next(new Ps(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),k!==this.transitions.getValue()?ks.E:Promise.resolve(I)}),function Bf(n,e,t,i){return Fn(r=>function ll(n,e,t,i,r){return new Lf(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,pt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pi.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function R(n,e,t,i,r){return(0,On.z)(a=>function qy(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new $f(n,e,t,i,r,a).recognize();return null===u?Gf(new Hf):ct(u)}catch(u){return Gf(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,pt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pi.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(F,I)}this.browserUrlTree=I.urlAfterRedirects}const k=new Da(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(k)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:F,source:j,restoredState:W,extras:_e}=f,je=new Ps(k,this.serializeUrl(F),j,W);i.next(je);const Se=rl(F,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},f),{targetSnapshot:Se,urlAfterRedirects:F,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ks.E}),gt(f=>{const{targetSnapshot:_,id:b,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:k,replaceUrl:F}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!k,replaceUrl:!!F})}),(0,pi.b)(f=>{const _=new Ug(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,pt.U)(f=>Object.assign(Object.assign({},f),{guards:Vf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function $y(n,e){return(0,On.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function Xg(n,e,t,i){return(0,Xn.D)(n).pipe((0,On.z)(r=>function xu(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(f=>{const _=Mu(f,e,r);let b;if(function qw(n){return n&&al(n.canDeactivate)}(_))b=Rr(_.canDeactivate(n,e,t,i));else{if(!al(_))throw new Error("Invalid CanDeactivate guard");b=Rr(_(n,e,t,i))}return b.pipe(mo())})).pipe(Ia()):ct(!0)}(r.component,r.route,t,e,i)),mo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,On.z)(f=>f&&function Wg(n){return"boolean"==typeof n}(f)?function Zi(n,e,t,i){return(0,Xn.D)(e).pipe(Rs(r=>Kl(function jf(n,e){return null!==n&&e&&e(new Xr(n)),ct(!0)}(r.route.parent,i),function Uf(n,e){return null!==n&&e&&e(new nl(n)),ct(!0)}(r.route,i),function Jo(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Jg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Yr(()=>ct(u.guards.map(_=>{const b=Mu(_,u.node,t);let C;if(function xf(n){return n&&al(n.canActivateChild)}(b))C=Rr(b.canActivateChild(i,n));else{if(!al(b))throw new Error("Invalid CanActivateChild guard");C=Rr(b(i,n))}return C.pipe(mo())})).pipe(Ia())));return ct(a).pipe(Ia())}(n,r.path,t),function zy(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(a=>Yr(()=>{const u=Mu(a,e,t);let f;if(function Mf(n){return n&&al(n.canActivate)}(u))f=Rr(u.canActivate(e,n));else{if(!al(u))throw new Error("Invalid CanActivate guard");f=Rr(u(e,n))}return f.pipe(mo())}));return ct(r).pipe(Ia())}(n,r.route,t))),mo(r=>!0!==r,!0))}(i,a,n,e):ct(f)),(0,pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,pi.b)(f=>{if(tc(f.guardsResult)){const b=yo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new du(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Mn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),gt(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,pi.b)(_=>{const b=new qi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Fn(_=>{let b=!1;return ct(_).pipe(function K(n,e){return(0,On.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ct(t);let a=0;return(0,Xn.D)(r).pipe(Rs(u=>function le(n,e,t,i){return function $e(n,e,t,i){const r=st(n);if(0===r.length)return ct({});const a={};return(0,Xn.D)(r).pipe((0,On.z)(u=>function Tt(n,e,t,i){const r=Mu(n,e,i);return Rr(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,pi.b)(f=>{a[u]=f}))),Ud(1),(0,On.z)(()=>st(a).length===r.length?ct(a):ks.E))}(n._resolve,n,e,i).pipe((0,pt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Ny(n,t).resolve),null)))}(u.route,i,n,e)),(0,pi.b)(()=>a++),Ud(1),(0,On.z)(u=>a===r.length?ct(t):ks.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,pi.b)(_=>{const b=new kr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),gt(f=>{const{targetSnapshot:_,id:b,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:k,replaceUrl:F}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!k,replaceUrl:!!F})}),(0,pt.U)(f=>{const _=function Oy(n,e,t){const i=wu(n,e._root,t?t._root:void 0);return new zd(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,pi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(i=>(new qg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,pi.b)({next(){a=!0},complete(){a=!0}}),vf(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Qr(f=>{if(u=!0,function jd(n){return n&&n[mu]}(f)){const _=tc(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Ln(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tm(r.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new uu(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return ks.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Tu(t),this.config=t.map(Rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,C=_?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function Bs(n,e,t,i,r){if(0===t.length)return Tf(e.root,e.root,e.root,i,r);const a=function $g(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gg(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Gg(t,e,i)}(t);if(a.toRoot())return Tf(e.root,e.root,new ke([],{}),i,r);const u=function zg(n,e,t){if(n.isAbsolute)return new Yd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Yd(a,a===e.root,0)}const i=Ko(n.commands[0])?0:1;return function Ry(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Yd(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?vo(u.segmentGroup,u.index,a.commands):Fy(u.segmentGroup,u.index,a.commands);return Tf(e.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,t,I,null!=C?C:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=tc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Wf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},qf):!1===i?Object.assign({},ih):i,tc(t))return Xl(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Xl(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,C,I;u?(b=u.resolve,C=u.reject,I=u.promise):I=new Promise((j,W)=>{b=j,C=W});const k=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),F=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):F=0,this.setTransition({id:k,targetPageId:F,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(j=>Promise.reject(j))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Ln(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function tm(n){return"imperative"!==n}let Zf=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new xt.x,this.subscription=t.events.subscribe(a=>{a instanceof Yl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:rh(this.skipLocationChange),replaceUrl:rh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr),l.Y36(Sa),l.Y36(me))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function rh(n){return""===n||!!n}class Xy{}class Zw{preload(e,t){return ct(null)}}let Kw=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new sc(r,i,_=>t.triggerEvent(new hu(_)),_=>t.triggerEvent(new Fs(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(t=>t instanceof Yl),Rs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,Xn.D)(r).pipe((0,ds.J)(),(0,pt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ct(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,On.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mr),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Xy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nm=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new pu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new l.OlP("ROUTER_CONFIGURATION"),tv=new l.OlP("ROUTER_FORROOT_GUARD"),Yw=[Ee,{provide:li,useClass:$n},{provide:mr,useFactory:function iv(n,e,t,i,r,a,u={},f,_){const b=new mr(null,n,e,t,i,r,ps(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function Xw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(C=>{var I,k;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(k=console.groupEnd)||void 0===k||k.call(console)}),b},deps:[li,Cu,Ee,l.zs3,l.Sil,rc,Vs,[class zf{},new l.FiY],[class zn{},new l.FiY]]},Cu,{provide:Sa,useFactory:function im(n){return n.routerState.root},deps:[mr]},Kw,Zw,class ev{preload(e,t){return t().pipe(Qr(()=>ct(null)))}},{provide:Vs,useValue:{enableTracing:!1}}];function Y1(){return new l.PXZ("Router",mr)}let Kf=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Yw,nv(t),{provide:tv,useFactory:Qw,deps:[[mr,new l.FiY,new l.tp0]]},{provide:Vs,useValue:i||{}},{provide:me,useFactory:Jw,deps:[ge,[new l.tBr(ot),new l.FiY],Vs]},{provide:nm,useFactory:J1,deps:[mr,Fl,Vs]},{provide:Xy,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Zw},{provide:l.PXZ,multi:!0,useFactory:Y1},[sh,{provide:l.ip1,multi:!0,useFactory:eE,deps:[sh]},{provide:sv,useFactory:rv,deps:[sh]},{provide:l.tb,multi:!0,useExisting:sv}]]}}static forChild(t){return{ngModule:n,providers:[nv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tv,8),l.LFG(mr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function J1(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new nm(n,e,t)}function Jw(n,e,t={}){return t.useHash?new Me(n,e):new et(n,e)}function Qw(n){return"guarded"}function nv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:rc,multi:!0,useValue:n}]}let sh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(mr),u=this.injector.get(Vs);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Vs),r=this.injector.get(Kw),a=this.injector.get(nm),u=this.injector.get(mr),f=this.injector.get(l.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function eE(n){return n.appInitializer.bind(n)}function rv(n){return n.bootstrapListener.bind(n)}const sv=new l.OlP("Router Initializer"),Q1=function(){return["/Games/HangMan"]};let tE=(()=>{class n{constructor(){this.mensaje="",this.logged=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:121,vars:2,consts:[["role","main"],["id","carouselExampleCaptions","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"row"],[1,"carousel-caption"],[1,"position-absolute","bottom-100","start-0"],["href","#",1,"btn","btn-lg","btn-primary"],["src","../../../assets/imagenes/Preguntados.jpg",1,"bd-placeholder-img"],[1,"carousel-item"],["src","../../../assets/imagenes/HangMan.png","preserveAspectRatio","xMidYMid slice","focusable","false",1,"imagen","bd-placeholder-img"],[1,"container"],[1,"carousel-caption","text-left"],[1,"btn","btn-lg","btn-primary",3,"routerLink"],["width","100%","height","100%","src","../../../assets/imagenes/snake.jpg","preserveAspectRatio","xMidYMid slice","focusable","false",1,"imagen","bd-placeholder-img"],[1,"carousel-caption","text-right"],["href","#sectionId",1,"btn","btn-lg","btn-primary"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"container","marketing"],[1,"col-lg-4"],["width","140","height","140","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 140x140","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","rounded-circle"],["width","100%","height","100%","fill","#777"],["x","50%","y","50%","fill","#777","dy",".3em"],["href","#",1,"btn","btn-secondary"],[1,"featurette-divider"],["id","sectionId"],[1,"row","featurette"],[1,"col-md-7","order-md-2"],[1,"featurette-heading"],[1,"text-muted"],[1,"lead"],[1,"col-md-5","order-md-1"],["width","500","height","500","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 500x500","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","bd-placeholder-img-lg","featurette-image","img-fluid","mx-auto"],["width","100%","height","100%","fill","#eee"],["x","50%","y","50%","fill","#aaa","dy",".3em"],[1,"col-md-7"],[1,"col-md-5"]],template:function(t,i){1&t&&(l.TgZ(0,"main",0)(1,"div",1)(2,"div",2),l._UZ(3,"button",3)(4,"button",4)(5,"button",5),l.qZA(),l.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h1"),l._uU(12,"Quiz Up."),l.qZA(),l.TgZ(13,"p")(14,"a",11),l._uU(15,"Play"),l.qZA()()()()(),l._UZ(16,"img",12),l.qZA(),l.TgZ(17,"div",13),l._UZ(18,"img",14),l.TgZ(19,"div",15)(20,"div",16)(21,"h1"),l._uU(22,"Hangman."),l.qZA(),l.TgZ(23,"p")(24,"a",17),l._uU(25,"Play"),l.qZA()()()()(),l.TgZ(26,"div",13),l._UZ(27,"img",18),l.TgZ(28,"div",15)(29,"div",19)(30,"p")(31,"a",20),l._uU(32,"Play"),l.qZA()()()()()(),l.TgZ(33,"button",21),l._UZ(34,"span",22),l.TgZ(35,"span",23),l._uU(36,"Previous"),l.qZA()(),l.TgZ(37,"button",24),l._UZ(38,"span",25),l.TgZ(39,"span",23),l._uU(40,"Next"),l.qZA()()(),l.TgZ(41,"div",26)(42,"div",8)(43,"div",27),l.O4$(),l.TgZ(44,"svg",28)(45,"title"),l._uU(46,"Placeholder"),l.qZA(),l._UZ(47,"rect",29),l.TgZ(48,"text",30),l._uU(49,"140x140"),l.qZA()(),l.kcU(),l.TgZ(50,"h2"),l._uU(51,"Heading"),l.qZA(),l.TgZ(52,"p"),l._uU(53,"Some representative placeholder content for the three columns of text below the carousel. This is the first column."),l.qZA(),l.TgZ(54,"p")(55,"a",31),l._uU(56,"View details \xbb"),l.qZA()()(),l.TgZ(57,"div",27),l.O4$(),l.TgZ(58,"svg",28)(59,"title"),l._uU(60,"Placeholder"),l.qZA(),l._UZ(61,"rect",29),l.TgZ(62,"text",30),l._uU(63,"140x140"),l.qZA()(),l.kcU(),l.TgZ(64,"h2"),l._uU(65,"Heading"),l.qZA(),l.TgZ(66,"p"),l._uU(67,"Another exciting bit of representative placeholder content. This time, we've moved on to the second column."),l.qZA(),l.TgZ(68,"p")(69,"a",31),l._uU(70,"View details \xbb"),l.qZA()()(),l.TgZ(71,"div",27),l.O4$(),l.TgZ(72,"svg",28)(73,"title"),l._uU(74,"Placeholder"),l.qZA(),l._UZ(75,"rect",29),l.TgZ(76,"text",30),l._uU(77,"140x140"),l.qZA()(),l.kcU(),l.TgZ(78,"h2"),l._uU(79,"Heading"),l.qZA(),l.TgZ(80,"p"),l._uU(81,"And lastly this, the third column of representative placeholder content."),l.qZA(),l.TgZ(82,"p")(83,"a",31),l._uU(84,"View details \xbb"),l.qZA()()()(),l._UZ(85,"hr",32),l.TgZ(86,"section",33),l._UZ(87,"div",34),l.qZA(),l._UZ(88,"hr",32),l.TgZ(89,"div",34)(90,"div",35)(91,"h2",36),l._uU(92,"Oh yeah, it\u2019s that good. "),l.TgZ(93,"span",37),l._uU(94,"See for yourself."),l.qZA()(),l.TgZ(95,"p",38),l._uU(96,"Another featurette? Of course. More placeholder content here to give you an idea of how this layout would work with some actual real-world content in place."),l.qZA()(),l.TgZ(97,"div",39),l.O4$(),l.TgZ(98,"svg",40)(99,"title"),l._uU(100,"Placeholder"),l.qZA(),l._UZ(101,"rect",41),l.TgZ(102,"text",42),l._uU(103,"500x500"),l.qZA()()()(),l.kcU(),l._UZ(104,"hr",32),l.TgZ(105,"div",34)(106,"div",43)(107,"h2",36),l._uU(108,"And lastly, this one. "),l.TgZ(109,"span",37),l._uU(110,"Checkmate."),l.qZA()(),l.TgZ(111,"p",38),l._uU(112,"And yes, this is the last block of representative placeholder content. Again, not really intended to be actually read, simply here to give you a better view of what this would look like with some actual content. Your content."),l.qZA()(),l.TgZ(113,"div",44),l.O4$(),l.TgZ(114,"svg",40)(115,"title"),l._uU(116,"Placeholder"),l.qZA(),l._UZ(117,"rect",41),l.TgZ(118,"text",42),l._uU(119,"500x500"),l.qZA()()()(),l.kcU(),l._UZ(120,"hr",32),l.qZA()()),2&t&&(l.xp6(24),l.Q6J("routerLink",l.DdM(1,Q1)))},directives:[Zf],styles:['.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem;color:#5a5a5a}.carousel[_ngcontent-%COMP%]{margin-bottom:4rem}.carousel-caption[_ngcontent-%COMP%]{bottom:3rem;z-index:10}.carousel-item[_ngcontent-%COMP%]{height:32rem}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;min-width:100%;height:32rem}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:.75rem}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}.featurette-heading[_ngcontent-%COMP%]{font-weight:300;line-height:1;letter-spacing:-.05rem}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}.background-image[_ngcontent-%COMP%]{background-image:"../../../assets/imagenes/Preguntados.jpg"}']}),n})();function nE(...n){const e=(0,kn.jO)(n),{args:t,keys:i}=Zr(n),r=new Pn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let C=0;C<u;C++){let I=!1;(0,gr.Xf)(t[C]).subscribe((0,_n.x)(a,k=>{I||(I=!0,b--),f[C]=k},()=>_--,void 0,()=>{(!_||!I)&&(b||a.next(i?Uo(i,f):f),a.complete())}))}});return e?r.pipe(au(e)):r}let iE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),oc=(()=>{class n extends iE{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const _s=new l.OlP("NgValueAccessor"),sE={provide:_s,useExisting:(0,l.Gpc)(()=>Yf),multi:!0},oE=new l.OlP("CompositionEventMode");let Yf=(()=>{class n extends iE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eT(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(oE,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([sE]),l.qOj]}),n})();function ac(n){return null==n||0===n.length}function bo(n){return null!=n&&"number"==typeof n.length}const Lr=new l.OlP("NgValidators"),hl=new l.OlP("NgAsyncValidators"),tT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xa{static min(e){return function aE(n){return e=>{if(ac(e.value)||ac(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function lE(n){return e=>{if(ac(e.value)||ac(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return av(e)}static requiredTrue(e){return function cE(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function uE(n){return ac(n.value)||tT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dE(n){return e=>ac(e.value)||!bo(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ut(n){return e=>bo(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function lv(n){if(!n)return Jf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ac(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Na(e)}static composeAsync(e){return dv(e)}}function av(n){return ac(n.value)?{required:!0}:null}function Jf(n){return null}function cv(n){return null!=n}function Qf(n){const e=(0,l.QGY)(n)?(0,Xn.D)(n):n;return(0,l.CqO)(e),e}function wo(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uv(n,e){return e.map(t=>t(n))}function sm(n){return n.map(e=>function nT(n){return!n.validate}(e)?e:t=>e.validate(t))}function Na(n){if(!n)return null;const e=n.filter(cv);return 0==e.length?null:function(t){return wo(uv(t,e))}}function Xf(n){return null!=n?Na(sm(n)):null}function dv(n){if(!n)return null;const e=n.filter(cv);return 0==e.length?null:function(t){return nE(uv(t,e).map(Qf)).pipe((0,pt.U)(wo))}}function ep(n){return null!=n?dv(sm(n)):null}function iT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hv(n){return n._rawValidators}function rT(n){return n._rawAsyncValidators}function oh(n){return n?Array.isArray(n)?n:[n]:[]}function Ou(n,e){return Array.isArray(n)?n.includes(e):n===e}function om(n,e){const t=oh(e);return oh(n).forEach(r=>{Ou(t,r)||t.push(r)}),t}function am(n,e){return oh(e).filter(t=>!Ou(n,t))}class lm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ep(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lc extends lm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class is extends lm{get formDirective(){return null}get path(){return null}}class hE{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let cm=(()=>{class n extends hE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),fE=(()=>{class n extends hE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(is,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function ku(n,e){hm(n,e),e.valueAccessor.writeValue(n.value),function aT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mv(n,e)})}(n,e),function lT(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function cc(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gv(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dm(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ah(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hm(n,e){const t=hv(n);null!==e.validator?n.setValidators(iT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=rT(n);null!==e.asyncValidator?n.setAsyncValidators(iT(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();tp(e._rawValidators,r),tp(e._rawAsyncValidators,r)}function ah(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=hv(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=rT(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return tp(e._rawValidators,i),tp(e._rawAsyncValidators,i),t}function mv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fm(n,e){hm(n,e)}function Ru(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const lh="VALID",ch="INVALID",hc="PENDING",uh="DISABLED";function yv(n){return(np(n)?n.validators:n)||null}function vv(n){return Array.isArray(n)?Xf(n):n||null}function _E(n,e){return(np(e)?e.asyncValidators:n)||null}function bv(n){return Array.isArray(n)?ep(n):n||null}function np(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const wv=n=>n instanceof wE,ip=n=>n instanceof Dv,yE=n=>n instanceof Cv;function vE(n){return wv(n)?n.value:n.getRawValue()}function ys(n,e){const t=ip(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function bE(n,e){ip(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class Ev{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=vv(this._rawValidators),this._composedAsyncValidatorFn=bv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lh}get invalid(){return this.status===ch}get pending(){return this.status==hc}get disabled(){return this.status===uh}get enabled(){return this.status!==uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=vv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bv(e)}addValidators(e){this.setValidators(om(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(om(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(am(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(am(e,this._rawAsyncValidators))}hasValidator(e){return Ou(this._rawValidators,e)}hasAsyncValidator(e){return Ou(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lh,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lh||this.status===hc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uh:lh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hc,this._hasOwnPendingAsyncValidator=!0;const t=Qf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function mm(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=ip(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:yE(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?uh:this.errors?ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hc)?hc:this._anyControlsHaveStatus(ch)?ch:lh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){np(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wE extends Ev{constructor(e=null,t,i){super(yv(t),_E(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),np(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Dv extends Ev{constructor(e,t,i){super(yv(t),_E(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bE(this,e),Object.keys(e).forEach(i=>{ys(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=vE(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Cv extends Ev{constructor(e,t,i){super(yv(t),_E(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bE(this,e),e.forEach((i,r)=>{ys(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>vE(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Tx={provide:is,useExisting:(0,l.Gpc)(()=>dh)},rp=(()=>Promise.resolve(null))();let dh=(()=>{class n extends is{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Dv({},Xf(t),ep(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ku(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rp.then(()=>{const i=this._findContainer(t.path),r=new Dv({});fm(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){rp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ru(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lr,10),l.Y36(hl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Tx]),l.qOj]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const xv=new l.OlP("NgModelWithFormControlWarning"),_T={provide:is,useExisting:(0,l.Gpc)(()=>fl)};let fl=(()=>{class n extends is{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ah(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ku(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){dm(t.control||null,t,!1),dc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Ru(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(dm(i||null,t),wv(r)&&(ku(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);fm(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function cT(n,e){return ah(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hm(this.form,this),this._oldForm&&ah(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lr,10),l.Y36(hl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_T]),l.qOj,l.TTD]}),n})();const yT={provide:lc,useExisting:(0,l.Gpc)(()=>ym)};let ym=(()=>{class n extends lc{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Pu(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Yf?t=a:function _v(n){return Object.getPrototypeOf(n.constructor)===oc}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function uc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Qo(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(is,13),l.Y36(Lr,10),l.Y36(hl,10),l.Y36(_s,10),l.Y36(xv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([yT]),l.qOj,l.TTD]}),n})(),pc=(()=>{class n{constructor(){this._validator=Jf}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const xE={provide:Lr,useExisting:(0,l.Gpc)(()=>ph),multi:!0};let ph=(()=>{class n extends pc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Nx(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>av}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([xE]),l.qOj]}),n})(),PE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[DE]]}),n})(),FE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PE]}),n})(),Eo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PE]}),n})(),Gv=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let f,a=null,u=null;return null!=i&&(function Hv(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new Dv(r,{asyncValidators:u,updateOn:f,validators:a})}control(t,i,r){return new wE(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new Cv(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return wv(t)||ip(t)||yE(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Eo}),n})();var we=P(5861),$v=P(127),zv=P(6451),Em=P(5363),ST=P(6063);class IT extends xt.x{constructor(e=1/0,t=1/0,i=ST.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var qv=P(3099);function AT(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,qv.B)({connector:()=>new IT(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Wv(n,e){return(0,Or.m)(e)?Fn(()=>n,e):Fn(()=>n)}var Zv=P(9468),_r=P(5813),Oa=P(2011);P(5867);var Fu=P(9681),Dm=P(4859),tn=P(2090),gc=P(1877);const HE=new Map,PT={activated:!1,tokenObservers:[]},Cm={initialized:!1,enabled:!1};function ci(n){return HE.get(n)||PT}function ea(n,e){HE.set(n,e)}function mc(){return Cm}class Lu{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function Tm(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yr=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bu(n){if(!ci(n).activated)throw yr.create("use-before-activation",{appName:n.name})}function yc(n,e){return vc.apply(this,arguments)}function vc(){return(vc=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(I){throw yr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw yr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw yr.create("fetch-parse-error",{originalErrorMessage:I.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.attestationToken,expireTimeMillis:C+b,issuedAtTimeMillis:C}})).apply(this,arguments)}function GE(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const wh="firebase-app-check-store";let ap=null;function Qv(){return ap||(ap=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(yr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wh,{keyPath:"compositeKey"})}}catch(t){e(yr.create("storage-open",{originalErrorMessage:t.message}))}}),ap)}function Sm(){return(Sm=(0,we.Z)(function*(n,e){const i=(yield Qv()).transaction(wh,"readwrite"),a=i.objectStore(wh).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(yr.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Eh=new gc.Yd("@firebase/app-check");function JE(n,e){return(0,tn.hl)()?function WE(n,e){return function KE(n,e){return Sm.apply(this,arguments)}(function YE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XE(){return mc().enabled}function Am(){return lp.apply(this,arguments)}function lp(){return(lp=(0,we.Z)(function*(){const n=mc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lx={error:"UNKNOWN_ERROR"};function Bx(n){return tn.US.encodeString(JSON.stringify(n),!1)}function t0(n){return n0.apply(this,arguments)}function n0(){return(n0=(0,we.Z)(function*(n,e=!1){const t=n.app;Bu(t);const i=ci(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&cp(_)&&(r=_)}if(!e&&r&&cp(r))return{token:r.token};let f,u=!1;if(XE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=yc(GE(t,yield Am()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield JE(t,_),ea(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Eh.warn(_.message):Eh.error(_),a=_}return r?(f={token:r.token},ea(t,Object.assign(Object.assign({},i),{token:r})),yield JE(t,r)):f=jT(a),u&&nD(t,f),f})).apply(this,arguments)}function eD(n,e){const t=ci(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ea(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function tD(n){const{app:e}=n,t=ci(e);let i=t.tokenRefresher;i||(i=function Dh(n){const{app:e}=n;return new Lu((0,we.Z)(function*(){let i;if(i=ci(e).token?yield t0(n,!0):yield t0(n),i.error)throw i.error}),()=>!0,()=>{const t=ci(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ea(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nD(n,e){const t=ci(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function cp(n){return n.expireTimeMillis-Date.now()>0}function jT(n){return{token:Bx(Lx),error:n}}class iD{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ci(this.app);for(const t of e)eD(this.app,t.next);return Promise.resolve()}}const hp="app-check-internal";!function km(){(0,Fu._registerComponent)(new Dm.wA("app-check",n=>function xm(n,e){return new iD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hp).initialize()})),(0,Fu._registerComponent)(new Dm.wA(hp,n=>function HT(n){return{getToken:e=>t0(n,e),addTokenListener:e=>function Mm(n,e,t,i){const{app:r}=n,a=ci(r),u={next:t,error:i,type:e};if(ea(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&cp(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),tD(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tD(n))}(n,"INTERNAL",e),removeTokenListener:e=>eD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fu.registerVersion)("@firebase/app-check","0.5.5")}();class fp{constructor(){return(0,_r.vb)("app-check")}}"undefined"!=typeof window&&window;const f0=new l.OlP("angularfire2.auth.use-emulator"),p0=new l.OlP("angularfire2.auth.settings"),g0=new l.OlP("angularfire2.auth.tenant-id"),m0=new l.OlP("angularfire2.auth.langugage-code"),_0=new l.OlP("angularfire2.auth.use-device-language"),y0=new l.OlP("angularfire.auth.persistence"),iS=(n,e,t,i,r,a,u,f)=>(0,Oa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))_.settings[b]=C;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let Fm=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,I,k,F){const j=new xt.x,W=ct(void 0).pipe((0,Em.Q)(u.outsideAngular),Fn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4087)))),(0,pt.U)(()=>(0,Oa.on)(t,a,i)),(0,pt.U)(_e=>iS(_e,a,f,b,C,I,_,k)),AT({bufferSize:1,refCount:!1}));if(Oi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{W.pipe(mo()).subscribe();const je=W.pipe(Fn(Pe=>Pe.getRedirectResult().then(Ye=>Ye,()=>null)),_r.iC,AT({bufferSize:1,refCount:!1})),Se=W.pipe(Fn(Pe=>new Pn.y(Ye=>({unsubscribe:a.runOutsideAngular(()=>Pe.onAuthStateChanged(qe=>Ye.next(qe),qe=>Ye.error(qe),()=>Ye.complete()))})))),nt=W.pipe(Fn(Pe=>new Pn.y(Ye=>({unsubscribe:a.runOutsideAngular(()=>Pe.onIdTokenChanged(qe=>Ye.next(qe),qe=>Ye.error(qe),()=>Ye.complete()))}))));this.authState=je.pipe(Wv(Se),(0,Zv.R)(u.outsideAngular),(0,Em.Q)(u.insideAngular)),this.user=je.pipe(Wv(nt),(0,Zv.R)(u.outsideAngular),(0,Em.Q)(u.insideAngular)),this.idToken=this.user.pipe(Fn(Pe=>Pe?(0,Xn.D)(Pe.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Fn(Pe=>Pe?(0,Xn.D)(Pe.getIdTokenResult()):ct(null))),this.credential=(0,zv.T)(je,j,this.authState.pipe(Mn(Pe=>!Pe))).pipe((0,pt.U)(Pe=>(null==Pe?void 0:Pe.user)?Pe:null),(0,Zv.R)(u.outsideAngular),(0,Em.Q)(u.insideAngular))}return(0,Oa.pX)(this,W,a,{spy:{apply:(_e,je,Se)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Se.then(nt=>j.next(nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Oa.Dh),l.LFG(Oa.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_r.HU),l.LFG(f0,8),l.LFG(p0,8),l.LFG(g0,8),l.LFG(m0,8),l.LFG(_0,8),l.LFG(y0,8),l.LFG(fp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rS=(()=>{class n{constructor(){$v.Z.registerVersion("angularfire",_r.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Fm]}),n})();var Th=P(4986);function v0(){return(0,oi.e)((n,e)=>{let t,i=!1;n.subscribe((0,_n.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function ei(n,e=pr.y){return n=null!=n?n:pD,(0,oi.e)((t,i)=>{let r,a=!0;t.subscribe((0,_n.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function pD(n,e){return n===e}P(4087);var at,sS=P(3942),gD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ml={},Lm=Lm||{},Ot=gD||self;function Bm(){}function b0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Sh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vm="closure_uid_"+(1e9*Math.random()>>>0),Hx=0;function w0(n,e,t){return n.call.apply(n.bind,arguments)}function E0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Bn(n,e,t){return(Bn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w0:E0).apply(null,arguments)}function Um(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function nr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function vr(){this.s=this.s,this.o=this.o}var na={};vr.prototype.s=!1,vr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function oS(n){return Object.prototype.hasOwnProperty.call(n,Vm)&&n[Vm]||(n[Vm]=++Hx)}(this);delete na[n]}},vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},C0=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function mD(n){return Array.prototype.concat.apply([],arguments)}function T0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function jm(n){return/^[\s\xa0]*$/.test(n)}var Vr,Hm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ki(n,e){return-1!=n.indexOf(e)}function S0(n,e){return n<e?-1:n>e?1:0}e:{var _D=Ot.navigator;if(_D){var I0=_D.userAgent;if(I0){Vr=I0;break e}}Vr=""}function Gm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function pp(n){const e={};for(const t in n)e[t]=n[t];return e}var yD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<yD.length;a++)t=yD[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $m(n){return $m[" "](n),n}$m[" "]=Bm;var gp,n,zm=Ki(Vr,"Opera"),Vu=Ki(Vr,"Trident")||Ki(Vr,"MSIE"),x0=Ki(Vr,"Edge"),qm=x0||Vu,N0=Ki(Vr,"Gecko")&&!(Ki(Vr.toLowerCase(),"webkit")&&!Ki(Vr,"Edge"))&&!(Ki(Vr,"Trident")||Ki(Vr,"MSIE"))&&!Ki(Vr,"Edge"),vD=Ki(Vr.toLowerCase(),"webkit")&&!Ki(Vr,"Edge");function O0(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wm="",k0=(n=Vr,N0?/rv:([^\);]+)(\)|;)/.exec(n):x0?/Edge\/([\d\.]+)/.exec(n):Vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vD?/WebKit\/(\S+)/.exec(n):zm?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(k0&&(Wm=k0?k0[1]:""),Vu){var R0=O0();if(null!=R0&&R0>parseFloat(Wm)){gp=String(R0);break e}}gp=Wm}var lS={};var uS=Ot.document&&Vu&&(O0()||parseInt(gp,10))||void 0,dS=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Bm,e),Ot.removeEventListener("test",Bm,e)}catch(t){}return n}();function Ur(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function mp(n,e){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(N0){e:{try{$m(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mp.Z.h.call(this)}}Ur.prototype.h=function(){this.defaultPrevented=!0},nr(mp,Ur);var hS={2:"touch",3:"pen",4:"mouse"};mp.prototype.h=function(){mp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _p="closure_listenable_"+(1e6*Math.random()|0),fS=0;function pS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++fS,this.ca=this.fa=!1}function Zm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Km(n){this.src=n,this.g={},this.h=0}function F0(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=D0(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Zm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function L0(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Km.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=L0(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new pS(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Ym="closure_lm_"+(1e6*Math.random()|0),Jm={};function B0(n,e,t,i,r){if(i&&i.once)return U0(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)B0(n,e[a],t,i,r);return null}return t=$0(t),n&&n[_p]?n.N(e,t,Sh(i)?!!i.capture:!!i,r):V0(n,e,t,!1,i,r)}function V0(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Sh(r)?!!r.capture:!!r,f=yp(n);if(f||(n[Ym]=f=new Km(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function wD(){var e=G0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)dS||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(H0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function U0(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)U0(n,e[a],t,i,r);return null}return t=$0(t),n&&n[_p]?n.O(e,t,Sh(i)?!!i.capture:!!i,r):V0(n,e,t,!0,i,r)}function j0(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)j0(n,e[a],t,i,r);else i=Sh(i)?!!i.capture:!!i,t=$0(t),n&&n[_p]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=L0(a=n.g[e],t,i,r))&&(Zm(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=yp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=L0(e,t,i,r)),(t=-1<n?e[n]:null)&&Qm(t))}function Qm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_p])F0(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(H0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=yp(e))?(F0(t,n),0==t.h&&(t.src=null,e[Ym]=null)):Zm(n)}}}function H0(n){return n in Jm?Jm[n]:Jm[n]="on"+n}function G0(n,e){if(n.ca)n=!0;else{e=new mp(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Qm(n),n=t.call(i,e)}return n}function yp(n){return(n=n[Ym])instanceof Km?n:null}var _l="__closure_events_fn_"+(1e9*Math.random()>>>0);function $0(n){return"function"==typeof n?n:(n[_l]||(n[_l]=function(e){return n.handleEvent(e)}),n[_l])}function ir(){vr.call(this),this.i=new Km(this),this.P=this,this.I=null}function _i(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ur(e,n);else if(e instanceof Ur)e.target=e.target||n;else{var r=e;A0(e=new Ur(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=z0(u,i,!0,e)&&r}if(r=z0(u=e.g=n,i,!0,e)&&r,r=z0(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=z0(u=e.g=t[a],i,!1,e)&&r}function z0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&F0(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}nr(ir,vr),ir.prototype[_p]=!0,ir.prototype.removeEventListener=function(n,e,t,i){j0(this,n,e,t,i)},ir.prototype.M=function(){if(ir.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Zm(t[i]);delete n.g[e],n.h--}}this.I=null},ir.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ir.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var vp=Ot.JSON.stringify;function Gx(){var n=DD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Z0,q0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $x,n=>n.reset());class $x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function St(n){Ot.setTimeout(()=>{throw n},0)}function W0(n,e){Z0||function gS(){var n=Ot.Promise.resolve(void 0);Z0=function(){n.then(Xm)}}(),Ih||(Z0(),Ih=!0),DD.add(n,e)}var Ih=!1,DD=new class ED{constructor(){this.h=this.g=null}add(e,t){const i=q0.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Xm(){for(var n;n=Gx();){try{n.h.call(n.g)}catch(t){St(t)}var e=q0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ih=!1}function Uu(n,e){ir.call(this),this.h=n||1,this.g=e||Ot,this.j=Bn(this.kb,this),this.l=Date.now()}function ti(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function CD(n,e,t){if("function"==typeof n)t&&(n=Bn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Bn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function K0(n){n.g=CD(()=>{n.g=null,n.i&&(n.i=!1,K0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}nr(Uu,ir),(at=Uu.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_i(this,"tick"),this.da&&(ti(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){Uu.Z.M.call(this),ti(this),delete this.g};class mS extends vr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K0(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bp(n){vr.call(this),this.h=n,this.g={}}nr(bp,vr);var Y0=[];function J0(n,e,t,i){Array.isArray(t)||(t&&(Y0[0]=t.toString()),t=Y0);for(var r=0;r<t.length;r++){var a=B0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Q0(n){Gm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qm(e)},n),n.g={}}function wp(){this.g=!0}function Ah(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return vp(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}bp.prototype.M=function(){bp.Z.M.call(this),Q0(this)},bp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wp.prototype.Aa=function(){this.g=!1},wp.prototype.info=function(){};var ju={},TD=null;function Hu(){return TD=TD||new ir}function X0(n){Ur.call(this,ju.Ma,n)}function Mh(n){const e=Hu();_i(e,new X0(e,n))}function eb(n,e){Ur.call(this,ju.STAT_EVENT,n),this.stat=e}function rs(n){const e=Hu();_i(e,new eb(e,n))}function xh(n,e){Ur.call(this,ju.Na,n),this.size=e}function yl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}ju.Ma="serverreachability",nr(X0,Ur),ju.STAT_EVENT="statevent",nr(eb,Ur),ju.Na="timingevent",nr(xh,Ur);var e_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tb(){}function ib(){}tb.prototype.h=null;var sb,Nh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rb(){Ur.call(this,"d")}function t_(){Ur.call(this,"c")}function n_(){}function i_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new bp(this),this.P=zx,this.W=new Uu(n=qm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bS}function bS(){this.i=null,this.g="",this.h=!1}nr(rb,Ur),nr(t_,Ur),nr(n_,tb),n_.prototype.g=function(){return new XMLHttpRequest},n_.prototype.i=function(){return{}},sb=new n_;var zx=45e3,ID={},Dp={};function Oh(n,e,t){n.K=1,n.v=l_(Pa(e)),n.s=t,n.U=!0,AD(n,null)}function AD(n,e){n.F=Date.now(),Tp(n),n.A=Pa(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),db(t.h,"t",i),n.C=0,t=n.l.H,n.h=new bS,n.g=Sb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new mS(Bn(n.Ia,n,n.g),n.O)),J0(n.V,n.g,"readystatechange",n.gb),e=n.H?pp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Mh(1),function _S(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var I=C.split("_");u=2<=I.length&&"type"==I[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function MD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ob(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Cp(n,t),r==Dp){4==e&&(n.o=4,rs(14),i=!1),Ah(n.j,n.m,null,"[Incomplete Response]");break}if(r==ID){n.o=4,rs(15),Ah(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ah(n.j,n.m,r,null),s_(n,r)}MD(n)&&r!=Dp&&r!=ID&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,rs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),__(e),e.L=!0,rs(11))):(Ah(n.j,n.m,t,"[Invalid Chunked Response]"),Gu(n),Sp(n))}function Cp(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Dp:(t=Number(e.substring(t,i)),isNaN(t)?ID:(i+=1)+t>e.length?Dp:(e=e.substr(i,t),n.C=i+t,e))}function Tp(n){n.Y=Date.now()+n.P,xD(n,n.P)}function xD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yl(Bn(n.eb,n),e)}function r_(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Sp(n){0==n.l.G||n.I||Cb(n.l,n)}function Gu(n){r_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ti(n.W),Q0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function s_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Mp(t.i,n)))if(t.I=n.N,!n.J&&Mp(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=yl(Bn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Db(t),g_(t)}$D(t),rs(18)}if(1>=c_(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Dc(t,11)}else if((n.J||t.g==n)&&Db(t),!jm(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const C=b[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const I=b[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const k=b[5];null!=k&&"number"==typeof k&&0<k&&(t.K=i=1.5*k,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const j=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var a=i.i;!a.g&&(Ki(j,"spdy")||Ki(j,"quic")||Ki(j,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(u_(a,a.h),a.h=null))}if(i.D){const W=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.sa=W,qn(i.F,i.D,W))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Tb(i,i.H?i.la:null,i.W),u.J){d_(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(r_(f),Tp(f)),i.g=u}else Wu(i);0<t.l.length&&wb(t)}else"stop"!=b[0]&&"close"!=b[0]||Dc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Dc(t,7):vb(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Mh(4)}catch(b){}}function ab(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(b0(n)||"string"==typeof n)C0(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(b0(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function wS(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(b0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function ia(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ia)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function lb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];bc(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)bc(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function bc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(at=i_.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const e=this.L;e&&3==ra(n)?e.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const C=ra(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>C)&&(3!=C||qm||this.g&&(this.h.h||this.g.ga()||Op(this.g)))){this.I||4!=C||7==e||Mh(8==e||0>=I?3:2),r_(this);var t=this.g.ba();this.N=t;t:if(MD(this)){var i=Op(this.g);n="";var r=i.length,a=4==ra(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gu(this),Sp(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function yS(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jm(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,rs(12),Gu(this),Sp(this);break e}Ah(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,s_(this,t)}this.U?(ob(this,C,u),qm&&this.i&&3==C&&(J0(this.V,this.W,"tick",this.fb),this.W.start())):(Ah(this.j,this.m,u,null),s_(this,u)),4==C&&Gu(this),this.i&&!this.I&&(4==C?Cb(this.l,this):(this.i=!1,Tp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),Gu(this),Sp(this)}}}catch(C){}},at.fb=function(){if(this.g){var n=ra(this.g),e=this.g.ga();this.C<e.length&&(r_(this),ob(this,n,e),this.i&&4!=n&&Tp(this))}},at.cancel=function(){this.I=!0,Gu(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ep(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mh(3),rs(17)),Gu(this),this.o=2,Sp(this)):xD(this,this.Y-n)},(at=ia.prototype).R=function(){lb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},at.T=function(){return lb(this),this.g.concat()},at.get=function(n,e){return bc(this.h,n)?this.h[n]:e},at.set=function(n,e){bc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},at.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var ND=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $u(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $u){this.g=void 0!==e?e:n.g,o_(this,n.j),this.s=n.s,kh(this,n.i),a_(this,n.m),this.l=n.l,e=n.h;var t=new Ap;t.i=e.i,e.g&&(t.g=new ia(e.g),t.h=e.h),cb(this,t),this.o=n.o}else n&&(t=String(n).match(ND))?(this.g=!!e,o_(this,t[1]||"",!0),this.s=zu(t[2]||""),kh(this,t[3]||"",!0),a_(this,t[4]),this.l=zu(t[5]||"",!0),cb(this,t[6]||"",!0),this.o=zu(t[7]||"")):(this.g=!!e,this.h=new Ap(null,this.g))}function Pa(n){return new $u(n)}function o_(n,e,t){n.j=t?zu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kh(n,e,t){n.i=t?zu(e,!0):e}function a_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cb(n,e,t){e instanceof Ap?(n.h=e,function AS(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(PD(this,i),db(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ip(e,SS)),n.h=new Ap(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function l_(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$u.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ip(e,RD,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ip(e,RD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ip(t,"/"==t.charAt(0)?TS:CS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ip(t,IS)),n.join("")};var RD=/[#\/\?@]/g,CS=/[#\?:]/g,TS=/[#\?]/g,SS=/[#\?@]/g,IS=/#/g;function Ap(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new ia,n.h=0,n.i&&function OD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PD(n,e){wc(n),e=qu(n,e),bc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,bc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&lb(n)))}function ub(n,e){return wc(n),e=qu(n,e),bc(n.g.h,e)}function db(n,e,t){PD(n,e),0<t.length&&(n.i=null,n.g.set(qu(n,e),T0(t)),n.h+=t.length)}function qu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fb(n){this.l=n||MS,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=Ap.prototype).add=function(n,e){wc(this),this.i=null,n=qu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){wc(this),this.g.forEach(function(t,i){C0(t,function(r){n.call(e,r,i,this)},this)},this)},at.T=function(){wc(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},at.R=function(n){wc(this);var e=[];if("string"==typeof n)ub(this,n)&&(e=mD(e,this.g.get(qu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=mD(e,n[t])}return e},at.set=function(n,e){return wc(this),this.i=null,ub(this,n=qu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var MS=10;function FD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function c_(n){return n.h?1:n.g?n.g.size:0}function Mp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function u_(n,e){n.g?n.g.add(e):n.h=e}function d_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function LD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return T0(n.i)}function pb(){}function gb(){this.g=new pb}function xS(n,e,t){const i=t||"";try{ab(n,function(r,a){let u=r;Sh(r)&&(u=vp(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function h_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Rh(n){this.l=n.$b||null,this.j=n.ib||!1}function f_(n,e){ir.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=p_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fb.prototype.cancel=function(){if(this.i=LD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pb.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},pb.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},nr(Rh,tb),Rh.prototype.g=function(){return new f_(this.l,this.j)},Rh.prototype.i=function(n){return function(){return n}}({}),nr(f_,ir);var p_=0;function NS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function xp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ec(n)}function Ec(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=f_.prototype).open=function(n,e){if(this.readyState!=p_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ec(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xp(this)),this.readyState=p_},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ec(this)),this.g&&(this.readyState=3,Ec(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xp(this):Ec(this),3==this.readyState&&NS(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,xp(this))},at.Ta=function(n){this.g&&(this.response=n,xp(this))},at.ha=function(){this.g&&xp(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(f_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var OS=Ot.JSON.parse;function Wn(n){ir.call(this),this.headers=new ia,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ph,this.K=this.L=!1}nr(Wn,ir);var Ph="",kS=/^https?$/i,qx=["POST","PUT"];function RS(n){return"content-type"==n.toLowerCase()}function UD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jD(n),Np(n)}function jD(n){n.D||(n.D=!0,_i(n,"complete"),_i(n,"error"))}function HD(n){if(n.h&&void 0!==Lm&&(!n.C[1]||4!=ra(n)||2!=n.ba()))if(n.v&&4==ra(n))CD(n.Fa,0,n);else if(_i(n,"readystatechange"),4==ra(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(ND)[1]||null;if(!r&&Ot.self&&Ot.self.location){var a=Ot.self.location.protocol;r=a.substr(0,a.length-1)}i=!kS.test(r?r.toLowerCase():"")}t=i}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var u=2<ra(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",jD(n)}}finally{Np(n)}}}function Np(n,e){if(n.g){mb(n);const t=n.g,i=n.C[0]?Bm:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function mb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function ra(n){return n.g?n.g.readyState:0}function Op(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ph:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _b(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function kp(n){let e="";return Gm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function Fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yb(n){this.za=0,this.l=[],this.h=new wp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fh("baseRetryDelayMs",5e3,n),this.$a=Fh("retryDelaySeedMs",1e4,n),this.Ya=Fh("forwardChannelMaxRetries",2,n),this.ra=Fh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new fb(n&&n.concurrentRequestLimit),this.Ca=new gb,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function vb(n){if(m_(n),3==n.G){var e=n.V++,t=Pa(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),Fa(n,t),(e=new i_(n,n.h,e,void 0)).K=2,e.v=l_(Pa(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Tp(e)}y_(n)}function g_(n){n.g&&(__(n),n.g.cancel(),n.g=null)}function m_(n){g_(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Db(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function bb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&wb(n)}function wb(n){FD(n.i)||n.m||(n.m=!0,W0(n.Ha,n),n.C=0)}function GD(n,e){var t;t=e?e.m:n.V++;const i=Pa(n.F);qn(i,"SID",n.J),qn(i,"RID",t),qn(i,"AID",n.U),Fa(n,i),n.o&&n.s&&_b(i,n.o,n.s),t=new i_(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Eb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),u_(n.i,t),Oh(t,i,e)}function Fa(n,e){n.j&&ab({},function(t,i){qn(e,i,t)})}function Eb(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Bn(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const C=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{xS(C,u,"req"+b+"_")}catch(I){i&&i(C)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Wu(n){n.g||n.u||(n.Y=1,W0(n.Ga,n),n.A=0)}function $D(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=yl(Bn(n.Ga,n),FS(n,n.A)),n.A++,0))}function __(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function zD(n){n.g=new i_(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pa(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),Fa(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&_b(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=l_(Pa(e)),t.s=null,t.U=!0,AD(t,n)}function Db(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function Cb(n,e){var t=null;if(n.g==e){Db(n),__(n),n.g=null;var i=2}else{if(!Mp(n.i,e))return;t=e.D,d_(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;_i(i=Hu(),new xh(i,t,e,r)),wb(n)}else Wu(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function PS(n,e){return!(c_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=yl(Bn(n.Ha,n,e),FS(n,n.C)),n.C++,0)))}(n,e)||2==i&&$D(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Dc(n,5);break;case 4:Dc(n,10);break;case 3:Dc(n,6);break;default:Dc(n,2)}}function FS(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Dc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Bn(n.jb,n);t||(t=new $u("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||o_(t,"https"),l_(t)),function BD(n,e){const t=new wp;if(Ot.Image){const i=new Image;i.onload=Um(h_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Um(h_,t,i,"TestLoadImage: error",!1,e),i.onabort=Um(h_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Um(h_,t,i,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else rs(2);n.G=0,n.j&&n.j.va(e),y_(n),m_(n)}function y_(n){n.G=0,n.I=-1,n.j&&((0!=LD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,T0(n.l),n.l.length=0),n.j.ua())}function Tb(n,e,t){let i=function ES(n){return n instanceof $u?Pa(n):new $u(n,void 0)}(t);if(""!=i.i)e&&kh(i,e+"."+i.i),a_(i,i.m);else{const r=Ot.location;i=function DS(n,e,t,i){var r=new $u(null,void 0);return n&&o_(r,n),e&&kh(r,e),t&&a_(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Gm(n.aa,function(r,a){qn(i,a,r)}),t=n.sa,(e=n.D)&&t&&qn(i,e,t),qn(i,"VER",n.ma),Fa(n,i),i}function Sb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(t&&n.Ba&&!n.qa?new Rh({ib:!0}):n.qa)).L=n.H,e}function Ib(){}function Rp(){if(Vu&&!(10<=Number(uS)))throw Error("Environmental error: no available transport.")}function Us(n,e){ir.call(this),this.g=new yb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!jm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lh(this)}function qD(n){rb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WD(){t_.call(this),this.status=1}function Lh(n){this.g=n}(at=Wn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sb.g(),this.C=function nb(n){return n.h||(n.h=n.i())}(this.u?this.u:sb),this.g.onreadystatechange=Bn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void UD(this,a)}n=t||"";const r=new ia(this.headers);i&&ab(i,function(a,u){r.set(u,a)}),i=function aS(n){e:{var e=RS;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=D0(qx,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mb(this),0<this.B&&((this.K=function VD(n){return Vu&&function cS(){return function M0(n){var e=lS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Hm(String(gp)).split("."),t=Hm("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=S0(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||S0(0==r[2].length,0==a[2].length)||S0(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bn(this.pa,this)):this.A=CD(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){UD(this,a)}},at.pa=function(){void 0!==Lm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),Np(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Np(this,!0)),Wn.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?HD(this):this.cb())},at.cb=function(){HD(this)},at.ba=function(){try{return 2<ra(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),OS(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=yb.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new i_(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=pp(a),A0(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Eb(this,r,e),qn(t=Pa(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),Fa(this,t),this.o&&a&&_b(t,this.o,a),u_(this.i,r),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),r.$=!0,Oh(r,t,null)):Oh(r,t,e),this.G=2}}else 3==this.G&&(n?GD(this,n):0==this.l.length||FD(this.i)||GD(this))},at.Ga=function(){if(this.u=null,zD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=yl(Bn(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rs(10),g_(this),zD(this))},at.ab=function(){null!=this.v&&(this.v=null,g_(this),$D(this),rs(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),rs(2)):(this.h.info("Failed to ping google.com"),rs(1))},(at=Ib.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Rp.prototype.g=function(n,e){return new Us(n,e)},nr(Us,ir),Us.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),W0(Bn(n.hb,n,e))),rs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Tb(n,null,n.W),wb(n)},Us.prototype.close=function(){vb(this.g)},Us.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,bb(this.g,e)}else this.v?((e={}).__data__=vp(n),bb(this.g,e)):bb(this.g,n)},Us.prototype.M=function(){this.g.j=null,delete this.j,vb(this.g),delete this.g,Us.Z.M.call(this)},nr(qD,rb),nr(WD,t_),nr(Lh,Ib),Lh.prototype.xa=function(){_i(this.g,"a")},Lh.prototype.wa=function(n){_i(this.g,new qD(n))},Lh.prototype.va=function(n){_i(this.g,new WD(n))},Lh.prototype.ua=function(){_i(this.g,"b")},Rp.prototype.createWebChannel=Rp.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,e_.NO_ERROR=0,e_.TIMEOUT=8,e_.HTTP_ERROR=6,SD.COMPLETE="complete",ib.EventType=Nh,Nh.OPEN="a",Nh.CLOSE="b",Nh.ERROR="c",Nh.MESSAGE="d",ir.prototype.listen=ir.prototype.N,Wn.prototype.listenOnce=Wn.prototype.O,Wn.prototype.getLastError=Wn.prototype.La,Wn.prototype.getLastErrorCode=Wn.prototype.Da,Wn.prototype.getStatus=Wn.prototype.ba,Wn.prototype.getResponseJson=Wn.prototype.Qa,Wn.prototype.getResponseText=Wn.prototype.ga,Wn.prototype.send=Wn.prototype.ea;var LS=ml.createWebChannelTransport=function(){return new Rp},BS=ml.getStatEventTarget=function(){return Hu()},Zu=ml.ErrorCode=e_,ZD=ml.EventType=SD,KD=ml.Event=ju,Ab=ml.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},YD=ml.FetchXmlHttpFactory=Rh,Pp=ml.WebChannel=ib,JD=ml.XhrIo=Wn;const QD="@firebase/firestore";class rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");let Bh="9.6.10";const Cc=new gc.Yd("@firebase/firestore");function Mb(){return Cc.logLevel}function Le(n,...e){if(Cc.logLevel<=gc.in.DEBUG){const t=e.map(Co);Cc.debug(`Firestore (${Bh}): ${n}`,...t)}}function Ri(n,...e){if(Cc.logLevel<=gc.in.ERROR){const t=e.map(Co);Cc.error(`Firestore (${Bh}): ${n}`,...t)}}function Ku(n,...e){if(Cc.logLevel<=gc.in.WARN){const t=e.map(Co);Cc.warn(`Firestore (${Bh}): ${n}`,...t)}}function Co(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function kt(n,e){n||ut()}function Qe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Lp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rr.UNAUTHENTICATED))}shutdown(){}}class jS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XD{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ci,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ci)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt("string"==typeof i.accessToken),new Lp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new rr(e)}}class eC{constructor(e,t,i){this.type="FirstParty",this.user=rr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class xb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new eC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),this.p=t.token,new Nb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class To{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ob(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}To.A=-1;class v_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Ob(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Yt(n,e){return n<e?-1:n>e?1:0}function Tc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function b_(n){return n+"\0"}class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ti(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Ti(0,0))}static max(){return new Rt(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function tC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ju{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ju?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends Ju{construct(e,t,i){return new sn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const nC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Ju{construct(e,t,i){return new Yi(e,t,i)}static isValidIdentifier(e){return nC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(t)}static emptyPath(){return new Yi([])}}class Qu{constructor(e){this.fields=e,e.sort(Yi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const iC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(n){if(kt(!!n),"string"==typeof n){let e=0;const t=iC.exec(n);if(kt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ui(n.seconds),nanos:ui(n.nanos)}}function ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ic(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function br(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xu(n){const e=n.mapValue.fields.__previous_value__;return br(e)?Xu(e):e}function Bp(n){const e=Sc(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}class $S{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}function sa(n){return null==n}function Vp(n){return 0===n&&1/n==-1/0}function w_(n){return"number"==typeof n&&Number.isInteger(n)&&!Vp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(sn.fromString(e))}static fromName(e){return new ze(sn.fromString(e).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new sn(e.slice()))}}const Rb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rC={nullValue:"NULL_VALUE"};function ed(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?br(n)?4:D_(n)?9:10:ut()}function So(n,e){if(n===e)return!0;const t=ed(n);if(t!==ed(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bp(n).isEqual(Bp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Sc(i.timestampValue),u=Sc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ic(n.bytesValue).isEqual(Ic(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ui(i.geoPointValue.latitude)===ui(r.geoPointValue.latitude)&&ui(i.geoPointValue.longitude)===ui(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ui(i.integerValue)===ui(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ui(i.doubleValue),u=ui(r.doubleValue);return a===u?Vp(a)===Vp(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Tc(n.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(tC(a)!==tC(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!So(a[f],u[f])))return!1;return!0}(n,e);default:return ut()}var r}function Vh(n,e){return void 0!==(n.values||[]).find(t=>So(t,e))}function vl(n,e){if(n===e)return 0;const t=ed(n),i=ed(e);if(t!==i)return Yt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=ui(r.integerValue||r.doubleValue),f=ui(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Up(n.timestampValue,e.timestampValue);case 4:return Up(Bp(n),Bp(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Ic(r),f=Ic(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Yt(u[_],f[_]);if(0!==b)return b}return Yt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Yt(ui(r.latitude),ui(a.latitude));return 0!==u?u:Yt(ui(r.longitude),ui(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=vl(u[_],f[_]);if(b)return b}return Yt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const I=Yt(f[C],b[C]);if(0!==I)return I;const k=vl(u[f[C]],_[b[C]]);if(0!==k)return k}return Yt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw ut()}}function Up(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=Sc(n),i=Sc(e),r=Yt(t.seconds,i.seconds);return 0!==r?r:Yt(t.nanos,i.nanos)}function Mc(n){return sC(n)}function sC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ic(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=sC(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${sC(i.fields[f])}`;return a+"}"}(n.mapValue):ut();var e}function td(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pb(n){return!!n&&"integerValue"in n}function Uh(n){return!!n&&"arrayValue"in n}function jp(n){return!!n&&"nullValue"in n}function Fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function E_(n){return!!n&&"mapValue"in n}function nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=nd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zS(n,e){return void 0===n?e:void 0===e||vl(n,e)>0?n:e}function oC(n,e){return void 0===n?e:void 0===e||vl(n,e)<0?n:e}class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!E_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=Yi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=nd(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());E_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];E_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Yu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new jr(nd(this.value))}}function Lb(n){const e=[];return Yu(n.fields,(t,i)=>{const r=new Yi([t]);if(E_(i)){const a=Lb(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Qu(e)}class Vn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Vn(e,0,Rt.min(),Rt.min(),jr.empty(),0)}static newFoundDocument(e,t,i){return new Vn(e,1,t,Rt.min(),i,0)}static newNoDocument(e,t){return new Vn(e,2,t,Rt.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,Rt.min(),jr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class C_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function T_(n){return n.fields.find(e=>2===e.kind)}function id(n){return n.fields.filter(e=>2!==e.kind)}C_.UNKNOWN_ID=-1;class S_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hp(0,La.min())}}function Bb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new Ti(t+1,0):new Ti(t,i));return new La(r,ze.empty(),e)}function qS(n){return new La(n.readTime,n.key,-1)}class La{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new La(Rt.min(),ze.empty(),-1)}static max(){return new La(Rt.max(),ze.empty(),-1)}}function aC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class lC{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function Vb(n,e=null,t=[],i=[],r=null,a=null,u=null){return new lC(n,e,t,i,r,a,u)}function rd(n){const e=Qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Mc(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mc(i)).join(",")),e.P=t}return e.P}function I_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!cC(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!So(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KS(n.startAt,e.startAt)&&KS(n.endAt,e.endAt)}function Gp(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ub(n,e){return n.filters.filter(t=>t instanceof Hr&&t.field.isEqual(e))}class Hr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new Zx(e,t,i):"array-contains"===t?new Jx(e,i):"in"===t?new Qx(e,i):"not-in"===t?new A_(e,i):"array-contains-any"===t?new Xx(e,i):new Hr(e,t,i)}static V(e,t,i){return"in"===t?new Kx(e,i):new Yx(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(vl(t,this.value)):null!==t&&ed(this.value)===ed(t)&&this.v(vl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Zx extends Hr{constructor(e,t,i){super(e,t,i),this.key=ze.fromName(i.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.v(t)}}class Kx extends Hr{constructor(e,t){super(e,"in",t),this.keys=ZS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yx extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=ZS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ze.fromName(i.referenceValue))}class Jx extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uh(t)&&Vh(t.arrayValue,this.value)}}class Qx extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vh(this.value.arrayValue,t)}}class A_ extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vh(this.value.arrayValue,t)}}class Xx extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vh(this.value.arrayValue,i))}}class bl{constructor(e,t){this.position=e,this.inclusive=t}}class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function cC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function jb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?ze.comparator(ze.fromName(u.referenceValue),t.key):vl(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function KS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!So(n.position[t],e.position[t]))return!1;return!0}class oa{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Hb(n,e,t,i,r,a,u,f){return new oa(n,e,t,i,r,a,u,f)}function sd(n){return new oa(n)}function $p(n){return!sa(n.limit)&&"F"===n.limitType}function Gb(n){return!sa(n.limit)&&"L"===n.limitType}function M_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $b(n){for(const e of n.filters)if(e.S())return e.field;return null}function zp(n){return null!==n.collectionGroup}function jh(n){const e=Qe(n);if(null===e.D){e.D=[];const t=$b(e),i=M_(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new xc(t)),e.D.push(new xc(Yi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new xc(Yi.keyField(),a))}}}return e.D}function aa(n){const e=Qe(n);if(!e.C)if("F"===e.limitType)e.C=Vb(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of jh(e))t.push(new xc(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new bl(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new bl(e.startAt.position,!e.startAt.inclusive):null;e.C=Vb(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function YS(n,e,t){return new oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function x_(n,e){return I_(aa(n),aa(e))&&n.limitType===e.limitType}function uC(n){return`${rd(aa(n))}|lt:${n.limitType}`}function zb(n){return`Query(target=${function WS(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Mc(i.value)}`;var i}).join(", ")}]`),sa(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Mc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Mc(t)).join(",")),`Target(${e})`}(aa(n))}; limitType=${n.limitType})`}function qb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=jb(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,jh(t),i)||t.endAt&&!function(r,a,u){const f=jb(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,jh(t),i)));var t,i}function JS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dC(n){return(e,t)=>{let i=!1;for(const r of jh(n)){const a=Wb(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Wb(n,e,t){const i=n.field.isKeyField()?ze.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?vl(f,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function hC(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function Io(n){return{integerValue:""+n}}function fC(n,e){return w_(e)?Io(e):hC(n,e)}class Hh{constructor(){this._=void 0}}function QS(n,e,t){return n instanceof od?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Nc?pC(n,e):n instanceof Oc?Zb(n,e):function(i,r){const a=N_(i,r),u=gC(a)+gC(i.k);return Pb(a)&&Pb(i.k)?Io(u):hC(i.M,u)}(n,e)}function XS(n,e,t){return n instanceof Nc?pC(n,e):n instanceof Oc?Zb(n,e):t}function N_(n,e){return n instanceof Gh?Pb(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class od extends Hh{}class Nc extends Hh{constructor(e){super(),this.elements=e}}function pC(n,e){const t=O_(e);for(const i of n.elements)t.some(r=>So(r,i))||t.push(i);return{arrayValue:{values:t}}}class Oc extends Hh{constructor(e){super(),this.elements=e}}function Zb(n,e){let t=O_(e);for(const i of n.elements)t=t.filter(r=>!So(r,i));return{arrayValue:{values:t}}}class Gh extends Hh{constructor(e,t){super(),this.M=e,this.k=t}}function gC(n){return ui(n.integerValue||n.doubleValue)}function O_(n){return Uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ss{constructor(e,t){this.field=e,this.transform=t}}class eN{constructor(e,t){this.version=e,this.transformResults=t}}class Fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class k_{}function tI(n,e,t){n instanceof $h?function(i,r,a){const u=i.value.clone(),f=Yb(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ad?function(i,r,a){if(!qp(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=Yb(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(mC(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function R_(n,e,t){var r;n instanceof $h?function(i,r,a){if(!qp(i.precondition,r))return;const u=i.value.clone(),f=P_(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(Kb(r),u).setHasLocalMutations()}(n,e,t):n instanceof ad?function(i,r,a){if(!qp(i.precondition,r))return;const u=P_(i.fieldTransforms,a,r),f=r.data;f.setAll(mC(i)),f.setAll(u),r.convertToFoundDocument(Kb(r),f).setHasLocalMutations()}(n,e,t):qp(n.precondition,r=e)&&r.convertToNoDocument(Rt.min())}function nI(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=N_(i.transform,r||null);null!=a&&(null==t&&(t=jr.empty()),t.set(i.field,a))}return t||null}function iI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Tc(t,i,(r,a)=>function eI(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Nc&&i instanceof Nc||t instanceof Oc&&i instanceof Oc?Tc(t.elements,i.elements,So):t instanceof Gh&&i instanceof Gh?So(t.k,i.k):t instanceof od&&i instanceof od);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function Kb(n){return n.isFoundDocument()?n.version:Rt.min()}class $h extends k_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class ad extends k_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function mC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Yb(n,e,t){const i=new Map;kt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,XS(u,f,t[r]))}return i}function P_(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,QS(a,u,e))}return i}class ld extends k_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class F_ extends k_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class rI{constructor(e){this.count=e}}var Si,on;function _C(n){switch(n){default:return ut();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function yC(n){if(void 0===n)return Ri("GRPC error has no .code"),de.UNKNOWN;switch(n){case Si.OK:return de.OK;case Si.CANCELLED:return de.CANCELLED;case Si.UNKNOWN:return de.UNKNOWN;case Si.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Si.INTERNAL:return de.INTERNAL;case Si.UNAVAILABLE:return de.UNAVAILABLE;case Si.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Si.NOT_FOUND:return de.NOT_FOUND;case Si.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Si.ABORTED:return de.ABORTED;case Si.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Si.DATA_LOSS:return de.DATA_LOSS;default:return ut()}}(on=Si||(Si={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class cd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}class Li{constructor(e,t){this.comparator=e,this.root=t||wr.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:wr.RED,this.left=null!=r?r:wr.EMPTY,this.right=null!=a?a:wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new wr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vC(this.data.getIterator())}getIteratorFrom(e){return new vC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class vC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zp(n){return n.hasNext()?n.getNext():void 0}const tN=new Li(ze.comparator);function la(){return tN}const nN=new Li(ze.comparator);function bC(){return nN}function Kp(){return new cd(n=>n.toString(),(n,e)=>n.isEqual(e))}const L_=new Li(ze.comparator),sI=new Zn(ze.comparator);function Cn(...n){let e=sI;for(const t of n)e=e.add(t);return e}const wC=new Zn(Yt);function Ba(){return wC}class zh{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,t)),new zh(Rt.min(),i,Ba(),la(),Cn())}}class ud{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ud(Pi.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class qh{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class EC{constructor(e,t){this.targetId=e,this.$=t}}class B_{constructor(e,t,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class V_{constructor(){this.B=0,this.L=aI(),this.U=Pi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Cn(),t=Cn(),i=Cn();return this.L.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new ud(this.U,this.q,e,t,i)}J(){this.G=!1,this.L=aI()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class U_{constructor(e){this.nt=e,this.st=new Map,this.it=la(),this.rt=oI(),this.ot=new Zn(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const a=r.target;if(Gp(a))if(0===i){const u=new ze(a.path);this.ct(t,u,Vn.newNoDocument(u,Rt.min()))}else kt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&Gp(f.target)){const _=new ze(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Vn.newNoDocument(_,e))}a.j&&(t.set(u,a.H()),a.J())}});let i=Cn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const r=new zh(e,t,this.ot,this.it,i);return this.it=la(),this.rt=oI(),this.ot=new Zn(Yt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new V_,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Zn(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new V_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function oI(){return new Li(ze.comparator)}function aI(){return new Li(ze.comparator)}const iN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class DC{constructor(e,t){this.databaseId=e,this.N=t}}function Yp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CC(n,e){return n.N?e.toBase64():e.toUint8Array()}function lI(n,e){return Yp(n,e.toTimestamp())}function sr(n){return kt(!!n),Rt.fromTimestamp(function(e){const t=Sc(e);return new Ti(t.seconds,t.nanos)}(n))}function j_(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jb(n){const e=sn.fromString(n);return kt(s(e)),e}function Wh(n,e){return j_(n.databaseId,e.path)}function Va(n,e){const t=Jb(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(cI(t))}function Qb(n,e){return j_(n.databaseId,e)}function Xb(n){const e=Jb(n);return 4===e.length?sn.emptyPath():cI(e)}function dd(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cI(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ew(n,e,t){return{name:Wh(n,e),fields:t.value.mapValue.fields}}function H_(n,e,t){const i=Va(n,e.name),r=sr(e.updateTime),a=new jr({mapValue:{fields:e.fields}}),u=Vn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function G_(n,e){let t;if(e instanceof $h)t={update:ew(n,e.key,e.value)};else if(e instanceof ld)t={delete:Wh(n,e.key)};else if(e instanceof ad)t={update:ew(n,e.key,e.data),updateMask:dN(e.fieldMask)};else{if(!(e instanceof F_))return ut();t={verify:Wh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof od)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Nc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Oc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gh)return{fieldPath:a.field.canonicalString(),increment:u.k};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:lI(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}function TC(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Fi.updateTime(sr(r.updateTime)):void 0!==r.exists?Fi.exists(r.exists):Fi.none():Fi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(kt("REQUEST_TIME"===u.setToServerValue),f=new od):"appendMissingElements"in u?f=new Nc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Oc(u.removeAllFromArray.values||[]):"increment"in u?f=new Gh(a,u.increment):ut();const _=Yi.fromServerFormat(u.fieldPath);return new ss(_,f)}(n,r)):[];var r;if(e.update){const r=Va(n,e.update.name),a=new jr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Qu((e.updateMask.fieldPaths||[]).map(b=>Yi.fromServerFormat(b)));return new ad(r,a,u,t,i)}return new $h(r,a,t,i)}if(e.delete){const r=Va(n,e.delete);return new ld(r,t)}if(e.verify){const r=Va(n,e.verify);return new F_(r,t)}return ut()}function SC(n,e){return{documents:[Qb(n,e.path)]}}function IC(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Qb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(C=>function(I){if("=="===I.op){if(Fb(I.value))return{unaryFilter:{field:Zh(I.field),op:"IS_NAN"}};if(jp(I.value))return{unaryFilter:{field:Zh(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(Fb(I.value))return{unaryFilter:{field:Zh(I.field),op:"IS_NOT_NAN"}};if(jp(I.value))return{unaryFilter:{field:Zh(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zh(I.field),op:lN(I.op),value:I.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Zh((C=b).field),direction:aN(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.N||sa(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function hI(n){let e=Xb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){kt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=fI(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new xc(Jp((I=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(C){let I;return I="object"==typeof C?C.value:C,sa(I)?null:I}(t.limit));let _=null;var C;t.startAt&&(_=new bl((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new bl(C.values||[],!C.before)}(t.endAt)),Hb(e,r,u,a,f,"F",_,b)}function fI(n){return n?void 0!==n.unaryFilter?[uN(n)]:void 0!==n.fieldFilter?[cN(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fI(e)).reduce((e,t)=>e.concat(t)):ut():[]}function aN(n){return iN[n]}function lN(n){return rN[n]}function Zh(n){return{fieldPath:n.canonicalString()}}function Jp(n){return Yi.fromServerFormat(n.fieldPath)}function cN(n){return Hr.create(Jp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function uN(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Jp(n.unaryFilter.field);return Hr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jp(n.unaryFilter.field);return Hr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jp(n.unaryFilter.field);return Hr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Jp(n.unaryFilter.field);return Hr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function dN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function s(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=d(e)),e=c(n.get(t),e);return d(e)}function c(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function d(n){return n+"\x01\x01"}function h(n){const e=n.length;if(kt(e>=2),2===e)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ut(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ut()}a=u+2}return new sn(i)}const g=["userId","batchId"];function v(n,e){return[n,o(e)]}function E(n,e,t){return[n,o(e),t]}const D={},x=["prefixPath","collectionGroup","readTime","documentId"],N=["prefixPath","collectionGroup","documentId"],B=["collectionGroup","readTime","prefixPath","documentId"],H=["canonicalId","targetId"],Q=["targetId","path"],be=["path","targetId"],Ue=["collectionId","parent"],Ze=["indexId","uid"],lt=["uid","sequenceNumber"],Ae=["indexId","uid","arrayValue","directionalValue","documentKey"],wt=["indexId","uid","documentKey"],nn=["userId","collectionPath","documentId"],Tn=["userId","collectionPath","largestBatchId"],js=["userId","collectionGroup","largestBatchId"],kc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tw=[...kc,"documentOverlays"],$_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nw=[...$_,"indexConfiguration","indexState","indexEntries"],z_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(r=>r?pe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}}class Kh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Ci,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new rw(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=pI(i.target.error);this.At.reject(new rw(e,r))}}static open(e,t,i,r){try{return new Kh(t,e.transaction(r,i))}catch(a){throw new rw(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new VF(t)}}class Hs{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===Hs.Vt((0,tn.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Xp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,tn.hl)())return!1;if(Hs.St())return!0;const e=(0,tn.z$)(),t=Hs.Vt(e),i=0<t&&t<10,r=Hs.Dt(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new rw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new rw(e,f))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=Kh.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(C=>(_.bt(),C)).catch(C=>(_.abort(C),pe.reject(C))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iw{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Xp(this.Ft.delete())}}class rw extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qp(n){return"IndexedDbTransactionError"===n.name}class VF{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Xp(i)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Xp(this.store.add(e))}get(e){return Xp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Xp(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Xp(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.Gt(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new pe((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new pe((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(a,u,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Gt(r,t)}zt(e){const t=this.cursor({});return new pe((i,r)=>{t.onerror=a=>{const u=pI(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Gt(e,t){const i=[];return new pe((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new iw(f),b=t(f.primaryKey,f.value,_);if(b instanceof pe){const C=b.catch(I=>(_.done(),pe.reject(I)));i.push(C)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>pe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xp(n){return new pe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=pI(i.target.error);t(r)}})}let hN=!1;function pI(n){const e=Hs.Vt((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hN||(hN=!0,setTimeout(()=>{throw i},0)),i}}return n}class fN extends q_{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Gr(n,e){const t=Qe(n);return Hs.xt(t.Ht,e)}class gI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&tI(a,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&R_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&R_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(t,i)=>iI(t,i))&&Tc(this.baseMutations,e.baseMutations,(t,i)=>iI(t,i))}}class mI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){kt(e.mutations.length===i.length);let r=L_;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new mI(e,t,i,r)}}class _I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yh{constructor(e,t,i,r,a=Rt.min(),u=Rt.min(),f=Pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Yh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pN{constructor(e){this.Jt=e}}function gN(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:AC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Wh(r=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Yp(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:eg(e.version)};else{if(!e.isUnknownDocument())return ut();i.unknownDocument={path:t.path.toArray(),version:eg(e.version)}}var r,a;return i}function AC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function eg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tg(n){const e=new Ti(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function W_(n,e){const t=(e.baseMutations||[]).map(a=>TC(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>TC(n.Jt,a)),r=Ti.fromMillis(e.localWriteTimeMs);return new gI(e.batchId,r,t,i)}function sw(n){const e=tg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tg(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(kt(1===(r=n.query).documents.length),i=aa(sd(Xb(r.documents[0])))):i=aa(hI(n.query)),new Yh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Pi.fromBase64String(n.resumeToken))}function mN(n,e){const t=eg(e.snapshotVersion),i=eg(e.lastLimboFreeSnapshotVersion);let r;r=Gp(e.target)?SC(n.Jt,e.target):IC(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function yI(n){const e=hI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?YS(e,e.limit,"L"):e}function vI(n,e){return new _I(e.largestBatchId,TC(n.Jt,e.overlayMutation))}function _N(n,e){const t=e.path.lastSegment();return[n,o(e.path.popLast()),t]}class jF{getBundleMetadata(e,t){return yN(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:tg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return yN(e).put({bundleId:(i=t).id,createTime:eg(sr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return vN(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:yI(r.bundledQuery),readTime:tg(r.readTime)};var r})}saveNamedQuery(e,t){return vN(e).put({name:(i=t).name,readTime:eg(sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function yN(n){return Gr(n,"bundles")}function vN(n){return Gr(n,"namedQueries")}class bI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new bI(e,t.uid||"")}getOverlay(e,t){return ow(e).get(_N(this.userId,t)).next(i=>i?vI(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new _I(t,u);r.push(this.Xt(e,f))}),pe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(o(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(ow(e).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Kp(),a=o(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ow(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=vI(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Kp();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ow(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const I=vI(this.M,b);a.size()<r||I.largestBatchId===u?(a.set(I.getKey(),I),u=I.largestBatchId):C.done()}).next(()=>a)}Xt(e,t){return ow(e).put(function(i,r,a){const[u,f,_]=_N(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:G_(i.Jt,a.mutation)}}(this.M,this.userId,t))}}function ow(n){return Gr(n,"documentOverlays")}class Z_{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ui(e.integerValue));else if("doubleValue"in e){const i=ui(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Vp(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ic(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?D_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ut()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),ze.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function HF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function bN(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=HF(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Z_.fe=new Z_;class GF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=bN(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=bN(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $F{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class zF{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class MC{constructor(){this.De=new GF,this.Ce=new $F(this.De),this.xe=new zF(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Jh{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Jh(this.indexId,this.documentKey,this.arrayValue,i)}}function ng(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wN(n.arrayValue,e.arrayValue),0!==t?t:(t=wN(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function wN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class qF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=T_(e);if(void 0!==t&&!this.Be(t))return!1;const i=id(e);let r=0,a=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class WF{constructor(){this.qe=new wI}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class wI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Zn(sn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Zn(sn.comparator)).toArray()}}const xC=new Uint8Array(0);class ZF{constructor(e){this.user=e,this.Ge=new wI,this.Ke=new cd(t=>rd(t),(t,i)=>I_(t,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:i,parent:o(r)};return EN(e).put(a)}return pe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[b_(t),""],!1,!0);return EN(e).qt(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(h(u.parent))}return i})}addFieldIndex(e,t){const i=NC(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=NC(e),r=OC(e),a=aw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=aw(e);let r=!0;const a=new Map;return pe.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Cn();return pe.forEach(a,(f,_)=>{var b;Le("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Se=>`${Se.fieldPath}:${Se.kind}`).join(",")}`} to execute ${rd(t)}`);const C=function(Se,nt){const Pe=T_(nt);if(void 0===Pe)return null;for(const Ye of Ub(Se,Pe.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(_,f),I=function(Se,nt){const Pe=new Map;for(const Ye of id(nt))for(const qe of Ub(Se,Ye.fieldPath))switch(qe.op){case"==":case"in":Pe.set(Ye.fieldPath.canonicalString(),qe.value);break;case"not-in":case"!=":return Pe.set(Ye.fieldPath.canonicalString(),qe.value),Array.from(Pe.values())}return null}(_,f),k=function(Se,nt){const Pe=[];let Ye=!0;for(const Et of id(nt)){let It,hn=!0;for(const jt of Ub(Se,Et.fieldPath)){let Lt,bi=!0;switch(jt.op){case"<":case"<=":Lt="nullValue"in(qe=jt.value)?rC:"booleanValue"in qe?{booleanValue:!1}:"integerValue"in qe||"doubleValue"in qe?{doubleValue:NaN}:"timestampValue"in qe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in qe?{stringValue:""}:"bytesValue"in qe?{bytesValue:""}:"referenceValue"in qe?td(Ac.empty(),ze.empty()):"geoPointValue"in qe?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in qe?{arrayValue:{}}:"mapValue"in qe?{mapValue:{}}:ut();break;case"==":case"in":case">=":Lt=jt.value;break;case">":Lt=jt.value,bi=!1;break;case"!=":case"not-in":Lt=rC}zS(It,Lt)===Lt&&(It=Lt,hn=bi)}if(null!==Se.startAt)for(let jt=0;jt<Se.orderBy.length;++jt)if(Se.orderBy[jt].field.isEqual(Et.fieldPath)){const Lt=Se.startAt.position[jt];zS(It,Lt)===Lt&&(It=Lt,hn=Se.startAt.inclusive);break}if(void 0===It)return null;Pe.push(It),Ye&&(Ye=hn)}var qe;return new bl(Pe,Ye)}(_,f),F=function(Se,nt){const Pe=[];let Ye=!0;for(const Et of id(nt)){let It,hn=!0;for(const jt of Ub(Se,Et.fieldPath)){let Lt,bi=!0;switch(jt.op){case">=":case">":Lt="nullValue"in(qe=jt.value)?{booleanValue:!1}:"booleanValue"in qe?{doubleValue:NaN}:"integerValue"in qe||"doubleValue"in qe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in qe?{stringValue:""}:"stringValue"in qe?{bytesValue:""}:"bytesValue"in qe?td(Ac.empty(),ze.empty()):"referenceValue"in qe?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in qe?{arrayValue:{}}:"arrayValue"in qe?{mapValue:{}}:"mapValue"in qe?Rb:ut(),bi=!1;break;case"==":case"in":case"<=":Lt=jt.value;break;case"<":Lt=jt.value,bi=!1;break;case"!=":case"not-in":Lt=Rb}oC(It,Lt)===Lt&&(It=Lt,hn=bi)}if(null!==Se.endAt)for(let jt=0;jt<Se.orderBy.length;++jt)if(Se.orderBy[jt].field.isEqual(Et.fieldPath)){const Lt=Se.endAt.position[jt];oC(It,Lt)===Lt&&(It=Lt,hn=Se.endAt.inclusive);break}if(void 0===It)return null;Pe.push(It),Ye&&(Ye=hn)}var qe;return new bl(Pe,Ye)}(_,f),j=this.je(f,_,k),W=this.je(f,_,F),_e=this.We(f,_,I),je=this.ze(f.indexId,C,j,!!k&&k.inclusive,W,!!F&&F.inclusive,_e);return pe.forEach(je,Se=>i.Kt(Se,t.limit).next(nt=>{nt.forEach(Pe=>{u=u.add(new ze(h(Pe.documentKey)))})}))}).next(()=>u)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=a?a.length:1),b=_/(null!=t?t.length:1),C=[];for(let I=0;I<_;++I){const k=t?this.He(t[I/b]):xC,F=i?this.Je(e,k,i[I%b],r):this.Ye(e),j=a?this.Xe(e,k,a[I%b],u):this.Ye(e+1);C.push(...this.createRange(F,j,f.map(W=>this.Je(e,k,W,!0))))}return C}Je(e,t,i,r){const a=new Jh(e,ze.empty(),t,i);return r?a:a.ke()}Xe(e,t,i,r){const a=new Jh(e,ze.empty(),t,i);return r?a.ke():a}Ye(e){return new Jh(e,ze.empty(),xC,xC)}getFieldIndex(e,t){const i=new qF(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{const u=a.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const i=new MC;for(const r of id(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Ne(r.kind);Z_.fe.Zt(a,u)}return i.Se()}He(e){const t=new MC;return Z_.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new MC);let a=0;for(const u of id(e)){const f=i[a++];for(const _ of r)if(this.tn(t,u.fieldPath)&&Uh(f))r=this.en(r,u,f);else{const b=_.Ne(u.kind);Z_.fe.Zt(f,b)}}return this.nn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}nn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}en(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new MC;_.seed(f.Se()),Z_.fe.Zt(u,_.Ne(t.kind)),a.push(_)}return a}tn(e,t){return!!e.filters.find(i=>i instanceof Hr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=NC(e),r=OC(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(a=>{const u=[];return pe.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,C){const I=C?new Hp(C.sequenceNumber,new La(tg(C.readTime),new ze(h(C.documentKey)),C.largestBatchId)):Hp.empty(),k=b.fields.map(([F,j])=>new S_(Yi.fromServerFormat(F),j));return new C_(b.indexId,b.collectionGroup,k,I)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Yt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=NC(e),a=OC(e);return this.sn(e).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>pe.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:eg((k=i).readTime),documentKey:o(k.documentKey.path),largestBatchId:k.largestBatchId});var k})))}updateIndexEntries(e,t){const i=new Map;return pe.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),pe.forEach(f,_=>this.rn(e,r,_).next(b=>{const C=this.on(a,_);return b.isEqual(C)?pe.resolve():this.un(e,a,b,C)}))))})}an(e,t,i){return aw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:o(t.key.path)})}cn(e,t,i){return aw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,o(t.key.path)])}rn(e,t,i){const r=aw(e);let a=new Zn(ng);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,o(t.path)])},(u,f)=>{a=a.add(new Jh(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let i=new Zn(ng);const r=this.Ze(t,e);if(null==r)return i;const a=T_(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Uh(u))for(const f of u.arrayValue.values||[])i=i.add(new Jh(t.indexId,e.key,this.He(f),r))}else i=i.add(new Jh(t.indexId,e.key,xC,r));return i}un(e,t,i,r){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(u,f,_,b,C){const I=u.getIterator(),k=f.getIterator();let F=Zp(I),j=Zp(k);for(;F||j;){let W=!1,_e=!1;if(F&&j){const je=_(F,j);je<0?_e=!0:je>0&&(W=!0)}else null!=F?_e=!0:W=!0;W?(b(j),j=Zp(k)):_e?(C(F),F=Zp(I)):(F=Zp(I),j=Zp(k))}}(i,r,ng,u=>{a.push(this.an(e,t,u))},u=>{a.push(this.cn(e,t,u))}),pe.waitFor(a)}sn(e){let t=1;return OC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>ng(u,f)).filter((u,f,_)=>!f||0!==ng(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=ng(u,e),_=ng(u,t);if(0===f)r[0]=e.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return a}}function EN(n){return Gr(n,"collectionParents")}function aw(n){return Gr(n,"indexEntries")}function NC(n){return Gr(n,"indexConfiguration")}function OC(n){return Gr(n,"indexState")}const DN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ao{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CN(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Wt({range:u},(C,I,k)=>(f++,k.delete()));a.push(_.next(()=>{kt(1===f)}));const b=[];for(const C of t.mutations){const I=E(e,C.key.path,t.batchId);a.push(r.delete(I)),b.push(C.key)}return pe.waitFor(a).next(()=>b)}function kC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class EI{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(e,t,i,r){kt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new EI(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qh(e).Wt({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=K_(e),u=Qh(e);return u.add({}).next(f=>{kt("number"==typeof f);const _=new gI(f,t,i,r),b=function(k,F,j){const W=j.baseMutations.map(je=>G_(k.Jt,je)),_e=j.mutations.map(je=>G_(k.Jt,je));return{userId:F,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:W,mutations:_e}}(this.M,this.userId,_),C=[];let I=new Zn((k,F)=>Yt(k.canonicalString(),F.canonicalString()));for(const k of r){const F=E(this.userId,k.key.path,f);I=I.add(k.key.path.popLast()),C.push(u.put(b)),C.push(a.put(F,D))}return I.forEach(k=>{C.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),pe.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return Qh(e).get(t).next(i=>i?(kt(i.userId===this.userId),W_(this.M,i)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.hn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Qh(e).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(kt(f.batchId>=i),a=W_(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Qh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qh(e).qt("userMutationsIndex",t).next(i=>i.map(r=>W_(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=v(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return K_(e).Wt({range:r},(u,f,_)=>{const[b,C,I]=u,k=h(C);if(b===this.userId&&t.path.isEqual(k))return Qh(e).get(I).next(F=>{if(!F)throw ut();kt(F.userId===this.userId),a.push(W_(this.M,F))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(Yt);const r=[];return t.forEach(a=>{const u=v(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=K_(e).Wt({range:f},(b,C,I)=>{const[k,F,j]=b,W=h(F);k===this.userId&&a.path.isEqual(W)?i=i.add(j):I.done()});r.push(_)}),pe.waitFor(r).next(()=>this.fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=v(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Zn(Yt);return K_(e).Wt({range:u},(_,b,C)=>{const[I,k,F]=_,j=h(k);I===this.userId&&i.isPrefixOf(j)?j.length===r&&(f=f.add(F)):C.done()}).next(()=>this.fn(e,f))}fn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Qh(e).get(a).next(u=>{if(null===u)throw ut();kt(u.userId===this.userId),i.push(W_(this.M,u))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return CN(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return K_(e).Wt({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=h(a[1]);r.push(_)}else f.done()}).next(()=>{kt(0===r.length)})})}containsKey(e,t){return TN(e,this.userId,t)}_n(e){return SN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TN(n,e,t){const i=v(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return K_(n).Wt({range:a,jt:!0},(f,_,b)=>{const[C,I,k]=f;C===e&&I===r&&(u=!0),b.done()}).next(()=>u)}function Qh(n){return Gr(n,"mutations")}function K_(n){return Gr(n,"documentMutations")}function SN(n){return Gr(n,"mutationQueues")}class ig{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new ig(0)}static gn(){return new ig(-1)}}class KF{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const i=new ig(t.highestTargetId);return t.highestTargetId=i.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Rt.fromTimestamp(new Ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.yn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.pn(e,r)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(i=>(i.targetCount+=1,this.Tn(t,i),this.pn(e,i))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Y_(e).delete(t.targetId)).next(()=>this.yn(e)).next(i=>(kt(i.targetCount>0),i.targetCount-=1,this.pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Y_(e).Wt((u,f)=>{const _=sw(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>pe.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Y_(e).Wt((i,r)=>{const a=sw(r);t(a)})}yn(e){return IN(e).get("targetGlobalKey").next(t=>(kt(null!==t),t))}pn(e,t){return IN(e).put("targetGlobalKey",t)}In(e,t){return Y_(e).put(mN(this.M,t))}Tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=rd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Y_(e).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=sw(f);I_(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Xh(e);return t.forEach(u=>{const f=o(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),pe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Xh(e);return pe.forEach(t,a=>{const u=o(a.path);return pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Xh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xh(e);let a=Cn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const b=h(u[1]),C=new ze(b);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=o(t.path),r=IDBKeyRange.bound([i],[b_(i)],!1,!0);let a=0;return Xh(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return Y_(e).get(t).next(i=>i?sw(i):null)}}function Y_(n){return Gr(n,"targets")}function IN(n){return Gr(n,"targetGlobal")}function Xh(n){return Gr(n,"targetDocuments")}function rg(n){return DI.apply(this,arguments)}function DI(){return DI=(0,we.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==z_)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),DI.apply(this,arguments)}function AN([n,e],[t,i]){const r=Yt(n,t);return 0===r?Yt(e,i):r}class YF{constructor(e){this.En=e,this.buffer=new Zn(AN),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();AN(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JF{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const i=this.Pn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Qp(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield rg(r)}yield t.vn(e)}))}}class QF{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(To.A);const i=new YF(t);return this.Sn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Sn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(DN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DN):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let i,r,a,u,f,_,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(b=Date.now(),Mb()<=gc.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${I} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:I})))}}class XF{constructor(e,t){this.db=e,this.garbageCollector=new QF(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Nn(e){let t=0;return this.Cn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(i,r)=>t(r))}addReference(e,t,i){return RC(e,i)}removeReference(e,t,i){return RC(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return RC(e,t)}Mn(e,t){return function(i,r){let a=!1;return SN(i).zt(u=>TN(i,u,r).next(f=>(f&&(a=!0),pe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.kn(e,(u,f)=>{if(f<=t){const _=this.Mn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Rt.min()),Xh(e).delete([0,o(u.path)])))});r.push(_)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return RC(e,t)}kn(e,t){const i=Xh(e);let r,a=To.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==To.A&&t(new ze(h(r)),a),a=b,r=_):a=To.A}).next(()=>{a!==To.A&&t(new ze(h(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function RC(n,e){return Xh(n).put((i=n.currentSequenceNumber,{targetId:0,path:o(e.path),sequenceNumber:i}));var i}class MN{constructor(){this.changes=new cd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eL{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sg(e).put(i)}removeEntry(e,t,i){return sg(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],AC(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.On(e,i)))}getEntry(e,t){let i=Vn.newInvalidDocument(t);return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(r,a)=>{i=this.Fn(t,a)}).next(()=>i)}$n(e,t){let i={size:0,document:Vn.newInvalidDocument(t)};return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(r,a)=>{i={document:this.Fn(t,a),size:kC(a)}}).next(()=>i)}getEntries(e,t){let i=la();return this.Bn(e,t,(r,a)=>{const u=this.Fn(r,a);i=i.insert(r,u)}).next(()=>i)}Ln(e,t){let i=la(),r=new Li(ze.comparator);return this.Bn(e,t,(a,u)=>{const f=this.Fn(a,u);i=i.insert(a,f),r=r.insert(a,kC(u))}).next(()=>({documents:i,Un:r}))}Bn(e,t,i){if(t.isEmpty())return pe.resolve();let r=new Zn(ON);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(lw(r.first()),lw(r.last())),u=r.getIterator();let f=u.getNext();return sg(e).Wt({index:"documentKeyIndex",range:a},(_,b,C)=>{const I=ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&ON(f,I)<0;)i(f,null),f=u.getNext();f&&f.isEqual(I)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?C.Ut(lw(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),AC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).qt(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=la();for(const _ of u){const b=this.Fn(ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=la();const u=NN(t,i),f=NN(t,La.max());return sg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,C)=>{const I=this.Fn(ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(I.key,I),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new tL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xN(e).get("remoteDocumentGlobalKey").next(t=>(kt(!!t),t))}On(e,t){return xN(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const i=function UF(n,e){let t;if(e.document)t=H_(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ze.fromSegments(e.noDocument.path),r=tg(e.noDocument.readTime);t=Vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const i=ze.fromSegments(e.unknownDocument.path),r=tg(e.unknownDocument.version);t=Vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ti(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Vn.newInvalidDocument(e)}}class tL extends MN{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new cd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Zn((a,u)=>Yt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=gN(this.qn.M,u);r=r.add(a.path.popLast()),i+=kC(_)-f.size,t.push(this.qn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=gN(this.qn.M,u.convertToNoDocument(Rt.min()));t.push(this.qn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,i)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:i,Un:r})=>(r.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function xN(n){return Gr(n,"remoteDocumentGlobal")}function sg(n){return Gr(n,"remoteDocumentsV14")}function lw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NN(n,e){const t=e.documentKey.path.toArray();return[n,AC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ON(n,e){const t=n.path.length-e.path.length;return 0!==t?t:ze.comparator(n,e)}class nL{constructor(e){this.M=e}kt(e,t,i,r){const a=new Kh("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g,{unique:!0}),f.createObjectStore("documentMutations"),kN(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),kN(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g,{unique:!0});const C=_.store("mutations"),I=b.map(k=>C.put(k));return pe.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Kn(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),i<7&&r>=7&&(u=u.next(()=>this.jn(a))),i<8&&r>=8&&(u=u.next(()=>this.Wn(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.zn(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:nn});_.createIndex("collectionPathOverlayIndex",Tn,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",js,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:x});_.createIndex("documentKeyIndex",N),_.createIndex("collectionGroupIndex",B)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Ze}).createIndex("sequenceNumberIndex",lt,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Ae}).createIndex("documentKeyIndex",wt,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=kC(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>pe.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>pe.forEach(f,_=>{kt(_.userId===a.userId);const b=W_(this.M,_);return CN(e,a.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Wt((u,f)=>{const _=new sn(u),b=[0,o(_)];a.push(t.get(b).next(C=>C?pe.resolve():t.put({targetId:0,path:o(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Ue});const i=t.store("collectionParents"),r=new wI,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:o(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new sn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const C=h(f);return a(C.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((i,r)=>{const a=sw(r),u=mN(this.M,a);return t.put(u)})}Hn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new ze(sn.fromString(b.document.name).popFirst(5)):b.noDocument?ze.fromSegments(b.noDocument.path):b.unknownDocument?ze.fromSegments(b.unknownDocument.path):ut()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(C))}).next(()=>pe.waitFor(r))}}function kN(n){n.createObjectStore("targetDocuments",{keyPath:Q}).createIndex("documentTargetsIndex",be,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H,{unique:!0}),n.createObjectStore("targetGlobal")}const CI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TI{constructor(e,t,i,r,a,u,f,_,b,C,I=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Jn=a,this.window=u,this.document=f,this.Yn=b,this.Xn=C,this.Zn=I,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=k=>Promise.resolve(),!TI.vt())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XF(this,r),this.cs=t+"main",this.M=new pN(_),this.hs=new Hs(this.cs,this.Zn,new nL(this.M)),this.ls=new KF(this.referenceDelegate,this.M),this.fs=new eL(this.M),this.ds=new jF,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===C&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,CI);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new To(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Qp(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return cw(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return PC(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gr(i,"clientMetadata");return r.qt().next(a=>{const u=e.Ss(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return pe.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const i of t)e._s.removeItem(e.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):cw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,CI);return!1}}return!(!this.networkEnabled||!this.inForeground)||PC(e).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new fN(t,To.A);return e.As(i).next(()=>e.Ps(i))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(i=>this.vs(i.updateTimeMs,t)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>PC(e).qt().next(t=>this.Ss(t,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(e,t){return EI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new ZF(e)}getDocumentOverlayCache(e){return bI.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,i){Le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=14===(u=this.Zn)?nw:13===u?$_:12===u?tw:11===u?kc:void ut();var u;let f;return this.hs.runTransaction(e,r,a,_=>(f=new fN(_,this.ts?this.ts.next():To.A),"readwrite-primary"===t?this.Ts(f).next(b=>!!b||this.Es(f)).next(b=>{if(!b)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Re(de.FAILED_PRECONDITION,z_);return i(f)}).next(b=>this.Rs(f).next(()=>b)):this.Fs(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return cw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,CI)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cw(e).put("owner",t)}static vt(){return Hs.vt()}As(e){const t=cw(e);return t.get("owner").next(i=>this.bs(i)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ri(`Detected an update time that is in the future: ${e} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const i=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ri("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cw(n){return Gr(n,"owner")}function PC(n){return Gr(n,"clientMetadata")}function SI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iL{constructor(e,t,i){this.fs=e,this.$s=t,this.indexManager=i}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Ls(e,t,i))}Ls(e,t,i){return this.fs.getEntry(e,t).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}Us(e,t){e.forEach((i,r)=>{for(const a of t)a.applyToLocalView(r)})}qs(e,t){return this.fs.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Us(t,i))}Ks(e,t,i){return ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):zp(t)?this.js(e,t,i):this.Ws(e,t,i);var r}Qs(e,t){return this.Bs(e,new ze(t)).next(i=>{let r=bC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(e,t,i){const r=t.collectionGroup;let a=bC();return this.indexManager.getCollectionParents(e,r).next(u=>pe.forEach(u,f=>{const _=(b=t,C=f.child(r),new oa(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.Ws(e,_,i).next(b=>{b.forEach((C,I)=>{a=a.insert(C,I)})})}).next(()=>a))}Ws(e,t,i){let r;return this.fs.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const _=f.key;let b=r.get(_);null==b&&(b=Vn.newInvalidDocument(_),r=r.insert(_,b)),R_(f,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((a,u)=>{qb(t,u)||(r=r.remove(a))}),r))}}class II{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.zs=i,this.Hs=r}static Js(e,t){let i=Cn(),r=Cn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new II(e,t.fromCache,i,r)}}class RN{Ys(e){this.Xs=e}Ks(e,t,i,r){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(Rt.min())?this.Zs(e,t):this.Xs.qs(e,r).next(a=>{const u=this.ti(t,a);return($p(t)||Gb(t))&&this.ei(t.limitType,u,r,i)?this.Zs(e,t):(Mb()<=gc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zb(t)),this.Xs.Ks(e,t,Bb(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ti(e,t){let i=new Zn(dC(e));return t.forEach((r,a)=>{qb(e,a)&&(i=i.add(a))}),i}ei(e,t,i,r){if(i.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Zs(e,t){return Mb()<=gc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",zb(t)),this.Xs.Ks(e,t,La.min())}}class rL{constructor(e,t,i,r){this.persistence=e,this.ni=t,this.M=r,this.si=new Li(Yt),this.ii=new cd(a=>rd(a),I_),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(i)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new iL(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function PN(n,e,t,i){return new rL(n,e,t,i)}function FN(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,we.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.$s.getAllMutationBatches(i).next(a=>(r=a,t.ui(e),t.$s.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Cn();for(const b of r){u.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return t.ai.qs(i,_).next(b=>({ci:b,removedBatchIds:u,addedBatchIds:f}))})})}),AI.apply(this,arguments)}function sL(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const C=_.batch,I=C.keys();let k=pe.resolve();return I.forEach(F=>{k=k.next(()=>b.getEntry(f,F)).next(j=>{const W=_.docVersions.get(F);kt(null!==W),j.version.compareTo(W)<0&&(C.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),b.addEntry(j)))})}),k.next(()=>u.$s.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.$s.performConsistencyCheck(i)).next(()=>t.ai.qs(i,r))})}function LN(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function oL(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});r=t.si;const f=[];e.targetChanges.forEach((b,C)=>{const I=r.get(C);if(!I)return;f.push(t.ls.removeMatchingKeys(a,b.removedDocuments,C).next(()=>t.ls.addMatchingKeys(a,b.addedDocuments,C)));let k=I.withSequenceNumber(a.currentSequenceNumber);var F,j,W;e.targetMismatches.has(C)?k=k.withResumeToken(Pi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,i)),r=r.insert(C,k),j=k,W=b,(0===(F=I).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,k))});let _=la();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(BN(a,u,e.documentUpdates).next(b=>{_=b})),!i.isEqual(Rt.min())){const b=t.ls.getLastRemoteSnapshotVersion(a).next(C=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return pe.waitFor(f).next(()=>u.apply(a)).next(()=>t.ai.Gs(a,_)).next(()=>_)}).then(a=>(t.si=r,a))}function BN(n,e,t){let i=Cn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let a=la();return t.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(Rt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Le("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),a})}function aL(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(i,e)))}function J_(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ls.getTargetData(i,e).next(a=>a?(r=a,pe.resolve(r)):t.ls.allocateTargetId(i).next(u=>(r=new Yh(e,u,0,i.currentSequenceNumber),t.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.si=t.si.insert(i.targetId,i),t.ii.set(e,i.targetId)),i})}function Q_(n,e,t){return MI.apply(this,arguments)}function MI(){return MI=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=i.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Qp(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.si=i.si.remove(e),i.ii.delete(r.target)}),MI.apply(this,arguments)}function FC(n,e,t){const i=Qe(n);let r=Rt.min(),a=Cn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const C=Qe(f),I=C.ii.get(b);return void 0!==I?pe.resolve(C.si.get(I)):C.ls.getTargetData(_,b)}(i,u,aa(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.ni.Ks(u,e,t?r:Rt.min(),t?a:Cn())).next(f=>(jN(i,JS(e),f),{documents:f,hi:a})))}function VN(n,e){const t=Qe(n),i=Qe(t.ls),r=t.si.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,e).next(u=>u?u.target:null))}function UN(n,e){const t=Qe(n),i=t.ri.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.oi.getAllFromCollectionGroup(r,e,Bb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(jN(t,e,r),r))}function jN(n,e,t){let i=Rt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ri.set(e,i)}function xI(){return xI=(0,we.Z)(function*(n,e,t,i){const r=Qe(n);let a=Cn(),u=la();for(const b of t){const C=e.li(b.metadata.name);b.document&&(a=a.add(C));const I=e.fi(b);I.setReadTime(e.di(b.metadata.readTime)),u=u.insert(C,I)}const f=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield J_(r,(b=i,aa(sd(sn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>BN(b,f,u).next(C=>(f.apply(b),C)).next(C=>r.ls.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.ls.addMatchingKeys(b,a,_.targetId)).next(()=>r.ai.Gs(b,C)).next(()=>C)))}),xI.apply(this,arguments)}function cL(n,e){return NI.apply(this,arguments)}function NI(){return NI=(0,we.Z)(function*(n,e,t=Cn()){const i=yield J_(n,aa(yI(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=sr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.ds.saveNamedQuery(a,e);const f=i.withResumeToken(Pi.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(f.targetId,f),r.ls.updateTargetData(a,f).next(()=>r.ls.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.ls.addMatchingKeys(a,t,i.targetId)).next(()=>r.ds.saveNamedQuery(a,e))})}),NI.apply(this,arguments)}class uL{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var i;return this._i.set(t.id,{id:(i=t).id,version:i.version,createTime:sr(i.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(i=t).name,query:yI(i.bundledQuery),readTime:sr(i.readTime)}),pe.resolve();var i}}class dL{constructor(){this.overlays=new Li(ze.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Xt(e,t,a)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const r=Kp(),a=t.length+1,u=new ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return pe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Li((b,C)=>b-C);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=Kp(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=Kp(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return pe.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new _I(t,i));let a=this.mi.get(t);void 0===a&&(a=Cn(),this.mi.set(t,a)),this.mi.set(t,a.add(i.key))}}class OI{constructor(){this.gi=new Zn($r.yi),this.pi=new Zn($r.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const i=new $r(e,t);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ei(new $r(e,t))}Ai(e,t){e.forEach(i=>this.removeReference(i,t))}Ri(e){const t=new ze(new sn([])),i=new $r(t,e),r=new $r(t,e+1),a=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),a.push(u.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new ze(new sn([])),i=new $r(t,e),r=new $r(t,e+1);let a=Cn();return this.pi.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new $r(e,0),i=this.gi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class $r{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return ze.comparator(e.key,t.key)||Yt(e.Vi,t.Vi)}static Ii(e,t){return Yt(e.Vi,t.Vi)||ze.comparator(e.key,t.key)}}class hL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Zn($r.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,i,r){const a=this.vi;this.vi++;const u=new gI(a,t,i,r);this.$s.push(u);for(const f of r)this.Si=this.Si.add(new $r(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ci(t+1),a=r<0?0:r;return pe.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $r(t,0),r=new $r(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([i,r],u=>{const f=this.Di(u.Vi);a.push(f)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(Yt);return t.forEach(r=>{const a=new $r(r,0),u=new $r(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,u],f=>{i=i.add(f.Vi)})}),pe.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ze.isDocumentKey(a)||(a=a.child(""));const u=new $r(new ze(a),0);let f=new Zn(Yt);return this.Si.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.Vi)),!0)},u),pe.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(i=>{const r=this.Di(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){kt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let i=this.Si;return pe.forEach(t.mutations,r=>{const a=new $r(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const i=new $r(t,0),r=this.Si.firstAfterOrEqual(i);return pe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class fL{constructor(e){this.ki=e,this.docs=new Li(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ki(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=la();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Vn.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(e,t,i){let r=la();const a=new ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||aC(qS(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ut()}Mi(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new pL(this)}getSize(e){return pe.resolve(this.size)}}class pL extends MN{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.qn.addEntry(e,r)):this.qn.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class gL{constructor(e){this.persistence=e,this.Oi=new cd(t=>rd(t),I_),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new OI,this.targetCount=0,this.Bi=ig.mn()}forEachTarget(e,t){return this.Oi.forEach((i,r)=>t(r)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new ig(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),pe.waitFor(a).next(()=>r)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Oi.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.$i.Ti(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.$i.Ai(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.$i.Pi(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class mL{constructor(e,t){this.Li={},this.overlays={},this.ts=new To(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new gL(this),this.indexManager=new WF,this.fs=new fL(i=>this.referenceDelegate.Ui(i)),this.M=new pN(t),this.ds=new uL(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Li[e.toKey()];return i||(i=new hL(t,this.referenceDelegate),this.Li[e.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,i){Le("MemoryPersistence","Starting transaction:",e);const r=new _L(this.ts.next());return this.referenceDelegate.qi(),i(r).next(a=>this.referenceDelegate.Gi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ki(e,t){return pe.or(Object.values(this.Li).map(i=>()=>i.containsKey(e,t)))}}class _L extends q_{constructor(e){super(),this.currentSequenceNumber=e}}class kI{constructor(e){this.persistence=e,this.Qi=new OI,this.ji=null}static Wi(e){return new kI(e)}get zi(){if(this.ji)return this.ji;throw ut()}addReference(e,t,i){return this.Qi.addReference(i,t),this.zi.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Qi.removeReference(i,t),this.zi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,i=>{const r=ze.fromPath(i);return this.Hi(e,r).next(a=>{a||t.removeEntry(r,Rt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(i=>{i?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function HN(n,e){return`firestore_clients_${n}_${e}`}function GN(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function RI(n,e){return`firestore_targets_${n}_${e}`}class LC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Re(r.error.code,r.error.message))),u?new LC(e,t,r.state,a):(Ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Re(i.error.code,i.error.message))),a?new uw(e,i.state,r):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Ba();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=w_(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new BC(e,a):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class PI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new PI(t.clientId,t.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class FI{constructor(){this.activeTargetIds=Ba()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(e,t,i,r,a){this.window=e,this.Jn=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Li(Yt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=HN(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new FI),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const r of t){if(r===e.tr)continue;const a=e.getItem(HN(e.persistenceKey,r));if(a){const u=BC.Ji(r,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(RI(this.persistenceKey,e));if(i){const r=uw.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RI(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.ar.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.cr.test(i.key)){if(null!==i.newValue){const r=t.Vr(i.key,i.newValue);if(r)return t.vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let u=To.A;if(null!=a)try{const f=JSON.parse(a);kt("number"==typeof f),u=f}catch(f){Ri("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==To.A&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new LC(this.currentUser,e,t,i),a=GN(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=GN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=RI(this.persistenceKey,e),a=new uw(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return BC.Ji(i,t)}Vr(e,t){const i=this.cr.exec(e),r=Number(i[1]);return LC.Ji(new rr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return uw.Ji(r,t)}wr(e){return PI.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Ba();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class $N{constructor(){this.Fr=new FI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new FI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yL{Br(e){}shutdown(){}}class zN{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bL{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class wL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const u=this.oo(e,t);Le("RestConnection","Sending: ",u,i);const f={};return this.uo(f,r,a),this.ao(e,u,f,i).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw Ku("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}co(e,t,i,r,a){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${vL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,i,r){return new Promise((a,u)=>{const f=new JD;f.listenOnce(ZD.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Zu.NO_ERROR:const b=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Zu.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const C=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',C,"response text:",f.getResponseText()),C>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const k=function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN}(I.status);u(new Re(k,I.message))}else u(new Re(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(de.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=LS(),u=BS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new YD({})),this.uo(f.initMessageHeaders,t,i),(0,tn.uI)()||(0,tn.b$)()||(0,tn.d)()||(0,tn.w1)()||(0,tn.Mn)()||(0,tn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Le("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let C=!1,I=!1;const k=new bL({jr:j=>{I?Le("Connection","Not sending because WebChannel is closed:",j):(C||(Le("Connection","Opening WebChannel transport."),b.open(),C=!0),Le("Connection","WebChannel sending:",j),b.send(j))},Wr:()=>b.close()}),F=(j,W,_e)=>{j.listen(W,je=>{try{_e(je)}catch(Se){setTimeout(()=>{throw Se},0)}})};return F(b,Pp.EventType.OPEN,()=>{I||Le("Connection","WebChannel transport opened.")}),F(b,Pp.EventType.CLOSE,()=>{I||(I=!0,Le("Connection","WebChannel transport closed"),k.eo())}),F(b,Pp.EventType.ERROR,j=>{I||(I=!0,Ku("Connection","WebChannel transport errored:",j),k.eo(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),F(b,Pp.EventType.MESSAGE,j=>{var W;if(!I){const _e=j.data[0];kt(!!_e);const je=_e,Se=je.error||(null===(W=je[0])||void 0===W?void 0:W.error);if(Se){Le("Connection","WebChannel received error:",Se);const nt=Se.status;let Pe=function(qe){const Et=Si[qe];if(void 0!==Et)return yC(Et)}(nt),Ye=Se.message;void 0===Pe&&(Pe=de.INTERNAL,Ye="Unknown error status: "+nt+" with message "+Se.message),I=!0,k.eo(new Re(Pe,Ye)),b.close()}else Le("Connection","WebChannel received:",_e),k.no(_e)}}),F(u,KD.STAT_EVENT,j=>{j.stat===Ab.PROXY?Le("Connection","Detected buffering proxy"):j.stat===Ab.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.Zr()},0),k}}function qN(){return"undefined"!=typeof window?window:null}function VC(){return"undefined"!=typeof document?document:null}function dw(n){return new DC(n,!0)}class BI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class WN{constructor(e,t,i,r,a,u,f,_){this.Jn=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new BI(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Re(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EL extends WN{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function dI(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),r=e.targetChange.targetIds||[],a=function(_,b){return _.N?(kt(void 0===b||"string"==typeof b),Pi.fromBase64String(b||"")):(kt(void 0===b||b instanceof Uint8Array),Pi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?de.UNKNOWN:yC(_.code);return new Re(b,_.message||"")}(u);t=new B_(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Va(n,i.document.name),a=sr(i.document.updateTime),u=new jr({mapValue:{fields:i.document.fields}}),f=Vn.newFoundDocument(r,a,u);t=new qh(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Va(n,i.document),a=i.readTime?sr(i.readTime):Rt.min(),u=Vn.newNoDocument(r,a);t=new qh([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Va(n,i.document);t=new qh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ut();{const i=e.filter,a=new rI(i.count||0);t=new EC(i.targetId,a)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Rt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?sr(a.readTime):Rt.min()}(e);return this.listener.Ko(t,i)}Qo(e){const t={};t.database=dd(this.M),t.addTarget=function(r,a){let u;const f=a.target;return u=Gp(f)?{documents:SC(r,f)}:{query:IC(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=CC(r,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(u.readTime=Yp(r,a.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function oN(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=dd(this.M),t.removeTarget=e,this.Oo(t)}}class DL extends WN{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function sN(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(i,r){let a=sr(i.updateTime?i.updateTime:r);return a.isEqual(Rt.min())&&(a=sr(r)),new eN(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.Jo(i,t)}return kt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=dd(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>G_(this.M,i))};this.Oo(t)}}class CL extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}co(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class TL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ri(t),this.su=!1):Le("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class SL{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;ef(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(b){const C=Qe(b);C.lu.add(4),yield X_(C),C._u.set("Unknown"),C.lu.delete(4),yield hw(C)}),function(b){return _.apply(this,arguments)})(u))}))}),this._u=new TL(i,r)}}function hw(n){return VI.apply(this,arguments)}function VI(){return VI=(0,we.Z)(function*(n){if(ef(n))for(const e of n.fu)yield e(!0)}),VI.apply(this,arguments)}function X_(n){return UI.apply(this,arguments)}function UI(){return UI=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),UI.apply(this,arguments)}function UC(n,e){const t=Qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),GI(t)?HI(t):ty(t).Co()&&jI(t,e))}function fw(n,e){const t=Qe(n),i=ty(t);t.hu.delete(e),i.Co()&&ZN(t,e),0===t.hu.size&&(i.Co()?i.ko():ef(t)&&t._u.set("Unknown"))}function jI(n,e){n.wu.Z(e.targetId),ty(n).Qo(e)}function ZN(n,e){n.wu.Z(e),ty(n).jo(e)}function HI(n){n.wu=new U_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),ty(n).start(),n._u.iu()}function GI(n){return ef(n)&&!ty(n).Do()&&n.hu.size>0}function ef(n){return 0===Qe(n).lu.size}function KN(n){n.wu=void 0}function IL(n){return $I.apply(this,arguments)}function $I(){return $I=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{jI(n,e)})}),$I.apply(this,arguments)}function AL(n,e){return zI.apply(this,arguments)}function zI(){return zI=(0,we.Z)(function*(n,e){KN(n),GI(n)?(n._u.uu(e),HI(n)):n._u.set("Unknown")}),zI.apply(this,arguments)}function ML(n,e,t){return qI.apply(this,arguments)}function qI(){return qI=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof B_&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield jC(n,i)}else if(e instanceof qh?n.wu.ut(e):e instanceof EC?n.wu._t(e):n.wu.ht(e),!t.isEqual(Rt.min()))try{const i=yield LN(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.hu.get(_);b&&r.hu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(Pi.EMPTY_BYTE_STRING,_.snapshotVersion)),ZN(r,f);const b=new Yh(_.target,f,1,_.sequenceNumber);jI(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield jC(n,i)}var i}),qI.apply(this,arguments)}function jC(n,e,t){return WI.apply(this,arguments)}function WI(){return WI=(0,we.Z)(function*(n,e,t){if(!Qp(e))throw e;n.lu.add(1),yield X_(n),n._u.set("Offline"),t||(t=()=>LN(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield hw(n)}))}),WI.apply(this,arguments)}function YN(n,e){return e().catch(t=>jC(n,t,e))}function ey(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,we.Z)(function*(n){const e=Qe(n),t=tf(e);let i=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;xL(e);)try{const r=yield aL(e.localStore,i);if(null===r){0===e.cu.length&&t.ko();break}i=r.batchId,NL(e,r)}catch(r){yield jC(e,r)}JN(e)&&QN(e)}),ZI.apply(this,arguments)}function xL(n){return ef(n)&&n.cu.length<10}function NL(n,e){n.cu.push(e);const t=tf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function JN(n){return ef(n)&&!tf(n).Do()&&n.cu.length>0}function QN(n){tf(n).start()}function OL(n){return KI.apply(this,arguments)}function KI(){return KI=(0,we.Z)(function*(n){tf(n).Xo()}),KI.apply(this,arguments)}function kL(n){return YI.apply(this,arguments)}function YI(){return YI=(0,we.Z)(function*(n){const e=tf(n);for(const t of n.cu)e.Ho(t.mutations)}),YI.apply(this,arguments)}function RL(n,e,t){return JI.apply(this,arguments)}function JI(){return JI=(0,we.Z)(function*(n,e,t){const i=n.cu.shift(),r=mI.from(i,e,t);yield YN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ey(n)}),JI.apply(this,arguments)}function PL(n,e){return QI.apply(this,arguments)}function QI(){return QI=(0,we.Z)(function*(n,e){var t;e&&tf(n).zo&&(yield(t=(0,we.Z)(function*(i,r){if(_C(a=r.code)&&a!==de.ABORTED){const u=i.cu.shift();tf(i).No(),yield YN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ey(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),JN(n)&&QN(n)}),QI.apply(this,arguments)}function XN(n,e){return XI.apply(this,arguments)}function XI(){return XI=(0,we.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=ef(t);t.lu.add(3),yield X_(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield hw(t)}),XI.apply(this,arguments)}function eA(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,we.Z)(function*(n,e){const t=Qe(n);e?(t.lu.delete(2),yield hw(t)):e||(t.lu.add(2),yield X_(t),t._u.set("Unknown"))}),tA.apply(this,arguments)}function ty(n){return n.mu||(n.mu=function(e,t,i){const r=Qe(e);return r.tu(),new EL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:IL.bind(null,n),Jr:AL.bind(null,n),Ko:ML.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),GI(n)?HI(n):n._u.set("Unknown")):(yield n.mu.stop(),KN(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function tf(n){return n.gu||(n.gu=function(e,t,i){const r=Qe(e);return r.tu(),new DL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:OL.bind(null,n),Jr:PL.bind(null,n),Yo:kL.bind(null,n),Jo:RL.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield ey(n)):(yield n.gu.stop(),n.cu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class nA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new nA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Qp(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class iy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ze.comparator(t.key,i.key):(t,i)=>ze.comparator(t.key,i.key),this.keyedMap=bC(),this.sortedSet=new Li(this.comparator)}static emptySet(e){return new iy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new iy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class eO{constructor(){this.yu=new Li(ze.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ut():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ry{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new ry(e,t,iy.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class FL{constructor(){this.Iu=void 0,this.listeners=[]}}class LL{constructor(){this.queries=new cd(e=>uC(e),x_),this.onlineState="Unknown",this.Tu=new Set}}function iA(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new FL),r)try{a.Iu=yield t.onListen(i)}catch(u){const f=ny(u,`Initialization of query '${zb(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&aA(t)}),rA.apply(this,arguments)}function sA(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),oA.apply(this,arguments)}function BL(n,e){const t=Qe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Au(r)&&(i=!0);u.Iu=r}}i&&aA(t)}function VL(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function aA(n){n.Tu.forEach(e=>{e.next()})}class lA{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ry(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class UL{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class tO{constructor(e){this.M=e}li(e){return Va(this.M,e)}fi(e){return e.metadata.exists?H_(this.M,e.document,!1):Vn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return sr(e)}}class jL{constructor(e,t,i){this.xu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new tO(this.M);for(const r of e)if(r.metadata.queries){const a=i.li(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Cn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function lL(n,e,t,i){return xI.apply(this,arguments)}(e.localStore,new tO(e.M),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield cL(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function nO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iO{constructor(e){this.key=e}}class rO{constructor(e){this.key=e}}class sO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Cn(),this.mutatedKeys=Cn(),this.Lu=dC(e),this.Uu=new iy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const i=t?t.Ku:new eO,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=$p(this.query)&&r.size===this.query.limit?r.last():null,b=Gb(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,I)=>{const k=r.get(C),F=qb(this.query,I)?I:null,j=!!k&&this.mutatedKeys.has(k.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let _e=!1;k&&F?k.data.isEqual(F.data)?j!==W&&(i.track({type:3,doc:F}),_e=!0):this.Qu(k,F)||(i.track({type:2,doc:F}),_e=!0,(_&&this.Lu(F,_)>0||b&&this.Lu(F,b)<0)&&(f=!0)):!k&&F?(i.track({type:0,doc:F}),_e=!0):k&&!F&&(i.track({type:1,doc:k}),_e=!0,(_||b)&&(f=!0)),_e&&(F?(u=u.add(F),a=W?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),$p(this.query)||Gb(this.query))for(;u.size>this.query.limit;){const C=$p(this.query)?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Uu:u,Ku:i,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((b,C)=>function(I,k){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return F(I)-F(k)}(b.type,C.type)||this.Lu(b.doc,C.doc)),this.ju(i);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new ry(this.query,e.Uu,r,a,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new eO,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Cn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new rO(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new iO(i))}),t}Ju(e){this.Fu=e.hi,this.Bu=Cn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return ry.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class HL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class GL{constructor(e){this.key=e,this.Xu=!1}}class $L{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new cd(f=>uC(f),x_),this.ea=new Map,this.na=new Set,this.sa=new Li(ze.comparator),this.ia=new Map,this.ra=new OI,this.oa={},this.ua=new Map,this.aa=ig.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function zL(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,we.Z)(function*(n,e){const t=OA(n);let i,r;const a=t.ta.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield J_(t.localStore,aa(e));t.isPrimaryClient&&UC(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uA(t,e,i,"current"===f)}return r}),cA.apply(this,arguments)}function uA(n,e,t,i){return dA.apply(this,arguments)}function dA(){return dA=(0,we.Z)(function*(n,e,t,i){n.ha=(C,I,k)=>{return(F=(0,we.Z)(function*(j,W,_e,je){let Se=W.view.Gu(_e);Se.ei&&(Se=yield FC(j.localStore,W.query,!1).then(({documents:Ye})=>W.view.Gu(Ye,Se)));const nt=je&&je.targetChanges.get(W.targetId),Pe=W.view.applyChanges(Se,j.isPrimaryClient,nt);return wA(j,W.targetId,Pe.zu),Pe.snapshot}),function(j,W,_e,je){return F.apply(this,arguments)})(n,C,I,k);var F};const r=yield FC(n.localStore,e,!0),a=new sO(e,r.hi),u=a.Gu(r.documents),f=ud.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);wA(n,t,_.zu);const b=new HL(e,t,a);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),dA.apply(this,arguments)}function qL(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,we.Z)(function*(n,e){const t=Qe(n),i=t.ta.get(e),r=t.ea.get(i.targetId);if(r.length>1)return t.ea.set(i.targetId,r.filter(a=>!x_(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Q_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),fw(t.remoteStore,i.targetId),sy(t,i.targetId)}).catch(rg))):(sy(t,i.targetId),yield Q_(t.localStore,i.targetId,!0))}),hA.apply(this,arguments)}function fA(){return fA=(0,we.Z)(function*(n,e,t){const i=kA(n);try{const r=yield function(a,u){const f=Qe(a),_=Ti.now(),b=u.reduce((I,k)=>I.add(k.key),Cn());let C;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.ai.qs(I,b).next(k=>{C=k;const F=[];for(const j of u){const W=nI(j,C.get(j.key));null!=W&&F.push(new ad(j.key,W,Lb(W.value.mapValue),Fi.exists(!0)))}return f.$s.addMutationBatch(I,_,F,u)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.oa[a.currentUser.toKey()];_||(_=new Li(Yt)),_=_.insert(u,f),a.oa[a.currentUser.toKey()]=_}(i,r.batchId,t),yield hd(i,r.changes),yield ey(i.remoteStore)}catch(r){const a=ny(r,"Failed to persist write");t.reject(a)}}),fA.apply(this,arguments)}function oO(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,we.Z)(function*(n,e){const t=Qe(n);try{const i=yield oL(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ia.get(a);u&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?kt(u.Xu):r.removedDocuments.size>0&&(kt(u.Xu),u.Xu=!1))}),yield hd(t,i,e)}catch(i){yield rg(i)}}),pA.apply(this,arguments)}function aO(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ta.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((b,C)=>{for(const I of C.listeners)I.Eu(u)&&(_=!0)}),_&&aA(f)}(i.eventManager,e),r.length&&i.Zu.Ko(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ZL(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,we.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ia.get(e),a=r&&r.key;if(a){let u=new Li(ze.comparator);u=u.insert(a,Vn.newNoDocument(a,Rt.min()));const f=Cn().add(a),_=new zh(Rt.min(),new Map,new Zn(Yt),u,f);yield oO(i,_),i.sa=i.sa.remove(a),i.ia.delete(e),EA(i)}else yield Q_(i.localStore,e,!1).then(()=>sy(i,e,t)).catch(rg)}),gA.apply(this,arguments)}function KL(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield sL(t.localStore,e);bA(t,i,null),vA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield hd(t,r)}catch(r){yield rg(r)}}),mA.apply(this,arguments)}function YL(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,we.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.$s.lookupMutationBatch(_,u).next(C=>(kt(null!==C),b=C.keys(),f.$s.removeMutationBatch(_,C))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,b))})}(i.localStore,e);bA(i,e,t),vA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield hd(i,r)}catch(r){yield rg(r)}}),_A.apply(this,arguments)}function yA(){return yA=(0,we.Z)(function*(n,e){const t=Qe(n);ef(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ua.get(i)||[];r.push(e),t.ua.set(i,r)}catch(i){const r=ny(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),yA.apply(this,arguments)}function vA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function bA(n,e,t){const i=Qe(n);let r=i.oa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oa[i.currentUser.toKey()]=r}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ea.get(e))n.ta.delete(i),t&&n.Zu.la(i,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(i=>{n.ra.containsKey(i)||lO(n,i)})}function lO(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(fw(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),EA(n))}function wA(n,e,t){for(const i of t)i instanceof iO?(n.ra.addReference(i.key,e),QL(n,i)):i instanceof rO?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,e),n.ra.containsKey(i.key)||lO(n,i.key)):ut()}function QL(n,e){const t=e.key,i=t.path.canonicalString();n.sa.get(t)||n.na.has(i)||(Le("SyncEngine","New document in limbo: "+t),n.na.add(i),EA(n))}function EA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new ze(sn.fromString(e)),i=n.aa.next();n.ia.set(i,new GL(t)),n.sa=n.sa.insert(t,i),UC(n.remoteStore,new Yh(aa(sd(t.path)),i,2,To.A))}}function hd(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],u=[];var f;i.ta.isEmpty()||(i.ta.forEach((f,_)=>{u.push(i.ha(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const C=II.Js(_.targetId,b);a.push(C)}}))}),yield Promise.all(u),i.Zu.Ko(r),yield(f=(0,we.Z)(function*(_,b){const C=Qe(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>pe.forEach(b,k=>pe.forEach(k.zs,F=>C.persistence.referenceDelegate.addReference(I,k.targetId,F)).next(()=>pe.forEach(k.Hs,F=>C.persistence.referenceDelegate.removeReference(I,k.targetId,F)))))}catch(I){if(!Qp(I))throw I;Le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const k=I.targetId;if(!I.fromCache){const F=C.si.get(k),W=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);C.si=C.si.insert(k,W)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),DA.apply(this,arguments)}function XL(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,we.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const i=yield FN(t.localStore,e);t.currentUser=e,(r=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield hd(t,i.ci)}var r}),CA.apply(this,arguments)}function e2(n,e){const t=Qe(n),i=t.ia.get(e);if(i&&i.Xu)return Cn().add(i.key);{let r=Cn();const a=t.ea.get(e);if(!a)return r;for(const u of a){const f=t.ta.get(u);r=r.unionWith(f.view.qu)}return r}}function t2(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,we.Z)(function*(n,e){const t=Qe(n),i=yield FC(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&wA(t,e.targetId,r.zu),r}),TA.apply(this,arguments)}function n2(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,we.Z)(function*(n,e){const t=Qe(n);return UN(t.localStore,e).then(i=>hd(t,i))}),SA.apply(this,arguments)}function r2(n,e,t,i){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(u,f){const _=Qe(u),b=Qe(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.ln(C,f).next(I=>I?_.ai.qs(C,I):pe.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ey(r.remoteStore):"acknowledged"===t||"rejected"===t?(bA(r,e,i||null),vA(r,e),f=e,Qe(Qe(r.localStore).$s).dn(f)):ut(),yield hd(r,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),IA.apply(this,arguments)}function AA(){return AA=(0,we.Z)(function*(n,e){const t=Qe(n);if(OA(t),kA(t),!0===e&&!0!==t.ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield cO(t,i.toArray());t.ca=!0,yield eA(t.remoteStore,!0);for(const a of r)UC(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const i=[];let r=Promise.resolve();t.ea.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(sy(t,u),Q_(t.localStore,u,!0))),fw(t.remoteStore,u)}),yield r,yield cO(t,i),function(a){const u=Qe(a);u.ia.forEach((f,_)=>{fw(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new Li(ze.comparator)}(t),t.ca=!1,yield eA(t.remoteStore,!1)}}),AA.apply(this,arguments)}function cO(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const u of e){let f;const _=i.ea.get(u);if(_&&0!==_.length){f=yield J_(i.localStore,aa(_[0]));for(const b of _){const C=i.ta.get(b),I=yield t2(i,C);I.snapshot&&a.push(I.snapshot)}}else{const b=yield VN(i.localStore,u);f=yield J_(i.localStore,b),yield uA(i,uO(b),u,!1)}r.push(f)}return i.Zu.Ko(a),r}),MA.apply(this,arguments)}function uO(n){return Hb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function o2(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Os()}function a2(n,e,t,i){return xA.apply(this,arguments)}function xA(){return xA=(0,we.Z)(function*(n,e,t,i){const r=Qe(n);if(r.ca)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=r.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield UN(r.localStore,JS(a[0])),f=zh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield hd(r,u,f);break}case"rejected":yield Q_(r.localStore,e,!0),sy(r,e,i);break;default:ut()}}),xA.apply(this,arguments)}function l2(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,we.Z)(function*(n,e,t){const i=OA(n);if(i.ca){for(const r of e){if(i.ea.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const a=yield VN(i.localStore,r),u=yield J_(i.localStore,a);yield uA(i,uO(a),u.targetId,!1),UC(i.remoteStore,u)}for(const r of t)i.ea.has(r)&&(yield Q_(i.localStore,r,!1).then(()=>{fw(i.remoteStore,r),sy(i,r)}).catch(rg))}}),NA.apply(this,arguments)}function OA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZL.bind(null,e),e.Zu.Ko=BL.bind(null,e.eventManager),e.Zu.la=VL.bind(null,e.eventManager),e}function kA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class dO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=dw(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return PN(this.persistence,new RN,e.initialUser,this.M)}_a(e){return new mL(kI.Wi,this.M)}da(e){return new $N}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hO extends dO{constructor(e,t,i){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.ga.initialize(i,e),yield kA(i.ga.syncEngine),yield ey(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(e){return PN(this.persistence,new RN,e.initialUser,this.M)}wa(e){return new JF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=SI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new TI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,qN(),VC(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new $N}}class u2 extends hO{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.ga.syncEngine;i.sharedClientState instanceof LI&&(i.sharedClientState.syncEngine={kr:r2.bind(null,r),Mr:a2.bind(null,r),Or:l2.bind(null,r),Os:o2.bind(null,r),Nr:n2.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var a=(0,we.Z)(function*(u){yield function s2(n,e){return AA.apply(this,arguments)}(i.ga.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}da(e){const t=qN();if(!LI.vt(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=SI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LI(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class RA{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>aO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,i.syncEngine),yield eA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LL}createDatastore(e){const t=dw(e.databaseInfo.databaseId),i=new wL(e.databaseInfo);return new CL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>aO(this.syncEngine,f,0),u=zN.vt()?new zN:new yL,new SL(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const C=new $L(i,r,a,u,f,_);return b&&(C.ca=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=Qe(t);Le("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield X_(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fO(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class d2{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Ci,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const i=e.Ta.decode(t),r=Number(i);isNaN(r)&&e.Ra(`length string (${i}) is not valid number`);const a=yield e.ba(r);return new UL(JSON.parse(a),t.length+r)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const i=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class h2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,u){const f=Qe(a),_=dd(f.M)+"/documents",b={documents:u.map(F=>Wh(f.M,F))},C=yield f.co("BatchGetDocuments",_,b),I=new Map;C.forEach(F=>{const j=function uI(n,e){return"found"in e?function(t,i){kt(!!i.found);const r=Va(t,i.found.name),a=sr(i.found.updateTime),u=new jr({mapValue:{fields:i.found.fields}});return Vn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){kt(!!i.missing),kt(!!i.readTime);const r=Va(t,i.missing),a=sr(i.readTime);return Vn.newNoDocument(r,a)}(n,e):ut()}(f.M,F);I.set(j.key.toString(),j)});const k=[];return u.forEach(F=>{const j=I.get(F.toString());kt(!!j),k.push(j)}),k}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=ze.fromPath(r);e.mutations.push(new F_(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const u=Qe(r),f=dd(u.M)+"/documents",_={writes:a.map(b=>G_(u.M,b))};yield u.ro("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Fi.updateTime(t):Fi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(t)}return Fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f2{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new BI(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new h2(e.datastore),i=e.Da(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Ca(a)}))}).catch(r=>{e.Ca(r)})}))}Da(e){try{const t=this.updateFunction(e);return!sa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_C(t)}return!1}}class p2{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=rr.UNAUTHENTICATED,this.clientId=v_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ny(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function pO(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield FN(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),PA.apply(this,arguments)}function gO(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield LA(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>XN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>XN(e.remoteStore,a)),n.onlineComponents=e}),FA.apply(this,arguments)}function LA(n){return BA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield pO(n,new dO)),n.offlineComponents}),BA.apply(this,arguments)}function GC(n){return VA.apply(this,arguments)}function VA(){return VA=(0,we.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield gO(n,new RA)),n.onlineComponents}),VA.apply(this,arguments)}function mO(n){return LA(n).then(e=>e.persistence)}function UA(n){return LA(n).then(e=>e.localStore)}function _O(n){return GC(n).then(e=>e.remoteStore)}function jA(n){return GC(n).then(e=>e.syncEngine)}function oy(n){return HA.apply(this,arguments)}function HA(){return HA=(0,we.Z)(function*(n){const e=yield GC(n),t=e.eventManager;return t.onListen=zL.bind(null,e.syncEngine),t.onUnlisten=qL.bind(null,e.syncEngine),t}),HA.apply(this,arguments)}function yO(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new HC({next:I=>{a.enqueueAndForget(()=>sA(r,C));const k=I.docs.has(u);!k&&I.fromCache?_.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&f&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),C=new lA(sd(u.path),b,{includeMetadataChanges:!0,Du:!0});return iA(r,C)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}function vO(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new HC({next:I=>{a.enqueueAndForget(()=>sA(r,C)),I.fromCache&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),C=new lA(u,b,{includeMetadataChanges:!0,Du:!0});return iA(r,C)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}const bO=new Map;function GA(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wO(n,e,t,i){if(!0===e&&!0===i)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EO(n){if(!ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DO(n){if(ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $C(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$C(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function CO(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TO({}),this._settingsFrozen=!1,e instanceof Ac?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(r.options.projectId)}(e))}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new US;switch(t.type){case"gapi":const i=t.client;return kt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new xb(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bO.get(e);t&&(Le("ComponentProvider","Removing Datastore"),bO.delete(e),t.terminate())}(this),Promise.resolve()}}class di{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new di(this.firestore,e,this._key)}}class vs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Rc extends vs{constructor(e,t,i){super(e,t,sd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new ze(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function SO(n,e,...t){if(n=(0,tn.m9)(n),GA("collection","path",e),n instanceof pw){const i=sn.fromString(e,...t);return DO(i),new Rc(n,null,i)}{if(!(n instanceof di||n instanceof Rc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return DO(i),new Rc(n.firestore,null,i)}}function zC(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=v_.R()),GA("doc","path",e),n instanceof pw){const i=sn.fromString(e,...t);return EO(i),new di(n,null,new ze(i))}{if(!(n instanceof di||n instanceof Rc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return EO(i),new di(n.firestore,n instanceof Rc?n.converter:null,new ze(i))}}function IO(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof di||n instanceof Rc)&&(e instanceof di||e instanceof Rc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function AO(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&x_(n._query,e._query)&&n.converter===e.converter}class T2{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new BI(this,"async_queue_retry"),this.Ua=()=>{const t=VC();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=VC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=VC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Ci;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Qp(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(i=>{throw this.Fa=i,this.$a=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=t,t}enqueueAfterDelay(e,t,i){this.qa(),this.La.indexOf(e)>-1&&(t=0);const r=nA.createAndSchedule(this,e,t,i,a=>this.Qa(a));return this.Oa.push(r),r}qa(){this.Fa&&ut()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function $A(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class S2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yi extends pw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new T2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||MO(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||MO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MO(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $S(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new p2(n._authCredentials,n._appCheckCredentials,n._queue,i)}function xO(n,e,t){const i=new Ci;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield pO(n,t),yield gO(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function NO(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pc(Pi.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pc(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class og{constructor(e){this._methodName=e}}class qC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const F2=/^__.*__$/;class L2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new $h(e,this.data,t,this.fieldTransforms)}}class OO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class WC{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new WC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.ec(e),r}nc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return YC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(kO(this.Ya)&&F2.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class B2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||dw(e)}uc(e,t,i,r=!1){return new WC({Ya:e,methodName:t,oc:i,path:Yi.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=dw(n._databaseId);return new B2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZC(n,e,t,i,r,a={}){const u=n.uc(a.merge||a.mergeFields?2:0,e,t,r);ZA("Data must be an object, but it was:",u,i);const f=FO(i,u);let _,b;if(a.merge)_=new Qu(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const I of a.mergeFields){const k=KA(e,I,t);if(!u.contains(k))throw new Re(de.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);BO(C,k)||C.push(k)}_=new Qu(C),b=u.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,b=u.fieldTransforms;return new L2(new jr(f),_,b)}class gw extends og{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gw}}function RO(n,e,t){return new WC({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class zA extends og{_toFieldTransform(e){return new ss(e.path,new od)}isEqual(e){return e instanceof zA}}class V2 extends og{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=RO(this,e,!0),i=this.ac.map(a=>lg(a,t)),r=new Nc(i);return new ss(e.path,r)}isEqual(e){return this===e}}class U2 extends og{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=RO(this,e,!0),i=this.ac.map(a=>lg(a,t)),r=new Oc(i);return new ss(e.path,r)}isEqual(e){return this===e}}class j2 extends og{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Gh(e.M,fC(e.M,this.cc));return new ss(e.path,t)}isEqual(e){return this===e}}function qA(n,e,t,i){const r=n.uc(1,e,t);ZA("Data must be an object, but it was:",r,i);const a=[],u=jr.empty();Yu(i,(_,b)=>{const C=KC(e,_,t);b=(0,tn.m9)(b);const I=r.nc(C);if(b instanceof gw)a.push(C);else{const k=lg(b,I);null!=k&&(a.push(C),u.set(C,k))}});const f=new Qu(a);return new OO(u,f,r.fieldTransforms)}function WA(n,e,t,i,r,a){const u=n.uc(1,e,t),f=[KA(e,i,t)],_=[r];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)f.push(KA(e,a[k])),_.push(a[k+1]);const b=[],C=jr.empty();for(let k=f.length-1;k>=0;--k)if(!BO(b,f[k])){const F=f[k];let j=_[k];j=(0,tn.m9)(j);const W=u.nc(F);if(j instanceof gw)b.push(F);else{const _e=lg(j,W);null!=_e&&(b.push(F),C.set(F,_e))}}const I=new Qu(b);return new OO(C,I,u.fieldTransforms)}function PO(n,e,t,i=!1){return lg(t,n.uc(i?4:3,e))}function lg(n,e){if(LO(n=(0,tn.m9)(n)))return ZA("Unsupported field value:",e,n),FO(n,e);if(n instanceof og)return function(t,i){if(!kO(i.Ya))throw i.ic(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=lg(u,i.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fC(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ti.fromDate(t);return{timestampValue:Yp(i.M,r)}}if(t instanceof Ti){const r=new Ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yp(i.M,r)}}if(t instanceof qC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pc)return{bytesValue:CC(i.M,t._byteString)};if(t instanceof di){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:j_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ic(`Unsupported field value: ${$C(t)}`)}(n,e)}function FO(n,e){const t={};return kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yu(n,(i,r)=>{const a=lg(r,e.Za(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function LO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof qC||n instanceof Pc||n instanceof di||n instanceof og)}function ZA(n,e,t){if(!LO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$C(t);throw e.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function KA(n,e,t){if((e=(0,tn.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return KC(n,e);throw YC("Field path arguments must be of type string or ",n,!1,void 0,t)}const H2=new RegExp("[~\\*/\\[\\]]");function KC(n,e,t){if(e.search(H2)>=0)throw YC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(i){throw YC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function YC(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Re(de.INVALID_ARGUMENT,f+n+_)}function BO(n,e){return n.some(t=>t.isEqual(e))}class mw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class G2 extends mw{data(){return super.data()}}function JC(n,e){return"string"==typeof e?KC(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends mw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(JC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _w extends pd{data(e={}){return super.data(e)}}class nf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _w(this._firestore,this._userDataWriter,i.key,i,new cg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new _w(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new _w(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:$2(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function VO(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nf&&e instanceof nf&&n._firestore===e._firestore&&AO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function UO(n){if(Gb(n)&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yw{}function rf(n,...e){for(const t of e)n=t._apply(n);return n}class z2 extends yw{constructor(e,t,i){super(),this.hc=e,this.lc=t,this.fc=i,this.type="where"}_apply(e){const t=ag(e.firestore),i=function(r,a,u,f,_,b,C){let I;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){qO(C,b);const F=[];for(const j of C)F.push(zO(f,r,j));I={arrayValue:{values:F}}}else I=zO(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||qO(C,b),I=PO(u,"where",C,"in"===b||"not-in"===b);const k=Hr.create(_,b,I);return function(F,j){if(j.S()){const _e=$b(F);if(null!==_e&&!_e.isEqual(j.field))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${j.field.toString()}'`);const je=M_(F);null!==je&&WO(0,j.field,je)}const W=function(_e,je){for(const Se of _e.filters)if(je.indexOf(Se.op)>=0)return Se.op;return null}(F,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==W)throw new Re(de.INVALID_ARGUMENT,W===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${W.toString()}' filters.`)}(r,k),k}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new vs(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new oa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class W2 extends yw{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new xc(r,a);return function(f,_){if(null===M_(f)){const b=$b(f);null!==b&&WO(0,b,_.field)}}(i,u),u}(e._query,this.hc,this.dc);return new vs(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new oa(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class jO extends yw{constructor(e,t,i){super(),this.type=e,this._c=t,this.wc=i}_apply(e){return new vs(e.firestore,e.converter,YS(e._query,this._c,this.wc))}}class HO extends yw{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=$O(e,this.type,this.mc,this.gc);return new vs(e.firestore,e.converter,(r=t,new oa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class GO extends yw{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=$O(e,this.type,this.mc,this.gc);return new vs(e.firestore,e.converter,(r=t,new oa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $O(n,e,t,i){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof mw)return function(r,a,u,f,_){if(!f)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of jh(r))if(C.field.isKeyField())b.push(td(a,f.key));else{const I=f.data.field(C.field);if(br(I))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const k=C.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}b.push(I)}return new bl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ag(n.firestore);return function(a,u,f,_,b,C){const I=a.explicitOrderBy;if(b.length>I.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let F=0;F<b.length;F++){const j=b[F];if(I[F].field.isKeyField()){if("string"!=typeof j)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof j}`);if(!zp(a)&&-1!==j.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${j}' contains a slash.`);const W=a.path.child(sn.fromString(j));if(!ze.isDocumentKey(W))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const _e=new ze(W);k.push(td(u,_e))}else{const W=PO(f,_,j);k.push(W)}}return new bl(k,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function zO(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zp(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(sn.fromString(t));if(!ze.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return td(n,new ze(i))}if(t instanceof di)return td(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$C(t)}.`)}function qO(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WO(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class YA{convertValue(e,t="none"){switch(ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const i={};return Yu(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new qC(ui(e.latitude),ui(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xu(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=sn.fromString(e);kt(s(i));const r=new Ac(i.get(1),i.get(3)),a=new ze(i.popFirst(5));return r.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function QC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class tB extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}class ZO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,i){this._verifyNotCommitted();const r=sf(e,this._firestore),a=QC(r.converter,t,i),u=ZC(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Fi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=sf(e,this._firestore);let u;return u="string"==typeof(t=(0,tn.m9)(t))||t instanceof fd?WA(this._dataReader,"WriteBatch.update",a._key,t,i,r):qA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sf(e,this._firestore);return this._mutations=this._mutations.concat(new ld(t._key,Fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sf(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ug extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}function KO(n,e,t){n=dn(n,di);const i=dn(n.firestore,yi),r=QC(n.converter,e,t);return ay(i,[ZC(ag(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Fi.none())])}function YO(n,e,t,...i){n=dn(n,di);const r=dn(n.firestore,yi),a=ag(r);let u;return u="string"==typeof(e=(0,tn.m9)(e))||e instanceof fd?WA(a,"updateDoc",n._key,e,t,i):qA(a,"updateDoc",n._key,e),ay(r,[u.toMutation(n._key,Fi.exists(!0))])}function JO(n,...e){var t,i,r;n=(0,tn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||$A(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if($A(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let _,b,C;if(n instanceof di)b=dn(n.firestore,yi),C=sd(n._key.path),_={next:I=>{e[u]&&e[u](JA(b,n,I))},error:e[u+1],complete:e[u+2]};else{const I=dn(n,vs);b=dn(I.firestore,yi),C=I._query;const k=new ug(b);_={next:F=>{e[u]&&e[u](new nf(b,k,I,F))},error:e[u+1],complete:e[u+2]},UO(n._query)}return function(I,k,F,j){const W=new HC(j),_e=new lA(k,W,F);return I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return iA(yield oy(I),_e)})),()=>{W.pa(),I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return sA(yield oy(I),_e)}))}}(or(b),C,f,_)}function ay(n,e){return function(t,i){const r=new Ci;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function WL(n,e,t){return fA.apply(this,arguments)}(yield jA(t),i,r)})),r.promise}(or(n),e)}function JA(n,e,t){const i=t.docs.get(e._key),r=new ug(n);return new pd(n,r,e._key,i,new cg(t.hasPendingWrites,t.fromCache),e.converter)}class dB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=sf(e,this._firestore),i=new tB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ut();const a=r[0];if(a.isFoundDocument())return new mw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new mw(this._firestore,i,t._key,null,t.converter);throw ut()})}set(e,t,i){const r=sf(e,this._firestore),a=QC(r.converter,t,i),u=ZC(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=sf(e,this._firestore);let u;return u="string"==typeof(t=(0,tn.m9)(t))||t instanceof fd?WA(this._dataReader,"Transaction.update",a._key,t,i,r):qA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sf(e,this._firestore),i=new ug(this._firestore);return super.get(e).then(r=>new pd(this._firestore,i,t._key,r._document,new cg(!1,!1),t.converter))}}function QA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function XO(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function ek(){if(!function GS(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Bh=Fu.SDK_VERSION,(0,Fu._registerComponent)(new Dm.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new yi(r,new XD(t.getProvider("auth-internal")),new HS(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Fu.registerVersion)(QD,"3.4.7",n),(0,Fu.registerVersion)(QD,"3.4.7","esm2017")}();class vw{constructor(e){this._delegate=e}static fromBase64String(e){return ek(),new vw(Pc.fromBase64String(e))}static fromUint8Array(e){return XO(),new vw(Pc.fromUint8Array(e))}toBase64(){return ek(),this._delegate.toBase64()}toUint8Array(){return XO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XA(n){return function bB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class wB{enableIndexedDbPersistence(e,t){return function A2(n,e){NO(n=dn(n,yi));const t=or(n),i=n._freezeSettings(),r=new RA;return xO(t,r,new hO(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function M2(n){NO(n=dn(n,yi));const e=or(n),t=n._freezeSettings(),i=new RA;return xO(e,i,new u2(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function x2(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!Hs.vt())return Promise.resolve();const r=i+"main";yield Hs.delete(r)}),function(i){return t.apply(this,arguments)})(SI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class tk{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ku("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function D2(n,e,t,i={}){var r;const a=(n=dn(n,pw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ku("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=rr.MOCK_USER;else{u=(0,tn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new rr(_)}n._authCredentials=new jS(new Lp(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function O2(n){return function g2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield mO(n),t=yield _O(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),hw(r)}(t)}))}(or(n=dn(n,yi)))}(this._delegate)}disableNetwork(){return function k2(n){return function m2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield mO(n),t=yield _O(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=Qe(r);a.lu.add(0),yield X_(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(or(n=dn(n,yi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,wO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function N2(n){return function(e){const t=new Ci;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function JL(n,e){return yA.apply(this,arguments)}(yield jA(e),t)})),t.promise}(or(n=dn(n,yi)))}(this._delegate)}onSnapshotsInSync(e){return function uB(n,e){return function v2(n,e){const t=new HC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield oy(n),r=t,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield oy(n),r=t,void Qe(i).Tu.delete(r);var i,r}))}}(or(n=dn(n,yi)),$A(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ly(this,SO(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ua(this,zC(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,function C2(n,e){if(n=dn(n,pw),GA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new oa(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hB(n,e){return function b2(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(r=n,GC(r).then(a=>a.datastore));var r;new f2(n.asyncQueue,i,e,t).run()})),t.promise}(or(n=dn(n,yi)),t=>e(new dB(n,t)))}(this._delegate,t=>e(new nk(this,t)))}batch(){return or(this._delegate),new ik(new ZO(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function R2(n,e){const t=or(n=dn(n,yi)),i=new S2;return function w2(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return fO(_,b);if(_ instanceof ArrayBuffer)return fO(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new d2(_,u);var _}(t,dw(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function c2(n,e,t){const i=Qe(n);var r;(r=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(k,F){const j=Qe(k),W=sr(F.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",_e=>j.ds.getBundleMetadata(_e,F.id)).then(_e=>!!_e&&_e.createTime.compareTo(W)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=_).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(nO(_));const b=new jL(_,a.localStore,u.M);let C=yield u.fa();for(;C;){const k=yield b.Nu(C);k&&f._updateProgress(k),C=yield u.fa()}const I=yield b.complete();return yield hd(a,I.Ou,void 0),yield function(k,F){const j=Qe(k);return j.persistence.runTransaction("Save bundle","readwrite",W=>j.ds.saveBundleMetadata(W,F))}(a.localStore,_),f._completeWith(I.progress),Promise.resolve(I.Mu)}catch(_){return Ku("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var k}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield jA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function P2(n,e){return function E2(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.ds.getNamedQuery(a,i))}(yield UA(n),e)}))}(or(n=dn(n,yi)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $s(this,t):null)}}class XC extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new vw(new Pc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ua.forKey(t,this.firestore,null)}}class nk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}get(e){const t=hg(e);return this._delegate.get(t).then(i=>new bw(this._firestore,new pd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=hg(e);return i?(QA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=hg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}}class ik{constructor(e){this._delegate=e}set(e,t,i){const r=hg(e);return i?(QA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=hg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new _w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ww(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=dg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new dg(e,new XC(e),t),r.set(t,a)),a}}dg.INSTANCES=new WeakMap;class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ua(t,new di(t._delegate,i,new ze(e)))}static forKey(e,t,i){return new Ua(t,new di(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ly(this.firestore,SO(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof di&&IO(this._delegate,e)}set(e,t){t=QA("DocumentReference.set",t);try{return t?KO(this._delegate,e,t):KO(this._delegate,e)}catch(i){throw Gs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?YO(this._delegate,e):YO(this._delegate,e,t,...i)}catch(r){throw Gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function lB(n){return ay(dn(n.firestore,yi),[new ld(n._key,Fi.none())])}(this._delegate)}onSnapshot(...e){const t=rk(e),i=sk(e,r=>new bw(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JO(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iB(n){n=dn(n,di);const e=dn(n.firestore,yi),t=or(e),i=new ug(e);return function _2(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield function(_,b){const C=Qe(_);return C.persistence.runTransaction("read document","readonly",I=>C.ai.Bs(I,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ny(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield UA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new pd(e,i,n._key,r,new cg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rB(n){n=dn(n,di);const e=dn(n.firestore,yi);return yO(or(e),n._key,{source:"server"}).then(t=>JA(e,n,t))}(this._delegate):function nB(n){n=dn(n,di);const e=dn(n.firestore,yi);return yO(or(e),n._key).then(t=>JA(e,n,t))}(this._delegate),t.then(i=>new bw(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function rk(n){for(const e of n)if("object"==typeof e&&!XA(e))return e;return{}}function sk(n,e){var t,i;let r;return r=XA(n[0])?n[0]:XA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class bw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return VO(this._delegate,e._delegate)}}class ww extends bw{data(e){const t=this._delegate.data(e);return function Fp(n,e){n||ut()}(void 0!==t),t}}class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}where(e,t,i){try{return new $s(this.firestore,rf(this._delegate,function q2(n,e,t){const i=e,r=JC("where",n);return new z2(r,i,t)}(e,t,i)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $s(this.firestore,rf(this._delegate,function Z2(n,e="asc"){const t=e,i=JC("orderBy",n);return new W2(i,t)}(e,t)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,rf(this._delegate,function K2(n){return CO("limit",n),new jO("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,rf(this._delegate,function Y2(n){return CO("limitToLast",n),new jO("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,rf(this._delegate,function J2(...n){return new HO("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,rf(this._delegate,function Q2(...n){return new HO("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,rf(this._delegate,function X2(...n){return new GO("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,rf(this._delegate,function eB(...n){return new GO("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return AO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function oB(n){n=dn(n,vs);const e=dn(n.firestore,yi),t=or(e),i=new ug(e);return function y2(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield FC(r,a,!0),_=new sO(a,f.hi),b=_.Gu(f.documents),C=_.applyChanges(b,!1);u.resolve(C.snapshot)}catch(f){const _=ny(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield UA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new nf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function aB(n){n=dn(n,vs);const e=dn(n.firestore,yi),t=or(e),i=new ug(e);return vO(t,n._query,{source:"server"}).then(r=>new nf(e,i,n,r))}(this._delegate):function sB(n){n=dn(n,vs);const e=dn(n.firestore,yi),t=or(e),i=new ug(e);return UO(n._query),vO(t,n._query).then(r=>new nf(e,i,n,r))}(this._delegate),t.then(i=>new eM(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=rk(e),i=sk(e,r=>new eM(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JO(this._delegate,t,i)}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class DB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new ww(this._firestore,i))})}isEqual(e){return VO(this._delegate,e._delegate)}}class ly extends $s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ua(this.firestore,e):null}doc(e){try{return new Ua(this.firestore,void 0===e?zC(this._delegate):zC(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function cB(n,e){const t=dn(n.firestore,yi),i=zC(n),r=QC(n.converter,e);return ay(t,[ZC(ag(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ua(this.firestore,t))}isEqual(e){return IO(this._delegate,e._delegate)}withConverter(e){return new ly(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function hg(n){return dn(n,di)}class tM{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new tM(Yi.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pB(){return new zA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fg(e)}static delete(){const e=function fB(){return new gw("deleteField")}();return e._methodName="FieldValue.delete",new fg(e)}static arrayUnion(...e){const t=function gB(...n){return new V2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fg(t)}static arrayRemove(...e){const t=function mB(...n){return new U2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fg(t)}static increment(e){const t=function _B(n){return new j2("increment",n)}(e);return t._methodName="FieldValue.increment",new fg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CB={Firestore:tk,GeoPoint:qC,Timestamp:Ti,Blob:vw,Transaction:nk,WriteBatch:ik,DocumentReference:Ua,DocumentSnapshot:bw,Query:$s,QueryDocumentSnapshot:ww,QuerySnapshot:eM,CollectionReference:ly,FieldPath:tM,FieldValue:fg,setLogLevel:function EB(n){!function VS(n){Cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ok(n,e){return function IB(n,e=Th.z){return new Pn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function nM(n,e){return ok(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function e1(n,e){return nM(n,e).pipe(ai(void 0),v0(),(0,pt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(C=>C.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function ak(n,e,t){return e1(n,t).pipe(zi((i,r)=>function MB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function xB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return iM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return iM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return iM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),ei(),(0,pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function iM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function lk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function SB(n){(function TB(n,e){n.INTERNAL.registerComponent(new Dm.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},CB)))})(n,(e,t)=>new tk(e,t,new wB)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(sS.Z);class ck{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=e1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ai(void 0),v0(),Mn(([i,r])=>r.length>0||!i),(0,pt.U)(([i,r])=>r),_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(zi((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=lk(e);return ak(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return nM(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),_r.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(_r.iC)}add(e){return this.ref.add(e)}doc(e){return new uk(this.ref.doc(e),this.afs)}}class uk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=dk(i,t);return new ck(r,a,this.afs)}snapshotChanges(){return function AB(n,e){return ok(n,e).pipe(ai(void 0),v0(),(0,pt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xn.D)(this.ref.get(e)).pipe(_r.iC)}}class NB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?e1(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Mn(t=>t.length>0),_r.iC):e1(this.query,this.afs.schedulers.outsideAngular).pipe(_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(zi((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=lk(e);return ak(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return nM(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),_r.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(_r.iC)}}const OB=new l.OlP("angularfire2.enableFirestorePersistence"),kB=new l.OlP("angularfire2.firestore.persistenceSettings"),RB=new l.OlP("angularfire2.firestore.settings"),PB=new l.OlP("angularfire2.firestore.use-emulator");function dk(n,e=(t=>t)){return{query:e(n),ref:n}}let FB=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,I,k,F,j,W,_e,je,Se){this.schedulers=_;const nt=(0,Oa.on)(t,f,i),Pe=C;I&&iS(nt,f,k,j,W,_e,F,je),[this.firestore,this.persistenceEnabled$]=(0,Oa.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const Ye=f.runOutsideAngular(()=>nt.firestore());if(a&&Ye.settings(a),Pe&&Ye.useEmulator(...Pe),r&&!Oi(u)){const qe=()=>{try{return(0,Xn.D)(Ye.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Et){return"undefined"!=typeof console&&console.warn(Et),ct(!1)}};return[Ye,f.runOutsideAngular(qe)]}return[Ye,ct(!1)]},[a,Pe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=dk(r,i),f=this.schedulers.ngZone.run(()=>a);return new ck(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new NB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new uk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Oa.Dh),l.LFG(Oa.xv,8),l.LFG(OB,8),l.LFG(RB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_r.HU),l.LFG(kB,8),l.LFG(PB,8),l.LFG(Fm,8),l.LFG(f0,8),l.LFG(p0,8),l.LFG(g0,8),l.LFG(m0,8),l.LFG(_0,8),l.LFG(y0,8),l.LFG(fp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rM=(()=>{class n{constructor(t,i){this.fauth=t,this.afs=i,this.loggedIn=new Rn(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}logout(){return this.fauth.signOut()}register(t,i){return this.fauth.createUserWithEmailAndPassword(t,i)}login(t,i){return this.fauth.signInWithEmailAndPassword(t,i)}loginGoogle(){var t=this;return(0,we.Z)(function*(){return t.fauth.signInWithPopup(new $v.Z.auth.GoogleAuthProvider)})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fm),l.LFG(FB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bs(n){return null!=n&&"false"!=`${n}`}function sM(n,e=0){return function LB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function gd(n){return n instanceof l.SBq?n.nativeElement:n}function hk(n,e=Th.z){return(0,oi.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,C=e.now();if(C<b)return r=this.schedule(void 0,b-C),void i.add(r);f()}t.subscribe((0,_n.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}let fk=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BB=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=gd(t);return new Pn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VB=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=bs(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=sM(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(hk(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BB),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fk]}),n})();const jB=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function HB(){return(0,l.f3M)(ie)}}),GB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aM,oM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function $B(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?GB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{aM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){aM=!1}let cy,wl=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ji(n){return n===io}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _k(){if(cy)return cy;if("object"!=typeof document||!document)return cy=new Set(mk),cy;let n=document.createElement("input");return cy=new Set(mk.filter(e=>(n.setAttribute("type",e),n.type===e))),cy}let Ew,n1,pg,lM;function t1(n){return function zB(){if(null==Ew&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ew=!0}))}finally{Ew=Ew||!1}return Ew}()?n:!!n.capture}function Dw(){if("object"!=typeof document||!document)return 0;if(null==n1){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),n1=0,0===n.scrollLeft&&(n.scrollLeft=1,n1=0===n.scrollLeft?1:2),n.remove()}return n1}function Cw(n){return n.composedPath?n.composedPath()[0]:n.target}var r1=P(5032);function bn(n){return(0,oi.e)((e,t)=>{(0,gr.Xf)(n).subscribe((0,_n.x)(t,()=>t.complete(),r1.Z)),!t.closed&&e.subscribe(t)})}let wk=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function oV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function sV(n){try{return n.frameElement}catch(e){return null}}(function pV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Dk(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=Dk(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function hV(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function fV(n){return!function lV(n){return function uV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function aV(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function cV(n){return function dV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ek(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ek(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Dk(n){if(!Ek(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gV{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Nn.q)(1)).subscribe(e)}}let mV=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new gV(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wk),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ck(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Tk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _V=new l.OlP("cdk-input-modality-detector-options"),yV={ignoreKeys:[18,17,224,91,16]},uy=t1({passive:!0,capture:!0});let vV=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Rn(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Cw(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ck(u)?"keyboard":"mouse"),this._mostRecentTarget=Cw(u))},this._onTouchstart=u=>{Tk(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cw(u))},this._options=Object.assign(Object.assign({},yV),a),this.modalityDetected=this._modality.pipe(function yk(n){return Mn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(ei()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,uy),r.addEventListener("mousedown",this._onMousedown,uy),r.addEventListener("touchstart",this._onTouchstart,uy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,uy),document.removeEventListener("mousedown",this._onMousedown,uy),document.removeEventListener("touchstart",this._onTouchstart,uy))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wl),l.LFG(l.R0b),l.LFG(ie),l.LFG(_V,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wV=new l.OlP("cdk-focus-monitor-default-options"),s1=t1({passive:!0,capture:!0});let Ik=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=f=>{const _=Cw(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let C=_;C;C=C.parentElement)b.call(this,f,C)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=gd(t);if(!this._platform.isBrowser||1!==r.nodeType)return ct(null);const a=function ZB(n){if(function WB(){if(null==lM){const n="undefined"!=typeof document?document.head:null;lM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lM}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new xt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=gd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=gd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Cw(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,s1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,s1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,s1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,s1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(wl),l.LFG(vV),l.LFG(ie,8),l.LFG(wV,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ak="cdk-high-contrast-black-on-white",Mk="cdk-high-contrast-white-on-black",cM="cdk-high-contrast-active";let EV=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cM),t.remove(Ak),t.remove(Mk),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(cM),t.add(Ak)):2===i&&(t.add(cM),t.add(Mk))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wl),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xk{}const md="*";function Nk(n,e){return{type:7,name:n,definitions:e,options:{}}}function uM(n,e=null){return{type:4,styles:e,timings:n}}function Ok(n,e=null){return{type:2,steps:n,options:e}}function dy(n){return{type:6,styles:n,offset:null}}function dM(n,e,t){return{type:0,name:n,styles:e,options:t}}function hM(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function kk(n){Promise.resolve(null).then(n)}class Tw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Rk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?kk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const un=!1;function Pk(n){return new l.vHH(3e3,un)}function iU(){return"undefined"!=typeof window&&void 0!==window.document}function pM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function af(n){switch(n.length){case 0:return new Tw;case 1:return n[0];default:return new Rk(n)}}function Fk(n,e,t,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(C=>{const I=C.offset,k=I==_,F=k&&b||{};Object.keys(C).forEach(j=>{let W=j,_e=C[j];if("offset"!==j)switch(W=e.normalizePropertyName(W,u),_e){case"!":_e=r[j];break;case md:_e=a[j];break;default:_e=e.normalizeStyleValue(j,W,_e,u)}F[W]=_e}),k||f.push(F),b=F,_=I}),u.length)throw function qV(n){return new l.vHH(3502,un)}();return f}function gM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&mM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&mM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&mM(t,"destroy",n)))}}function mM(n,e,t){const i=t.totalTime,a=_M(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function _M(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ca(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Lk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let yM=(n,e)=>!1,Bk=(n,e,t)=>[],Vk=null;function vM(n){const e=n.parentNode||n.host;return e===Vk?null:e}(pM()||"undefined"!=typeof Element)&&(iU()?(Vk=(()=>document.documentElement)(),yM=(n,e)=>{for(;e;){if(e===n)return!0;e=vM(e)}return!1}):yM=(n,e)=>n.contains(e),Bk=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let gg=null,Uk=!1;function jk(n){gg||(gg=function sU(){return"undefined"!=typeof document?document.body:null}()||{},Uk=!!gg.style&&"WebkitAppearance"in gg.style);let e=!0;return gg.style&&!function rU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gg.style,!e&&Uk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gg.style)),e}const Hk=yM,Gk=Bk;let $k=(()=>{class n{validateStyleProperty(t){return jk(t)}matchesElement(t,i){return!1}containsElement(t,i){return Hk(t,i)}getParentElement(t){return vM(t)}query(t,i,r){return Gk(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new Tw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bM=(()=>{class n{}return n.NOOP=new $k,n})();const wM="ng-enter",a1="ng-leave",l1="ng-trigger",c1=".ng-trigger",qk="ng-animating",EM=".ng-animating";function mg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DM(parseFloat(e[1]),e[2])}function DM(n,e){return"s"===e?1e3*n:n}function u1(n,e,t){return n.hasOwnProperty("duration")?n:function lU(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Pk()),{duration:0,delay:0,easing:""};r=DM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=DM(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function CV(){return new l.vHH(3100,un)}()),f=!0),a<0&&(e.push(function TV(){return new l.vHH(3101,un)}()),f=!0),f&&e.splice(_,0,Pk())}return{duration:r,delay:a,easing:u}}(n,e,t)}function hy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function lf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else hy(n,t);return t}function Zk(n,e,t){return t?e+":"+t+";":""}function Kk(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Zk(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Zk(0,dU(t),n.style[t]));n.setAttribute("style",e)}function Fc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=TM(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),pM()&&Kk(n))}function _g(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=TM(t);n.style[i]=""}),pM()&&Kk(n))}function Sw(n){return Array.isArray(n)?1==n.length?n[0]:Ok(n):n}const CM=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yk(n){let e=[];if("string"==typeof n){let t;for(;t=CM.exec(n);)e.push(t[1]);CM.lastIndex=0}return e}function d1(n,e,t){const i=n.toString(),r=i.replace(CM,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function IV(n){return new l.vHH(3003,un)}()),f=""),f.toString()});return r==i?n:r}function h1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const uU=/-+([a-z0-9])/g;function TM(n){return n.replace(uU,(...e)=>e[1].toUpperCase())}function dU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ua(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function AV(n){return new l.vHH(3004,un)}()}}function Jk(n,e){return window.getComputedStyle(n)[e]}function _U(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function yU(n,e,t){if(":"==n[0]){const _=function vU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function HV(n){return new l.vHH(3016,un)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function jV(n){return new l.vHH(3015,un)}()),e;const r=i[1],a=i[2],u=i[3];e.push(Qk(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(Qk(u,r))}(i,t,e)):t.push(n),t}const m1=new Set(["true","1"]),_1=new Set(["false","0"]);function Qk(n,e){const t=m1.has(n)||_1.has(n),i=m1.has(e)||_1.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?m1.has(n):_1.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?m1.has(e):_1.has(e)),u&&f}}const bU=new RegExp("s*:selfs*,?","g");function SM(n,e,t,i){return new wU(n).build(e,t,i)}class wU{constructor(e){this._driver=e}build(e,t,i){const r=new CU(t);this._resetContextStyleTimingState(r);const a=ua(this,Sw(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function xV(){return new l.vHH(3006,un)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function NV(){return new l.vHH(3007,un)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(y1(f)){const _=f;Object.keys(_).forEach(b=>{Yk(_[b]).forEach(C=>{u.hasOwnProperty(C)||a.add(C)})})}}),a.size&&(h1(a.values()),t.errors.push(function OV(n,e){return new l.vHH(3008,un)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ua(this,Sw(e.animation),t);return{type:1,matchers:_U(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:yg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ua(this,i,t)),options:yg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=ua(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:yg(e.options)}}visitAnimate(e,t){const i=function SU(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return IM(u1(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=IM(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||u1(i,e),IM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:dy({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=dy(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==md?i.push(u):t.errors.push(function kV(n){return new l.vHH(3002,un)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(y1(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],b=_[f];let C=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(t.errors.push(function RV(n,e,t,i,r){return new l.vHH(3010,un)}()),C=!1),a=b.startTime),C&&(_[f]={startTime:a,endTime:r}),t.options&&function cU(n,e,t){const i=e.params||{},r=Yk(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function SV(n){return new l.vHH(3001,un)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function PV(){return new l.vHH(3011,un)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const C=e.steps.map(je=>{const Se=this._makeStyleAst(je,t);let nt=null!=Se.offset?Se.offset:function TU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(y1(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(y1(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Se.styles),Pe=0;return null!=nt&&(a++,Pe=Se.offset=nt),_=_||Pe<0||Pe>1,f=f||Pe<b,b=Pe,u.push(Pe),Se});_&&t.errors.push(function FV(){return new l.vHH(3012,un)}()),f&&t.errors.push(function LV(){return new l.vHH(3200,un)}());const I=e.steps.length;let k=0;a>0&&a<I?t.errors.push(function BV(){return new l.vHH(3202,un)}()):0==a&&(k=1/(I-1));const F=I-1,j=t.currentTime,W=t.currentAnimateTimings,_e=W.duration;return C.forEach((je,Se)=>{const nt=k>0?Se==F?1:k*Se:u[Se],Pe=nt*_e;t.currentTime=j+W.delay+Pe,W.duration=Pe,this._validateStyleAst(je,t),je.offset=nt,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:ua(this,Sw(e.animation),t),options:yg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function EU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(bU,"")),n=n.replace(/@\*/g,c1).replace(/@\w+/g,t=>c1+"-"+t.substr(1)).replace(/:animating/g,EM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ca(t.collectedStyles,t.currentQuerySelector,{});const f=ua(this,Sw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:yg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function VV(){return new l.vHH(3013,un)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:u1(e.timings,t.errors,!0);return{type:12,animation:ua(this,Sw(e.animation),t),timings:i,options:null}}}class CU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function y1(n){return!Array.isArray(n)&&"object"==typeof n}function yg(n){return n?(n=hy(n)).params&&(n.params=function DU(n){return n?hy(n):null}(n.params)):n={},n}function IM(n,e,t){return{duration:n,delay:e,easing:t}}function AM(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class v1{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MU=new RegExp(":enter","g"),NU=new RegExp(":leave","g");function MM(n,e,t,i,r,a={},u={},f,_,b=[]){return(new OU).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class OU{buildKeyframes(e,t,i,r,a,u,f,_,b,C=[]){b=b||new v1;const I=new xM(e,t,b,r,a,C,[]);I.options=_,I.currentTimeline.setStyles([u],null,I.errors,_),ua(this,i,I);const k=I.timelines.filter(F=>F.containsAnimation());if(Object.keys(f).length){let F;for(let j=k.length-1;j>=0;j--){const W=k[j];if(W.element===t){F=W;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([f],null,I.errors,_)}return k.length?k.map(F=>F.buildKeyframes()):[AM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?mg(i.duration):null,f=null!=i.delay?mg(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ua(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=b1);const u=mg(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ua(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?mg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ua(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return u1(t.params?d1(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?mg(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=b1);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const I=t.createSubContext(e.options,b);a&&I.delayNextStep(a),b===t.element&&(_=I.currentTimeline),ua(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const I=C.currentTime;ua(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const b1={};class xM{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=b1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new w1(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=mg(i.duration)),null!=i.delay&&(r.delay=mg(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=d1(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new xM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=b1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new kU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(MU,"."+this._enterClassName)).replace(NU,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function UV(n){return new l.vHH(3014,un)}()),f}}class w1{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new w1(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||md,this._currentKeyframe[t]=md}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function RU(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=md})):lf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=d1(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:md),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=lf(f,!0);Object.keys(b).forEach(C=>{const I=b[C];"!"==I?e.add(C):I==md&&t.add(C)}),i||(b.offset=_/this.duration),r.push(b)});const a=e.size?h1(e.values()):[],u=t.size?h1(t.values()):[];if(i){const f=r[0],_=hy(f);f.offset=0,_.offset=1,r=[f,_]}return AM(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class kU extends w1{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=lf(e[0],!1);_.offset=0,a.push(_);const b=lf(e[0],!1);b.offset=tR(f),a.push(b);const C=e.length-1;for(let I=1;I<=C;I++){let k=lf(e[I],!1);k.offset=tR((t+k.offset*i)/u),a.push(k)}i=u,t=0,r="",e=a}return AM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function tR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NM{}class PU extends NM{normalizePropertyName(e,t){return TM(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(FU[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function MV(n,e){return new l.vHH(3005,un)}())}return u+a}}const FU=(()=>function LU(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function nR(n,e,t,i,r,a,u,f,_,b,C,I,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:I,errors:k}}const OM={};class iR{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function BU(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,f,_,b,C){const I=[],k=this.ast.options&&this.ast.options.params||OM,j=this.buildStyles(i,f&&f.params||OM,I),W=_&&_.params||OM,_e=this.buildStyles(r,W,I),je=new Set,Se=new Map,nt=new Map,Pe="void"===r,Ye={params:Object.assign(Object.assign({},k),W)},qe=C?[]:MM(e,t,this.ast.animation,a,u,j,_e,Ye,b,I);let Et=0;if(qe.forEach(hn=>{Et=Math.max(hn.duration+hn.delay,Et)}),I.length)return nR(t,this._triggerName,i,r,Pe,j,_e,[],[],Se,nt,Et,I);qe.forEach(hn=>{const jt=hn.element,Lt=ca(Se,jt,{});hn.preStyleProps.forEach(Ji=>Lt[Ji]=!0);const bi=ca(nt,jt,{});hn.postStyleProps.forEach(Ji=>bi[Ji]=!0),jt!==t&&je.add(jt)});const It=h1(je.values());return nR(t,this._triggerName,i,r,Pe,j,_e,qe,It,Se,nt,Et)}}class VU{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=hy(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=d1(_,r,t));const b=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,b,_,t),i[b]=_})}}),i}}class jU{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new VU(r.style,r.options&&r.options.params||{},i)}),rR(this.states,"true","1"),rR(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new iR(e,r,this.states))}),this.fallbackTransition=function HU(n,e,t){return new iR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function rR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const GU=new v1;class $U{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=SM(this._driver,t,i,[]);if(i.length)throw function WV(n){return new l.vHH(3503,un)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=Fk(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const f=new Map;if(a?(u=MM(this._driver,t,a,wM,a1,{},{},i,GU,r),u.forEach(C=>{const I=ca(f,C.element,{});C.postStyleProps.forEach(k=>I[k]=null)})):(r.push(function ZV(){return new l.vHH(3300,un)}()),u=[]),r.length)throw function KV(n){return new l.vHH(3504,un)}();f.forEach((C,I)=>{Object.keys(C).forEach(k=>{C[k]=this._driver.computeStyle(I,k,md)})});const b=af(u.map(C=>{const I=f.get(C.element);return this._buildPlayer(C,{},I)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function YV(n){return new l.vHH(3301,un)}();return t}listen(e,t,i,r){const a=_M(t,"","","");return gM(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const sR="ng-animate-queued",kM="ng-animate-disabled",KU=[],oR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class RM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function ej(n){return null!=n?n:null}(i?e.value:e),i){const a=hy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Iw="void",PM=new RM(Iw);class JU{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function JV(n,e){return new l.vHH(3302,un)}();if(null==i||0==i.length)throw function QV(n){return new l.vHH(3303,un)}();if(!function tj(n){return"start"==n||"done"==n}(i))throw function XV(n,e){return new l.vHH(3400,un)}();const a=ca(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=ca(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ha(e,l1),Ha(e,l1+"-"+t),f[t]=PM),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function eU(n){return new l.vHH(3401,un)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new FM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ha(e,l1),Ha(e,l1+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const b=new RM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[t]=b,_||(_=PM),b.value!==Iw&&_.value===b.value){if(!function rj(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const W=[],_e=a.matchStyles(_.value,_.params,W),je=a.matchStyles(b.value,b.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{_g(e,_e),Fc(e,je)})}return}const k=ca(this._engine.playersByElement,e,[]);k.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let F=a.matchTransition(_.value,b.value,e,b.params),j=!1;if(!F){if(!r)return;F=a.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:_,toState:b,player:u,isFallbackTransition:j}),j||(Ha(e,sR),u.onStart(()=>{fy(e,sR)})),u.onDone(()=>{let W=this.players.indexOf(u);W>=0&&this.players.splice(W,1);const _e=this._engine.playersByElement.get(e);if(_e){let je=_e.indexOf(u);je>=0&&_e.splice(je,1)}}),this.players.push(u),k.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,c1,!0);i.forEach(r=>{if(r[ja])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,Iw,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&af(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||PM,C=new RM(Iw),I=new FM(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:C,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ja];(!a||a===oR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=_M(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,gM(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class QU{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new JU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(E1(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!E1(t))return;const a=t[ja];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,kM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fy(e,kM))}removeNode(e,t,i,r){if(E1(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ja]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return E1(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,c1,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,EM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return af(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ja];if(i&&i.setForRemoval){if(e[ja]=oR,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(kM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ha(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?af(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function tU(n){return new l.vHH(3402,un)}()}_flushAnimations(e,t){const i=new v1,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(Xe=>{C.add(Xe);const dt=this.driver.query(Xe,".ng-animate-queued",!0);for(let Mt=0;Mt<dt.length;Mt++)C.add(dt[Mt])});const I=this.bodyNode,k=Array.from(this.statesByElement.keys()),F=cR(k,this.collectedEnterElements),j=new Map;let W=0;F.forEach((Xe,dt)=>{const Mt=wM+W++;j.set(dt,Mt),Xe.forEach(Jt=>Ha(Jt,Mt))});const _e=[],je=new Set,Se=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const dt=this.collectedLeaveElements[Xe],Mt=dt[ja];Mt&&Mt.setForRemoval&&(_e.push(dt),je.add(dt),Mt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Jt=>je.add(Jt)):Se.add(dt))}const nt=new Map,Pe=cR(k,Array.from(je));Pe.forEach((Xe,dt)=>{const Mt=a1+W++;nt.set(dt,Mt),Xe.forEach(Jt=>Ha(Jt,Mt))}),e.push(()=>{F.forEach((Xe,dt)=>{const Mt=j.get(dt);Xe.forEach(Jt=>fy(Jt,Mt))}),Pe.forEach((Xe,dt)=>{const Mt=nt.get(dt);Xe.forEach(Jt=>fy(Jt,Mt))}),_e.forEach(Xe=>{this.processLeaveNode(Xe)})});const Ye=[],qe=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(t).forEach(Mt=>{const Jt=Mt.player,Ii=Mt.element;if(Ye.push(Jt),this.collectedEnterElements.length){const ar=Ii[ja];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(Mt.triggerName)){const Ws=ar.previousTriggersValues.get(Mt.triggerName),za=this.statesByElement.get(Mt.element);za&&za[Mt.triggerName]&&(za[Mt.triggerName].value=Ws)}return void Jt.destroy()}}const Mo=!I||!this.driver.containsElement(I,Ii),Cr=nt.get(Ii),da=j.get(Ii),xn=this._buildInstruction(Mt,i,da,Cr,Mo);if(xn.errors&&xn.errors.length)return void qe.push(xn);if(Mo)return Jt.onStart(()=>_g(Ii,xn.fromStyles)),Jt.onDestroy(()=>Fc(Ii,xn.toStyles)),void r.push(Jt);if(Mt.isFallbackTransition)return Jt.onStart(()=>_g(Ii,xn.fromStyles)),Jt.onDestroy(()=>Fc(Ii,xn.toStyles)),void r.push(Jt);const Sl=[];xn.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||Sl.push(ar)}),xn.timelines=Sl,i.append(Ii,xn.timelines),u.push({instruction:xn,player:Jt,element:Ii}),xn.queriedElements.forEach(ar=>ca(f,ar,[]).push(Jt)),xn.preStyleProps.forEach((ar,Ws)=>{const za=Object.keys(ar);if(za.length){let bd=_.get(Ws);bd||_.set(Ws,bd=new Set),za.forEach(Ig=>bd.add(Ig))}}),xn.postStyleProps.forEach((ar,Ws)=>{const za=Object.keys(ar);let bd=b.get(Ws);bd||b.set(Ws,bd=new Set),za.forEach(Ig=>bd.add(Ig))})});if(qe.length){const Xe=[];qe.forEach(dt=>{Xe.push(function nU(n,e){return new l.vHH(3505,un)}())}),Ye.forEach(dt=>dt.destroy()),this.reportError(Xe)}const Et=new Map,It=new Map;u.forEach(Xe=>{const dt=Xe.element;i.has(dt)&&(It.set(dt,dt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,Et))}),r.forEach(Xe=>{const dt=Xe.element;this._getPreviousPlayers(dt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Jt=>{ca(Et,dt,[]).push(Jt),Jt.destroy()})});const hn=_e.filter(Xe=>dR(Xe,_,b)),jt=new Map;lR(jt,this.driver,Se,b,md).forEach(Xe=>{dR(Xe,_,b)&&hn.push(Xe)});const bi=new Map;F.forEach((Xe,dt)=>{lR(bi,this.driver,new Set(Xe),_,"!")}),hn.forEach(Xe=>{const dt=jt.get(Xe),Mt=bi.get(Xe);jt.set(Xe,Object.assign(Object.assign({},dt),Mt))});const Ji=[],ff=[],pf={};u.forEach(Xe=>{const{element:dt,player:Mt,instruction:Jt}=Xe;if(i.has(dt)){if(C.has(dt))return Mt.onDestroy(()=>Fc(dt,Jt.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(Jt.totalTime),void r.push(Mt);let Ii=pf;if(It.size>1){let Cr=dt;const da=[];for(;Cr=Cr.parentNode;){const xn=It.get(Cr);if(xn){Ii=xn;break}da.push(Cr)}da.forEach(xn=>It.set(xn,Ii))}const Mo=this._buildAnimation(Mt.namespaceId,Jt,Et,a,bi,jt);if(Mt.setRealPlayer(Mo),Ii===pf)Ji.push(Mt);else{const Cr=this.playersByElement.get(Ii);Cr&&Cr.length&&(Mt.parentPlayer=af(Cr)),r.push(Mt)}}else _g(dt,Jt.fromStyles),Mt.onDestroy(()=>Fc(dt,Jt.toStyles)),ff.push(Mt),C.has(dt)&&r.push(Mt)}),ff.forEach(Xe=>{const dt=a.get(Xe.element);if(dt&&dt.length){const Mt=af(dt);Xe.setRealPlayer(Mt)}}),r.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<_e.length;Xe++){const dt=_e[Xe],Mt=dt[ja];if(fy(dt,a1),Mt&&Mt.hasAnimation)continue;let Jt=[];if(f.size){let Mo=f.get(dt);Mo&&Mo.length&&Jt.push(...Mo);let Cr=this.driver.query(dt,EM,!0);for(let da=0;da<Cr.length;da++){let xn=f.get(Cr[da]);xn&&xn.length&&Jt.push(...xn)}}const Ii=Jt.filter(Mo=>!Mo.destroyed);Ii.length?nj(this,dt,Ii):this.processLeaveNode(dt)}return _e.length=0,Ji.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const dt=this.players.indexOf(Xe);this.players.splice(dt,1)}),Xe.play()}),Ji}elementContainsData(e,t){let i=!1;const r=t[ja];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Iw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==a,I=ca(i,b,[]);this._getPreviousPlayers(b,C,u,f,t.toState).forEach(F=>{const j=F.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),F.destroy(),I.push(F)})}_g(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],C=new Set,I=new Set,k=t.timelines.map(j=>{const W=j.element;C.add(W);const _e=W[ja];if(_e&&_e.removedBeforeQueried)return new Tw(j.duration,j.delay);const je=W!==_,Se=function ij(n){const e=[];return uR(n,e),e}((i.get(W)||KU).map(Et=>Et.getRealPlayer())).filter(Et=>!!Et.element&&Et.element===W),nt=a.get(W),Pe=u.get(W),Ye=Fk(0,this._normalizer,0,j.keyframes,nt,Pe),qe=this._buildPlayer(j,Ye,Se);if(j.subTimeline&&r&&I.add(W),je){const Et=new FM(e,f,W);Et.setRealPlayer(qe),b.push(Et)}return qe});b.forEach(j=>{ca(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function XU(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,j.element,j))}),C.forEach(j=>Ha(j,qk));const F=af(k);return F.onDestroy(()=>{C.forEach(j=>fy(j,qk)),Fc(_,t.toStyles)}),I.forEach(j=>{ca(r,j,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Tw(e.duration,e.delay)}}class FM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Tw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>gM(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ca(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function E1(n){return n&&1===n.nodeType}function aR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function lR(n,e,t,i,r){const a=[];t.forEach(_=>a.push(aR(_)));const u=[];i.forEach((_,b)=>{const C={};_.forEach(I=>{const k=C[I]=e.computeStyle(b,I,r);(!k||0==k.length)&&(b[ja]=YU,u.push(b))}),n.set(b,C)});let f=0;return t.forEach(_=>aR(_,a[f++])),u}function cR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Ha(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function fy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function nj(n,e,t){af(t).onDone(()=>n.processLeaveNode(e))}function uR(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Rk?uR(i.players,e):e.push(i)}}function dR(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class D1{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new QU(e,t,i),this._timelineEngine=new $U(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],C=SM(this._driver,a,_,[]);if(_.length)throw function zV(n,e){return new l.vHH(3404,un)}();f=function UU(n,e,t){return new jU(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=Lk(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=Lk(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oj=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fc(this._element,this._initialStyles),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_g(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_g(this._element,this._endStyles),this._endStyles=null),Fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function LM(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];aj(r)&&(e=e||{},e[r]=n[r])}return e}function aj(n){return"display"===n||"position"===n}class hR{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:Jk(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class lj{validateStyleProperty(e){return jk(e)}matchesElement(e,t){return!1}containsElement(e,t){return Hk(e,t)}getParentElement(e){return vM(e)}query(e,t,i){return Gk(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},C=u.filter(k=>k instanceof hR);(function hU(n,e){return 0===n||0===e})(i,r)&&C.forEach(k=>{let F=k.currentSnapshot;Object.keys(F).forEach(j=>b[j]=F[j])}),t=function fU(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(_){f[_]=Jk(n,_)})}}return e}(e,t=t.map(k=>lf(k,!1)),b);const I=function sj(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=LM(e[0]),e.length>1&&(i=LM(e[e.length-1]))):e&&(t=LM(e)),t||i?new oj(n,t,i):null}(e,t);return new hR(e,t,_,I)}}let cj=(()=>{class n extends xk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Ok(t):t;return fR(this._renderer,null,i,"register",[r]),new uj(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uj extends class DV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dj(this._id,e,t||{},this._renderer)}}class dj{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function fR(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const pR="@.disabled";let hj=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new gR("",a,this.engine),this._rendererCache.set(a,C)),C}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(u,f,t,C.name,C)};return i.data.animation.forEach(_),new fj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(D1),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gR{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==pR?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fj extends gR{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pR?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function pj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function gj(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let mj=(()=>{class n extends D1{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(bM),l.LFG(NM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const py=new l.OlP("AnimationModuleType"),mR=[{provide:xk,useClass:cj},{provide:NM,useFactory:function _j(){return new PU}},{provide:D1,useClass:mj},{provide:l.FYo,useFactory:function yj(n,e,t){return new hj(n,e,t)},deps:[An,D1,l.R0b]}],_R=[{provide:bM,useFactory:()=>new lj},{provide:py,useValue:"BrowserAnimations"},...mR],vj=[{provide:bM,useClass:$k},{provide:py,useValue:"NoopAnimations"},...mR];let bj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?vj:_R}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:_R,imports:[va]}),n})();const Ej=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function wj(){return!0}});let zs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function KB(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(EV),l.LFG(Ej,8),l.LFG(ie))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pk],pk]}),n})();function Dj(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=bs(e)}}}function BM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Cj(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bs(e)}}}function Tj(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new xt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let vR=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ij{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bR={enterDuration:225,exitDuration:150},VM=t1({passive:!0}),wR=["mousedown","touchstart"],ER=["mouseup","mouseleave","touchend","touchcancel"];class Mj{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},bR),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function Nj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=_-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function xj(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const I=new Ij(this,C,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const k=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!k||!this._isPointerDown)&&I.fadeOut()},b),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},bR),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(wR))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ER),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Ck(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Tk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,VM)})})}_removeTriggerEvents(){this._triggerElement&&(wR.forEach(e=>{this._triggerElement.removeEventListener(e,this,VM)}),this._pointerUpEventsRegistered&&ER.forEach(e=>{this._triggerElement.removeEventListener(e,this,VM)}))}}const Oj=new l.OlP("mat-ripple-global-options");let DR=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Mj(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(wl),l.Y36(Oj,8),l.Y36(py,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zs],zs]}),n})();var Rj=P(1144);const Pj=["addListener","removeListener"],Fj=["addEventListener","removeEventListener"],Lj=["on","off"];function Er(n,e,t,i){if((0,Or.m)(t)&&(i=t,t=void 0),i)return Er(n,e,t).pipe(au(i));const[r,a]=function Uj(n){return(0,Or.m)(n.addEventListener)&&(0,Or.m)(n.removeEventListener)}(n)?Fj.map(u=>f=>n[u](e,f,t)):function Bj(n){return(0,Or.m)(n.addListener)&&(0,Or.m)(n.removeListener)}(n)?Pj.map(CR(n,e)):function Vj(n){return(0,Or.m)(n.on)&&(0,Or.m)(n.off)}(n)?Lj.map(CR(n,e)):[];if(!r&&(0,Rj.z)(n))return(0,On.z)(u=>Er(u,e,t))((0,gr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Pn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function CR(n,e){return t=>i=>n[t](e,i)}const jj=["connectionContainer"],Hj=["inputContainer"],Gj=["label"];function $j(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function zj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function qj(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function Wj(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function Zj(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Kj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,qj,4,1,"ng-container",12),l.YNc(3,Wj,1,0,"ng-content",12),l.YNc(4,Zj,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Yj(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Jj(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Qj(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Xj(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function eH(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Xj,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const tH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],nH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let iH=0;const TR=new l.OlP("MatError");let SR=(()=>{class n{constructor(t,i){this.id="mat-error-"+iH++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:TR,useExisting:n}])]}),n})();const rH={transitionMessages:Nk("transitionMessages",[dM("enter",dy({opacity:1,transform:"translateY(0%)"})),hM("void => enter",[dy({opacity:0,transform:"translateY(-5px)"}),uM("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})(),sH=0;const IR=new l.OlP("MatHint");let AR=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+sH++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,i){2&t&&(l.uIk("id",i.id)("align",null),l.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[l._Bn([{provide:IR,useExisting:n}])]}),n})(),T1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const aH=new l.OlP("MatPrefix"),MR=new l.OlP("MatSuffix");let xR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:MR,useExisting:n}])]}),n})(),NR=0;const cH=BM(class{constructor(n){this._elementRef=n}},"primary"),uH=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kR=new l.OlP("MatFormField");let RR=(()=>{class n extends cH{constructor(t,i,r,a,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+NR++,this._labelId="mat-form-field-label-"+NR++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=bs(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ai(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,zv.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ai(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ai(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Er(this._label.nativeElement,"transitionend").pipe((0,Nn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${a}`);for(let I=0;I<C.length;I++)C[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(C),k=t.children,F=this._getStartEnd(k[0].getBoundingClientRect());let j=0;for(let W=0;W<k.length;W++)j+=k[W].offsetWidth;u=Math.abs(F-I)-5,f=j>0?.75*j+10:0}for(let C=0;C<_.length;C++)_[C].style.width=`${u}px`;for(let C=0;C<b.length;C++)b[C].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(oM,8),l.Y36(uH,8),l.Y36(wl),l.Y36(l.R0b),l.Y36(py,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,UM,5),l.Suo(r,UM,7),l.Suo(r,T1,5),l.Suo(r,T1,7),l.Suo(r,oH,5),l.Suo(r,TR,5),l.Suo(r,IR,5),l.Suo(r,aH,5),l.Suo(r,MR,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(jj,7),l.Gf(Hj,5),l.Gf(Gj,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:kR,useExisting:n}]),l.qOj],ngContentSelectors:nH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(tH),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,$j,9,0,"ng-container",3),l.YNc(4,zj,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Kj,5,16,"label",8),l.qZA()(),l.YNc(10,Yj,2,0,"div",9),l.qZA(),l.YNc(11,Jj,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Qj,2,1,"div",12),l.YNc(14,eH,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[jn,VB,Ar,cr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[rH.transitionMessages]},changeDetection:0}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn,zs,UB],zs]}),n})();const PR=t1({passive:!0});let dH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ks.E;const i=gd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new xt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,PR),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,PR)}}),a}stopMonitoring(t){const i=gd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hH=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),fH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pH=0;const gH=Tj(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let LR=(()=>{class n extends gH{constructor(t,i,r,a,u,f,_,b,C,I){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=I,this._uid="mat-input-"+pH++,this.focused=!1,this.stateChanges=new xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>_k().has(j)),this._iOSKeyupListener=j=>{const W=j.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,F=k.nodeName.toLowerCase();this._inputValueAccessor=_||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=bs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(xa.required))&&void 0!==a&&a}set required(t){this._required=bs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&_k().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=bs(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){fH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(wl),l.Y36(lc,10),l.Y36(dh,8),l.Y36(fl,8),l.Y36(vR),l.Y36(hH,10),l.Y36(dH),l.Y36(l.R0b),l.Y36(kR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:UM,useExisting:n}]),l.qOj,l.TTD]}),n})(),mH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vR],imports:[[FR,jM,zs],FR,jM]}),n})();function _H(n,e){1&n&&(l.TgZ(0,"div",3),l._UZ(1,"div",4),l.qZA())}function yH(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.getErrorMessage("username")," ")}}function vH(n,e){if(1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.getErrorMessage("password")," ")}}function bH(n,e){if(1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"mat-hint",14),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.errorMsj)}}function wH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"h2"),l._uU(2,"Welcome to Play-Room"),l.qZA(),l.TgZ(3,"div",5)(4,"mat-form-field")(5,"mat-label"),l._uU(6,"Email"),l.qZA(),l._UZ(7,"input",6),l.YNc(8,yH,2,1,"mat-error",2),l.qZA()(),l.TgZ(9,"div",5)(10,"mat-form-field")(11,"mat-label"),l._uU(12,"Password"),l.qZA(),l._UZ(13,"input",7),l.O4$(),l.TgZ(14,"svg",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.hide=!r.hide}),l._UZ(15,"path",9)(16,"path",10),l.qZA(),l.YNc(17,vH,2,1,"mat-error",2),l.YNc(18,bH,2,1,"mat-hint",11),l.qZA()(),l.kcU(),l.TgZ(19,"button",12),l.NdJ("click",function(){return l.CHM(t),l.oxw().onLogin()}),l._uU(20,"Sign In"),l.qZA(),l._UZ(21,"br"),l.TgZ(22,"button",13),l.NdJ("click",function(){return l.CHM(t),l.oxw().completarLogin()}),l.TgZ(23,"span"),l._uU(24,"Completar Login"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(8),l.Q6J("ngIf",t.isNotValidField("username")),l.xp6(5),l.Q6J("type",t.hide?"text":"password"),l.xp6(4),l.Q6J("ngIf",t.isNotValidField("password")),l.xp6(1),l.Q6J("ngIf",t.error),l.xp6(1),l.Q6J("disabled",t.loginForm.invalid)}}let EH=(()=>{class n{constructor(t,i,r){this.router=t,this.formBuilder=i,this.auth=r,this.cargando=!1,this.firstTime=!1,this.hide=!1,this.usuario="",this.error=!1,this.errorMsj="",this.loginForm=this.formBuilder.group({username:["",[xa.required,xa.email]],password:["",[xa.required,xa.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.username,this.loginForm.value.password).then(t=>{t&&(this.auth.user=t.user,this.auth.loggedIn.next(!0),localStorage.setItem("nickname",this.auth.user.displayName),this.router.navigate([""]),this.cargando=!1)}).catch(t=>{this.errorMsj=t.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",t)})}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[t].hasError("email")&&(i="Not valid email."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}completarLogin(){this.loginForm.setValue({username:"usuario@gmail.com",password:"123456"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr),l.Y36(Gv),l.Y36(rM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:3,consts:[[1,"form","sign-in",3,"formGroup"],["class","test","style","margin-top: 15vh;",4,"ngIf"],[4,"ngIf"],[1,"test",2,"margin-top","15vh"],["role","status",1,"spinner-border",2,"width","10rem","height","10rem"],[1,"test"],["matInput","","formControlName","username","required",""],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-slash-fill",3,"click"],["d","m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"],["d","M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"],["style","color: red;",4,"ngIf"],["type","button",1,"submit",3,"disabled","click"],["type","button",1,"fb-btn",3,"click"],[2,"color","red"]],template:function(t,i){1&t&&(l.TgZ(0,"form",0),l.YNc(1,_H,2,0,"div",1),l.YNc(2,wH,25,5,"div",2),l.qZA()),2&t&&(l.Q6J("formGroup",i.loginForm),l.xp6(1),l.Q6J("ngIf",i.cargando),l.xp6(1),l.Q6J("ngIf",!i.cargando))},directives:[_m,fE,fl,jn,RR,T1,LR,Yf,cm,ym,ph,SR,xR,AR],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}.cont[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;background:#ededed}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:none;outline:none;background:none;font-family:Open Sans,Helvetica,Arial,sans-serif}.tip[_ngcontent-%COMP%]{font-size:20px;margin:40px auto 50px;text-align:center}.cont[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:900px;height:550px;margin:0 auto 100px;background:#ededed}.form[_ngcontent-%COMP%]{position:relative;width:640px;height:100%;transition:transform 1.2s ease-in-out;padding:50px 30px 0}.sub-cont[_ngcontent-%COMP%]{overflow:hidden;position:absolute;left:640px;top:0;width:900px;height:100%;padding-left:260px;background:#ededed;transition:transform 1.2s ease-in-out}.cont.s--signup[_ngcontent-%COMP%]   .sub-cont[_ngcontent-%COMP%]{transform:translate(-640px)}button[_ngcontent-%COMP%]{display:block;margin:0 auto;width:260px;height:36px;border-radius:30px;color:#fff;font-size:15px;cursor:pointer}.img[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:absolute;left:0;top:0;width:260px;height:100%;padding-top:360px}.img[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:900px;height:100%;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/sections-3.jpg);background-size:cover;transition:transform 1.2s ease-in-out}.img[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.6)}.cont.s--signup[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:before{transform:translate(640px)}.img__text[_ngcontent-%COMP%]{z-index:2;position:absolute;left:0;top:50px;width:100%;padding:0 20px;text-align:center;color:#fff;transition:transform 1.2s ease-in-out}.img__text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:400}.img__text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--up[_ngcontent-%COMP%]{transform:translate(520px)}.img__text.m--in[_ngcontent-%COMP%]{transform:translate(-520px)}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--in[_ngcontent-%COMP%]{transform:translate(0)}.img__btn[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:relative;width:100px;height:36px;margin:0 auto;background:transparent;color:#fff;text-transform:uppercase;font-size:15px;cursor:pointer}.img__btn[_ngcontent-%COMP%]:after{content:"";z-index:2;position:absolute;left:0;top:0;width:100%;height:100%;border:2px solid #fff;border-radius:30px}.img__btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:transform 1.2s}.img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(-72px)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(0)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--up[_ngcontent-%COMP%]{transform:translateY(72px)}h2[_ngcontent-%COMP%]{width:100%;font-size:26px;text-align:center}.test[_ngcontent-%COMP%]{display:block;width:260px;margin:25px auto 0;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding-bottom:5px;font-size:16px;text-align:center;border-color:#000}.submit[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:20px;background:rgba(0,0,0,.85);text-transform:uppercase}.fb-btn[_ngcontent-%COMP%]{border:2px solid #d4af7a;color:#af7f39}.fb-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#af7f39}.sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-out}.cont.s--signup[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-in-out;transition-duration:1.2s;transform:translate(640px)}.sign-up[_ngcontent-%COMP%]{transform:translate(-900px)}.cont.s--signup[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(0)}.icon-link[_ngcontent-%COMP%]{position:absolute;left:5px;bottom:5px;width:32px}.icon-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;vertical-align:top}.icon-link--twitter[_ngcontent-%COMP%]{left:auto;right:5px}']}),n})();function DH(n,e){1&n&&(l.TgZ(0,"div",3),l._UZ(1,"div",4),l.qZA())}function CH(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.getErrorMessage("username")," ")}}function TH(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.getErrorMessage("email")," ")}}function SH(n,e){if(1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.getErrorMessage("password")," ")}}function IH(n,e){if(1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"mat-hint",15),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.errorMsj)}}function AH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"h2"),l._uU(2,"Time to feel like home,"),l.qZA(),l.TgZ(3,"div",5)(4,"mat-form-field")(5,"mat-label"),l._uU(6,"Username"),l.qZA(),l._UZ(7,"input",6),l.YNc(8,CH,2,1,"mat-error",2),l.qZA()(),l.TgZ(9,"div",5)(10,"mat-form-field")(11,"mat-label"),l._uU(12,"Email"),l.qZA(),l._UZ(13,"input",7),l.YNc(14,TH,2,1,"mat-error",2),l.qZA()(),l.TgZ(15,"div",5)(16,"mat-form-field")(17,"mat-label"),l._uU(18,"password"),l.qZA(),l._UZ(19,"input",8),l.O4$(),l.TgZ(20,"svg",9),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.hide=!r.hide}),l._UZ(21,"path",10)(22,"path",11),l.qZA(),l.YNc(23,SH,2,1,"mat-error",2),l.YNc(24,IH,2,1,"mat-hint",12),l.qZA()(),l.kcU(),l.TgZ(25,"button",13),l.NdJ("click",function(){return l.CHM(t),l.oxw().onRegistrar()}),l._uU(26,"Sign Up"),l.qZA(),l.TgZ(27,"button",14),l._uU(28,"Join with "),l.TgZ(29,"span"),l._uU(30,"Google"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(8),l.Q6J("ngIf",t.isNotValidField("username")),l.xp6(6),l.Q6J("ngIf",t.isNotValidField("email")),l.xp6(5),l.Q6J("type",t.hide?"text":"password"),l.xp6(4),l.Q6J("ngIf",t.isNotValidField("password")),l.xp6(1),l.Q6J("ngIf",t.error),l.xp6(1),l.Q6J("disabled",t.regisForm.invalid)}}let MH=(()=>{class n{constructor(t,i,r){this.router=t,this.formBuilder=i,this.auth=r,this.cargando=!1,this.hide=!0,this.mensaje="",this.error=!1,this.errorMsj="",this.regisForm=this.formBuilder.group({email:["",[xa.required,xa.email]],username:["",xa.required],password:["",[xa.required,xa.minLength(6)]]})}ngOnInit(){}get f(){return this.regisForm.controls}onRegistrar(){this.error=!1,this.cargando=!0,this.auth.register(this.regisForm.value.email,this.regisForm.value.password).then(t=>{t&&t.user.updateProfile({displayName:this.regisForm.value.username}).then(()=>{this.auth.user=t.user,this.auth.loggedIn.next(!0),localStorage.setItem("nickname",this.auth.user.displayName),this.router.navigate([""]),this.cargando=!1})}).catch(t=>{this.errorMsj=t.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",t)})}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[t].hasError("email")&&(i="Not valid email."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr),l.Y36(Gv),l.Y36(rM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:3,vars:3,consts:[[1,"form",3,"formGroup"],["class","test","style","margin-top: 15vh;",4,"ngIf"],[4,"ngIf"],[1,"test",2,"margin-top","15vh"],["role","status",1,"spinner-border",2,"width","10rem","height","10rem"],[1,"test"],["matInput","","formControlName","username","placeholder","Name","required",""],["matInput","","formControlName","email","placeholder","Email","required",""],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-slash-fill",3,"click"],["d","m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"],["d","M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"],["style","color: red;",4,"ngIf"],["type","button",1,"submit",3,"disabled","click"],["type","button",1,"fb-btn"],[2,"color","red"]],template:function(t,i){1&t&&(l.TgZ(0,"form",0),l.YNc(1,DH,2,0,"div",1),l.YNc(2,AH,31,6,"div",2),l.qZA()),2&t&&(l.Q6J("formGroup",i.regisForm),l.xp6(1),l.Q6J("ngIf",i.cargando),l.xp6(1),l.Q6J("ngIf",!i.cargando))},directives:[_m,fE,fl,jn,RR,T1,LR,Yf,cm,ym,ph,SR,xR,AR],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}.cont[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;background:#ededed}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:none;outline:none;background:none;font-family:Open Sans,Helvetica,Arial,sans-serif}.tip[_ngcontent-%COMP%]{font-size:20px;margin:40px auto 50px;text-align:center}.cont[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:900px;height:550px;margin:0 auto 100px;background:#ededed}.form[_ngcontent-%COMP%]{position:relative;width:640px;height:100%;transition:transform 1.2s ease-in-out;padding:50px 30px 0}.sub-cont[_ngcontent-%COMP%]{overflow:hidden;position:absolute;left:640px;top:0;width:900px;height:100%;padding-left:260px;background:#ededed;transition:transform 1.2s ease-in-out}.cont.s--signup[_ngcontent-%COMP%]   .sub-cont[_ngcontent-%COMP%]{transform:translate(-640px)}button[_ngcontent-%COMP%]{display:block;margin:0 auto;width:260px;height:36px;border-radius:30px;color:#fff;font-size:15px;cursor:pointer}.img[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:absolute;left:0;top:0;width:260px;height:100%;padding-top:360px}.img[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:900px;height:100%;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/sections-3.jpg);background-size:cover;transition:transform 1.2s ease-in-out}.img[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.6)}.cont.s--signup[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:before{transform:translate(640px)}.img__text[_ngcontent-%COMP%]{z-index:2;position:absolute;left:0;top:50px;width:100%;padding:0 20px;text-align:center;color:#fff;transition:transform 1.2s ease-in-out}.img__text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:400}.img__text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--up[_ngcontent-%COMP%]{transform:translate(520px)}.img__text.m--in[_ngcontent-%COMP%]{transform:translate(-520px)}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--in[_ngcontent-%COMP%]{transform:translate(0)}.img__btn[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:relative;width:100px;height:36px;margin:0 auto;background:transparent;color:#fff;text-transform:uppercase;font-size:15px;cursor:pointer}.img__btn[_ngcontent-%COMP%]:after{content:"";z-index:2;position:absolute;left:0;top:0;width:100%;height:100%;border:2px solid #fff;border-radius:30px}.img__btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:transform 1.2s}.img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(-72px)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(0)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--up[_ngcontent-%COMP%]{transform:translateY(72px)}h2[_ngcontent-%COMP%]{width:100%;font-size:26px;text-align:center}.test[_ngcontent-%COMP%]{display:block;width:260px;margin:25px auto 0;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding-bottom:5px;font-size:16px;text-align:center;border-color:#000}.submit[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:20px;background:rgba(0,0,0,.85);text-transform:uppercase}.fb-btn[_ngcontent-%COMP%]{border:2px solid #d4af7a;color:#af7f39}.fb-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#af7f39}.sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-out}.cont.s--signup[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-in-out;transition-duration:1.2s;transform:translate(640px)}.sign-up[_ngcontent-%COMP%]{transform:translate(-900px)}.cont.s--signup[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(0)}.icon-link[_ngcontent-%COMP%]{position:absolute;left:5px;bottom:5px;width:32px}.icon-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;vertical-align:top}.icon-link--twitter[_ngcontent-%COMP%]{left:auto;right:5px}']}),n})();const xH=[{path:"",component:tE},{path:"Login",component:(()=>{class n{constructor(){this.click=!1}ngOnInit(){}onClick(){this.click=!this.click}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-register"]],decls:21,vars:1,consts:[[1,"tip"],[1,"cont",3,"ngClass"],[1,"sub-cont"],[1,"img"],[1,"img__text","m--up"],[1,"img__text","m--in"],[1,"img__btn",3,"click"],[1,"m--up"],[1,"m--in"],[1,"sign-up"]],template:function(t,i){1&t&&(l._UZ(0,"p",0),l.TgZ(1,"div",1),l._UZ(2,"app-login"),l.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),l._uU(7,"New here?"),l.qZA(),l.TgZ(8,"p"),l._uU(9,"Sign up and discover great amount of new opportunities!"),l.qZA()(),l.TgZ(10,"div",5)(11,"h2"),l._uU(12,"One of us?"),l.qZA(),l.TgZ(13,"p"),l._uU(14,"If you already has an account, just sign in. We've missed you!"),l.qZA()(),l.TgZ(15,"div",6),l.NdJ("click",function(){return i.onClick()}),l.TgZ(16,"span",7),l._uU(17,"Sign Up"),l.qZA(),l.TgZ(18,"span",8),l._uU(19,"Sign In"),l.qZA()()(),l._UZ(20,"app-register",9),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("ngClass",i.click?"s--signup":""))},directives:[Qs,EH,MH],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}.cont[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;background:#ededed}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:none;outline:none;background:none;font-family:Open Sans,Helvetica,Arial,sans-serif}.tip[_ngcontent-%COMP%]{font-size:20px;margin:40px auto 50px;text-align:center}.cont[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:900px;height:550px;margin:0 auto 100px;background:#ededed}.form[_ngcontent-%COMP%]{position:relative;width:640px;height:100%;transition:transform 1.2s ease-in-out;padding:50px 30px 0}.sub-cont[_ngcontent-%COMP%]{overflow:hidden;position:absolute;left:640px;top:0;width:900px;height:100%;padding-left:260px;background:#ededed;transition:transform 1.2s ease-in-out}.cont.s--signup[_ngcontent-%COMP%]   .sub-cont[_ngcontent-%COMP%]{transform:translate(-640px)}button[_ngcontent-%COMP%]{display:block;margin:0 auto;width:260px;height:36px;border-radius:30px;color:#fff;font-size:15px;cursor:pointer}.img[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:absolute;left:0;top:0;width:260px;height:100%;padding-top:360px}.img[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:900px;height:100%;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/sections-3.jpg);background-size:cover;transition:transform 1.2s ease-in-out}.img[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.6)}.cont.s--signup[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:before{transform:translate(640px)}.img__text[_ngcontent-%COMP%]{z-index:2;position:absolute;left:0;top:50px;width:100%;padding:0 20px;text-align:center;color:#fff;transition:transform 1.2s ease-in-out}.img__text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:400}.img__text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--up[_ngcontent-%COMP%]{transform:translate(520px)}.img__text.m--in[_ngcontent-%COMP%]{transform:translate(-520px)}.cont.s--signup[_ngcontent-%COMP%]   .img__text.m--in[_ngcontent-%COMP%]{transform:translate(0)}.img__btn[_ngcontent-%COMP%]{overflow:hidden;z-index:2;position:relative;width:100px;height:36px;margin:0 auto;background:transparent;color:#fff;text-transform:uppercase;font-size:15px;cursor:pointer}.img__btn[_ngcontent-%COMP%]:after{content:"";z-index:2;position:absolute;left:0;top:0;width:100%;height:100%;border:2px solid #fff;border-radius:30px}.img__btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:transform 1.2s}.img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(-72px)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--in[_ngcontent-%COMP%]{transform:translateY(0)}.cont.s--signup[_ngcontent-%COMP%]   .img__btn[_ngcontent-%COMP%]   span.m--up[_ngcontent-%COMP%]{transform:translateY(72px)}h2[_ngcontent-%COMP%]{width:100%;font-size:26px;text-align:center}.test[_ngcontent-%COMP%]{display:block;width:260px;margin:25px auto 0;text-align:center}input[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding-bottom:5px;font-size:16px;text-align:center;border-color:#000}.submit[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:20px;background:rgba(0,0,0,.85);text-transform:uppercase}.fb-btn[_ngcontent-%COMP%]{border:2px solid #d4af7a;color:#af7f39}.fb-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#af7f39}.sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-out}.cont.s--signup[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transition-timing-function:ease-in-out;transition-duration:1.2s;transform:translate(640px)}.sign-up[_ngcontent-%COMP%]{transform:translate(-900px)}.cont.s--signup[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(0)}.icon-link[_ngcontent-%COMP%]{position:absolute;left:5px;bottom:5px;width:32px}.icon-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;vertical-align:top}.icon-link--twitter[_ngcontent-%COMP%]{left:auto;right:5px}']}),n})()}];let NH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Kf.forRoot(xH)],Kf]}),n})();var BR=P(4408);const Mw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Mw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new jo.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Mw;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Mw;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var VR=P(7565);new class kH extends VR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class OH extends BR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Mw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Mw.cancelAnimationFrame(t),e._scheduled=void 0)}});let HM,PH=1;const S1={};function UR(n){return n in S1&&(delete S1[n],!0)}const FH={setImmediate(n){const e=PH++;return S1[e]=!0,HM||(HM=Promise.resolve()),HM.then(()=>UR(e)&&n()),e},clearImmediate(n){UR(n)}},{setImmediate:LH,clearImmediate:BH}=FH,I1={setImmediate(...n){const{delegate:e}=I1;return((null==e?void 0:e.setImmediate)||LH)(...n)},clearImmediate(n){const{delegate:e}=I1;return((null==e?void 0:e.clearImmediate)||BH)(n)},delegate:void 0};new class UH extends VR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class VH extends BR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=I1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(I1.clearImmediate(t),e._scheduled=void 0)}});var GH=P(3532);function A1(n=0,e,t=Th.P){let i=-1;return null!=e&&((0,GH.K)(e)?t=e:i=e),new Pn.y(r=>{let a=function $H(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function jR(n,e=Th.z){return function HH(n){return(0,oi.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,_n.x)(t,b=>{i=!0,r=b,a||(0,gr.Xf)(n(b)).subscribe(a=(0,_n.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>A1(n,e))}let GM=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Pn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(jR(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Mn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=gd(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Er(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(wl),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new xt.x,this._elementScrolled=new Pn.y(u=>this.ngZone.runOutsideAngular(()=>Er(this.elementRef.nativeElement,"scroll").pipe(bn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Dw()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Dw()?t.left=t.right:1==Dw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function qB(){if(null==pg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pg=!1,pg;if("scrollBehavior"in document.documentElement.style)pg=!0;else{const n=Element.prototype.scrollTo;pg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pg}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Dw()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==Dw()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(GM),l.Y36(l.R0b),l.Y36(oM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),WH=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new xt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wl),l.LFG(l.R0b),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function $M(n){return(0,pt.U)(()=>n)}const M1=["*"],ZH=["content"];function KH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(t),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function YH(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const JH=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],QH=["mat-drawer","mat-drawer-content","*"];function XH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(t),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function e3(n,e){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const t3=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],n3=["mat-sidenav","mat-sidenav-content","*"],GR={transformDrawer:Nk("transform",[dM("open, open-instant",dy({transform:"none",visibility:"visible"})),dM("void",dy({"box-shadow":"none",visibility:"hidden"})),hM("void => open-instant",uM("0ms")),hM("void <=> open, open-instant => void",uM("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},s3=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function o3(){return!1}}),zM=new l.OlP("MAT_DRAWER_CONTAINER");let x1=(()=>{class n extends xw{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>zR)),l.Y36(l.SBq),l.Y36(GM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:xw,useExisting:n}]),l.qOj],ngContentSelectors:M1,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),$R=(()=>{class n{constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xt.x,this._animationEnd=new xt.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(Mn(C=>C),(0,pt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Mn(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),$M(void 0)),this._closedStream=this.openedChange.pipe(Mn(C=>!C),(0,pt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Mn(C=>C.fromState!==C.toState&&"void"===C.toState),$M(void 0)),this._destroyed=new xt.x,this.onPositionChanged=new l.vpe,this._modeChanged=new xt.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Er(this._elementRef.nativeElement,"keydown").pipe(Mn(C=>27===C.keyCode&&!this.disableClose&&!function nV(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(C)),bn(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe(ei((C,I)=>C.fromState===I.fromState&&C.toState===I.toState)).subscribe(C=>{const{fromState:I,toState:k}=C;(0===k.indexOf("open")&&"void"===I||"void"===k&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=bs(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=bs(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(bs(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,Nn.q)(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mV),l.Y36(Ik),l.Y36(wl),l.Y36(l.R0b),l.Y36(wk),l.Y36(ie,8),l.Y36(zM,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(ZH,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:M1,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[xw],encapsulation:2,data:{animation:[GR.transformDrawer]},changeDetection:0}),n})(),zR=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new xt.x,this._doCheckSubject=new xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xt.x,t&&t.change.pipe(bn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(bn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=bs(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:bs(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ai(this._allDrawers),bn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ai(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(hk(10),bn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Mn(i=>i.fromState!==i.toState),bn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(bn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(bn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Nn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(bn((0,zv.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oM,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(WH),l.Y36(s3),l.Y36(py,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,x1,5),l.Suo(r,$R,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&l.Gf(x1,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:zM,useExisting:n}])],ngContentSelectors:QH,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(JH),l.YNc(0,KH,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,YH,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},directives:[x1,jn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),qM=(()=>{class n extends x1{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>qR)),l.Y36(l.SBq),l.Y36(GM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:xw,useExisting:n}]),l.qOj],ngContentSelectors:M1,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),WM=(()=>{class n extends $R{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=bs(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=sM(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=sM(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(l.uIk("align",null),l.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:M1,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[xw],encapsulation:2,data:{animation:[GR.transformDrawer]},changeDetection:0}),n})(),qR=(()=>{class n extends zR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,qM,5),l.Suo(r,WM,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:zM,useExisting:n}]),l.qOj],ngContentSelectors:n3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(t3),l.YNc(0,XH,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,e3,2,0,"mat-sidenav-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},directives:[qM,jn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn,zs,HR],HR,zs]}),n})();const l3=["mat-button",""],c3=["*"],d3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],h3=BM(Dj(Cj(class{constructor(n){this._elementRef=n}})));let f3=(()=>{class n extends h3{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of d3)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ik),l.Y36(py,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(DR,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:l3,ngContentSelectors:c3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[DR],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[kj,zs],zs]}),n})();class g3{}class cf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class m3{encodeKey(e){return WR(e)}encodeValue(e){return WR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const y3=/%(\d[a-f0-9])/gi,v3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function WR(n){return encodeURIComponent(n).replace(y3,(e,t)=>{var i;return null!==(i=v3[t])&&void 0!==i?i:e})}function ZR(n){return`${n}`}class uf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new m3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new uf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ZR(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ZR(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class b3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KR(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function YR(n){return"undefined"!=typeof Blob&&n instanceof Blob}function JR(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Nw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function w3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new cf),this.context||(this.context=new b3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new uf,this.urlWithParams=t}serializeBody(){return null===this.body?null:KR(this.body)||YR(this.body)||JR(this.body)||function E3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JR(this.body)?null:YR(this.body)?this.body.type||null:KR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,C=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((k,F)=>k.set(F,e.setHeaders[F]),b)),e.setParams&&(C=Object.keys(e.setParams).reduce((k,F)=>k.set(F,e.setParams[F]),C)),new Nw(i,r,u,{params:C,headers:b,context:I,reportProgress:_,responseType:a,withCredentials:f})}}var os=(()=>((os=os||{})[os.Sent=0]="Sent",os[os.UploadProgress=1]="UploadProgress",os[os.ResponseHeader=2]="ResponseHeader",os[os.DownloadProgress=3]="DownloadProgress",os[os.Response=4]="Response",os[os.User=5]="User",os))();class ZM extends class D3{constructor(e,t=200,i="OK"){this.headers=e.headers||new cf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=os.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ZM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function KM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let XR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Nw)a=t;else{let _,b;_=r.headers instanceof cf?r.headers:new cf(r.headers),r.params&&(b=r.params instanceof uf?r.params:new uf({fromObject:r.params})),a=new Nw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ct(a).pipe(Rs(_=>this.handler.handle(_)));if(t instanceof Nw||"events"===r.observe)return u;const f=u.pipe(Mn(_=>_ instanceof ZM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,pt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new uf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,KM(r,i))}post(t,i,r={}){return this.request("POST",t,KM(r,i))}put(t,i,r={}){return this.request("PUT",t,KM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(g3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const T3=["*"];let N1;function Ow(n){var e;return(null===(e=function S3(){if(void 0===N1&&(N1=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(N1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return N1}())||void 0===e?void 0:e.createHTML(n))||n}function eP(n){return Error(`Unable to find icon with the name "${n}"`)}function tP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let O1=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new vg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw nP(r);const f=Ow(u);return this._addSvgIconConfig(t,i,new vg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new vg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw nP(i);const u=Ow(a);return this._addSvgIconSetConfig(t,new vg("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw tP(t);const r=this._cachedIconsByUrl.get(i);return r?ct(k1(r)):this._loadSvgIconFromConfig(new vg(t,null)).pipe((0,pi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,pt.U)(a=>k1(a)))}getNamedSvgIcon(t,i=""){const r=iP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Kr(eP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ct(k1(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,pt.U)(i=>k1(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ct(r):nE(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Qr(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),ct(null)})))).pipe((0,pt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw eP(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,pi.b)(i=>t.svgText=i),(0,pt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ct(null):this._fetchIcon(t).pipe((0,pi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(Ow("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Ow("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function I3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!f)throw tP(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,pt.U)(C=>Ow(C)),vf(()=>this._inProgressUrlFetches.delete(f)),(0,qv.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(iP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return M3(a)?new vg(a.url,null,a.options):new vg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XR,8),l.LFG(us),l.LFG(ie,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k1(n){return n.cloneNode(!0)}function iP(n,e){return n+":"+e}function M3(n){return!(!n.url||!n.options)}const x3=BM(class{constructor(n){this._elementRef=n}}),N3=new l.OlP("mat-icon-location",{providedIn:"root",factory:function O3(){const n=(0,l.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),rP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],k3=rP.map(n=>`[${n}]`).join(", "),R3=/^url\(['"]?#(.*?)['"]?\)$/;let P3=(()=>{class n extends x3{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=jo.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=bs(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(k3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)rP.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(R3):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Nn.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(O1),l.$8M("aria-hidden"),l.Y36(N3),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:T3,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zs],zs]}),n})(),L3=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=bs(t)}get inset(){return this._inset}set inset(t){this._inset=bs(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),B3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zs],zs]}),n})();function V3(n,e){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1," menu "),l.qZA())}function U3(n,e){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1," close "),l.qZA())}function j3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",15),l.NdJ("click",function(){return l.CHM(t),l.oxw(),l.MAs(13).toggle()}),l.YNc(1,V3,2,0,"mat-icon",16),l.YNc(2,U3,2,0,"mat-icon",16),l.qZA()}if(2&n){l.oxw();const t=l.MAs(13);l.xp6(1),l.Q6J("ngIf",!t.opened),l.xp6(1),l.Q6J("ngIf",t.opened)}}const H3=function(){return["/Login"]};function G3(n,e){1&n&&(l.TgZ(0,"a",17),l._uU(1,"Login"),l.qZA()),2&n&&l.Q6J("routerLink",l.DdM(1,H3))}function $3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",18),l.NdJ("click",function(){return l.CHM(t),l.oxw().onLogout()}),l._uU(1,"Log Out"),l.qZA()}}let z3=(()=>{class n{constructor(t){this.authService=t,this.isLoggedIn$=this.authService.isLoggedIn}onLogout(){this.authService.logout().then(()=>{this.authService.loggedIn.next(!1)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(rM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(t,i){if(1&t&&l.Gf(WM,5),2&t){let r;l.iGM(r=l.CRH())&&(i.sidenav=r.first)}},decls:43,vars:9,consts:[[1,"site-header","sticky-top","py-1"],[1,"container"],[1,"row"],[1,"col-11"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"col"],["class","py-2 d-none d-md-inline-block",3,"routerLink",4,"ngIf"],["class","py-2 d-none d-md-inline-block",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["sidenav","matSidenav"],["src","https://source.unsplash.com/c_GmwfHBDzk/200x200",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button"],[1,"rotate"],["mat-icon-button","",3,"click"],[4,"ngIf"],[1,"py-2","d-none","d-md-inline-block",3,"routerLink"],[1,"py-2","d-none","d-md-inline-block",3,"click"]],template:function(t,i){if(1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3),l.YNc(4,j3,3,2,"button",4),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"div",5),l.YNc(7,G3,2,2,"a",6),l.ALo(8,"async"),l.YNc(9,$3,2,0,"a",7),l.ALo(10,"async"),l.qZA()()()(),l.TgZ(11,"mat-sidenav-container")(12,"mat-sidenav",8,9),l._UZ(14,"img",10),l.TgZ(15,"h4",11),l._uU(16,"John Smith"),l.qZA(),l.TgZ(17,"p",12),l._uU(18,"Software Engineer"),l.qZA(),l._UZ(19,"mat-divider"),l.TgZ(20,"button",13)(21,"mat-icon",14),l._uU(22,"home"),l.qZA(),l.TgZ(23,"span"),l._uU(24,"Home"),l.qZA()(),l.TgZ(25,"button",13)(26,"mat-icon"),l._uU(27,"person"),l.qZA(),l.TgZ(28,"span"),l._uU(29,"Profile"),l.qZA()(),l.TgZ(30,"button",13)(31,"mat-icon"),l._uU(32,"info"),l.qZA(),l.TgZ(33,"span"),l._uU(34,"About"),l.qZA()(),l._UZ(35,"mat-divider"),l.TgZ(36,"button",13)(37,"mat-icon"),l._uU(38,"help"),l.qZA(),l.TgZ(39,"span"),l._uU(40,"Help"),l.qZA()()(),l.TgZ(41,"mat-sidenav-content"),l._UZ(42,"router-outlet"),l.qZA()()),2&t){const r=l.MAs(13);l.xp6(4),l.Q6J("ngIf","over"===r.mode&&!l.lcZ(5,3,i.isLoggedIn$)),l.xp6(3),l.Q6J("ngIf",!l.lcZ(8,5,i.isLoggedIn$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(10,7,i.isLoggedIn$))}},directives:[jn,f3,P3,Zf,qR,WM,L3,qM,nc],pipes:[Uc],styles:["mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:rgba(194,29,166,.85);color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 16px 16px 32px;display:flex;justify-content:center;align-items:center;font-size:2rem;color:#d3d3d3}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.site-header[_ngcontent-%COMP%]{background-color:#c21da6d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e1f1;transition:ease-in-out color .15s;text-decoration:none}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.rotate[_ngcontent-%COMP%]{transition:all 1s}.rotate[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}"]}),n})(),q3=(()=>{class n{constructor(){this.title="TP-SalaDeJuegos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"bg_animated"],[1,"video_container"],["src","../assets/videos/Game.mp4","autoplay","","loop",""]],template:function(t,i){1&t&&(l.TgZ(0,"header",0)(1,"div",1),l._UZ(2,"video",2),l.qZA()(),l._UZ(3,"app-dashboard")(4,"router-outlet"))},directives:[z3,nc],styles:[".bg_animated[_ngcontent-%COMP%]{background-color:#00f;opacity:1;z-index:1}"]}),n})();const{isArray:W3}=Array;function sP(n){return 1===n.length&&W3(n[0])?n[0]:n}function R1(...n){const e=(0,kn.jO)(n),t=sP(n);return t.length?new Pn.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<t.length;u++)(0,gr.Xf)(t[u]).subscribe((0,_n.x)(i,f=>{if(r[u].push(f),r.every(_=>_.length)){const _=r.map(b=>b.shift());i.next(e?e(..._):_),r.some((b,C)=>!b.length&&a[C])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):ks.E}function YM(...n){const e=(0,kn.jO)(n);return(0,oi.e)((t,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,gr.Xf)(n[_]).subscribe((0,_n.x)(i,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(pr.y))&&(u=null))},r1.Z));t.subscribe((0,_n.x)(i,_=>{if(f){const b=[_,...a];i.next(e?e(...b):b)}}))})}new Pn.y(r1.Z),Math,Math,Math;const o$=["*"],C$=["dialog"];function wg(n){return null!=n}function by(n){return(n||document.body).getBoundingClientRect()}const CP={animation:!0,transitionTimerDelayMs:5},v6=()=>{},{transitionTimerDelayMs:b6}=CP,Vw=new Map,qs=(n,e,t,i)=>{let r=i.context||{};const a=Vw.get(e);if(a)switch(i.runningTransition){case"continue":return ks.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Vw.delete(e)}const u=t(e,i.animation,r)||v6;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),ct(void 0).pipe(function _6(n){return e=>new Pn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new xt.x,_=new xt.x,b=f.pipe(function K3(...n){return e=>Kl(e,ct(...n))}(!0));Vw.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:r});const C=function y6(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Er(e,"transitionend").pipe(bn(b),Mn(({target:F})=>F===e));(function oP(...n){return 1===(n=sP(n)).length?(0,gr.Xf)(n[0]):new Pn.y(function Z3(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,gr.Xf)(n[i]).subscribe((0,_n.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))})(A1(C+b6).pipe(bn(b)),I,_).pipe(bn(b)).subscribe(()=>{Vw.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let U1=(()=>{class n{constructor(){this.animation=CP.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Dr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Dr||(Dr={})),Dr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const VP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function UP(n){const e=Array.from(n.querySelectorAll(VP)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn,FE]]}),n})(),QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Tg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let hz=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Nn.q)(1)).subscribe(()=>{qs(this._zone,this._el.nativeElement,(t,i)=>{i&&by(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class XP{close(e){}dismiss(e){}}class fz{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new xt.x,this._dismissed=new xt.x,this._hidden=new xt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function g6(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ct(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),R1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Gw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Gw||(Gw={})),Gw))();let pz=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new xt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new xt.x,this.hidden=new xt.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Nn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=R1(qs(this._zone,t,()=>t.classList.remove("show"),i),qs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};R1(qs(this._zone,this._elRef.nativeElement,(a,u)=>{u&&by(a),a.classList.add("show")},t),qs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Er(t,"keydown").pipe(bn(this._closed$),Mn(r=>r.which===Dr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Gw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Er(this._dialogEl.nativeElement,"mousedown").pipe(bn(this._closed$),(0,pi.b)(()=>i=!1),Fn(()=>Er(t,"mouseup").pipe(bn(this._closed$),(0,Nn.q)(1))),Mn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Er(t,"click").pipe(bn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Gw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=UP(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ie),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(C$,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:o$,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),gz=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:u}=r;if(t>0){const f=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${f+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mz=(()=>{class n{constructor(t,i,r,a,u,f){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new xt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Er(e,"focusin").pipe(bn(t),(0,pt.U)(a=>a.target));Er(e,"keydown").pipe(bn(t),Mn(a=>a.which===Dr.Tab),YM(r)).subscribe(([a,u])=>{const[f,_]=UP(e);(u===f||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),i&&Er(e,"click").pipe(bn(t),YM(r),(0,pt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r,a){const u=a.container instanceof HTMLElement?a.container:wg(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null),_=()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new XP,C=this._getContentRef(t,a.injector||i,r,b,a);let I=!1!==a.backdrop?this._attachBackdrop(t,u):void 0,k=this._attachWindowComponent(t,u,C),F=new fz(k,C,I,a.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(k),F.result.then(_,_),b.close=j=>{F.close(j)},b.dismiss=j=>{F.dismiss(j)},this._applyWindowOptions(k.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,a),I.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let a=t.resolveComponentFactory(hz).create(this._injector);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,i,r){let u=t.resolveComponentFactory(pz).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{wg(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{wg(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a,u){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,a):function DP(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,a,u):new Tg([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new Tg([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Tg([[i]])}_createFromComponent(t,i,r,a,u){const f=t.resolveComponentFactory(r),_=l.zs3.create({providers:[{provide:XP,useValue:a}],parent:i}),b=f.create(_),C=b.location.nativeElement;return u.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Tg([[C]],b.hostView,b)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(ie),l.LFG(gz),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_z=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yz=(()=>{class n{constructor(t,i,r,a){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=a}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(mz),l.LFG(_z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yz]}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),pF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),yF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Nz(){return 100}});let bF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Jn]]}),n})();const Oz=[xP,NP,kP,FP,LP,ZP,QP,eF,rF,hF,pF,gF,mF,_F,yF,vF,bF];let kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Oz,xP,NP,kP,FP,LP,ZP,QP,eF,rF,hF,pF,gF,mF,_F,yF,vF,bF]}),n})();const wF_firebaseConfig={apiKey:"AIzaSyDh5br--eUK4STYRGPHjLaQeZhxApIamjI",authDomain:"tp-sala-de-juegos-92c8a.firebaseapp.com",databaseURL:"https://tp-sala-de-juegos-92c8a.firebaseio.com",projectId:"tp-sala-de-juegos-92c8a",storageBucket:"tp-sala-de-juegos-92c8a.appspot.com",messagingSenderId:"438502520653",appId:"1:438502520653:web:c474ed7aba055c54e22904",measurementId:"G-WX23KT33S7"};let Rz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zs],zs]}),n})(),Pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[q3]}),n.\u0275inj=l.cJS({providers:[],imports:[[va,NH,FE,Eo,kz,Oa.hO.initializeApp(wF_firebaseConfig),rS,bj,jM,mH,Rz,a3,p3,F3,B3]]}),n})();(0,l.G48)(),Jc().bootstrapModule(Pz).catch(n=>console.error(n))},5867:(ft,Ie,P)=>{P.d(Ie,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.6.10","app")},127:(ft,Ie,P)=>{P.d(Ie,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(ft,Ie,P)=>{P.r(Ie);var l=P(5861),X=P(3942),L=P(2090),ce=P(9681),ne=P(655),ye=P(1877),ie=P(4859);const Be=function Je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new ye.Yd("@firebase/auth");function et(y,...p){ot.logLevel<=ye.in.ERROR&&ot.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Me(y,...p){throw We(y,...p)}function Ee(y,...p){return We(y,...p)}function De(y,p,m){const w=Object.assign(Object.assign({},He()),{[p]:m});return new L.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ke(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return me.create(y,...p)}function se(y,p,...m){if(!y)throw We(p,...m)}function Y(y){const p="INTERNAL ASSERTION FAILED: "+y;throw et(p),new Error(p)}function oe(y,p){y||Y(p)}const ve=new Map;function ae(y){oe(y instanceof Function,"Expected a class definition");let p=ve.get(y);return p?(oe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ve.set(y,p),p)}function Pt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function an(){return"http:"===Kn()||"https:"===Kn()}function Kn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class yn{constructor(p,m){this.shortDelay=p,this.longDelay=m,oe(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(an()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(y,p){oe(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class zr{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ws=new yn(3e4,6e4);function ln(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Qt(y,p,m,w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(y,p,m,w,M={}){return Tr(y,M,(0,l.Z)(function*(){let R={},K={};w&&("GET"===p?K=w:R={body:JSON.stringify(w)});const le=(0,L.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),zr.fetch()(Xi(y,y.config.apiHost,m,le),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Tr(y,p,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},fn),p);try{const M=new Es(y),R=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw Ds(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const le=R.ok?K.errorMessage:K.error.message,[$e,st]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Ds(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===$e)throw Ds(y,"email-already-in-use",K);const Tt=w[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw De(y,Tt,st);Me(y,Tt)}}catch(M){if(M instanceof L.ZR)throw M;Me(y,"network-request-failed")}})).apply(this,arguments)}function Qi(y,p,m,w){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y,p,m,w,M={}){const R=yield Qt(y,p,m,w,M);return"mfaPendingCredential"in R&&Me(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Xi(y,p,m,w){const M=`${p}${m}?${w}`;return y.config.emulator?vn(y.config,M):`${y.config.apiScheme}://${M}`}class Es{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),ws.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ds(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Ee(y,p,w);return M.customData._tokenResponse=m,M}function lr(){return(lr=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function wi(y,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sr(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function In(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function qa(){return(qa=(0,l.Z)(function*(y,p=!1){const m=(0,L.m9)(y),w=yield m.getIdToken(p),M=ht(w);se(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:M,token:w,authTime:In(Xt(M.auth_time)),issuedAtTime:In(Xt(M.iat)),expirationTime:In(Xt(M.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(y){return 1e3*Number(y)}function ht(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return et("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(m);return M?JSON.parse(M):(et("Failed to decode base64 JWT payload"),null)}catch(M){return et("Caught error parsing JWT payload as JSON",M),null}}function Mi(y,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&Kt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class No{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Bi{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xi(y){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),M=yield Mi(y,Sr(m,{idToken:w}));se(null==M?void 0:M.users.length,m,"internal-error");const R=M.users[0];y._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?xe(R.providerUserInfo):[],le=tt(y.providerData,K),Tt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==le?void 0:le.length)),gt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Bi(R.createdAt,R.lastLoginAt),isAnonymous:Tt};Object.assign(y,gt)})).apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(y){const p=(0,L.m9)(y);yield xi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tt(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function xe(y){return y.map(p=>{var{providerId:m}=p,w=(0,ne._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function vt(){return(vt=(0,l.Z)(function*(y,p){const m=yield Tr(y,{},(0,l.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:R}=y.config,K=Xi(y,M,"/v1/token",`key=${R}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(K,{method:"POST",headers:le,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(void 0!==p.idToken,"internal-error"),se(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function At(y){const p=ht(y);return se(p,"internal-error"),se(void 0!==p.exp,"internal-error"),se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return se(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:K}=yield function rt(y,p){return vt.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(M,R,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:M,expirationTime:R}=m,K=new Zt;return w&&(se("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),M&&(se("string"==typeof M,"internal-error",{appName:p}),K.accessToken=M),R&&(se("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return Y("not implemented")}}function zt(y,p){se("string"==typeof y||void 0===y,"internal-error",{appName:p})}class G{constructor(p){var{uid:m,auth:w,stsTokenManager:M}=p,R=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new No(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Bi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield Mi(m,m.stsTokenManager.getToken(m.auth,p));return se(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Ks(y){return qa.apply(this,arguments)}(this,p)}reload(){return function Vi(y){return Wt.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new G(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield xi(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Mi(p,function _t(y,p){return lr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,M,R,K,le,$e,st,Tt;const gt=null!==(w=m.displayName)&&void 0!==w?w:void 0,zn=null!==(M=m.email)&&void 0!==M?M:void 0,ms=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Nu=null!==(K=m.photoURL)&&void 0!==K?K:void 0,rc=null!==(le=m.tenantId)&&void 0!==le?le:void 0,sc=null!==($e=m._redirectEventId)&&void 0!==$e?$e:void 0,zf=null!==(st=m.createdAt)&&void 0!==st?st:void 0,Yy=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Ma,emailVerified:th,isAnonymous:nh,providerData:qf,stsTokenManager:ih}=m;se(Ma&&ih,p,"internal-error");const mr=Zt.fromJSON(this.name,ih);se("string"==typeof Ma,p,"internal-error"),zt(gt,p.name),zt(zn,p.name),se("boolean"==typeof th,p,"internal-error"),se("boolean"==typeof nh,p,"internal-error"),zt(ms,p.name),zt(Nu,p.name),zt(rc,p.name),zt(sc,p.name),zt(zf,p.name),zt(Yy,p.name);const Wf=new G({uid:Ma,auth:p,email:zn,emailVerified:th,displayName:gt,isAnonymous:nh,photoURL:Nu,phoneNumber:ms,tenantId:rc,stsTokenManager:mr,createdAt:zf,lastLoginAt:Yy});return qf&&Array.isArray(qf)&&(Wf.providerData=qf.map(tm=>Object.assign({},tm))),sc&&(Wf._redirectEventId=sc),Wf}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const M=new Zt;M.updateFromServerResponse(m);const R=new G({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield xi(R),R})()}}const q=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,l.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function fe(y,p,m){return`firebase:${y}:${p}:${m}`}class ee{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:M,name:R}=this.auth;this.fullUserKey=fe(this.userKey,M.apiKey,R),this.fullPersistenceKey=fe("persistence",M.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?G._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new ee(ae(q),p,w);const M=(yield Promise.all(m.map(function(){var st=(0,l.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return st.apply(this,arguments)}}()))).filter(st=>st);let R=M[0]||ae(q);const K=fe(w,p.config.apiKey,p.name);let le=null;for(const st of m)try{const Tt=yield st._get(K);if(Tt){const gt=G._fromJSON(p,Tt);st!==R&&(le=gt),R=st;break}}catch(Tt){}const $e=M.filter(st=>st._shouldAllowMigration);return R._shouldAllowMigration&&$e.length?(R=$e[0],le&&(yield R._set(K,le.toJSON())),yield Promise.all(m.map(function(){var st=(0,l.Z)(function*(Tt){if(Tt!==R)try{yield Tt._remove(K)}catch(gt){}});return function(Tt){return st.apply(this,arguments)}}())),new ee(R,p,w)):new ee(R,p,w)})()}}function Ge(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(en(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ct(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ht(p))return"Blackberry";if(wn(p))return"Webos";if(rn(p))return"Safari";if((p.includes("chrome/")||Ui(p))&&!p.includes("edge/"))return"Chrome";if(Un(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Ct(y=(0,L.z$)()){return/firefox\//i.test(y)}function rn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ui(y=(0,L.z$)()){return/crios\//i.test(y)}function en(y=(0,L.z$)()){return/iemobile/i.test(y)}function Un(y=(0,L.z$)()){return/android/i.test(y)}function Ht(y=(0,L.z$)()){return/blackberry/i.test(y)}function wn(y=(0,L.z$)()){return/webos/i.test(y)}function Di(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Cs(y=(0,L.z$)()){return Di(y)||Un(y)||wn(y)||Ht(y)||/windows phone/i.test(y)||en(y)}function Za(y,p=[]){let m;switch(y){case"Browser":m=Ge((0,L.z$)());break;case"Worker":m=`${Ge((0,L.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${w}`}class Ir{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gt(this),this.idTokenSubscription=new Gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,R;if(!w._deleted&&(w.persistenceManager=yield ee.create(w,p),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;let M=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const R=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,K=null==M?void 0:M._redirectEventId,le=yield m.tryRedirectSignIn(p);(!R||R===K)&&(null==le?void 0:le.user)&&(M=le.user)}return M?M._redirectEventId?(se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)):m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(M){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield xi(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Dt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&se(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){if(!m._deleted)return p&&se(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,l.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ae(p)||m._popupRedirectResolver;se(w,m,"argument-error"),m.redirectPersistenceManager=yield ee.create(m,[ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,M){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return se(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function Ve(y){return(0,L.m9)(y)}class Gt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ni(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ni(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class pn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Y("not implemented")}_getIdTokenResponse(p){return Y("not implemented")}_linkToIdToken(p,m){return Y("not implemented")}_getReauthenticationResolver(p){return Y("not implemented")}}function Yn(y,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:resetPassword",ln(y,p))})).apply(this,arguments)}function Bt(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qs(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:update",ln(y,p))})).apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithPassword",ln(y,p))})).apply(this,arguments)}function Ts(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:sendOobCode",ln(y,p))})).apply(this,arguments)}function jn(y,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(y,p){return Ts(y,p)})).apply(this,arguments)}function Al(y,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(y,p){return Ts(y,p)})).apply(this,arguments)}function Ar(y,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(y,p){return Ts(y,p)})).apply(this,arguments)}function wd(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(y,p){return Ts(y,p)})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,p))})).apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,p))})).apply(this,arguments)}class Nl extends pn{constructor(p,m,w,M=null){super("password",w),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Nl(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Nl(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Xs(y,p){return ii.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xl(y,p){return ur.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Bt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function gf(y,p){return fa.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ri(y,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithIdp",ln(y,p))})).apply(this,arguments)}class Is extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Is(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=m,R=(0,ne._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const K=new Is(w,M);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return ri(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ri(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ri(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function xg(y,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:sendVerificationCode",ln(y,p))})).apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,p))})).apply(this,arguments)}function Dd(){return(Dd=(0,l.Z)(function*(y,p){const m=yield Qi(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,p));if(m.temporaryProof)throw Ds(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Og={USER_NOT_FOUND:"user-not-found"};function Cd(){return(Cd=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Og)})).apply(this,arguments)}class pa extends pn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new pa({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new pa({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function jc(y,p){return to.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Ng(y,p){return Dd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function kg(y,p){return Cd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:R}=p;return w||m||M||R?new pa({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:R}):null}}class ko{constructor(p){var m,w,M,R,K,le;const $e=(0,L.zd)((0,L.pd)(p)),st=null!==(m=$e.apiKey)&&void 0!==m?m:null,Tt=null!==(w=$e.oobCode)&&void 0!==w?w:null,gt=function Ey(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=$e.mode)&&void 0!==M?M:null);se(st&&Tt&&gt,"argument-error"),this.apiKey=st,this.operation=gt,this.code=Tt,this.continueUrl=null!==(R=$e.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=$e.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(le=$e.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function Ol(y){const p=(0,L.zd)((0,L.pd)(y)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||p||y}(p);try{return new ko(m)}catch(w){return null}}}let Hc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Nl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=ko.parseLink(w);return se(M,"argument-error"),Nl._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class no{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class dr extends no{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ga extends dr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return se("providerId"in m&&"signInMethod"in m,"argument-error"),Is._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ga.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ga.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:R,nonce:K,providerId:le}=p;if(!w&&!M&&!m&&!R||!le)return null;try{return new ga(le)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch($e){return null}}}let Ro=(()=>{class y extends dr{constructor(){super("facebook.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ya=(()=>{class y extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return y.credential(w,M)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Td=(()=>{class y extends dr{constructor(){super("github.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Jn extends pn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ri(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ri(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ri(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:R}=m;return w&&M&&R&&w===M?new Jn(w,R):null}static _create(p,m){return new Jn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends no{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Mr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Mr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Jn.fromJSON(p);return se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Jn._create(w,m)}catch(M){return null}}}let kl=(()=>{class y extends dr{constructor(){super("twitter.com")}static credential(m,w){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return y.credential(w,M)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Rl(y,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signUp",ln(y,p))})).apply(this,arguments)}class Oi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,M=!1){return(0,l.Z)(function*(){const R=yield G._fromIdTokenResponse(p,w,M),K=_f(w);return new Oi({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=_f(w);return new Oi({user:p,providerId:M,_tokenResponse:w,operationType:m})})()}}function _f(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Sd(){return(Sd=(0,l.Z)(function*(y){var p;const m=Ve(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Oi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Rl(m,{returnSecureToken:!0}),M=yield Oi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Fl extends L.ZR{constructor(p,m,w,M){var R;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Fl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,M){return new Fl(p,m,w,M)}}function Ll(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Fl._fromErrorAndOperation(y,R,p,w):R})}function As(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Gc(){return(Gc=(0,l.Z)(function*(y,p){const m=(0,L.m9)(y);yield ro(!0,m,p);const{providerUserInfo:w}=yield wi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=As(w||[]);return m.providerData=m.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sn(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(y,p,m=!1){const w=yield Mi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Oi._forOperation(y,"link",w)})).apply(this,arguments)}function ro(y,p,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(y,p,m){yield xi(p);const M=!1===y?"provider-already-linked":"no-such-provider";se(As(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function Id(y,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(y,p,m=!1){const{auth:w}=y,M="reauthenticate";try{const R=yield Mi(y,Ll(w,M,p,y),m);se(R.idToken,w,"internal-error");const K=ht(R.idToken);se(K,w,"internal-error");const{sub:le}=K;return se(y.uid===le,w,"user-mismatch"),Oi._forOperation(y,M,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Me(w,"user-mismatch"),R}})).apply(this,arguments)}function Fo(y,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(y,p,m=!1){const w="signIn",M=yield Ll(y,w,p),R=yield Oi._fromIdTokenResponse(y,w,M);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Qn(y,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(y,p){return Fo(Ve(y),p)})).apply(this,arguments)}function qr(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(y,p){const m=(0,L.m9)(y);return yield ro(!1,m,p.providerId),Sn(m,p)})).apply(this,arguments)}function so(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(y,p){return Id((0,L.m9)(y),p)})).apply(this,arguments)}function Bl(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(y,p){return Qi(y,"POST","/v1/accounts:signInWithCustomToken",ln(y,p))})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(y,p){const m=Ve(y),w=yield Bl(m,{token:p,returnSecureToken:!0}),M=yield Oi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class bt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Vl._fromServerResponse(p,m):Me(p,"internal-error")}}class Vl extends bt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Vl(m)}}function Xa(y,p,m){var w;se((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),se(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(se(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(se(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function jl(){return(jl=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y),M={requestType:"PASSWORD_RESET",email:p};m&&Xa(w,M,m),yield Al(w,M)})).apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(y,p,m){yield Yn((0,L.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(y,p){yield Qs((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function qt(y,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(y,p){const m=(0,L.m9)(y),w=yield Yn(m,{oobCode:p}),M=w.requestType;switch(se(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,m,"internal-error");default:se(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=bt._fromServerResponse(Ve(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(y,p){const{data:m}=yield qt((0,L.m9)(y),p);return m.email})).apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(y,p,m){const w=Ve(y),M=yield Rl(w,{returnSecureToken:!0,email:p,password:m}),R=yield Oi._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ad(){return(Ad=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};se(m.handleCodeInApp,w,"argument-error"),m&&Xa(w,M,m),yield Ar(w,M)})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y),M=Hc.credentialWithLink(p,m||Pt());return se(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Qn(w,M)})).apply(this,arguments)}function ki(y,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:createAuthUri",ln(y,p))})).apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:an()?Pt():"http://localhost"},{signinMethods:M}=yield ki((0,L.m9)(y),w);return M||[]})).apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(y,p){const m=(0,L.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Xa(m.auth,M,p);const{email:R}=yield jn(m.auth,M);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Xa(w.auth,R,m);const{email:K}=yield wd(w.auth,R);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function Jc(y,p){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qc(){return(Qc=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,L.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield Mi(w,Jc(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const le=w.providerData.find(({providerId:$e})=>"password"===$e);le&&(le.displayName=w.displayName,le.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function eu(y,p,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(y,p,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield Mi(y,Bt(w,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Bo{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Nd extends Bo{constructor(p,m,w,M){super(p,m,w),this.username=M}}class Od extends Bo{constructor(p,m){super(p,"facebook.com",m)}}class Vo extends Nd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class uo extends Bo{constructor(p,m){super(p,"google.com",m)}}class tu extends Nd{constructor(p,m,w){super(p,"twitter.com",m,w)}}function $i(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xd(y){var p,m;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ht(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Bo(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Od(R,M);case"github.com":return new Vo(R,M);case"google.com":return new uo(R,M);case"twitter.com":return new tu(R,M,y.screenName||null);case"custom":case"anonymous":return new Bo(R,null);default:return new Bo(R,w,M)}}(m)}class xs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new xs("enroll",p)}static _fromMfaPendingCredential(p){return new xs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return xs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return xs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class tl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Ve(p),M=m.customData._serverResponse,R=(M.mfaInfo||[]).map(le=>bt._fromServerResponse(w,le));se(M.mfaPendingCredential,w,"internal-error");const K=xs._fromMfaPendingCredential(M.mfaPendingCredential);return new tl(K,R,function(){var le=(0,l.Z)(function*($e){const st=yield $e._process(w,K);delete M.mfaInfo,delete M.mfaPendingCredential;const Tt=Object.assign(Object.assign({},M),{idToken:st.idToken,refreshToken:st.refreshToken});switch(m.operationType){case"signIn":const gt=yield Oi._fromIdTokenResponse(w,m.operationType,Tt);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return se(m.user,w,"internal-error"),Oi._forOperation(m.user,m.operationType,Tt);default:Me(w,"internal-error")}});return function($e){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function si(y,p){return Qt(y,"POST","/v2/accounts/mfaEnrollment:start",ln(y,p))}class Ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>bt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ns(p)}getSession(){var p=this;return(0,l.Z)(function*(){return xs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const M=p,R=yield w.getSession(),K=yield Mi(w.user,M._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield m.user.getIdToken(),R=yield Mi(m.user,function Pg(y,p){return Qt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(y,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==w),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const ba=new WeakMap,ru="__sak";class us{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ru,"1"),this.storage.removeItem(ru),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const kn=(()=>{class y extends us{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function su(){const y=(0,L.z$)();return rn(y)||Di(y)}()&&function fi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Cs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),R=this.localCache[w];M!==R&&m(w,R,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((le,$e,st)=>{this.notifyListeners(le,st)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(M);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const R=()=>{const le=this.storage.getItem(M);!w&&this.localCache[M]===le||this.notifyListeners(M,le)},K=this.storage.getItem(M);!function Wa(){return(0,L.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,R=this;return(0,l.Z)(function*(){yield M().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const R=yield w().call(M,m);return M.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),xt=(()=>{class y extends us{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Pn=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const M=m,{eventId:R,eventType:K,data:le}=M.data,$e=w.handlersMap[K];if(!(null==$e?void 0:$e.size))return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const st=Array.from($e).map(function(){var gt=(0,l.Z)(function*(zn){return zn(M.origin,le)});return function(zn){return gt.apply(this,arguments)}}()),Tt=yield function Rn(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(st);M.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:Tt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function wa(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Ld{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var M=this;return(0,l.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,le;return new Promise(($e,st)=>{const Tt=wa("",20);R.port1.start();const gt=setTimeout(()=>{st(new Error("unsupported_event"))},w);le={messageChannel:R,onMessage(zn){const ms=zn;if(ms.data.eventId===Tt)switch(ms.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),$e(ms.data.response);break;default:clearTimeout(gt),clearTimeout(K),st(new Error("invalid_response"))}}},M.handlers.add(le),R.port1.addEventListener("message",le.onMessage),M.target.postMessage({eventType:p,eventId:Tt,data:m},[R.port2])}).finally(()=>{le&&M.removeMessageHandler(le)})})()}}function Dn(){return window}function Zr(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function pr(){return(pr=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",Uo="firebaseLocalStorage",_n="fbase_key";class Os{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function fo(y,p){return y.transaction([Uo],p?"readwrite":"readonly").objectStore(Uo)}function po(){const y=indexedDB.open(ou,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Uo,{keyPath:_n})}catch(M){m(M)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Uo)?p(w):(w.close(),yield function Nr(){const y=indexedDB.deleteDatabase(ou);return new Os(y).toPromise()}(),p(yield po()))}))})}function Or(y,p,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(y,p,m){const w=fo(y,!0).put({[_n]:p,value:m});return new Os(w).toPromise()})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,p){const m=fo(y,!1).get(p),w=yield new Os(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ds(y,p){const m=fo(y,!0).delete(p);return new Os(m).toPromise()}const Yr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield po()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(M++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Zr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Pn._getInstance(function Bd(){return Zr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(M,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function Zl(){return pr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ld(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=R[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function pt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield po();return yield Or(m,ru,"1"),yield ds(m,ru),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(R=>Or(R,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(R=>function lu(y,p){return go.apply(this,arguments)}(R,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>ds(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(K=>{const le=fo(K,!1).getAll();return new Os(le).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:K,value:le}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(le)&&(m.notifyListeners(K,le),M.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ks(y,p){return Qt(y,"POST","/v2/accounts/mfaSignIn:start",ln(y,p))}function Jr(){return(Jr=(0,l.Z)(function*(y){return(yield Qt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const R=Ee("internal-error");R.customData=M,m(R)},w.type="text/javascript",w.charset="UTF-8",function Vd(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Nn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zi=1e12;class Mn{constructor(p){this.auth=p,this.counter=zi,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Qr(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||zi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||zi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||zi))||void 0===w||w.execute(),""})()}}class Qr{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;se(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function On(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rs=Nn("rcb"),Ud=new yn(3e4,6e4);class Lg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(p,m=""){return se(function Bg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Dn().grecaptcha):new Promise((w,M)=>{const R=Dn().setTimeout(()=>{M(Ee(p,"network-request-failed"))},Ud.get());Dn()[Rs]=()=>{Dn().clearTimeout(R),delete Dn()[Rs];const le=Dn().grecaptcha;if(!le)return void M(Ee(p,"internal-error"));const $e=le.render;le.render=(st,Tt)=>{const gt=$e(st,Tt);return this.counter++,gt},this.hostLanguage=m,w(le)},Fn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Rs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),M(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Dn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vg{load(p){return(0,l.Z)(function*(){return new Mn(p)})()}clearedOneInstance(){}}const mo="recaptcha",pi={theme:"light",type:"image"};class vf{constructor(p,m=Object.assign({},pi),w){this.parameters=m,this.type=mo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ve(w),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;se(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vg:new Lg,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=le=>{!le||(p.tokenChangeListeners.delete(K),R(le))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Dn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){se(an()&&!Zr(),p.auth,"internal-error"),yield function _o(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function oi(y){return Jr.apply(this,arguments)}(p.auth);se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ps{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=pa._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ln(){return(Ln=(0,l.Z)(function*(y,p,m){const w=Ve(y),M=yield qi(w,p,(0,L.m9)(m));return new Ps(M,R=>Qn(w,R))})).apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y);yield ro(!1,w,"phone");const M=yield qi(w.auth,p,(0,L.m9)(m));return new Ps(M,R=>qr(w,R))})).apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y),M=yield qi(w.auth,p,(0,L.m9)(m));return new Ps(M,R=>so(w,R))})).apply(this,arguments)}function qi(y,p,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,p,m){var w;const M=yield m.verify();try{let R;if(se("string"==typeof M,y,"argument-error"),se(m.type===mo,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return se("enroll"===K.type,y,"internal-error"),(yield si(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{se("signin"===K.type,y,"internal-error");const le=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return se(le,y,"missing-multi-factor-info"),(yield ks(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield xg(y,{phoneNumber:R.phoneNumber,recaptchaToken:M});return K}}finally{m._reset()}})).apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(y,p){yield Sn((0,L.m9)(y),p)})).apply(this,arguments)}let Xr=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Ve(m)}verifyPhoneNumber(m,w){return qi(this.auth,m,(0,L.m9)(w))}static credential(m,w){return pa._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?pa._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function hs(y,p){return p?ae(p):(se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class nl extends pn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ri(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ri(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ri(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function fu(y){return Fo(y.auth,new nl(y),y.bypassAuthState)}function pu(y){const{auth:p,user:m}=y;return se(m,p,"internal-error"),Id(m,new nl(y),y.bypassAuthState)}function $t(y){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return se(m,p,"internal-error"),Sn(m,new nl(y),y.bypassAuthState)})).apply(this,arguments)}class gi{constructor(p,m,w,M,R=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:R,tenantId:K,error:le,type:$e}=p;if(le)return void m.reject(le);const st={auth:m.auth,requestUri:w,sessionId:M,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask($e)(st))}catch(Tt){m.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return fu;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return pu;default:Me(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mu=new yn(2e3,1e4);function jd(){return(jd=(0,l.Z)(function*(y,p,m){const w=Ve(y);Ke(y,p,no);const M=hs(w,m);return new ps(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ke(w.auth,p,no);const M=hs(w.auth,m);return new ps(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ke(w.auth,p,no);const M=hs(w.auth,m);return new ps(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let ps=(()=>{class y extends gi{constructor(m,w,M,R,K){super(m,w,R,K),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return se(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){oe(1===m.filter.length,"Popup operations only handle one event");const w=wa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,mu.get())};m()}}return y.currentPopupAction=null,y})();const gs=new Map;class mi extends gi{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=gs.get(m.auth._key());if(!w){try{const R=(yield function Rr(y,p){return _u.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(M){w=()=>Promise.reject(M)}gs.set(m.auth._key(),w)}return m.bypassAuthState||gs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function _u(){return(_u=(0,l.Z)(function*(y,p){const m=S(p),w=T(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function Go(y,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(y,p){return T(y)._set(S(p),"true")})).apply(this,arguments)}function T(y){return ae(y._redirectPersistence)}function S(y){return fe("pendingRedirect",y.config.apiKey,y.name)}function J(){return(J=(0,l.Z)(function*(y,p,m){const w=Ve(y);Ke(y,p,no);const M=hs(w,m);return yield Go(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ke(w.auth,p,no);const M=hs(w.auth,m);yield Go(M,w.auth);const R=yield $o(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ke(w.auth,p,no);const M=hs(w.auth,m);yield ro(!1,w,p.providerId),yield Go(M,w.auth);const R=yield $o(w);return M._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(y,p){return yield Ve(y)._initializationPromise,$n(y,p,!1)})).apply(this,arguments)}function $n(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(y,p,m=!1){const w=Ve(y),M=hs(w,p),K=yield new mi(w,M,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function $o(y){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(y){const p=wa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class es{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function yu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gd(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Gd(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zo(p))}saveEventToCache(p){this.cachedEventUids.add(zo(p)),this.lastProcessedEventTime=Date.now()}}function zo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Gd({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function vu(y){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(y,p={}){return Qt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const jg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ty=/^https?/;function Ls(){return(Ls=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield vu(y);for(const m of p)try{if(bu(m))return}catch(w){}Me(y,"unauthorized-domain")})).apply(this,arguments)}function bu(y){const p=Pt(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!Ty.test(m))return!1;if(jg.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Iy=new yn(3e4,6e4);function Ay(){const y=Dn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let $d=null;function My(y){return $d=$d||function Hg(y){return new Promise((p,m)=>{var w,M,R;function K(){Ay(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ay(),m(Ee(y,"network-request-failed"))},timeout:Iy.get()})}if(null===(M=null===(w=Dn().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Dn().gapi)||void 0===R?void 0:R.load)){const le=Nn("iframefcb");return Dn()[le]=()=>{gapi.load?K():m(Ee(y,"network-request-failed"))},Fn(`https://apis.google.com/js/api.js?onload=${le}`).catch($e=>m($e))}K()}}).catch(p=>{throw $d=null,p})}(y),$d}const bf=new yn(5e3,15e3),Wo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rl(y){const p=y.config;se(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?vn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},M=zd.get(y.config.apiHost);M&&(w.eid=M);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function Sa(){return Sa=(0,l.Z)(function*(y){const p=yield My(y),m=Dn().gapi;return se(m,y,"internal-error"),p.open({where:document.body,url:rl(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wo,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const le=Ee(y,"network-request-failed"),$e=Dn().setTimeout(()=>{K(le)},bf.get());function st(){Dn().clearTimeout($e),R(w)}w.ping(st).then(st,()=>{K(le)})});return function(R,K){return M.apply(this,arguments)}}()))}),Sa.apply(this,arguments)}const Ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Cf(y,p,m,w,M,R){se(y.config.authDomain,y,"auth-domain-config-required"),se(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ce.SDK_VERSION,eventId:M};if(p instanceof no){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,st]of Object.entries(R||{}))K[$e]=st}if(p instanceof dr){const $e=p.getScopes().filter(st=>""!==st);$e.length>0&&(K.scopes=$e.join(","))}y.tenantId&&(K.tid=y.tenantId);const le=K;for(const $e of Object.keys(le))void 0===le[$e]&&delete le[$e];return`${function ky({config:y}){return y.emulator?vn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(le).slice(1)}`}const Bs="webStorageSupport";class Kd extends class Tf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Y("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kd(p)}_finalizeEnroll(p,m,w){return function Rd(y,p){return Qt(y,"POST","/v2/accounts/mfaEnrollment:finalize",ln(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function jo(y,p){return Qt(y,"POST","/v2/accounts/mfaSignIn:finalize",ln(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gg=(()=>{class y{constructor(){}static assertion(m){return Kd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var $g="@firebase/auth",Yd="0.19.11";class zg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vo(){return window}function ol(){return(ol=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:M}=vo();oe(p.sessionId,"AuthEvent did not contain a session ID");const R=yield al(p.sessionId),K={};return Di()?K.ibi=M.packageName:Un()?K.apn=M.packageName:Me(y,"operation-not-supported-in-this-environment"),M.displayName&&(K.appDisplayName=M.displayName),K.sessionId=R,Cf(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(y){const{BuildInfo:p}=vo(),m={};Di()?m.iosBundleId=p.packageName:Un()?m.androidPackageName=p.packageName:Me(y,"operation-not-supported-in-this-environment"),yield vu(y,m)})).apply(this,arguments)}function Jd(){return(Jd=(0,l.Z)(function*(y,p,m){const{cordova:w}=vo();let M=()=>{};try{yield new Promise((R,K)=>{let le=null;function $e(){var gt;R();const zn=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof zn&&zn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function st(){le||(le=window.setTimeout(()=>{K(Ee(y,"redirect-cancelled-by-user"))},2e3))}function Tt(){"visible"===(null==document?void 0:document.visibilityState)&&st()}p.addPassiveListener($e),document.addEventListener("resume",st,!1),Un()&&document.addEventListener("visibilitychange",Tt,!1),M=()=>{p.removePassiveListener($e),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",Tt,!1),le&&window.clearTimeout(le)}})}finally{M()}})).apply(this,arguments)}function al(y){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,l.Z)(function*(y){const p=tc(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tc(y){if(oe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Py(y){(0,ce._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:R,authDomain:K}=w.options;return((le,$e)=>{se(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),se(!(null==K?void 0:K.includes(":")),"argument-error",{appName:le.name});const st={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Za(y)},Tt=new Ir(le,$e,st);return function ue(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Tt,m),Tt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ie.wA("auth-internal",p=>{const m=Ve(p.getProvider("auth").getImmediate());return new zg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)($g,Yd,function Ry(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)($g,Yd,"esm2017")}("Browser");class Mf extends es{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Du(y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(y){const p=yield nc()._get(Nf(y));return p&&(yield nc()._remove(Nf(y))),p})).apply(this,arguments)}function Cu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function nc(){return ae(kn)}function Nf(y){return fe("authEvent",y.config.apiKey,y.name)}function Su(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,L.zd)(m.join("?"))}function Pf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Xd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Kg(y=(0,L.z$)()){return!("file:"!==Xd()&&"ionic:"!==Xd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wi(){try{const y=self.localStorage,p=wa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Aa(y=(0,L.z$)()){return function Uy(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jy(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return Yo()&&(0,L.hl)()}return!1}function Yo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Au(){return(function Vy(){return"http:"===Xd()||"https:"===Xd()}()||(0,L.ru)()||Kg())&&!function eh(){return(0,L.b$)()||(0,L.UG)()}()&&Wi()&&!Yo()}function Ff(){return Kg()&&"undefined"!=typeof document}function ll(){return(ll=(0,l.Z)(function*(){return!!Ff()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ns={LOCAL:"local",NONE:"none",SESSION:"session"},cl=se,Bf="persistence";function ul(y){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Mu(),m=fe(Bf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Mu(){var y;try{return(null===(y=function Lf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Hy=se;class Fr{constructor(){this.browserResolver=ae(class Ko{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xt,this._completeRedirectFn=$n}_openPopup(p,m,w,M){var R=this;return(0,l.Z)(function*(){var K;oe(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const le=Cf(p,m,w,Pt(),M);return function Zo(y,p,m,w=500,M=600){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let le="";const $e=Object.assign(Object.assign({},Ny),{width:w.toString(),height:M.toString(),top:R,left:K}),st=(0,L.z$)().toLowerCase();m&&(le=Ui(st)?"_blank":m),Ct(st)&&(p=p||"http://localhost",$e.scrollbars="yes");const Tt=Object.entries($e).reduce((zn,[ms,Nu])=>`${zn}${ms}=${Nu},`,"");if(function Il(y=(0,L.z$)()){var p;return Di(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(st)&&"_self"!==le)return function Df(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",le),new Zd(null);const gt=window.open(p||"",le,Tt);se(gt,y,"popup-blocked");try{gt.focus()}catch(zn){}return new Zd(gt)}(p,le,wa())})()}_openRedirect(p,m,w,M){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function yf(y){Dn().location.href=y}(Cf(p,m,w,Pt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:R}=this.eventManagers[m];return M?Promise.resolve(M):(oe(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function xy(y){return Sa.apply(this,arguments)}(p),M=new es(p);return w.register("authEvent",R=>(se(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Bs,{type:Bs},M=>{var R;const K=null===(R=null==M?void 0:M[0])||void 0===R?void 0:R[Bs];void 0!==K&&m(!!K),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sy(y){return Ls.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Cs()||rn()||Di()}}),this.cordovaResolver=ae(class Rf{constructor(){this._redirectPersistence=xt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$n}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let M=m.eventManagers.get(w);return M||(M=new Mf(p),m.eventManagers.set(w,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,M){var R=this;return(0,l.Z)(function*(){!function Qd(y){var p,m,w,M,R,K,le,$e,st,Tt;const gt=vo();se("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(R=null===(M=null===(w=null==gt?void 0:gt.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===($e=null===(le=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===le?void 0:le.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Tt=null===(st=null==gt?void 0:gt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===Tt?void 0:Tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield R._initialize(p);yield K.initialized(),K.resetRedirect(),function Xl(){gs.clear()}(),yield R._originValidation(p);const le=function xf(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Cu(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,w,M);yield function qw(y,p){return nc()._set(Nf(y),p)}(p,le);const $e=yield function Sf(y,p,m){return ol.apply(this,arguments)}(p,le,m),st=yield function Eu(y){const{cordova:p}=vo();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function Oo(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}($e);return function qg(y,p,m){return Jd.apply(this,arguments)}(p,K,st)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function If(y){return ts.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:R}=vo(),K=setTimeout((0,l.Z)(function*(){yield Du(p),m.onEvent(Pf())}),500),le=function(){var Tt=(0,l.Z)(function*(gt){clearTimeout(K);const zn=yield Du(p);let ms=null;zn&&(null==gt?void 0:gt.url)&&(ms=function Ly(y,p){var m,w;const M=function Tu(y){const p=Su(y),m=p.link?decodeURIComponent(p.link):void 0,w=Su(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Su(M).link||M||w||m||y}(p);if(M.includes("/__/auth/callback")){const R=Su(M),K=R.firebaseError?function Of(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(w=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],$e=le?Ee(le):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(zn,gt.url)),m.onEvent(ms||Pf())});return function(zn){return Tt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,le);const $e=M,st=`${R.packageName.toLowerCase()}://`;vo().handleOpenURL=function(){var Tt=(0,l.Z)(function*(gt){if(gt.toLowerCase().startsWith(st)&&le({url:gt}),"function"==typeof $e)try{$e(gt)}catch(zn){console.error(zn)}});return function(gt){return Tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xt,this._completeRedirectFn=$n}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,M){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,M)})()}_openRedirect(p,m,w,M){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function tr(){return ll.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Qg(y){return y.unwrap()}function dl(y){return Xg(y)}function Xg(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Xr.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ya;break;case"facebook.com":w=Ro;break;case"github.com":w=Td;break;case"twitter.com":w=kl;break;default:const{oauthIdToken:M,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:le,nonce:$e}=p;return R||K||M||le?le?m.startsWith("saml.")?Jn._create(m,le):Is._fromParams({providerId:m,signInMethod:m,pendingToken:le,idToken:M,accessToken:R}):new ga(m).credential({idToken:M,accessToken:R,rawNonce:$e}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Zi(y,p){return p.catch(m=>{throw m instanceof L.ZR&&function $y(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new zy(y,function Wl(y,p){var m;const w=(0,L.m9)(y),M=p;return se(p.customData.operationType,w,"argument-error"),se(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),tl._fromError(w,M)}(y,p));else if(w){const M=Xg(p),R=p;M&&(R.credential=M,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:dl(m),additionalUserInfo:$i(m),user:Jo.getOrCreate(M)}})}function Uf(y,p){return jf.apply(this,arguments)}function jf(){return(jf=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Zi(y,m.confirm(w))}})).apply(this,arguments)}class zy{constructor(p,m){this.resolver=m,this.auth=function Gy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Zi(Qg(this.auth),this.resolver.resolveSignIn(p))}}class Jo{constructor(p){this._delegate=p,this.multiFactor=function Pd(y){const p=(0,L.m9)(y);return ba.has(p)||ba.set(p,Ns._fromUser(p)),ba.get(p)}(p)}static getOrCreate(p){return Jo.USER_MAP.has(p)||Jo.USER_MAP.set(p,new Jo(p)),Jo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,qr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Uf(w.auth,function uu(y,p,m){return Da.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,function fs(y,p,m){return Ql.apply(this,arguments)}(m._delegate,p,Fr))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield ul(Ve(m.auth)),function it(y,p,m){return function Nt(y,p,m){return Vt.apply(this,arguments)}(y,p,m)}(m._delegate,p,Fr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,so(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Uf(this.auth,function Ug(y,p,m){return du.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Zi(this.auth,function Ho(y,p,m){return Jl.apply(this,arguments)}(this._delegate,p,Fr))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield ul(Ve(m.auth)),function re(y,p,m){return function Oe(y,p,m){return ke.apply(this,arguments)}(y,p,m)}(m._delegate,p,Fr)})()}sendEmailVerification(p){return function Wr(y,p){return Yc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Ja(y,p){return Gc.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Xc(y,p){return eu((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Md(y,p){return eu((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function hu(y,p){return Fs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function va(y,p){return Qc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function zl(y,p,m){return ql.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jo.USER_MAP=new WeakMap;const xu=se;let Hf=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;xu(M,"invalid-api-key",{appName:m.name}),xu(M,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?Fr:void 0;this._delegate=w.initialize({options:{persistence:qy(M,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function En(y,p,m){const w=Ve(y);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),R=Ni(p),{host:K,port:le}=function Ys(y){const p=Ni(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const R=M[1];return{host:R,port:ni(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:ni(K)}}}(p);w.config.emulator={url:`${R}//${K}${null===le?"":`:${le}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function cs(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function zc(y,p){return Te.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return qt(this._delegate,m)}confirmPasswordReset(m,w){return function Hl(y,p,m){return $c.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,l.Z)(function*(){return Zi(M._delegate,function ya(y,p,m){return fr.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function $l(y,p){return co.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Kc(y,p){const m=ko.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){xu(Au(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Ft(y,p){return li.apply(this,arguments)}(m._delegate,Fr);return w?Zi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Zg(y,p){Ve(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:R,error:K,complete:le}=Gf(m,w,M);return this._delegate.onAuthStateChanged(R,K,le)}onIdTokenChanged(m,w,M){const{next:R,error:K,complete:le}=Gf(m,w,M);return this._delegate.onIdTokenChanged(R,K,le)}sendSignInLinkToEmail(m,w){return function Zc(y,p,m){return Ad.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Ul(y,p,m){return jl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let M;switch(function Yg(y,p){cl(Object.values(ns).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?cl(p!==ns.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?cl(p===ns.NONE,y,"unsupported-persistence-type"):Yo()?cl(p===ns.NONE||p===ns.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):cl(p===ns.NONE||Wi(),y,"unsupported-persistence-type")}(w._delegate,m),m){case ns.SESSION:M=xt;break;case ns.LOCAL:M=(yield ae(Yr)._isAvailable())?Yr:kn;break;case ns.NONE:M=q;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Zi(this._delegate,function Pl(y){return Sd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Zi(this._delegate,Qn(this._delegate,m))}signInWithCustomToken(m){return Zi(this._delegate,function oo(y,p){return ao.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Zi(this._delegate,function Wc(y,p,m){return Qn((0,L.m9)(y),Hc.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Zi(this._delegate,function Gl(y,p,m){return lo.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Uf(this._delegate,function Yl(y,p,m){return Ln.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return xu(Au(),w._delegate,"operation-not-supported-in-this-environment"),Zi(w._delegate,function yo(y,p,m){return jd.apply(this,arguments)}(w._delegate,m,Fr))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return xu(Au(),w._delegate,"operation-not-supported-in-this-environment"),yield ul(w._delegate),function O(y,p,m){return function V(y,p,m){return J.apply(this,arguments)}(y,p,m)}(w._delegate,m,Fr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function An(y,p){return _a.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ns,y})();function Gf(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const M=w;return{next:K=>M(K&&Jo.getOrCreate(K)),error:p,complete:m}}function qy(y,p){const m=function Jg(y,p){const m=Mu();if(!m)return[];const w=fe(Bf,y,p);switch(m.getItem(w)){case ns.NONE:return[q];case ns.LOCAL:return[Yr,xt];case ns.SESSION:return[xt];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(Yr)&&m.push(Yr),"undefined"!=typeof window)for(const w of[kn,xt])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class $f{constructor(){this.providerId="phone",this._delegate=new Xr(Qg(X.Z.auth()))}static credential(p,m){return Xr.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}$f.PHONE_SIGN_IN_METHOD=Xr.PHONE_SIGN_IN_METHOD,$f.PROVIDER_ID=Xr.PROVIDER_ID;const Wy=se;class Zy{constructor(p,m,w=X.Z.app()){var M;Wy(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new vf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function em(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Hf(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hc,FacebookAuthProvider:Ro,GithubAuthProvider:Td,GoogleAuthProvider:Ya,OAuthProvider:ga,SAMLAuthProvider:Mr,PhoneAuthProvider:$f,PhoneMultiFactorGenerator:Gg,RecaptchaVerifier:Zy,TwitterAuthProvider:kl,Auth:Hf,AuthCredential:pn,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(X.Z)},8306:(ft,Ie,P)=>{P.d(Ie,{y:()=>$});var l=P(930),X=P(727),L=P(8822),ce=P(4671);var ie=P(2416),ge=P(576),he=P(2806);let $=(()=>{class Ne{constructor(He){He&&(this._subscribe=He)}lift(He){const me=new Ne;return me.source=this,me.operator=He,me}subscribe(He,me,Ce){const ot=function Je(Ne){return Ne&&Ne instanceof l.Lv||function te(Ne){return Ne&&(0,ge.m)(Ne.next)&&(0,ge.m)(Ne.error)&&(0,ge.m)(Ne.complete)}(Ne)&&(0,X.Nn)(Ne)}(He)?He:new l.Hp(He,me,Ce);return(0,he.x)(()=>{const{operator:et,source:Me}=this;ot.add(et?et.call(ot,Me):Me?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(He){try{return this._subscribe(He)}catch(me){He.error(me)}}forEach(He,me){return new(me=z(me))((Ce,ot)=>{const et=new l.Hp({next:Me=>{try{He(Me)}catch(Ee){ot(Ee),et.unsubscribe()}},error:ot,complete:Ce});this.subscribe(et)})}_subscribe(He){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(He)}[L.L](){return this}pipe(...He){return function ye(Ne){return 0===Ne.length?ce.y:1===Ne.length?Ne[0]:function(He){return Ne.reduce((me,Ce)=>Ce(me),He)}}(He)(this)}toPromise(He){return new(He=z(He))((me,Ce)=>{let ot;this.subscribe(et=>ot=et,et=>Ce(et),()=>me(ot))})}}return Ne.create=Be=>new Ne(Be),Ne})();function z(Ne){var Be;return null!==(Be=null!=Ne?Ne:ie.v.Promise)&&void 0!==Be?Be:Promise}},7579:(ft,Ie,P)=>{P.d(Ie,{x:()=>ie});var l=P(8306),X=P(727);const ce=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ye=P(2806);let ie=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const te=new ge(this,this);return te.operator=z,te}_throwIfClosed(){if(this.closed)throw new ce}next(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(z)}})}error(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:te}=this;for(;te.length;)te.shift().error(z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:te,isStopped:Je,observers:Ne}=this;return te||Je?X.Lc:(this.currentObservers=null,Ne.push(z),new X.w0(()=>{this.currentObservers=null,(0,ne.P)(Ne,z)}))}_checkFinalizedStatuses(z){const{hasError:te,thrownError:Je,isStopped:Ne}=this;te?z.error(Je):Ne&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return he.create=($,z)=>new ge($,z),he})();class ge extends ie{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===te||te.call(z,$)}error($){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===te||te.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,te;return null!==(te=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==te?te:X.Lc}}},930:(ft,Ie,P)=>{P.d(Ie,{Hp:()=>He,Lv:()=>te});var l=P(576),X=P(727),L=P(2416),ce=P(7849),ne=P(5032);const ye=he("C",void 0,void 0);function he(Me,Ee,De){return{kind:Me,value:Ee,error:De}}var $=P(3410),z=P(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=et}static create(Ee,De,Ke){return new He(Ee,De,Ke)}next(Ee){this.isStopped?ot(function ge(Me){return he("N",Me,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?ot(function ie(Me){return he("E",void 0,Me)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?ot(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ne(Me,Ee){return Je.call(Me,Ee)}class Be{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch(Ke){me(Ke)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch(Ke){me(Ke)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){me(De)}}}class He extends te{constructor(Ee,De,Ke){let We;if(super(),(0,l.m)(Ee)||!Ee)We={next:null!=Ee?Ee:void 0,error:null!=De?De:void 0,complete:null!=Ke?Ke:void 0};else{let se;this&&L.v.useDeprecatedNextContext?(se=Object.create(Ee),se.unsubscribe=()=>this.unsubscribe(),We={next:Ee.next&&Ne(Ee.next,se),error:Ee.error&&Ne(Ee.error,se),complete:Ee.complete&&Ne(Ee.complete,se)}):We=Ee}this.destination=new Be(We)}}function me(Me){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Me):(0,ce.h)(Me)}function ot(Me,Ee){const{onStoppedNotification:De}=L.v;De&&$.z.setTimeout(()=>De(Me,Ee))}const et={closed:!0,next:ne.Z,error:function Ce(Me){throw Me},complete:ne.Z}},727:(ft,Ie,P)=>{P.d(Ie,{Lc:()=>ye,w0:()=>ne,Nn:()=>ie});var l=P(576);const L=(0,P(3888).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((te,Je)=>`${Je+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ce=P(8737);class ne{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ne of z)Ne.remove(this);else z.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Ne){$=Ne instanceof L?Ne.errors:[Ne]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ne of Je)try{ge(Ne)}catch(Be){$=null!=$?$:[],Be instanceof L?$=[...$,...Be.errors]:$.push(Be)}}if($)throw new L($)}}add($){var z;if($&&$!==this)if(this.closed)ge($);else{if($ instanceof ne){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,ce.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,ce.P)(z,$),$ instanceof ne&&$._removeParent(this)}}ne.EMPTY=(()=>{const he=new ne;return he.closed=!0,he})();const ye=ne.EMPTY;function ie(he){return he instanceof ne||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function ge(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(ft,Ie,P)=>{P.d(Ie,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ie,P)=>{P.d(Ie,{E:()=>X});const X=new(P(8306).y)(ne=>ne.complete())},8996:(ft,Ie,P)=>{P.d(Ie,{D:()=>Ee});var l=P(8421),X=P(5363),L=P(9468),ye=P(8306),ge=P(2202),he=P(576),$=P(9672);function te(De,Ke){if(!De)throw new Error("Iterable cannot be null");return new ye.y(We=>{(0,$.f)(We,Ke,()=>{const se=De[Symbol.asyncIterator]();(0,$.f)(We,Ke,()=>{se.next().then(Y=>{Y.done?We.complete():We.next(Y.value)})},0,!0)})})}var Je=P(3670),Ne=P(8239),Be=P(1144),He=P(6495),me=P(2206),Ce=P(4532),ot=P(3260);function Ee(De,Ke){return Ke?function Me(De,Ke){if(null!=De){if((0,Je.c)(De))return function ce(De,Ke){return(0,l.Xf)(De).pipe((0,L.R)(Ke),(0,X.Q)(Ke))}(De,Ke);if((0,Be.z)(De))return function ie(De,Ke){return new ye.y(We=>{let se=0;return Ke.schedule(function(){se===De.length?We.complete():(We.next(De[se++]),We.closed||this.schedule())})})}(De,Ke);if((0,Ne.t)(De))return function ne(De,Ke){return(0,l.Xf)(De).pipe((0,L.R)(Ke),(0,X.Q)(Ke))}(De,Ke);if((0,me.D)(De))return te(De,Ke);if((0,He.T)(De))return function z(De,Ke){return new ye.y(We=>{let se;return(0,$.f)(We,Ke,()=>{se=De[ge.h](),(0,$.f)(We,Ke,()=>{let Y,oe;try{({value:Y,done:oe}=se.next())}catch(ve){return void We.error(ve)}oe?We.complete():We.next(Y)},0,!0)}),()=>(0,he.m)(null==se?void 0:se.return)&&se.return()})}(De,Ke);if((0,ot.L)(De))return function et(De,Ke){return te((0,ot.Q)(De),Ke)}(De,Ke)}throw(0,Ce.z)(De)}(De,Ke):(0,l.Xf)(De)}},8421:(ft,Ie,P)=>{P.d(Ie,{Xf:()=>Je});var l=P(655),X=P(1144),L=P(8239),ce=P(8306),ne=P(3670),ye=P(2206),ie=P(4532),ge=P(6495),he=P(3260),$=P(576),z=P(7849),te=P(8822);function Je(Me){if(Me instanceof ce.y)return Me;if(null!=Me){if((0,ne.c)(Me))return function Ne(Me){return new ce.y(Ee=>{const De=Me[te.L]();if((0,$.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,X.z)(Me))return function Be(Me){return new ce.y(Ee=>{for(let De=0;De<Me.length&&!Ee.closed;De++)Ee.next(Me[De]);Ee.complete()})}(Me);if((0,L.t)(Me))return function He(Me){return new ce.y(Ee=>{Me.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,z.h)})}(Me);if((0,ye.D)(Me))return Ce(Me);if((0,ge.T)(Me))return function me(Me){return new ce.y(Ee=>{for(const De of Me)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Me);if((0,he.L)(Me))return function ot(Me){return Ce((0,he.Q)(Me))}(Me)}throw(0,ie.z)(Me)}function Ce(Me){return new ce.y(Ee=>{(function et(Me,Ee){var De,Ke,We,se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Me);!(Ke=yield De.next()).done;)if(Ee.next(Ke.value),Ee.closed)return}catch(Y){We={error:Y}}finally{try{Ke&&!Ke.done&&(se=De.return)&&(yield se.call(De))}finally{if(We)throw We.error}}Ee.complete()})})(Me,Ee).catch(De=>Ee.error(De))})}},6451:(ft,Ie,P)=>{P.d(Ie,{T:()=>ye});var l=P(8189),X=P(8421),L=P(515),ce=P(3269),ne=P(8996);function ye(...ie){const ge=(0,ce.yG)(ie),he=(0,ce._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,X.Xf)($[0]):(0,l.J)(he)((0,ne.D)($,ge)):L.E}},5403:(ft,Ie,P)=>{P.d(Ie,{x:()=>X});var l=P(930);function X(ce,ne,ye,ie,ge){return new L(ce,ne,ye,ie,ge)}class L extends l.Lv{constructor(ne,ye,ie,ge,he,$){super(ne),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=ye?function(z){try{ye(z)}catch(te){ne.error(te)}}:super._next,this._error=ge?function(z){try{ge(z)}catch(te){ne.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){ne.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(ft,Ie,P)=>{P.d(Ie,{U:()=>L});var l=P(4482),X=P(5403);function L(ce,ne){return(0,l.e)((ye,ie)=>{let ge=0;ye.subscribe((0,X.x)(ie,he=>{ie.next(ce.call(ne,he,ge++))}))})}},8189:(ft,Ie,P)=>{P.d(Ie,{J:()=>L});var l=P(5577),X=P(4671);function L(ce=1/0){return(0,l.z)(X.y,ce)}},5577:(ft,Ie,P)=>{P.d(Ie,{z:()=>ge});var l=P(4004),X=P(8421),L=P(4482),ce=P(9672),ne=P(5403),ie=P(576);function ge(he,$,z=1/0){return(0,ie.m)($)?ge((te,Je)=>(0,l.U)((Ne,Be)=>$(te,Ne,Je,Be))((0,X.Xf)(he(te,Je))),z):("number"==typeof $&&(z=$),(0,L.e)((te,Je)=>function ye(he,$,z,te,Je,Ne,Be,He){const me=[];let Ce=0,ot=0,et=!1;const Me=()=>{et&&!me.length&&!Ce&&$.complete()},Ee=Ke=>Ce<te?De(Ke):me.push(Ke),De=Ke=>{Ne&&$.next(Ke),Ce++;let We=!1;(0,X.Xf)(z(Ke,ot++)).subscribe((0,ne.x)($,se=>{null==Je||Je(se),Ne?Ee(se):$.next(se)},()=>{We=!0},void 0,()=>{if(We)try{for(Ce--;me.length&&Ce<te;){const se=me.shift();Be?(0,ce.f)($,Be,()=>De(se)):De(se)}Me()}catch(se){$.error(se)}}))};return he.subscribe((0,ne.x)($,Ee,()=>{et=!0,Me()})),()=>{null==He||He()}}(te,Je,he,z)))}},5363:(ft,Ie,P)=>{P.d(Ie,{Q:()=>ce});var l=P(9672),X=P(4482),L=P(5403);function ce(ne,ye=0){return(0,X.e)((ie,ge)=>{ie.subscribe((0,L.x)(ge,he=>(0,l.f)(ge,ne,()=>ge.next(he),ye),()=>(0,l.f)(ge,ne,()=>ge.complete(),ye),he=>(0,l.f)(ge,ne,()=>ge.error(he),ye)))})}},3099:(ft,Ie,P)=>{P.d(Ie,{B:()=>ye});var l=P(8996),X=P(5698),L=P(7579),ce=P(930),ne=P(4482);function ye(ge={}){const{connector:he=(()=>new L.x),resetOnError:$=!0,resetOnComplete:z=!0,resetOnRefCountZero:te=!0}=ge;return Je=>{let Ne=null,Be=null,He=null,me=0,Ce=!1,ot=!1;const et=()=>{null==Be||Be.unsubscribe(),Be=null},Me=()=>{et(),Ne=He=null,Ce=ot=!1},Ee=()=>{const De=Ne;Me(),null==De||De.unsubscribe()};return(0,ne.e)((De,Ke)=>{me++,!ot&&!Ce&&et();const We=He=null!=He?He:he();Ke.add(()=>{me--,0===me&&!ot&&!Ce&&(Be=ie(Ee,te))}),We.subscribe(Ke),Ne||(Ne=new ce.Hp({next:se=>We.next(se),error:se=>{ot=!0,et(),Be=ie(Me,$,se),We.error(se)},complete:()=>{Ce=!0,et(),Be=ie(Me,z),We.complete()}}),(0,l.D)(De).subscribe(Ne))})(Je)}}function ie(ge,he,...$){return!0===he?(ge(),null):!1===he?null:he(...$).pipe((0,X.q)(1)).subscribe(()=>ge())}},9468:(ft,Ie,P)=>{P.d(Ie,{R:()=>X});var l=P(4482);function X(L,ce=0){return(0,l.e)((ne,ye)=>{ye.add(L.schedule(()=>ne.subscribe(ye),ce))})}},5698:(ft,Ie,P)=>{P.d(Ie,{q:()=>ce});var l=P(515),X=P(4482),L=P(5403);function ce(ne){return ne<=0?()=>l.E:(0,X.e)((ye,ie)=>{let ge=0;ye.subscribe((0,L.x)(ie,he=>{++ge<=ne&&(ie.next(he),ne<=ge&&ie.complete())}))})}},8505:(ft,Ie,P)=>{P.d(Ie,{b:()=>ne});var l=P(576),X=P(4482),L=P(5403),ce=P(4671);function ne(ye,ie,ge){const he=(0,l.m)(ye)||ie||ge?{next:ye,error:ie,complete:ge}:ye;return he?(0,X.e)(($,z)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let Je=!0;$.subscribe((0,L.x)(z,Ne=>{var Be;null===(Be=he.next)||void 0===Be||Be.call(he,Ne),z.next(Ne)},()=>{var Ne;Je=!1,null===(Ne=he.complete)||void 0===Ne||Ne.call(he),z.complete()},Ne=>{var Be;Je=!1,null===(Be=he.error)||void 0===Be||Be.call(he,Ne),z.error(Ne)},()=>{var Ne,Be;Je&&(null===(Ne=he.unsubscribe)||void 0===Ne||Ne.call(he)),null===(Be=he.finalize)||void 0===Be||Be.call(he)}))}):ce.y}},4408:(ft,Ie,P)=>{P.d(Ie,{o:()=>ne});var l=P(727);class X extends l.w0{constructor(ie,ge){super()}schedule(ie,ge=0){return this}}const L={setInterval(ye,ie,...ge){const{delegate:he}=L;return(null==he?void 0:he.setInterval)?he.setInterval(ye,ie,...ge):setInterval(ye,ie,...ge)},clearInterval(ye){const{delegate:ie}=L;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ye)},delegate:void 0};var ce=P(8737);class ne extends X{constructor(ie,ge){super(ie,ge),this.scheduler=ie,this.work=ge,this.pending=!1}schedule(ie,ge=0){if(this.closed)return this;this.state=ie;const he=this.id,$=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId($,he,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId($,this.id,ge),this}requestAsyncId(ie,ge,he=0){return L.setInterval(ie.flush.bind(ie,this),he)}recycleAsyncId(ie,ge,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ge;L.clearInterval(ge)}execute(ie,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ie,ge);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ge){let $,he=!1;try{this.work(ie)}catch(z){he=!0,$=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ge}=this,{actions:he}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(he,this),null!=ie&&(this.id=this.recycleAsyncId(ge,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ie,P)=>{P.d(Ie,{v:()=>L});var l=P(6063);class X{constructor(ne,ye=X.now){this.schedulerActionCtor=ne,this.now=ye}schedule(ne,ye=0,ie){return new this.schedulerActionCtor(this,ne).schedule(ie,ye)}}X.now=l.l.now;class L extends X{constructor(ne,ye=X.now){super(ne,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ye}=this;if(this._active)return void ye.push(ne);let ie;this._active=!0;do{if(ie=ne.execute(ne.state,ne.delay))break}while(ne=ye.shift());if(this._active=!1,ie){for(;ne=ye.shift();)ne.unsubscribe();throw ie}}}},4986:(ft,Ie,P)=>{P.d(Ie,{P:()=>ce,z:()=>L});var l=P(4408);const L=new(P(7565).v)(l.o),ce=L},6063:(ft,Ie,P)=>{P.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ft,Ie,P)=>{P.d(Ie,{z:()=>l});const l={setTimeout(X,L,...ce){const{delegate:ne}=l;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(X,L,...ce):setTimeout(X,L,...ce)},clearTimeout(X){const{delegate:L}=l;return((null==L?void 0:L.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(ft,Ie,P)=>{P.d(Ie,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ie,P)=>{P.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Ie,P)=>{P.d(Ie,{_6:()=>ye,jO:()=>ce,yG:()=>ne});var l=P(576),X=P(3532);function L(ie){return ie[ie.length-1]}function ce(ie){return(0,l.m)(L(ie))?ie.pop():void 0}function ne(ie){return(0,X.K)(L(ie))?ie.pop():void 0}function ye(ie,ge){return"number"==typeof L(ie)?ie.pop():ge}},8737:(ft,Ie,P)=>{function l(X,L){if(X){const ce=X.indexOf(L);0<=ce&&X.splice(ce,1)}}P.d(Ie,{P:()=>l})},3888:(ft,Ie,P)=>{function l(X){const ce=X(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(Ie,{d:()=>l})},2806:(ft,Ie,P)=>{P.d(Ie,{O:()=>ce,x:()=>L});var l=P(2416);let X=null;function L(ne){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!X;if(ye&&(X={errorThrown:!1,error:null}),ne(),ye){const{errorThrown:ie,error:ge}=X;if(X=null,ie)throw ge}}else ne()}function ce(ne){l.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ne)}},9672:(ft,Ie,P)=>{function l(X,L,ce,ne=0,ye=!1){const ie=L.schedule(function(){ce(),ye?X.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(X.add(ie),!ye)return ie}P.d(Ie,{f:()=>l})},4671:(ft,Ie,P)=>{function l(X){return X}P.d(Ie,{y:()=>l})},1144:(ft,Ie,P)=>{P.d(Ie,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ft,Ie,P)=>{P.d(Ie,{D:()=>X});var l=P(576);function X(L){return Symbol.asyncIterator&&(0,l.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(ft,Ie,P)=>{function l(X){return"function"==typeof X}P.d(Ie,{m:()=>l})},3670:(ft,Ie,P)=>{P.d(Ie,{c:()=>L});var l=P(8822),X=P(576);function L(ce){return(0,X.m)(ce[l.L])}},6495:(ft,Ie,P)=>{P.d(Ie,{T:()=>L});var l=P(2202),X=P(576);function L(ce){return(0,X.m)(null==ce?void 0:ce[l.h])}},8239:(ft,Ie,P)=>{P.d(Ie,{t:()=>X});var l=P(576);function X(L){return(0,l.m)(null==L?void 0:L.then)}},3260:(ft,Ie,P)=>{P.d(Ie,{L:()=>ce,Q:()=>L});var l=P(655),X=P(576);function L(ne){return(0,l.FC)(this,arguments,function*(){const ie=ne.getReader();try{for(;;){const{value:ge,done:he}=yield(0,l.qq)(ie.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ge)}}finally{ie.releaseLock()}})}function ce(ne){return(0,X.m)(null==ne?void 0:ne.getReader)}},3532:(ft,Ie,P)=>{P.d(Ie,{K:()=>X});var l=P(576);function X(L){return L&&(0,l.m)(L.schedule)}},4482:(ft,Ie,P)=>{P.d(Ie,{A:()=>X,e:()=>L});var l=P(576);function X(ce){return(0,l.m)(null==ce?void 0:ce.lift)}function L(ce){return ne=>{if(X(ne))return ne.lift(function(ye){try{return ce(ye,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Ie,P)=>{function l(){}P.d(Ie,{Z:()=>l})},7849:(ft,Ie,P)=>{P.d(Ie,{h:()=>L});var l=P(2416),X=P(3410);function L(ce){X.z.setTimeout(()=>{const{onUnhandledError:ne}=l.v;if(!ne)throw ce;ne(ce)})}},4532:(ft,Ie,P)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>l})},655:(ft,Ie,P)=>{function ce(Y,oe){var ve={};for(var ae in Y)Object.prototype.hasOwnProperty.call(Y,ae)&&oe.indexOf(ae)<0&&(ve[ae]=Y[ae]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ae=Object.getOwnPropertySymbols(Y);Fe<ae.length;Fe++)oe.indexOf(ae[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Y,ae[Fe])&&(ve[ae[Fe]]=Y[ae[Fe]])}return ve}function ge(Y,oe,ve,ae){return new(ve||(ve=Promise))(function(ue,Pt){function an(Dt){try{mt(ae.next(Dt))}catch(yn){Pt(yn)}}function Kn(Dt){try{mt(ae.throw(Dt))}catch(yn){Pt(yn)}}function mt(Dt){Dt.done?ue(Dt.value):function Fe(ue){return ue instanceof ve?ue:new ve(function(Pt){Pt(ue)})}(Dt.value).then(an,Kn)}mt((ae=ae.apply(Y,oe||[])).next())})}function me(Y){return this instanceof me?(this.v=Y,this):new me(Y)}function Ce(Y,oe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ae=ve.apply(Y,oe||[]),ue=[];return Fe={},Pt("next"),Pt("throw"),Pt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Pt(vn){ae[vn]&&(Fe[vn]=function(zr){return new Promise(function(fn,ws){ue.push([vn,zr,fn,ws])>1||an(vn,zr)})})}function an(vn,zr){try{!function Kn(vn){vn.value instanceof me?Promise.resolve(vn.value.v).then(mt,Dt):yn(ue[0][2],vn)}(ae[vn](zr))}catch(fn){yn(ue[0][3],fn)}}function mt(vn){an("next",vn)}function Dt(vn){an("throw",vn)}function yn(vn,zr){vn(zr),ue.shift(),ue.length&&an(ue[0][0],ue[0][1])}}function et(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function te(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ve=oe&&Y[oe],ae=0;if(ve)return ve.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ae>=Y.length&&(Y=void 0),{value:Y&&Y[ae++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ve={},ae("next"),ae("throw"),ae("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ae(ue){ve[ue]=Y[ue]&&function(Pt){return new Promise(function(an,Kn){!function Fe(ue,Pt,an,Kn){Promise.resolve(Kn).then(function(mt){ue({value:mt,done:an})},Pt)}(an,Kn,(Pt=Y[ue](Pt)).done,Pt.value)})}}}P.d(Ie,{FC:()=>Ce,KL:()=>et,_T:()=>ce,mG:()=>ge,qq:()=>me})},5e3:(ft,Ie,P)=>{P.d(Ie,{$8M:()=>Nn,$Z:()=>a0,AFp:()=>cC,ALo:()=>JD,AaK:()=>ge,BQk:()=>km,CHM:()=>qc,CRH:()=>Qu,CZH:()=>xc,CqO:()=>Pm,DdM:()=>Tb,EJc:()=>jh,EiD:()=>Su,EpF:()=>Rm,F$t:()=>eS,F4k:()=>JT,FYo:()=>VD,FiY:()=>Pr,G48:()=>yC,Gf:()=>nC,GfV:()=>Np,Gpc:()=>z,Hsn:()=>tS,Ikx:()=>G0,JOm:()=>le,JVY:()=>Tf,L6k:()=>Kd,LAX:()=>$g,LFG:()=>it,LSH:()=>ic,Lbi:()=>sd,MAs:()=>Sm,MGl:()=>h0,NdJ:()=>lD,O4$:()=>kd,OlP:()=>Gn,Oqu:()=>M0,PXZ:()=>k_,Q6J:()=>Om,QGY:()=>fp,Qsj:()=>RS,QtT:()=>fb,R0b:()=>Io,RDi:()=>As,Rgc:()=>Fp,SBq:()=>Ph,SDv:()=>qu,Sil:()=>zb,Suo:()=>Yi,TTD:()=>Ro,TgZ:()=>l0,Tol:()=>nr,Udp:()=>w0,VKq:()=>Sb,VLi:()=>gC,W1O:()=>Ic,WFA:()=>d0,WLB:()=>Ib,X6Q:()=>_C,XFs:()=>_t,Xpm:()=>zt,Y36:()=>Ch,YKP:()=>Eb,YNc:()=>ZE,Yjl:()=>Ui,Yz7:()=>fn,ZZ4:()=>dd,_Bn:()=>BD,_UZ:()=>dp,_Vd:()=>Ec,_c5:()=>SC,_uU:()=>$m,aQg:()=>H_,c2e:()=>M_,cJS:()=>ln,cg1:()=>vp,d8E:()=>yp,dDg:()=>Oc,deG:()=>Lg,dqk:()=>Kt,eBb:()=>Gg,eFA:()=>R_,ekj:()=>E0,f3M:()=>Vt,g9A:()=>Hb,h0i:()=>Fa,hGG:()=>IC,hij:()=>zm,iGM:()=>sn,ifc:()=>Xt,ip1:()=>bl,kEZ:()=>Rp,kL8:()=>ED,kcU:()=>Dy,lG2:()=>rn,lcZ:()=>rr,mCW:()=>ol,n5z:()=>Vd,n_E:()=>kt,oAB:()=>ee,oxw:()=>QT,pB0:()=>Yd,pQV:()=>hb,q3G:()=>cn,q4F:()=>mb,qLn:()=>Zi,qOj:()=>UE,qZA:()=>c0,qzn:()=>Ko,s9C:()=>hD,sBO:()=>wr,sIi:()=>mc,s_b:()=>Lp,soG:()=>zp,tBr:()=>er,tb:()=>$p,tp0:()=>zo,uIk:()=>yr,vHH:()=>Be,vpe:()=>Co,wAp:()=>St,xp6:()=>lv,yhl:()=>sl,ynx:()=>hp,z2F:()=>P_,z3N:()=>Bs,zSh:()=>Bv,zs3:()=>Eo});var l=P(7579),X=P(727),L=P(8306),ce=P(6451),ne=P(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ye({__forward_ref__:ye});function z(s){return s.__forward_ref__=z,s.toString=function(){return ge(this())},s}function te(s){return Je(s)?s():s}function Je(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Be extends Error{constructor(o,c){super(function He(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function Ee(s,o){const c=o?` in ${o}`:"";throw new Be(-201,`No provider for ${Ce(s)} found${c}`)}function Dt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ln(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return Ai(s,as)||Ai(s,Es)}function Ai(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qi(s){return s&&(s.hasOwnProperty(Xi)||s.hasOwnProperty(Ds))?s[Xi]:null}const as=ye({\u0275prov:ye}),Xi=ye({\u0275inj:ye}),Es=ye({ngInjectableDef:ye}),Ds=ye({ngInjectorDef:ye});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let lr;function hi(s){const o=lr;return lr=s,o}function Sr(s,o,c){const d=Qt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==o?o:void Ee(ge(s),"Injector")}function In(s){return{toString:s}.toString()}var Ei=(()=>((Ei=Ei||{})[Ei.OnPush=0]="OnPush",Ei[Ei.Default=1]="Default",Ei))(),Xt=(()=>{return(s=Xt||(Xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Xt;var s})();const ht="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,Mi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=ht||"undefined"!=typeof global&&global||At||Mi,xi={},yt=[],Vi=ye({\u0275cmp:ye}),Wt=ye({\u0275dir:ye}),tt=ye({\u0275pipe:ye}),xe=ye({\u0275mod:ye}),rt=ye({\u0275fac:ye}),vt=ye({__NG_ELEMENT_ID__:ye});let Zt=0;function zt(s){return In(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ei.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||yt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Xt.Emulated,id:"c",styles:s.styles||yt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return d.id+=Zt++,d.inputs=Ct(s.inputs,c),d.outputs=Ct(s.outputs),g&&g.forEach(E=>E(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(U):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,d})}function U(s){return en(s)||function Un(s){return s[Wt]||null}(s)}function q(s){return function Ht(s){return s[tt]||null}(s)}const fe={};function ee(s){return In(()=>{const o={type:s.type,bootstrap:s.bootstrap||yt,declarations:s.declarations||yt,imports:s.imports||yt,exports:s.exports||yt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),o})}function Ct(s,o){if(null==s)return xi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const rn=zt;function Ui(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[Vi]||null}function wn(s,o){const c=s[xe]||null;if(!c&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return c}function Ar(s){return Array.isArray(s)&&"object"==typeof s[1]}function cr(s){return Array.isArray(s)&&!0===s[1]}function wd(s){return 0!=(8&s.flags)}function eo(s){return 2==(2&s.flags)}function xl(s){return 1==(1&s.flags)}function ur(s){return null!==s.template}function gf(s){return 0!=(512&s[2])}function dr(s,o){return s.hasOwnProperty(rt)?s[rt]:null}class ga{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ro(){return Ya}function Ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=Rg),Td}function Td(){const s=io(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===xi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Rg(s,o,c,d){const h=io(s)||function Mr(s,o){return s[Jn]=o}(s,{previous:xi,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],D=v[E];g[E]=new ga(D&&D.currentValue,o,v===xi),s[d]=o}Ro.ngInherit=!0;const Jn="__ngSimpleChanges__";function io(s){return s[Jn]||null}let Ll;function As(s){Ll=s}function Ja(){return void 0!==Ll?Ll:"undefined"!=typeof document?document:void 0}function Sn(s){return!!s.listen}const ma={createRenderer:(s,o)=>Ja()};function mn(s){for(;Array.isArray(s);)s=s[0];return s}function Fo(s,o){return mn(o[s])}function Hi(s,o){return mn(o[s.index])}function Qa(s,o){return s.data[o]}function qr(s,o){return s[o]}function Gi(s,o){const c=o[s];return Ar(c)?c:c[0]}function so(s){return 4==(4&s[2])}function Ms(s){return 128==(128&s[2])}function hr(s,o){return null==o?null:s[o]}function oo(s){s[18]=0}function ao(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const bt={lFrame:Bo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Hl(){return bt.bindingsEnabled}function Te(){return bt.lFrame.lView}function qt(){return bt.lFrame.tView}function qc(s){return bt.lFrame.contextLView=s,s[8]}function An(){let s=_a();for(;null!==s&&64===s.type;)s=s.parent;return s}function _a(){return bt.lFrame.currentTNode}function ya(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function fr(s,o){const c=bt.lFrame;c.currentTNode=s,c.isParent=o}function Wc(){return bt.lFrame.isParent}function Zc(){bt.lFrame.isParent=!1}function Gl(){return bt.isInCheckNoChangesMode}function lo(s){bt.isInCheckNoChangesMode=s}function ki(){const s=bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function co(){return bt.lFrame.bindingIndex++}function Wr(s){const o=bt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function zl(s){bt.lFrame.inI18n=s}function ql(s,o){const c=bt.lFrame;c.bindingIndex=c.bindingRootIndex=s,el(o)}function el(s){bt.lFrame.currentDirectiveIndex=s}function va(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Qc(){return bt.lFrame.currentQueryIndex}function Xc(s){bt.lFrame.currentQueryIndex=s}function Md(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function eu(s,o,c){if(c&_t.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&_t.Host||(h=Md(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=bt.lFrame=xd();return d.currentTNode=o,d.lView=s,!0}function Lo(s){const o=xd(),c=s[1];bt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function xd(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?Bo(s):o}function Bo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Nd(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Od=Nd;function Vo(){const s=Nd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function $i(){return bt.lFrame.selectedIndex}function ho(s){bt.lFrame.selectedIndex=s}function Hn(){const s=bt.lFrame;return Qa(s.tView,s.selectedIndex)}function kd(){bt.lFrame.currentNamespace="svg"}function Dy(){!function nu(){bt.lFrame.currentNamespace=null}()}function xs(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:N}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-c,D),x&&((s.viewHooks||(s.viewHooks=[])).push(c,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,x)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(c,N)}}function tl(s,o,c){Rd(s,o,3,c)}function Wl(s,o,c,d){(3&s[2])===c&&Rd(s,o,c,d)}function si(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Rd(s,o,c,d){const g=null!=d?d:-1,v=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Pg(s,c,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Pg(s,o,c,d){const h=c[d]<0,g=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ba{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ct(s,o,c){const d=Sn(s);let h=0;for(;h<c.length;){const g=c[h];if("number"==typeof g){if(0!==g)break;h++;const v=c[h++],E=c[h++],D=c[h++];d?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=c[++h];Rn(v)?d&&s.setProperty(o,v,E):d?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function xt(s){return 3===s||4===s||6===s}function Rn(s){return 64===s.charCodeAt(0)}function Pn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||wa(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function wa(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Ld(s){return-1!==s}function Dn(s){return 32767&s}function Zr(s,o){let c=function yf(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Zl=!0;function pr(s){const o=Zl;return Zl=s,o}let au=0;function _n(s,o){const c=fo(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Os(d.data,s),Os(o,null),Os(d.blueprint,null));const h=Nr(s,o),g=s.injectorIndex;if(Ld(h)){const v=Dn(h),E=Zr(h,o),D=E[1].data;for(let x=0;x<8;x++)o[g+x]=E[v+x]|D[v+x]}return o[g+8]=h,g}function Os(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Nr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function po(s,o,c){!function Uo(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(vt)&&(d=c[vt]),null==d&&(d=c[vt]=au++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Kr(s,o,c){if(c&_t.Optional)return s;Ee(o,"NodeInjector")}function lu(s,o,c,d){if(c&_t.Optional&&void 0===d&&(d=null),0==(c&(_t.Self|_t.Host))){const h=s[9],g=hi(void 0);try{return h?h.get(o,d,c&_t.Optional):Sr(o,d,c&_t.Optional)}finally{hi(g)}}return Kr(d,o,c)}function go(s,o,c,d=_t.Default,h){if(null!==s){const g=function ks(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(vt)?s[vt]:void 0;return"number"==typeof o?o>=0?255&o:cu:o}(c);if("function"==typeof g){if(!eu(o,s,d))return d&_t.Host?Kr(h,c,d):lu(o,c,d,h);try{const v=g(d);if(null!=v||d&_t.Optional)return v;Ee(c)}finally{Od()}}else if("number"==typeof g){let v=null,E=fo(s,o),D=-1,x=d&_t.Host?o[16][6]:null;for((-1===E||d&_t.SkipSelf)&&(D=-1===E?Nr(s,o):o[E+8],-1!==D&&oi(d,!1)?(v=o[1],E=Dn(D),o=Zr(D,o)):E=-1);-1!==E;){const N=o[1];if(jo(g,E,N.data)){const B=Kl(E,o,c,v,d,x);if(B!==ds)return B}D=o[E+8],-1!==D&&oi(d,o[1].data[E+8]===x)&&jo(g,E,o)?(v=N,E=Dn(D),o=Zr(D,o)):E=-1}}}return lu(o,c,d,h)}const ds={};function cu(){return new Jr(An(),Te())}function Kl(s,o,c,d,h,g){const v=o[1],E=v.data[s+8],N=gr(E,v,c,null==d?eo(E)&&Zl:d!=v&&0!=(3&E.type),h&_t.Host&&g===E);return null!==N?Yr(o,v,N,E):ds}function gr(s,o,c,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,N=g>>20,H=h?E+N:s.directiveEnd;for(let Q=d?E:E+N;Q<H;Q++){const be=v[Q];if(Q<D&&c===be||Q>=D&&be.type===c)return Q}if(h){const Q=v[D];if(Q&&ur(Q)&&Q.type===c)return D}return null}function Yr(s,o,c,d){let h=s[c];const g=o.data;if(function Pd(s){return s instanceof ba}(h)){const v=h;v.resolving&&function ot(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${c}`)}(Ce(g[c]));const E=pr(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?hi(v.injectImpl):null;eu(s,d,_t.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function iu(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Ya(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==D&&hi(D),pr(E),v.resolving=!1,Od()}}return h}function jo(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function oi(s,o){return!(s&_t.Self||s&_t.Host&&o)}class Jr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return go(this._tNode,this._lView,o,d,c)}}function Vd(s){return In(()=>{const o=s.prototype.constructor,c=o[rt]||Fn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[rt]||Fn(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Fn(s){return Je(s)?()=>{const o=Fn(te(s));return o&&o()}:dr(s)}function Nn(s){return function Or(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(xt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(An(),s)}const Ea="__parameters__";function On(s,o,c){return In(()=>{const d=function Qr(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,x,N){const B=D.hasOwnProperty(Ea)?D[Ea]:Object.defineProperty(D,Ea,{value:[]})[Ea];for(;B.length<=N;)B.push(null);return(B[N]=B[N]||[]).push(v),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=fn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lg=new Gn("AnalyzeForEntryComponents");function qi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),qi(d,o)):o!==s&&o.push(d)}return o}function kr(s,o){s.forEach(c=>Array.isArray(c)?kr(c,o):o(c))}function hu(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Fs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xr(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function gi(s,o,c){let d=yo(s,o);return d>=0?s[1|d]=c:(d=~d,function fu(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function mu(s,o){const c=yo(s,o);if(c>=0)return s[1|c]}function yo(s,o){return function Ho(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const Go={},Ca="__NG_DI_FLAG__",Xl="ngTempTokenPath",S=/\n/gm,V="__source",J=ye({provide:String,useValue:ye});let re;function Oe(s){const o=re;return re=s,o}function ke(s,o=_t.Default){if(void 0===re)throw new Be(203,"");return null===re?Sr(s,void 0,o):re.get(s,o&_t.Optional?null:void 0,o)}function it(s,o=_t.Default){return(function wi(){return lr}()||ke)(te(s),o)}const Vt=it;function Ft(s){const o=[];for(let c=0;c<s.length;c++){const d=te(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Be(900,"");let h,g=_t.Default;for(let v=0;v<d.length;v++){const E=d[v],D=$n(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(it(h,g))}else o.push(it(d))}return o}function li(s,o){return s[Ca]=o,s.prototype[Ca]=o,s}function $n(s){return s[Ca]}const er=li(On("Inject",s=>({token:s})),-1),Pr=li(On("Optional"),8),zo=li(On("SkipSelf"),4);let Wo;function rl(s){var o;return(null===(o=function zd(){if(void 0===Wo&&(Wo=null,Kt.trustedTypes))try{Wo=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Wo}())||void 0===o?void 0:o.createHTML(s))||s}class Zo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Df extends Zo{getTypeName(){return"HTML"}}class Oy extends Zo{getTypeName(){return"Style"}}class wu extends Zo{getTypeName(){return"Script"}}class Cf extends Zo{getTypeName(){return"URL"}}class ky extends Zo{getTypeName(){return"ResourceURL"}}function Bs(s){return s instanceof Zo?s.changingThisBreaksApplicationSecurity:s}function Ko(s,o){const c=sl(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function sl(s){return s instanceof Zo&&s.getTypeName()||null}function Tf(s){return new Df(s)}function Kd(s){return new Oy(s)}function Gg(s){return new wu(s)}function $g(s){return new Cf(s)}function Yd(s){return new ky(s)}function zg(s){const o=new Py(s);return function Fy(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch(s){return!1}}()?new Ry(o):o}class Ry{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(rl(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Py{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=rl(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=rl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const vo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ol(s){return(s=String(s)).match(vo)||s.match(Sf)?s:"unsafe:"+s}function If(s){return(s=String(s)).split(",").map(o=>ol(o.trim())).join(", ")}function ts(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Eu(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const qg=ts("area,br,col,hr,img,wbr"),Jd=ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qd=ts("rp,rt"),Af=Eu(qg,Eu(Jd,ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eu(Qd,ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eu(Qd,Jd)),Mf=ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xf=ts("srcset"),Ia=Eu(Mf,xf,ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ly=ts("script,style,template");class Cu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Af.hasOwnProperty(c))return this.sanitizedSomething=!0,!Ly.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!Ia.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;Mf[E]&&(D=ol(D)),xf[E]&&(D=If(D)),this.buf.push(" ",v,'="',Of(D),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Af.hasOwnProperty(c)&&!qg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Of(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nf=/([^\#-~ |!])/g;function Of(s){return s.replace(/&/g,"&amp;").replace(nc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Nf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tu;function Su(s,o){let c=null;try{Tu=Tu||zg(s);let d=o?String(o):"";c=Tu.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=Tu.getInertBodyElement(d)}while(d!==g);return rl((new Cu).sanitizeChildren(kf(c)||c))}finally{if(c){const d=kf(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function kf(s){return"content"in s&&function Rf(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var cn=(()=>((cn=cn||{})[cn.NONE=0]="NONE",cn[cn.HTML=1]="HTML",cn[cn.STYLE=2]="STYLE",cn[cn.SCRIPT=3]="SCRIPT",cn[cn.URL=4]="URL",cn[cn.RESOURCE_URL=5]="RESOURCE_URL",cn))();function ic(s){const o=function Aa(){const s=Te();return s&&s[12]}();return o?o.sanitize(cn.URL,s)||"":Ko(s,"URL")?Bs(s):ol(me(s))}const Ff="__ngContext__";function tr(s,o){s[Ff]=o}function Lf(s){const o=function ll(s){return s[Ff]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function dl(s){return s.ngOriginalError}function Xg(s,...o){s.error(...o)}class Zi{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function $y(s){return s&&s.ngErrorLogger||Xg}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&dl(o);for(;c&&dl(c);)c=dl(c);return c||null}}const zy=/^>|^->|<!--|-->|--!>|<!-$/g,Jo=/(<|>)/;const Zy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function m(s){return s instanceof Function?s():s}var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();let $e;function st(s,o){return $e(s,o)}function zn(s){const o=s[3];return cr(o)?o[3]:o}function rc(s){return zf(s[13])}function sc(s){return zf(s[4])}function zf(s){for(;null!==s&&!cr(s);)s=s[4];return s}function Ma(s,o,c,d,h){if(null!=d){let g,v=!1;cr(d)?g=d:Ar(d)&&(v=!0,d=d[0]);const E=mn(d);0===s&&null!==c?null==h?tv(o,c,E):Vs(o,c,E,h||null,!0):1===s&&null!==c?Vs(o,c,E,h||null,!0):2===s?sv(o,E,v):3===s&&o.destroyNode(E),null!=g&&function nE(s,o,c,d,h){const g=c[7];g!==mn(c)&&Ma(o,s,d,g,h);for(let E=10;E<c.length;E++){const D=c[E];rm(D[1],D,s,o,d,g)}}(o,s,g,c,h)}}function th(s,o){return Sn(s)?s.createText(o):s.createTextNode(o)}function nh(s,o,c){Sn(s)?s.setValue(o,c):o.textContent=c}function qf(s,o){return s.createComment(function Hf(s){return s.replace(zy,o=>o.replace(Jo,"\u200b$1\u200b"))}(o))}function ih(s,o,c){if(Sn(s))return s.createElement(o,c);{const d=null!==c?function Fl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Ww(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,ao(h,-1)),c.splice(d,1)}function Qy(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&Ww(h,d),o>0&&(s[c-1][4]=d[4]);const g=Fs(s,10+o);!function mr(s,o){rm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Xy(s,o){if(!(256&o[2])){const c=o[11];Sn(c)&&c.destroyNode&&rm(s,o,c,3,null,null),function Jy(s){let o=s[13];if(!o)return ev(s[1],s);for(;o;){let c=null;if(Ar(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ar(o)&&ev(o[1],o),o=o[3];null===o&&(o=s),Ar(o)&&ev(o[1],o),c=o&&o[4]}o=c}}(o)}}function ev(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Kw(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof ba)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Zw(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],E="function"==typeof v?v(o):mn(o[v]),D=d[h=c[g+2]],x=c[g+3];"boolean"==typeof x?E.removeEventListener(c[g],D,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&Sn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&cr(o[3])){c!==o[3]&&Ww(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function nm(s,o,c){return K1(s,o.parent,c)}function K1(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Xt.None||h===Xt.Emulated)return null}return Hi(d,c)}function Vs(s,o,c,d,h){Sn(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function tv(s,o,c){Sn(s)?s.appendChild(o,c):o.appendChild(c)}function Yw(s,o,c,d,h){null!==d?Vs(s,o,c,d,h):tv(s,o,c)}function Kf(s,o){return Sn(s)?s.parentNode(o):o.parentNode}function Jw(s,o,c){return nv(s,o,c)}function Qw(s,o,c){return 40&s.type?Hi(s,c):null}let iv,nv=Qw;function Xw(s,o){nv=s,iv=o}function im(s,o,c,d){const h=nm(s,d,o),g=o[11],E=Jw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)Yw(g,h,c[D],E,!1);else Yw(g,h,c,E,!1);void 0!==iv&&iv(g,d,o,c,h)}function sh(s,o){if(null!==o){const c=o.type;if(3&c)return Hi(o,s);if(4&c)return rv(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return sh(s,d);{const h=s[o.index];return cr(h)?rv(-1,h):mn(h)}}if(32&c)return st(o,s)()||mn(s[o.index]);{const d=eE(s,o);return null!==d?Array.isArray(d)?d[0]:sh(zn(s[16]),d):sh(s,o.next)}}return null}function eE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function rv(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return sh(d,h)}return o[7]}function sv(s,o,c){const d=Kf(s,o);d&&function Y1(s,o,c,d){Sn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}function ov(s,o,c,d,h,g,v){for(;null!=c;){const E=d[c.index],D=c.type;if(v&&0===o&&(E&&tr(mn(E),d),c.flags|=4),64!=(64&c.flags))if(8&D)ov(s,o,c.child,d,h,g,!1),Ma(o,s,h,E,g);else if(32&D){const x=st(c,d);let N;for(;N=x();)Ma(o,s,h,N,g);Ma(o,s,h,E,g)}else 16&D?tE(s,o,d,c,h,g):Ma(o,s,h,E,g);c=v?c.projectionNext:c.next}}function rm(s,o,c,d,h,g){ov(c,d,s.firstChild,o,h,g,!1)}function tE(s,o,c,d,h,g){const v=c[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)Ma(o,s,h,D[x],g);else ov(s,o,D,v[3],h,g,!0)}function oc(s,o,c){Sn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function _s(s,o,c){Sn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function rE(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const sE="ng-template";function eT(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==rE(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function oE(s){return 4===s.type&&s.value!==sE}function Yf(s,o,c){return o===(4!==s.type||c?s.value:sE)}function ac(s,o,c){let d=4;const h=s.attrs||[],g=function xa(s){for(let o=0;o<s.length;o++)if(xt(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!Yf(s,D,c)||""===D&&1===o.length){if(bo(d))return!1;v=!0}}else{const x=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!eT(s.attrs,x,c)){if(bo(d))return!1;v=!0}continue}const B=Lr(8&d?"class":D,h,oE(s),c);if(-1===B){if(bo(d))return!1;v=!0;continue}if(""!==x){let H;H=B>g?"":h[B+1].toLowerCase();const Q=8&d?H:null;if(Q&&-1!==rE(Q,x,0)||2&d&&x!==H){if(bo(d))return!1;v=!0}}}}else{if(!v&&!bo(d)&&!bo(D))return!1;if(v&&bo(D))continue;v=!1,d=D|1&d}}return bo(d)||v}function bo(s){return 0==(1&s)}function Lr(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function aE(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function hl(s,o,c=!1){for(let d=0;d<o.length;d++)if(ac(s,o[d],c))return!0;return!1}function lE(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function av(s,o){return s?":not("+o.trim()+")":o}function cE(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!bo(v)&&(o+=av(g,h),h=""),d=v,g=g||!bo(d);c++}return""!==h&&(o+=av(g,h)),o}const Ut={};function lv(s){Jf(qt(),Te(),$i()+s,Gl())}function Jf(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&tl(o,g,c)}else{const g=s.preOrderHooks;null!==g&&Wl(o,g,0,c)}ho(c)}function Qf(s,o){return s<<17|o<<2}function wo(s){return s>>17&32767}function sm(s){return 2|s}function Na(s){return(131068&s)>>2}function Xf(s,o){return-131069&s|o<<2}function ep(s){return 1|s}function uT(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];Xc(h),v.contentQueries(2,o[g],g)}}}function pm(s,o,c,d,h,g,v,E,D,x){const N=o.blueprint.slice();return N[0]=h,N[2]=140|d,oo(N),N[3]=N[15]=s,N[8]=c,N[10]=v||s&&s[10],N[11]=E||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=x||s&&s[9]||null,N[6]=g,N[16]=2==o.type?s[16]:N,N}function uc(s,o,c,d,h){let g=s.data[o];if(null===g)g=_v(s,o,c,d,h),function Yc(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=ya();g.injectorIndex=null===v?-1:v.injectorIndex}return fr(g,!0),g}function _v(s,o,c,d,h){const g=_a(),v=Wc(),D=s.data[o]=function wv(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Ru(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Pu(s,o,c){Lo(o);try{const d=s.viewQuery;null!==d&&Fv(1,d,c);const h=s.template;null!==h&&gm(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&uT(s,o),s.staticViewQueries&&Fv(2,s.viewQuery,c);const g=s.components;null!==g&&function mE(s,o){for(let c=0;c<o.length;c++)TE(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Vo()}}function dc(s,o,c,d){const h=o[2];if(256==(256&h))return;Lo(o);const g=Gl();try{oo(o),function $l(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&gm(s,o,c,2,d);const v=3==(3&h);if(!g)if(v){const x=s.preOrderCheckHooks;null!==x&&tl(o,x,null)}else{const x=s.preOrderHooks;null!==x&&Wl(o,x,0,null),si(o,0)}if(function CE(s){for(let o=rc(s);null!==o;o=sc(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(1024&h[2])&&ao(g,1),h[2]|=1024}}}(o),function mT(s){for(let o=rc(s);null!==o;o=sc(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Ms(d)&&dc(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&uT(s,o),!g)if(v){const x=s.contentCheckHooks;null!==x&&tl(o,x)}else{const x=s.contentHooks;null!==x&&Wl(o,x,1),si(o,1)}!function cT(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)ho(~h);else{const g=h,v=c[++d],E=c[++d];ql(v,g),E(2,o[g])}}}finally{ho(-1)}}(s,o);const E=s.components;null!==E&&function dT(s,o){for(let c=0;c<o.length;c++)xv(s,o[c])}(o,E);const D=s.viewQuery;if(null!==D&&Fv(2,D,d),!g)if(v){const x=s.viewCheckHooks;null!==x&&tl(o,x)}else{const x=s.viewHooks;null!==x&&Wl(o,x,2),si(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,ao(o[3],-1))}finally{Vo()}}function Cx(s,o,c,d){const h=o[10],g=!Gl(),v=so(o);try{g&&!v&&h.begin&&h.begin(),v&&Pu(s,o,d),dc(s,o,c,d)}finally{g&&!v&&h.end&&h.end()}}function gm(s,o,c,d,h){const g=$i(),v=2&d;try{ho(-1),v&&o.length>20&&Jf(s,o,20,Gl()),c(d,h)}finally{ho(g)}}function lh(s,o,c){if(wd(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function ch(s,o,c){!Hl()||(function Ix(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||_n(c,o),tr(d,o);const v=c.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],x=ur(D);x&&gT(o,c,D);const N=Yr(o,s,E,c);tr(N,o),null!==v&&Mx(0,E-h,N,D,0,v),x&&(Gi(c.index,o)[8]=N)}}(s,o,c,Hi(c,o)),128==(128&c.flags)&&function Ax(s,o,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,E=function Jc(){return bt.lFrame.currentDirectiveIndex}();try{ho(v);for(let D=d;D<h;D++){const x=s.data[D],N=o[D];el(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&hT(x,N)}}finally{ho(-1),el(E)}}(s,o,c))}function hc(s,o,c=Hi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function uh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=mm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function mm(s,o,c,d,h,g,v,E,D,x){const N=20+d,B=N+h,H=function yv(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Ut);return c}(N,B),Q="function"==typeof x?x():x;return H[1]={type:s,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:o,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function np(s,o,c,d){const h=vm(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&SE(s).push(d,h.length-1))}function ip(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function ys(s,o,c,d,h,g,v,E){const D=Hi(o,c);let N,x=o.inputs;!E&&null!=x&&(N=x[d])?(AE(s,c,N,d,h),eo(o)&&function bE(s,o){const c=Gi(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function vE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,Sn(g)?g.setProperty(D,d,h):Rn(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function dh(s,o,c,d){let h=!1;if(Hl()){const g=function fT(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];hl(c,v.selectors,!1)&&(h||(h=[]),po(_n(c,o),s,v.type),ur(v)?(Sv(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,Iv(c,s.data.length,g.length);for(let N=0;N<g.length;N++){const B=g[N];B.providersResolver&&B.providersResolver(B)}let E=!1,D=!1,x=Ru(s,o,g.length,null);for(let N=0;N<g.length;N++){const B=g[N];c.mergedAttrs=Pn(c.mergedAttrs,B.hostAttrs),_m(s,c,o,x,B),EE(x,B,v),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const H=B.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),D=!0),x++}!function yE(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let x=o.directiveStart;x<d;x++){const N=h[x],B=N.inputs,H=null===g||oE(o)?null:DE(B,g);v.push(H),E=ip(B,x,E),D=ip(N.outputs,x,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,c)}v&&function pT(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new Be(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=Pn(c.mergedAttrs,c.attrs),h}function Tv(s,o,c,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function Sx(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=D&&E.push(D),E.push(d,h,v)}}function hT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Sv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function EE(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;ur(o)&&(c[""]=s)}}function Iv(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function _m(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=dr(h.type)),v=new ba(g,ur(h),null);s.blueprint[d]=v,c[d]=v,Tv(s,o,0,d,Ru(s,c,h.hostVars,Ut),h)}function gT(s,o,c){const d=Hi(o,s),h=uh(c),g=s[10],v=fl(s,pm(s,h,null,c.onPush?64:16,d,o,g,g.createRenderer(d,c),null,null));s[o.index]=v}function Av(s,o,c,d,h,g,v){if(null==g)Sn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const E=null==v?me(g):v(g,d||"",h);Sn(s)?s.setAttribute(o,h,E,c):c?o.setAttributeNS(c,h,E):o.setAttribute(h,E)}}function Mx(s,o,c,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const x=v[D++],N=v[D++],B=v[D++];null!==E?d.setInput(c,B,x,N):c[N]=B}}}function DE(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function Mv(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function xv(s,o){const c=Gi(o,s);if(Ms(c)){const d=c[1];80&c[2]?dc(d,c,d.template,c[8]):c[5]>0&&Nv(c)}}function Nv(s){for(let d=rc(s);null!==d;d=sc(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];dc(v,g,v.template,g[8])}else g[5]>0&&Nv(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Gi(c[d],s);Ms(h)&&h[5]>0&&Nv(h)}}function TE(s,o){const c=Gi(o,s),d=c[1];(function _T(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Pu(d,c,c[8])}function fl(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ov(s){for(;s;){s[2]|=64;const o=zn(s);if(gf(s)&&!o)return s;s=o}return null}function sp(s,o,c){const d=o[10];d.begin&&d.begin();try{dc(s,o,s.template,c)}catch(h){throw Lv(o,h),h}finally{d.end&&d.end()}}function Pv(s){!function Rv(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Lf(c),h=d[1];Cx(h,d,h.template,c)}}(s[8])}function Fv(s,o,c){Xc(0),o(s,c)}const bT=(()=>Promise.resolve(null))();function vm(s){return s[7]||(s[7]=[])}function SE(s){return s.cleanup||(s.cleanup=[])}function IE(s,o,c){return(null===s||ur(s))&&(c=function Id(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function Lv(s,o){const c=s[9],d=c?c.get(Zi,null):null;d&&d.handleError(o)}function AE(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],D=o[v],x=s.data[v];null!==x.setInput?x.setInput(D,h,d,E):D[E]=h}}function hh(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const bm=new Gn("INJECTOR",-1);class pc{get(o,c=Go){if(c===Go){const d=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw d.name="NullInjectorError",d}return c}}const Bv=new Gn("Set Injector scope."),fh={},ET={};let wm;function xE(){return void 0===wm&&(wm=new pc),wm}function NE(s,o=null,c=null,d){const h=ph(s,o,c,d);return h._resolveInjectorDefTypes(),h}function ph(s,o=null,c=null,d){return new OE(s,c,o||xE(),d)}class OE{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&kr(c,E=>this.processProvider(E,o,c)),kr([o],E=>this.processInjectorType(E,[],g)),this.records.set(bm,gh(void 0,this));const v=this.records.get(Bv);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ge(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Go,d=_t.Default){this.assertNotDestroyed();const h=Oe(this),g=hi(void 0);try{if(!(d&_t.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function FE(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&Qt(o);E=D&&this.injectableDefInScope(D)?gh(Vv(o),fh):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&_t.Self?xE():this.parent).get(o,c=d&_t.Optional&&c===Go?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Xl]=v[Xl]||[]).unshift(ge(o)),h)throw v;return function Ta(s,o,c,d){const h=s[Xl];throw o[V]&&h.unshift(o[V]),s.message=function $o(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ge(o);if(Array.isArray(o))h=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Xl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{hi(g),Oe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ge(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(o,c,d){if(!(o=te(o)))return!1;let h=Qi(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==d.indexOf(v);if(void 0!==g&&(h=Qi(g)),null==h)return!1;if(null!=h.imports&&!E){let N;d.push(v);try{kr(h.imports,B=>{this.processInjectorType(B,c,d)&&(void 0===N&&(N=[]),N.push(B))})}finally{}if(void 0!==N)for(let B=0;B<N.length;B++){const{ngModule:H,providers:Q}=N[B];kr(Q,be=>this.processProvider(be,H,Q||yt))}}this.injectorDefTypes.add(v);const D=dr(v)||(()=>new v);this.records.set(v,gh(D,fh));const x=h.providers;if(null!=x&&!E){const N=o;kr(x,B=>this.processProvider(B,N,x))}return void 0!==g&&void 0!==o.providers}processProvider(o,c,d){let h=op(o=te(o))?o:te(o&&o.provide);const g=function DT(s,o,c){return jv(s)?gh(void 0,s.useValue):gh(Uv(s),fh)}(o);if(op(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=gh(void 0,fh,!0),v.factory=()=>Ft(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,c){return c.value===fh&&(c.value=ET,c.value=c.factory()),"object"==typeof c.value&&c.value&&function PE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=te(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Vv(s){const o=Qt(s),c=null!==o?o.factory:dr(s);if(null!==c)return c;if(s instanceof Gn)throw new Be(204,!1);if(s instanceof Function)return function kE(s){const o=s.length;if(o>0)throw Xr(o,"?"),new Be(204,!1);const c=function Tr(s){const o=s&&(s[as]||s[Es]);if(o){const c=function Zs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Be(204,!1)}function Uv(s,o,c){let d;if(op(s)){const h=te(s);return dr(h)||Vv(h)}if(jv(s))d=()=>te(s.useValue);else if(function RE(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ft(s.deps||[]));else if(function CT(s){return!(!s||!s.useExisting)}(s))d=()=>it(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function kx(s){return!!s.deps}(s))return dr(h)||Vv(h);d=()=>new h(...Ft(s.deps))}return d}function gh(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function jv(s){return null!==s&&"object"==typeof s&&J in s}function op(s){return"function"==typeof s}let Eo=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return NE({name:""},d,c,"");{const g=null!==(h=c.name)&&void 0!==h?h:"";return NE({name:g},c.parent,c.providers,g)}}}return s.THROW_IF_NOT_FOUND=Go,s.NULL=new pc,s.\u0275prov=fn({token:s,providedIn:"any",factory:()=>it(bm)}),s.__NG_ELEMENT_ID__=-1,s})();function Px(s,o){xs(Lf(s)[1],An())}function UE(s){let o=function RT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(ur(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=jE(s.inputs),v.declaredInputs=jE(s.declaredInputs),v.outputs=jE(s.outputs);const E=h.hostBindings;E&&tn(s,E);const D=h.viewQuery,x=h.contentQueries;if(D&&Fu(s,D),x&&Dm(s,x),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),ur(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===UE&&(c=!1)}}o=Object.getPrototypeOf(o)}!function Fx(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Pn(h.hostAttrs,c=Pn(c,h.hostAttrs))}}(d)}function jE(s){return s===xi?{}:s===yt?[]:s}function Fu(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function Dm(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function tn(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let Cm=null;function ci(){if(!Cm){const s=Kt.Symbol;if(s&&s.iterator)Cm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Cm=d)}}}return Cm}function mc(s){return!!Yv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ci()in s)}function Yv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ra(s,o,c){return s[o]=c}function Br(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Lu(s,o,c,d){const h=Br(s,o,c);return Br(s,o+1,d)||h}function yr(s,o,c,d){const h=Te();return Br(h,co(),o)&&(qt(),function Xo(s,o,c,d,h,g){const v=Hi(s,o);Av(o[11],v,g,s.value,c,d,h)}(Hn(),h,s,o,c,d)),yr}function Bu(s,o,c,d){return Br(s,co(),c)?o+me(c)+d:Ut}function ZE(s,o,c,d,h,g,v,E){const D=Te(),x=qt(),N=s+20,B=x.firstCreatePass?function LT(s,o,c,d,h,g,v,E,D){const x=o.consts,N=uc(o,s,4,v||null,hr(x,E));dh(o,c,N,hr(x,D)),xs(o,N);const B=N.tViews=mm(2,N,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,N),B.queries=o.queries.embeddedTView(N)),N}(N,x,D,o,c,d,h,g,v):x.data[N];fr(B,!1);const H=D[11].createComment("");im(x,D,H,B),tr(H,D),fl(D,D[N]=Mv(H,D,H,B)),xl(B)&&ch(x,D,B),null!=v&&hc(D,B,E)}function Sm(s){return qr(function Kc(){return bt.lFrame.contextLView}(),20+s)}function Ch(s,o=_t.Default){const c=Te();return null===c?it(s,o):go(An(),c,te(s),o)}function a0(){throw new Error("invalid")}function Om(s,o,c){const d=Te();return Br(d,co(),o)&&ys(qt(),Hn(),d,s,o,d[11],c,!1),Om}function aD(s,o,c,d,h){const v=h?"class":"style";AE(s,c,o.inputs[v],v,d)}function l0(s,o,c,d){const h=Te(),g=qt(),v=20+s,E=h[11],D=h[v]=ih(E,o,function Cy(){return bt.lFrame.currentNamespace}()),x=g.firstCreatePass?function KT(s,o,c,d,h,g,v){const E=o.consts,x=uc(o,s,2,h,hr(E,g));return dh(o,c,x,hr(E,v)),null!==x.attrs&&hh(x,x.attrs,!1),null!==x.mergedAttrs&&hh(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,h,0,o,c,d):g.data[v];fr(x,!0);const N=x.mergedAttrs;null!==N&&ct(E,D,N);const B=x.classes;null!==B&&_s(E,D,B);const H=x.styles;return null!==H&&oc(E,D,H),64!=(64&x.flags)&&im(g,h,D,x),0===function Xa(){return bt.lFrame.elementDepthCount}()&&tr(D,h),function Ul(){bt.lFrame.elementDepthCount++}(),xl(x)&&(ch(g,h,x),lh(g,x,h)),null!==d&&hc(h,x),l0}function c0(){let s=An();Wc()?Zc():(s=s.parent,fr(s,!1));const o=s;!function jl(){bt.lFrame.elementDepthCount--}();const c=qt();return c.firstCreatePass&&(xs(c,s),wd(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Fd(s){return 0!=(16&s.flags)}(o)&&aD(c,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Fg(s){return 0!=(32&s.flags)}(o)&&aD(c,o,Te(),o.stylesWithoutHost,!1),c0}function dp(s,o,c,d){return l0(s,o,c,d),c0(),dp}function hp(s,o,c){const d=Te(),h=qt(),g=s+20,v=h.firstCreatePass?function YT(s,o,c,d,h){const g=o.consts,v=hr(g,d),E=uc(o,s,8,"ng-container",v);return null!==v&&hh(E,v,!0),dh(o,c,E,hr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,c):h.data[g];fr(v,!0);const E=d[g]=d[11].createComment("");return im(h,d,E,v),tr(E,d),xl(v)&&(ch(h,d,v),lh(h,v,d)),null!=c&&hc(d,v),hp}function km(){let s=An();const o=qt();return Wc()?Zc():(s=s.parent,fr(s,!1)),o.firstCreatePass&&(xs(o,s),wd(s)&&o.queries.elementEnd(s)),km}function Rm(){return Te()}function fp(s){return!!s&&"function"==typeof s.then}function JT(s){return!!s&&"function"==typeof s.subscribe}const Pm=JT;function lD(s,o,c,d){const h=Te(),g=qt(),v=An();return cD(g,h,h[11],v,s,o,!!c,d),lD}function d0(s,o){const c=An(),d=Te(),h=qt();return cD(h,d,IE(va(h.data),c,d),c,s,o,!1),d0}function cD(s,o,c,d,h,g,v,E){const D=xl(d),N=s.firstCreatePass&&SE(s),B=o[8],H=vm(o);let Q=!0;if(3&d.type||E){const Ze=Hi(d,o),lt=E?E(Ze):Ze,Ae=H.length,wt=E?nn=>E(mn(nn[d.index])):d.index;if(Sn(c)){let nn=null;if(!E&&D&&(nn=function Ux(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=g,nn.__ngLastListenerFn__=g,Q=!1;else{g=dD(d,o,B,g,!1);const Tn=c.listen(lt,h,g);H.push(g,Tn),N&&N.push(h,wt,Ae,Ae+1)}}else g=dD(d,o,B,g,!0),lt.addEventListener(h,g,v),H.push(g),N&&N.push(h,wt,Ae,v)}else g=dD(d,o,B,g,!1);const be=d.outputs;let Ue;if(Q&&null!==be&&(Ue=be[h])){const Ze=Ue.length;if(Ze)for(let lt=0;lt<Ze;lt+=2){const js=o[Ue[lt]][Ue[lt+1]].subscribe(g),kc=H.length;H.push(g,js),N&&N.push(h,d.index,kc,-(kc+1))}}}function uD(s,o,c,d){try{return!1!==c(d)}catch(h){return Lv(s,h),!1}}function dD(s,o,c,d,h){return function g(v){if(v===Function)return d;const E=2&s.flags?Gi(s.index,o):o;0==(32&o[2])&&Ov(E);let D=uD(o,0,d,v),x=g.__ngNextListenerFn__;for(;x;)D=uD(o,0,x,v)&&D,x=x.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function QT(s=1){return function uo(s){return(bt.lFrame.contextLView=function tu(s,o){for(;s>0;)o=o[15],s--;return o}(s,bt.lFrame.contextLView))[8]}(s)}function XT(s,o){let c=null;const d=function tT(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?hl(s,g,!0):lE(d,g))return h}else c=h}return c}function eS(s){const o=Te()[16][6];if(!o.projection){const d=o.projection=Xr(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?XT(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function tS(s,o=0,c){const d=Te(),h=qt(),g=uc(h,20+s,16,null,c||null);null===g.projection&&(g.projection=o),Zc(),64!=(64&g.flags)&&function Q1(s,o,c){tE(o[11],0,o,c,nm(s,c,o),Jw(c.parent||o[6],c,o))}(h,d,g)}function hD(s,o,c){return h0(s,"",o,"",c),hD}function h0(s,o,c,d,h){const g=Te(),v=Bu(g,o,c,d);return v!==Ut&&ys(qt(),Hn(),g,s,v,g[11],h,!1),h0}function Th(s,o,c,d,h){const g=s[c+1],v=null===o;let E=d?wo(g):Na(g),D=!1;for(;0!==E&&(!1===D||v);){const N=s[E+1];v0(s[E],o)&&(D=!0,s[E+1]=d?ep(N):sm(N)),E=d?wo(N):Na(N)}D&&(s[c+1]=d?sm(g):ep(g))}function v0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&yo(s,o)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pD(s){return s.substring(ei.key,ei.keyEnd)}function gD(s,o){const c=ei.textEnd;return c===o?-1:(o=ei.keyEnd=function Bm(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ei.key=o,c),Ot(s,o,c))}function Ot(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function w0(s,o,c){return ta(s,o,c,!1),w0}function E0(s,o){return ta(s,o,null,!0),E0}function nr(s){!function na(s,o,c,d){const h=qt(),g=Wr(2);h.firstUpdatePass&&C0(h,null,g,d);const v=Te();if(c!==Ut&&Br(v,g,c)){const E=h.data[$i()];if(A0(E,d)&&!D0(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(c=he(D,c||"")),aD(h,E,v,c,d)}else!function _D(s,o,c,d,h,g,v,E){h===Ut&&(h=yt);let D=0,x=0,N=0<h.length?h[0]:null,B=0<g.length?g[0]:null;for(;null!==N||null!==B;){const H=D<h.length?h[D+1]:void 0,Q=x<g.length?g[x+1]:void 0;let Ue,be=null;N===B?(D+=2,x+=2,H!==Q&&(be=B,Ue=Q)):null===B||null!==N&&N<B?(D+=2,be=N):(x+=2,be=B,Ue=Q),null!==be&&I0(s,o,c,d,be,Ue,v,E),N=D<h.length?h[D]:null,B=x<g.length?g[x]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function S0(s,o,c){if(null==c||""===c)return yt;const d=[],h=Bs(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,g)}}(gi,vr,s,!0)}function vr(s,o){for(let c=function sS(s){return function Lm(s){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=s.length}(s),gD(s,Ot(s,0,ei.textEnd))}(o);c>=0;c=gD(o,c))gi(s,pD(o),!0)}function ta(s,o,c,d){const h=Te(),g=qt(),v=Wr(2);g.firstUpdatePass&&C0(g,s,v,d),o!==Ut&&Br(h,v,o)&&I0(g,g.data[$i()],h,h[11],s,h[v+1]=function yD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ge(Bs(s)))),s}(o,c),d,v)}function D0(s,o){return o>=s.expandoStartIndex}function C0(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[$i()],v=D0(s,c);A0(g,d)&&null===o&&!v&&(o=!1),o=function aS(s,o,c,d){const h=va(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=Ki(c=Hm(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Hm(h,s,o,c,d),null===g){let D=function mD(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Na(d))return s[wo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=Hm(null,s,o,D[1],d),D=Ki(D,o.attrs,d),function T0(s,o,c,d){s[wo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function jm(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Ki(d,s[g].hostAttrs,c);return Ki(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function Fm(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,E=wo(v),D=Na(v);s[d]=c;let N,x=!1;if(Array.isArray(c)){const B=c;N=B[1],(null===N||yo(B,N)>0)&&(x=!0)}else N=c;if(h)if(0!==D){const H=wo(s[E+1]);s[d+1]=Qf(H,E),0!==H&&(s[H+1]=Xf(s[H+1],d)),s[E+1]=function nT(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Qf(E,0),0!==E&&(s[E+1]=Xf(s[E+1],d)),E=d;else s[d+1]=Qf(D,0),0===E?E=d:s[D+1]=Xf(s[D+1],d),D=d;x&&(s[d+1]=sm(s[d+1])),Th(s,N,d,!0),Th(s,N,d,!1),function rS(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&yo(g,o)>=0&&(c[d+1]=ep(c[d+1]))}(o,N,s,d,g),v=Qf(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}function Hm(s,o,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=o[E],d=Ki(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Ki(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),gi(s,v,!!c||o[++g]))}return void 0===s?null:s}function I0(s,o,c,d,h,g,v,E){if(!(3&o.type))return;const D=s.data,x=D[E+1];pp(function dv(s){return 1==(1&s)}(x)?Gm(D,o,c,h,Na(x),v):void 0)||(pp(g)||function uv(s){return 2==(2&s)}(x)&&(g=Gm(D,null,c,h,E,v)),function iE(s,o,c,d,h){const g=Sn(s);if(o)h?g?s.addClass(c,d):c.classList.add(d):g?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:le.DashCase;if(null==h)g?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=le.Important),g?s.setStyle(c,d,h,v):c.style.setProperty(d,h,E?"important":"")}}}(d,v,Fo($i(),c),h,g))}function Gm(s,o,c,d,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],x=Array.isArray(D),N=x?D[1]:D,B=null===N;let H=c[h+1];H===Ut&&(H=B?yt:void 0);let Q=B?mu(H,d):N===d?H:void 0;if(x&&!pp(Q)&&(Q=mu(D,d)),pp(Q)&&(E=Q,v))return E;const be=s[h+1];h=v?wo(be):Na(be)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=mu(D,d))}return E}function pp(s){return void 0!==s}function A0(s,o){return 0!=(s.flags&(o?16:32))}function $m(s,o=""){const c=Te(),d=qt(),h=s+20,g=d.firstCreatePass?uc(d,h,1,o,null):d.data[h],v=c[h]=th(c[11],o);im(d,c,v,g),fr(g,!1)}function M0(s){return zm("",s,""),M0}function zm(s,o,c){const d=Te(),h=Bu(d,s,o,c);return h!==Ut&&function fc(s,o,c){const d=Fo(o,s);nh(s[11],d,c)}(d,$i(),h),zm}function G0(s,o,c){const d=Te();return Br(d,co(),o)&&ys(qt(),Hn(),d,s,o,d[11],c,!0),G0}function yp(s,o,c){const d=Te();if(Br(d,co(),o)){const g=qt(),v=Hn();ys(g,v,d,s,o,IE(va(g.data),v,d),c,!0)}return yp}const _l=void 0;var ir=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $0(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let _i={};function vp(s){const o=function W0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=q0(o);if(c)return c;const d=o.split("-")[0];if(c=q0(d),c)return c;if("en"===d)return ir;throw new Error(`Missing locale data for the locale "${s}".`)}function ED(s){return vp(s)[St.PluralCase]}function q0(s){return s in _i||(_i[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),_i[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Z0=["zero","one","two","few","many"],Ih="en-US",Xm={marker:"element"},Uu={marker:"ICU"};var ti=(()=>((ti=ti||{})[ti.SHIFT=2]="SHIFT",ti[ti.APPEND_EAGERLY=1]="APPEND_EAGERLY",ti[ti.COMMENT=2]="COMMENT",ti))();let K0=Ih;function Y0(s,o,c){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Qw(s,0,c):mn(c[h])}function J0(s,o,c,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,E=null;if(3&o.type||(E=v,v=h),null!==v&&0==(2&o.flags))for(let D=1;D<g.length;D++)Vs(s,v,c[g[D]],E,!1)}}function Q0(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];wp(d)||_S(d,o)&&null===yS(d)&&Ah(d,o.index)}}function wp(s){return!(64&s.type)}function _S(s,o){return wp(o)||s.index>o.index}function yS(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Ah(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(Xw(Y0,J0),s.insertBeforeIndex=o)}function Ep(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function TD(s,o,c){const d=_v(s,c,64,null,null);return Q0(o,d),d}function Hu(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function X0(s){return s>>>17}function Mh(s){return(131070&s)>>>1}let xh=0,yl=0;function nb(s,o,c,d){const h=c[11];let v,g=null;for(let E=0;E<o.length;E++){const D=o[E];if("string"==typeof D){const x=o[++E];null===c[x]&&(c[x]=th(h,D))}else if("number"==typeof D)switch(1&D){case 0:const x=X0(D);let N,B;if(null===g&&(g=x,v=Kf(h,d)),x===g?(N=d,B=v):(N=null,B=mn(c[x])),null!==B){const Ue=Mh(D);Vs(h,B,c[Ue],N,!1);const lt=Ep(s,Ue);if(null!==lt&&"object"==typeof lt){const Ae=Hu(lt,c);null!==Ae&&nb(s,lt.create[Ae],c,c[lt.anchorIdx])}}break;case 1:const Q=o[++E],be=o[++E];Av(h,Fo(D>>>1,c),null,null,Q,be,null)}else switch(D){case Uu:const x=o[++E],N=o[++E];null===c[N]&&tr(c[N]=qf(h,x),c);break;case Xm:const B=o[++E],H=o[++E];null===c[H]&&tr(c[H]=ih(h,B,null),c)}}}function ib(s,o,c,d,h){for(let g=0;g<c.length;g++){const v=c[g],E=c[++g];if(v&h){let D="";for(let x=g+1;x<=g+E;x++){const N=c[x];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=me(o[d-N]);else{const B=N>>>2;switch(3&N){case 1:const H=c[++x],Q=c[++x],be=s.data[B];"string"==typeof be?Av(o[11],o[B],null,be,H,D,Q):ys(s,be,o,H,D,o[11],Q,!1);break;case 0:const Ue=o[B];null!==Ue&&nh(o[11],Ue,D);break;case 2:rb(s,Ep(s,B),o,D);break;case 3:Nh(s,Ep(s,B),d,o)}}}}else{const D=c[g+1];if(D>0&&3==(3&D)){const N=Ep(s,D>>>2);o[N.currentCaseLViewIndex]<0&&Nh(s,N,d,o)}}g+=E}}function Nh(s,o,c,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=xh;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),ib(s,d,o.update[h],c,g)}}function rb(s,o,c,d){const h=function sb(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function gS(s,o){const c=ED(o)(parseInt(s,10)),d=Z0[c];return void 0!==d?d:"other"}(o,function bp(){return K0}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(Hu(o,c)!==h&&(t_(s,o,c),c[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=c[o.anchorIdx];v&&nb(s,o.create[h],c,v)}}function t_(s,o,c){let d=Hu(o,c);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const E=Fo(v,c);null!==E&&sv(c[11],E)}else t_(s,Ep(s,~v),c)}}}function n_(){const s=[];let c,d,o=-1;function g(E,D){o=0;const x=Hu(E,D);d=null!==x?E.remove[x]:yt}function v(){if(o<d.length){const E=d[o++];return E>0?c[E]:(s.push(o,d),g(c[1].data[~E],c),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(E,D){for(c=D;s.length;)s.pop();return g(E.value,D),v}}const Oh=/\ufffd(\d+):?\d*\ufffd/gi,MD=/\ufffd(\d+)\ufffd/,ob=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Tp=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,r_=/\uE500/g;function s_(s,o,c,d,h,g,v){const E=Ru(s,d,1,null);let D=E<<ti.SHIFT,x=ya();o===x&&(x=null),null===x&&(D|=ti.APPEND_EAGERLY),v&&(D|=ti.COMMENT,function Tt(s){void 0===$e&&($e=s())}(n_)),h.push(D,null===g?"":g);const N=_v(s,E,v?32:1,null===g?"":g,null);Q0(c,N);const B=N.index;return fr(N,!1),null!==x&&o!==x&&function ju(s,o){let c=s.insertBeforeIndex;null===c?(Xw(Y0,J0),c=s.insertBeforeIndex=[null,o]):(function Y(s,o,c){s!=o&&Dt(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(x,B),N}function wS(s,o,c,d,h,g,v){const E=v.match(Oh),D=s_(s,o,c,g,d,E?null:v,!1);E&&ia(h,v,D.index,null,0,null)}function ia(s,o,c,d,h,g){const v=s.length,E=v+1;s.push(null,null);const D=v+2,x=o.split(Oh);let N=0;for(let B=0;B<x.length;B++){const H=x[B];if(1&B){const Q=h+parseInt(H,10);s.push(-1-Q),N|=bc(Q)}else""!==H&&s.push(H)}return s.push(c<<2|(d?1:0)),d&&s.push(d,g),s[v]=N,s[E]=s.length-D,N}function bc(s){return 1<<Math.min(s,31)}function OD(s){let o,g,c="",d=0,h=!1;for(;null!==(o=Tp.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(c+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return c+=s.substr(d),c}function Pa(s,o,c,d,h,g){let v=0;const E={type:h.type,currentCaseLViewIndex:Ru(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function ES(s,o,c){s.push(bc(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,g),function vS(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,g,E);const D=h.values;for(let x=0;x<D.length;x++){const N=D[x],B=[];for(let H=0;H<N.length;H++){const Q=N[H];if("string"!=typeof Q){const be=B.push(Q)-1;N[H]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}v=a_(s,E,o,c,d,h.cases[x],N.join(""),B)|v}v&&function DS(s,o,c){s.push(o,1,c<<2|3)}(c,v,g)}function o_(s){const o=[],c=[];let d=1,h=0;const g=kh(s=s.replace(ob,function(v,E,D){return d="select"===D?0:1,h=parseInt(E.substr(1),10),""}));for(let v=0;v<g.length;){let E=g[v++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&o.push(E);const D=kh(g[v++]);o.length>c.length&&c.push(D)}return{type:d,mainBinding:h,cases:o,values:c}}function kh(s){if(!s)return[];let o=0;const c=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const E=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const D=s.substring(o,E);ob.test(D)?d.push(o_(D)):d.push(D),o=E+1}}else{if(0==c.length){const D=s.substring(o,E);d.push(D),o=E+1}c.push("{")}}const v=s.substring(o);return d.push(v),d}function a_(s,o,c,d,h,g,v,E){const D=[],x=[],N=[];o.cases.push(g),o.create.push(D),o.remove.push(x),o.update.push(N);const H=zg(Ja()).getInertBodyElement(v),Q=kf(H)||H;return Q?cb(s,o,c,d,D,x,N,Q,h,E,0):0}function cb(s,o,c,d,h,g,v,E,D,x,N){let B=0,H=E.firstChild;for(;H;){const Q=Ru(s,c,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const be=H,Ue=be.tagName.toLowerCase();if(Af.hasOwnProperty(Ue)){zu(h,Xm,Ue,D,Q),s.data[Q]=Ue;const wt=be.attributes;for(let nn=0;nn<wt.length;nn++){const Tn=wt.item(nn),js=Tn.name.toLowerCase();Tn.value.match(Oh)?Ia.hasOwnProperty(js)&&ia(v,Tn.value,Q,Tn.name,0,Mf[js]?ol:xf[js]?If:null):Ip(h,Q,Tn)}B=cb(s,o,c,d,h,g,v,H,Q,x,N+1)|B,qn(g,Q,N)}break;case Node.TEXT_NODE:const Ze=H.textContent||"",lt=Ze.match(Oh);zu(h,null,lt?"":Ze,D,Q),qn(g,Q,N),lt&&(B=ia(v,Ze,Q,null,0,null)|B);break;case Node.COMMENT_NODE:const Ae=MD.exec(H.textContent||"");if(Ae){const nn=x[parseInt(Ae[1],10)];zu(h,Uu,"",D,Q),Pa(s,c,d,D,nn,Q),l_(g,Q,N)}}H=H.nextSibling}return B}function qn(s,o,c){0===c&&s.push(o)}function l_(s,o,c){0===c&&(s.push(~o),s.push(o))}function zu(s,o,c,d,h){null!==o&&s.push(o),s.push(c,h,function rs(s,o,c){return s|o<<17|c<<1}(0,d,h))}function Ip(s,o,c){s.push(o<<1|1,c.name,c.value)}function ub(s,o,c=-1){const d=qt(),h=Te(),g=20+s,v=hr(d.consts,o),E=ya();d.firstCreatePass&&function Gu(s,o,c,d,h,g){const v=ya(),E=[],D=[],x=[[]];h=function $u(s,o){if(function ND(s){return-1===s}(o))return OD(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return OD(s.substring(c,d))}}(h,g);const N=function Sp(s){return s.replace(r_," ")}(h).split(xD);for(let B=0;B<N.length;B++){let H=N[B];if(0==(1&B)){const Q=kh(H);for(let be=0;be<Q.length;be++){let Ue=Q[be];if(0==(1&be)){const Ze=Ue;""!==Ze&&wS(s,v,x[0],E,D,c,Ze)}else{const Ze=Ue;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Pa(s,c,D,o,Ze,s_(s,v,x[0],c,E,"",!0).index)}}}else{const Q=47===H.charCodeAt(0),Ue=(H.charCodeAt(Q?1:0),20+Number.parseInt(H.substring(Q?2:1)));if(Q)x.shift(),fr(ya(),!1);else{const Ze=TD(s,x[0],Ue);x.unshift([]),fr(Ze,!0)}}}s.data[d]={create:E,update:D}}(d,null===E?0:E.index,h,g,v,c);const D=d.data[g],N=K1(d,E===h[6]?null:E,h);(function tb(s,o,c,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],E=o[g],D=(v&ti.COMMENT)===ti.COMMENT,x=(v&ti.APPEND_EAGERLY)===ti.APPEND_EAGERLY,N=v>>>ti.SHIFT;let B=s[N];null===B&&(B=s[N]=D?h.createComment(E):th(h,E)),x&&null!==c&&Vs(h,c,B,d,!1)}})(h,D.create,N,E&&8&E.type?h[E.index]:null),zl(!0)}function qu(s,o,c){ub(s,o,c),function db(){zl(!1)}()}function hb(s){return function e_(s){s&&(xh|=1<<Math.min(yl,31)),yl++}(Br(Te(),co(),s)),hb}function fb(s){!function SD(s,o,c){if(yl>0){const d=s.data[c];ib(s,o,Array.isArray(d)?d:d.update,function xr(){return bt.lFrame.bindingIndex}()-yl-1,xh)}xh=0,yl=0}(qt(),Te(),s+20)}function c_(s,o,c,d,h){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)c_(s[g],o,c,d,h);else{const g=qt(),v=Te();let E=op(s)?s:te(s.provide),D=Uv(s);const x=An(),N=1048575&x.providerIndexes,B=x.directiveStart,H=x.providerIndexes>>20;if(op(s)||!s.multi){const Q=new ba(D,h,Ch),be=d_(E,o,h?N:N+H,B);-1===be?(po(_n(x,v),g,E),Mp(g,s,o.length),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(Q),v.push(Q)):(c[be]=Q,v[be]=Q)}else{const Q=d_(E,o,N+H,B),be=d_(E,o,N,N+H),Ue=Q>=0&&c[Q],Ze=be>=0&&c[be];if(h&&!Ze||!h&&!Ue){po(_n(x,v),g,E);const lt=function xS(s,o,c,d,h){const g=new ba(s,c,Ch);return g.multi=[],g.index=o,g.componentProviders=0,u_(g,h,d&&!c),g}(h?pb:LD,c.length,h,d,D);!h&&Ze&&(c[be].providerFactory=lt),Mp(g,s,o.length,0),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(lt),v.push(lt)}else Mp(g,s,Q>-1?Q:be,u_(c[h?be:Q],D,!h&&d));!h&&d&&Ze&&c[be].componentProviders++}}}function Mp(s,o,c,d){const h=op(o),g=function Ox(s){return!!s.useClass}(o);if(h||g){const D=(g?te(o.useClass):o).prototype.ngOnDestroy;if(D){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=x.indexOf(c);-1===N?x.push(c,[d,D]):x[N+1].push(d,D)}else x.push(c,D)}}}function u_(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function d_(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function LD(s,o,c,d){return gb(this.multi,[])}function pb(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Yr(c,c[1],this.providerFactory.index,d);g=E.slice(0,v),gb(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],gb(h,g);return g}function gb(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function BD(s,o=[]){return c=>{c.providersResolver=(d,h)=>function FD(s,o,c){const d=qt();if(d.firstCreatePass){const h=ur(s);c_(c,d.data,d.blueprint,h,!0),c_(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Rh{}class xp{resolveComponentFactory(o){throw function f_(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ec=(()=>{class s{}return s.NULL=new xp,s})();function OS(){return Wn(An(),Te())}function Wn(s,o){return new Ph(Hi(s,o))}let Ph=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=OS,s})();function kS(s){return s instanceof Ph?s.nativeElement:s}class VD{}let RS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function jD(){const s=Te(),c=Gi(An().index,s);return function UD(s){return s[11]}(Ar(c)?c:s)}(),s})(),HD=(()=>{class s{}return s.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null}),s})();class Np{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const mb=new Np("13.3.1"),ra={};function Op(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(mn(g)),cr(g))for(let E=10;E<g.length;E++){const D=g[E],x=D[1].firstChild;null!==x&&Op(D[1],D,x,d)}const v=c.type;if(8&v)Op(s,o,c.child,d);else if(32&v){const E=st(c,o);let D;for(;D=E();)d.push(D)}else if(16&v){const E=eE(o,c);if(Array.isArray(E))d.push(...E);else{const D=zn(o[16]);Op(D[1],D,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class kp{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Op(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(cr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Qy(o,d),Fs(c,d))}this._attachedToViewContainer=!1}Xy(this._lView[1],this._lView)}onDestroy(o){np(this._lView[1],this._lView,null,o)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yT(s,o,c){lo(!0);try{sp(s,o,c)}finally{lo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tm(s,o){rm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=o}}class _b extends kp{constructor(o){super(o),this._view=o}detectChanges(){Pv(this._view)}checkNoChanges(){!function ym(s){lo(!0);try{Pv(s)}finally{lo(!1)}}(this._view)}get context(){return null}}class Fh extends Ec{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=en(o);return new m_(c,this.ngModule)}}function yb(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class m_ extends Rh{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function uE(s){return s.map(cE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return yb(this.componentDef.inputs)}get outputs(){return yb(this.componentDef.outputs)}create(o,c,d,h){const g=(h=h||this.ngModule)?function g_(s,o){return{get:(c,d,h)=>{const g=s.get(c,ra,h);return g!==ra||d===ra?g:o.get(c,d,h)}}}(o,h.injector):o,v=g.get(VD,ma),E=g.get(HD,null),D=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",N=d?function bv(s,o,c){if(Sn(s))return s.selectRootElement(o,c===Xt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):ih(v.createRenderer(null,this.componentDef),x,function vb(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),B=this.componentDef.onPush?576:528,H=function kT(s,o){return{components:[],scheduler:s||Zy,clean:bT,playerHandler:o||null,flags:0}}(),Q=mm(0,null,null,1,0,null,null,null,null,null),be=pm(null,Q,H,B,null,null,v,D,E,g);let Ue,Ze;Lo(be);try{const lt=function VE(s,o,c,d,h,g){const v=c[1];c[20]=s;const D=uc(v,20,2,"#host",null),x=D.mergedAttrs=o.hostAttrs;null!==x&&(hh(D,x,!0),null!==s&&(ct(h,s,x),null!==D.classes&&_s(h,s,D.classes),null!==D.styles&&oc(h,s,D.styles)));const N=d.createRenderer(s,o),B=pm(c,uh(o),null,o.onPush?64:16,c[20],D,d,N,g||null,null);return v.firstCreatePass&&(po(_n(D,c),v,o.type),Sv(v,D),Iv(D,c.length,1)),fl(c,B),c[20]=B}(N,this.componentDef,be,v,D);if(N)if(d)ct(D,N,["ng-version",mb.full]);else{const{attrs:Ae,classes:wt}=function dE(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!bo(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ae&&ct(D,N,Ae),wt&&wt.length>0&&_s(D,N,wt.join(" "))}if(Ze=Qa(Q,20),void 0!==c){const Ae=Ze.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const nn=c[wt];Ae.push(null!=nn?Array.from(nn):null)}}Ue=function OT(s,o,c,d,h){const g=c[1],v=function rp(s,o,c){const d=An();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),_m(s,d,o,Ru(s,o,1,null),c));const h=Yr(o,s,d.directiveStart,d);tr(h,o);const g=Hi(d,o);return g&&tr(g,o),h}(g,c,o);if(d.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=An();o.contentQueries(1,v,D.directiveStart)}const E=An();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ho(E.index),Tv(c[1],E,0,E.directiveStart,E.directiveEnd,o),hT(o,v)),v}(lt,this.componentDef,be,H,[Px]),Pu(Q,be,null)}finally{Vo()}return new PS(this.componentType,Ue,Wn(Ze,be),be,Ze)}}class PS extends class h_{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new _b(h),this.componentType=o}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Fa{}class Eb{}const Wu=new Map;class Dc extends Fa{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fh(this);const d=wn(o);this._bootstrapComponents=m(d.bootstrap),this._r3Injector=ph(o,c,[{provide:Fa,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],ge(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Eo.THROW_IF_NOT_FOUND,d=_t.Default){return o===Eo||o===Fa||o===bm?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class y_ extends Eb{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function zD(s){const o=new Set;!function c(d){const h=wn(d,!0),g=h.id;null!==g&&(function __(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${ge(o)} vs ${ge(o.name)}`)}(g,Wu.get(g),d),Wu.set(g,d));const v=m(h.imports);for(const E of v)o.has(E)||(o.add(E),c(E))}(s)}(o)}create(o){return new Dc(this.moduleType,o)}}function Tb(s,o,c){const d=ki()+s,h=Te();return h[d]===Ut?Ra(h,d,c?o.call(c):o()):function _h(s,o){return s[o]}(h,d)}function Sb(s,o,c,d){return ZD(Te(),ki(),s,o,c,d)}function Ib(s,o,c,d,h){return function KD(s,o,c,d,h,g,v){const E=o+c;return Lu(s,E,h,g)?Ra(s,E+2,v?d.call(v,h,g):d(h,g)):Zu(s,E+2)}(Te(),ki(),s,o,c,d,h)}function Rp(s,o,c,d,h,g){return function Ab(s,o,c,d,h,g,v,E){const D=o+c;return function Tm(s,o,c,d,h){const g=Lu(s,o,c,d);return Br(s,o+2,h)||g}(s,D,h,g,v)?Ra(s,D+3,E?d.call(E,h,g,v):d(h,g,v)):Zu(s,D+3)}(Te(),ki(),s,o,c,d,h,g)}function Zu(s,o){const c=s[o];return c===Ut?void 0:c}function ZD(s,o,c,d,h,g){const v=o+c;return Br(s,v,h)?Ra(s,v+1,g?d.call(g,h):d(h)):Zu(s,v+1)}function JD(s,o){const c=qt();let d;const h=s+20;c.firstCreatePass?(d=function QD(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=dr(d.type)),v=hi(Ch);try{const E=pr(!1),D=g();return pr(E),function KE(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Te(),h,D),D}finally{hi(v)}}function rr(s,o,c){const d=s+20,h=Te(),g=qr(h,d);return function Le(s,o){return s[1].data[o].pure}(h,d)?ZD(h,ki(),o,g.transform,c,g):g.transform(c)}function Ku(s){return o=>{setTimeout(s,void 0,o)}}const Co=class Ri extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,g,v;let E=o,D=c||(()=>null),x=d;if(o&&"object"==typeof o){const B=o;E=null===(h=B.next)||void 0===h?void 0:h.bind(B),D=null===(g=B.error)||void 0===g?void 0:g.bind(B),x=null===(v=B.complete)||void 0===v?void 0:v.bind(B)}this.__isAsync&&(D=Ku(D),E&&(E=Ku(E)),x&&(x=Ku(x)));const N=super.subscribe({next:E,error:D,complete:x});return o instanceof X.w0&&o.add(N),N}};function ut(){return this._results[ci()]()}class kt{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ci(),d=kt.prototype;d[c]||(d[c]=ut)}get changes(){return this._changes||(this._changes=new Co)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=qi(o);(this._changesDetected=!function du(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Re,s})();const Qe=Fp,de=class extends Qe{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=pm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Pu(c,d,o),new kp(d)}};function Re(){return Ci(An(),Te())}function Ci(s,o){return 4&s.type?new de(o,s,Wn(s,o)):null}let Lp=(()=>{class s{}return s.__NG_ELEMENT_ID__=US,s})();function US(){return Nb(An(),Te())}const jS=Lp,XD=class extends jS{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return Wn(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nr(this._hostTNode,this._hostLView);if(Ld(o)){const c=Zr(o,this._hostLView),d=Dn(o);return new Jr(c[1].data[d+8],c)}return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=eC(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,g){const v=o&&!function Da(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const B=c||{};E=B.index,d=B.injector,h=B.projectableNodes,g=B.ngModuleRef}const D=v?o:new m_(en(o)),x=d||this.parentInjector;if(!g&&null==D.ngModule){const H=(v?x:this.parentInjector).get(Fa,null);H&&(g=H)}const N=D.create(x,h,void 0,g);return this.insert(N.hostView,E),N}insert(o,c){const d=o._lView,h=d[1];if(function Bl(s){return cr(s[3])}(d)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const B=d[3],H=new XD(B,B[6],B[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function Zf(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],hu(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function rh(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,d,v,g);const E=rv(g,v),D=d[11],x=Kf(D,v[7]);return null!==x&&function Wf(s,o,c,d,h,g){d[0]=h,d[6]=o,rm(s,d,c,1,h,g)}(h,v[6],D,d,x,E),o.attachToViewContainerRef(),hu(xb(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=eC(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Qy(this._lContainer,c);d&&(Fs(xb(this._lContainer),c),Xy(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Qy(this._lContainer,c);return d&&null!=Fs(xb(this._lContainer),c)?new kp(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function eC(s){return s[8]}function xb(s){return s[8]||(s[8]=[])}function Nb(s,o){let c;const d=o[s.index];if(cr(d))c=d;else{let h;if(8&s.type)h=mn(d);else{const g=o[11];h=g.createComment("");const v=Hi(s,o);Vs(g,Kf(g,v),h,function J1(s,o){return Sn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=c=Mv(d,o,h,s),fl(o,c)}return new XD(c,s,o)}class Ob{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class v_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new v_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==ui(o,c).matches&&this.queries[c].setDirty()}}class Yt{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class Tc{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Tc(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class b_{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new b_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,Ti(c,g)),this.matchTNodeWithReadOption(o,c,gr(c,o,g,!1,!1))}else d===Fp?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,gr(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ph||h===Lp||h===Fp&&4&c.type)this.addMatch(c.index,-2);else{const g=gr(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Ti(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function tC(s,o,c,d){return-1===c?function Rt(s,o){return 11&s.type?Wn(s,o):4&s.type?Ci(s,o):null}(o,s):-2===c?function Yu(s,o,c){return c===Ph?Wn(o,s):c===Fp?Ci(o,s):c===Lp?Nb(o,s):void 0}(s,o,d):Yr(s,s[1],c,o)}function kb(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,E=[];for(let D=0;D<v.length;D+=2){const x=v[D];E.push(x<0?null:tC(o,g[x],v[D+1],c.metadata.read))}h.matches=E}return h.matches}function Ju(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=kb(s,o,h,c);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const x=g[E+1],N=o[-D];for(let B=10;B<N.length;B++){const H=N[B];H[17]===H[3]&&Ju(H[1],H,x,d)}if(null!==N[9]){const B=N[9];for(let H=0;H<B.length;H++){const Q=B[H];Ju(Q[1],Q,x,d)}}}}}return d}function sn(s){const o=Te(),c=qt(),d=Qc();Xc(d+1);const h=ui(c,d);if(s.dirty&&so(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Ju(c,o,d,[]):kb(c,o,h,d);s.reset(g,kS),s.notifyOnChanges()}return!0}return!1}function nC(s,o,c){const d=qt();d.firstCreatePass&&(iC(d,new Yt(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),Pi(d,Te(),o)}function Yi(s,o,c,d){const h=qt();if(h.firstCreatePass){const g=An();iC(h,new Yt(o,c,d),g.index),function Sc(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Pi(h,Te(),c)}function Qu(){return function GS(s,o){return s[19].queries[o].queryList}(Te(),Qc())}function Pi(s,o,c){const d=new kt(4==(4&c));np(s,o,d,d.destroy),null===o[19]&&(o[19]=new v_),o[19].queries.push(new Ob(d))}function iC(s,o,c){null===s.queries&&(s.queries=new Tc),s.queries.track(new b_(o,c))}function ui(s,o){return s.queries.getByIndex(o)}function Ic(s,o){return Ci(s,o)}function A_(...s){}const bl=new Gn("Application Initializer");let xc=(()=>{class s{constructor(c){this.appInits=c,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(fp(g))c.push(g);else if(Pm(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(it(bl,8))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cC=new Gn("AppId",{providedIn:"root",factory:function jb(){return`${oa()}${oa()}${oa()}`}});function oa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hb=new Gn("Platform Initializer"),sd=new Gn("Platform ID"),$p=new Gn("appBootstrapListener");let M_=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const zp=new Gn("LocaleId",{providedIn:"root",factory:()=>Vt(zp,_t.Optional|_t.SkipSelf)||function $b(){return"undefined"!=typeof $localize&&$localize.locale||Ih}()}),jh=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uC{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let zb=(()=>{class s{compileModuleSync(c){return new y_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=m(wn(c).declarations).reduce((v,E)=>{const D=en(E);return D&&v.push(new m_(D)),v},[]);return new uC(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const dC=(()=>Promise.resolve(0))();function Wb(s){"undefined"==typeof Zone?dC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Co(!1),this.onMicrotaskEmpty=new Co(!1),this.onStable=new Co(!1),this.onError=new Co(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function hC(){let s=Kt.requestAnimationFrame,o=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function XS(s){const o=()=>{!function QS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,N_(s),s.isCheckStableRunning=!0,Hh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),N_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return od(s),c.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Nc(s)}},onInvoke:(c,d,h,g,v,E,D)=>{try{return od(s),c.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Nc(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,N_(s),Hh(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,fC,A_,A_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const fC={};function Hh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function N_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function od(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Nc(s){s._nesting--,Hh(s)}class pC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Co,this.onMicrotaskEmpty=new Co,this.onStable=new Co,this.onError=new Co}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let Oc=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),Wb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wb(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(it(Io))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})(),Zb=(()=>{class s{constructor(){this._applications=new Map,O_.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return O_.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();class Gh{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function gC(s){O_=s}let ss,O_=new Gh;const qp=new Gn("AllowMultipleToken");class k_{constructor(o,c){this.name=o,this.token=c}}function R_(s,o,c=[]){const d=`Platform: ${o}`,h=new Gn(d);return(g=[])=>{let v=Kb();if(!v||v.injector.get(qp,!1))if(s)s(c.concat(g).concat({provide:h,useValue:!0}));else{const E=c.concat(g).concat({provide:h,useValue:!0},{provide:Bv,useValue:"platform"});!function tI(s){if(ss&&!ss.destroyed&&!ss.injector.get(qp,!1))throw new Be(400,"");ss=s.get($h);const o=s.get(Hb,null);o&&o.forEach(c=>c())}(Eo.create({providers:E,name:d}))}return function nI(s){const o=Kb();if(!o)throw new Be(401,"");return o}()}}function Kb(){return ss&&!ss.destroyed?ss:null}let $h=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const E=function ad(s,o){let c;return c="noop"===s?new pC:("zone.js"===s?void 0:s)||new Io({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Io,useValue:E}];return E.run(()=>{const x=Eo.create({providers:D,parent:this.injector,name:c.moduleType.name}),N=c.create(x),B=N.injector.get(Zi,null);if(!B)throw new Be(402,"");return E.runOutsideAngular(()=>{const H=E.onError.subscribe({next:Q=>{B.handleError(Q)}});N.onDestroy(()=>{ld(this._modules,N),H.unsubscribe()})}),function mC(s,o,c){try{const d=c();return fp(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(B,E,()=>{const H=N.injector.get(xc);return H.runInitializers(),H.donePromise.then(()=>(function mS(s){(function mt(s,o){null==s&&Dt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(K0=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(zp,Ih)||Ih),this._moduleDoBootstrap(N),N))})})}bootstrapModule(c,d=[]){const h=Yb({},d);return function eI(s,o,c){const d=new y_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(P_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Be(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(it(Eo))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function Yb(s,o){return Array.isArray(o)?o.reduce(Yb,s):Object.assign(Object.assign({},s),o)}let P_=(()=>{class s{constructor(c,d,h,g,v){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new L.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),D=new L.y(x=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),Wb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{N.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ce.T)(E,D.pipe((0,ne.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Be(405,"");let h;h=c instanceof Rh?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const g=function Fi(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Fa),E=h.create(Eo.NULL,[],d||h.selector,g),D=E.location.nativeElement,x=E.injector.get(Oc,null),N=x&&E.injector.get(Zb);return x&&N&&N.registerApplication(D,x),E.onDestroy(()=>{this.detachView(E.hostView),ld(this.components,E),N&&N.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;ld(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get($p,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(it(Io),it(Eo),it(Zi),it(Ec),it(xc))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ld(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Si=!0,on=!1;function _C(){return on=!0,Si}function yC(){if(on)throw new Error("Cannot enable prod mode after platform setup.");Si=!1}let wr=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zn,s})();function Zn(s){return function vC(s,o,c){if(eo(s)&&!c){const d=Gi(s.index,o);return new kp(d,d)}return 47&s.type?new kp(o[16],o):null}(An(),Te(),16==(16&s))}class DC{constructor(){}supports(o){return mc(o)}create(o){return new CC(o)}}const Yp=(s,o)=>o;class CC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Yp}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Jb(d,h,g)?c:d,E=Jb(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const x=E-h,N=D-h;if(x!=N){for(let H=0;H<x;H++){const Q=H<g.length?g[H]:g[H]=0,be=Q+H;N<=be&&be<x&&(g[H]=Q+1)}g[v.previousIndex]=N-x}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!mc(o))throw new Be(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function FT(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[ci()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new lI(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new j_),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class lI{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sr{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class j_{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new sr,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jb(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Wh{constructor(){}supports(o){return o instanceof Map||Yv(o)}create(){return new Va}}class Va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Yv(o)))throw new Be(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Qb(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class Qb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xb(){return new dd([new DC])}let dd=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Xb()),deps:[[s,new zo,new Pr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Be(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:Xb}),s})();function ew(){return new H_([new Wh])}let H_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||ew()),deps:[[s,new zo,new Pr]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Be(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:ew}),s})();const SC=R_(null,"core",[{provide:sd,useValue:"unknown"},{provide:$h,deps:[Eo]},{provide:Zb,deps:[]},{provide:M_,deps:[]}]);let IC=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(it(P_))},s.\u0275mod=ee({type:s}),s.\u0275inj=ln({}),s})()},3942:(ft,Ie,P)=>{P.d(Ie,{Z:()=>Be});var l=P(2090),X=P(4859),L=P(9681),ce=P(1877);class ne{constructor(me,Ce){this._delegate=me,this.firebase=Ce,(0,L._addComponent)(me,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(me,Ce=L._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(me);return!et.isInitialized()&&"EXPLICIT"===(null===(ot=et.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Ce})}_removeServiceInstance(me,Ce=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ce)}_addComponent(me){(0,L._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,L._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const He=function ge(He){const me={},Ce={__esModule:!0,initializeApp:function Me(We,se={}){const Y=L.initializeApp(We,se);if((0,l.r3)(me,Y.name))return me[Y.name];const oe=new He(Y,Ce);return me[Y.name]=oe,oe},app:et,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function De(We){const se=We.name,Y=se.replace("-compat","");if(L._registerComponent(We)&&"PUBLIC"===We.type){const oe=(ve=et())=>{if("function"!=typeof ve[Y])throw ie.create("invalid-app-argument",{appName:se});return ve[Y]()};void 0!==We.serviceProps&&(0,l.ZB)(oe,We.serviceProps),Ce[Y]=oe,He.prototype[Y]=function(...ve){return this._getService.bind(this,se).apply(this,We.multipleInstances?ve:[])}}return"PUBLIC"===We.type?Ce[Y]:null},removeApp:function ot(We){delete me[We]},useAsService:function Ke(We,se){return"serverAuth"===se?null:se},modularAPIs:L}};function et(We){if(!(0,l.r3)(me,We=We||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:We});return me[We]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Ee(){return Object.keys(me).map(We=>me[We])}}),et.App=He,Ce}(ne);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function me(Ce){(0,l.ZB)(He,Ce)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),He}(),z=new ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=$;!function Ne(He){(0,L.registerVersion)("@firebase/app-compat","0.1.21",He)}()},9681:(ft,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>zr,_apps:()=>Dt,_clearComponents:()=>Qt,_components:()=>yn,_getProvider:()=>ws,_registerComponent:()=>fn,_removeServiceInstance:()=>ln,deleteApp:()=>Ds,getApp:()=>Xi,getApps:()=>Es,initializeApp:()=>as,onLog:()=>wi,registerVersion:()=>lr,setLogLevel:()=>hi});var l=P(5861),X=P(4859),L=P(1877),ce=P(2090);class ne{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ye(tt){const xe=tt.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(rt)){const vt=rt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(rt=>rt).join(" ")}}const ie="@firebase/app",he=new L.Yd("@firebase/app"),Kn="[DEFAULT]",mt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,yn=new Map;function vn(tt,xe){try{tt.container.addComponent(xe)}catch(rt){he.debug(`Component ${xe.name} failed to register with FirebaseApp ${tt.name}`,rt)}}function zr(tt,xe){tt.container.addOrOverwriteComponent(xe)}function fn(tt){const xe=tt.name;if(yn.has(xe))return he.debug(`There were multiple attempts to register component ${xe}.`),!1;yn.set(xe,tt);for(const rt of Dt.values())vn(rt,tt);return!0}function ws(tt,xe){const rt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),tt.container.getProvider(xe)}function ln(tt,xe,rt=Kn){ws(tt,xe).clearInstance(rt)}function Qt(){yn.clear()}const Tr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zs{constructor(xe,rt,vt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Qi="9.6.10";function as(tt,xe={}){"object"!=typeof xe&&(xe={name:xe});const rt=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},xe),vt=rt.name;if("string"!=typeof vt||!vt)throw Tr.create("bad-app-name",{appName:String(vt)});const Zt=Dt.get(vt);if(Zt){if((0,ce.vZ)(tt,Zt.options)&&(0,ce.vZ)(rt,Zt.config))return Zt;throw Tr.create("duplicate-app",{appName:vt})}const zt=new X.H0(vt);for(const U of yn.values())zt.addComponent(U);const G=new Zs(tt,rt,zt);return Dt.set(vt,G),G}function Xi(tt=Kn){const xe=Dt.get(tt);if(!xe)throw Tr.create("no-app",{appName:tt});return xe}function Es(){return Array.from(Dt.values())}function Ds(tt){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(tt){const xe=tt.name;Dt.has(xe)&&(Dt.delete(xe),yield Promise.all(tt.container.getProviders().map(rt=>rt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function lr(tt,xe,rt){var vt;let Zt=null!==(vt=mt[tt])&&void 0!==vt?vt:tt;rt&&(Zt+=`-${rt}`);const zt=Zt.match(/\s|\//),G=xe.match(/\s|\//);if(zt||G){const U=[`Unable to register library "${Zt}" with version "${xe}":`];return zt&&U.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),zt&&G&&U.push("and"),G&&U.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void he.warn(U.join(" "))}fn(new X.wA(`${Zt}-version`,()=>({library:Zt,version:xe}),"VERSION"))}function wi(tt,xe){if(null!==tt&&"function"!=typeof tt)throw Tr.create("invalid-log-argument");(0,L.Am)(tt,xe)}function hi(tt){(0,L.Ub)(tt)}const In="firebase-heartbeat-store";let Ei=null;function Ks(){return Ei||(Ei=(0,ce.X3)("firebase-heartbeat-database",1,(tt,xe)=>{0===xe&&tt.createObjectStore(In)}).catch(tt=>{throw Tr.create("storage-open",{originalErrorMessage:tt.message})})),Ei}function Xt(){return(Xt=(0,l.Z)(function*(tt){try{return(yield Ks()).transaction(In).objectStore(In).get(Mi(tt))}catch(xe){throw Tr.create("storage-get",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function ht(tt,xe){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(tt,xe){try{const vt=(yield Ks()).transaction(In,"readwrite");return yield vt.objectStore(In).put(xe,Mi(tt)),vt.complete}catch(rt){throw Tr.create("storage-set",{originalErrorMessage:rt.message})}})).apply(this,arguments)}function Mi(tt){return`${tt.name}!${tt.options.appId}`}class No{constructor(xe){this.container=xe,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new yt(rt),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var xe=this;return(0,l.Z)(function*(){const vt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Bi();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!xe._heartbeatsCache.heartbeats.some(zt=>zt.date===Zt))return xe._heartbeatsCache.heartbeats.push({date:Zt,agent:vt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(zt=>{const G=new Date(zt.date).valueOf();return Date.now()-G<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,l.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const rt=Bi(),{heartbeatsToSend:vt,unsentEntries:Zt}=function xi(tt,xe=1024){const rt=[];let vt=tt.slice();for(const Zt of tt){const zt=rt.find(G=>G.agent===Zt.agent);if(zt){if(zt.dates.push(Zt.date),Vi(rt)>xe){zt.dates.pop();break}}else if(rt.push({agent:Zt.agent,dates:[Zt.date]}),Vi(rt)>xe){rt.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:vt}}(xe._heartbeatsCache.heartbeats),zt=(0,ce.L)(JSON.stringify({version:2,heartbeats:vt}));return xe._heartbeatsCache.lastSentHeartbeatDate=rt,Zt.length>0?(xe._heartbeatsCache.heartbeats=Zt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),zt})()}}function Bi(){return(new Date).toISOString().substring(0,10)}class yt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,l.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function qa(tt){return Xt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const zt=yield rt.read();return ht(rt.app,{lastSentHeartbeatDate:null!==(vt=xe.lastSentHeartbeatDate)&&void 0!==vt?vt:zt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const zt=yield rt.read();return ht(rt.app,{lastSentHeartbeatDate:null!==(vt=xe.lastSentHeartbeatDate)&&void 0!==vt?vt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...xe.heartbeats]})}})()}}function Vi(tt){return(0,ce.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Wt(tt){fn(new X.wA("platform-logger",xe=>new ne(xe),"PRIVATE")),fn(new X.wA("heartbeat",xe=>new No(xe),"PRIVATE")),lr(ie,"0.7.20",tt),lr(ie,"0.7.20","esm2017"),lr("fire-js","")}("")},4859:(ft,Ie,P)=>{P.d(Ie,{H0:()=>ge,wA:()=>L});var l=P(5861),X=P(2090);class L{constructor($,z,te){this.name=$,this.instanceFactory=z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ce="[DEFAULT]";class ne{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const te=new X.BH;if(this.instancesDeferred.set(z,te),this.isInitialized(z)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:z});Je&&te.resolve(Je)}catch(Je){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Je=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ne){if(Je)return null;throw Ne}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(z){}for(const[z,te]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(z);try{const Ne=this.getOrInitializeService({instanceIdentifier:Je});te.resolve(Ne)}catch(Ne){}}}}clearInstance($=ce){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ce){return this.instances.has($)}getOptions($=ce){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:te,options:z});for(const[Ne,Be]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ne)&&Be.resolve(Je);return Je}onInit($,z){var te;const Je=this.normalizeInstanceIdentifier(z),Ne=null!==(te=this.onInitCallbacks.get(Je))&&void 0!==te?te:new Set;Ne.add($),this.onInitCallbacks.set(Je,Ne);const Be=this.instances.get(Je);return Be&&$(Be,Je),()=>{Ne.delete($)}}invokeOnInitCallbacks($,z){const te=this.onInitCallbacks.get(z);if(te)for(const Je of te)try{Je($,z)}catch(Ne){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===ce?void 0:he),options:z}),this.instances.set($,te),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(Je){}var he;return te||null}normalizeInstanceIdentifier($=ce){return this.component?this.component.multipleInstances?$:ce:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new ne($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Ie,P)=>{P.d(Ie,{Am:()=>he,Ub:()=>ge,Yd:()=>ie,in:()=>X});const l=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const L={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ce=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ye=($,z,...te)=>{if(z<$.logLevel)return;const Je=(new Date).toISOString(),Ne=ne[z];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ne](`[${Je}]  ${$.name}:`,...te)};class ie{constructor(z){this.name=z,this._logLevel=ce,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in X))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...z),this._logHandler(this,X.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...z),this._logHandler(this,X.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,X.INFO,...z),this._logHandler(this,X.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,X.WARN,...z),this._logHandler(this,X.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...z),this._logHandler(this,X.ERROR,...z)}}function ge($){l.forEach(z=>{z.setLogLevel($)})}function he($,z){for(const te of l){let Je=null;z&&z.level&&(Je=L[z.level]),te.userLogHandler=null===$?null:(Ne,Be,...He)=>{const me=He.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(ot){return null}}).filter(Ce=>Ce).join(" ");Be>=(null!=Je?Je:Ne.logLevel)&&$({level:X[Be].toLowerCase(),message:me,args:He,type:Ne.name})}}}},5861:(ft,Ie,P)=>{function l(L,ce,ne,ye,ie,ge,he){try{var $=L[ge](he),z=$.value}catch(te){return void ne(te)}$.done?ce(z):Promise.resolve(z).then(ye,ie)}function X(L){return function(){var ce=this,ne=arguments;return new Promise(function(ye,ie){var ge=L.apply(ce,ne);function he(z){l(ge,ye,ie,he,$,"next",z)}function $(z){l(ge,ye,ie,he,$,"throw",z)}he(void 0)})}}P.d(Ie,{Z:()=>X})}},ft=>{ft(ft.s=4383)}]);