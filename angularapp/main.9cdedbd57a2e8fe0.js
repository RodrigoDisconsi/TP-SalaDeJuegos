"use strict";(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[179],{2011:(pt,Ie,F)=>{F.d(Ie,{Dh:()=>ge,GT:()=>ye,cc:()=>Ne,hO:()=>Qe,on:()=>$,pX:()=>ne,xv:()=>he});var c=F(5e3),X=F(127),L=F(5813);pt=F.hmd(pt);const ce=["ngOnDestroy"],ne=(Ce,at,tt,Me={})=>new Proxy(Ce,{get:(Ee,De)=>tt.runOutsideAngular(()=>{var Ye;if(Ce[De])return(null===(Ye=null==Me?void 0:Me.spy)||void 0===Ye?void 0:Ye.get)&&Me.spy.get(De,Ce[De]),Ce[De];if(ce.indexOf(De)>-1)return()=>{};const Ke=at.toPromise().then(se=>{const J=se&&se[De];return"function"==typeof J?J.bind(se):J&&J.then?J.then(oe=>tt.run(()=>oe)):tt.run(()=>J)});return new Proxy(()=>{},{get:(se,J)=>Ke[J],apply:(se,J,oe)=>Ke.then(ve=>{var ae;const Fe=ve&&ve(...oe);return(null===(ae=null==Me?void 0:Me.spy)||void 0===ae?void 0:ae.apply)&&Me.spy.apply(De,oe,Fe),Fe})})})}),ye=(Ce,at)=>{at.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Me=>{Object.defineProperty(Ce.prototype,Me,Object.getOwnPropertyDescriptor(tt.prototype||tt,Me))})})};class ie{constructor(at){return at}}const ge=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function $(Ce,at,tt){const Ee="object"==typeof tt&&tt||{};Ee.name=Ee.name||"string"==typeof tt&&tt||"[DEFAULT]";const Ye=X.Z.apps.filter(Ke=>Ke&&Ke.name===Ee.name)[0]||at.runOutsideAngular(()=>X.Z.initializeApp(Ce,Ee));try{JSON.stringify(Ce)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new ie(Ye)}const z=(Ce,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...at)},te={provide:ie,useFactory:$,deps:[ge,c.R0b,[new c.FiY,he]]};let Qe=(()=>{class Ce{constructor(tt){X.Z.registerVersion("angularfire",L.q4.full,"core"),X.Z.registerVersion("angularfire",L.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,tt.toString())}static initializeApp(tt,Me){return{ngModule:Ce,providers:[{provide:ge,useValue:tt},{provide:he,useValue:Me}]}}}return Ce.\u0275fac=function(tt){return new(tt||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[te]}),Ce})();function Ne(Ce,at,tt,Me,Ee){const[,De,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Ce)||[];if(De)return function Le(Ce,at){try{return Ce.toString()===at.toString()}catch(tt){return Ce===at}}(Ee,Ye)||(me("error",`${at} was already initialized on the ${tt} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:Ye})),De;{const Ke=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ke,Ee]),Ke}}const Ge=!!pt.hot,me=(Ce,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,Ie,F)=>{F.d(Ie,{q4:()=>yu,iC:()=>Du,HU:()=>uc,vb:()=>Xd,JM:()=>bo});var c=F(5e3),X=F(5867),L=F(5861),ce=F(9681),ne=F(2090),ye=F(4859),ie=F(1877);const ge="@firebase/installations",z="w:0.5.7",te="FIS_v2",Ce=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function tt({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:oe(C.expiresIn),creationTime:Date.now()}}function Ee(C,S){return De.apply(this,arguments)}function De(){return(De=(0,L.Z)(function*(C,S){const V=(yield S.json()).error;return Ce.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ye({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ke(C,{refreshToken:S}){const O=Ye(C);return O.append("Authorization",function ve(C){return`${te} ${C}`}(S)),O}function se(C){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function oe(C){return Number(C.replace("s","000"))}function ae(C,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:O}){const V=tt(C),Q=Ye(C),re=S.getImmediate({optional:!0});if(re){const Nt=yield re.getHeartbeatsHeader();Nt&&Q.append("x-firebase-client",Nt)}const ke={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:te,appId:C.appId,sdkVersion:z})},rt=yield se(()=>fetch(V,ke));if(rt.ok){const Nt=yield rt.json();return{fid:Nt.fid||O,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Me(Nt.authToken)}}throw yield Ee("Create Installation",rt)})).apply(this,arguments)}function ue(C){return new Promise(S=>{setTimeout(S,C)})}const sn=/^[cdef][\w-]{21}$/;function _t(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Tt(C){return function Ot(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return sn.test(O)?O:""}catch(C){return""}}function yn(C){return`${C.appName}!${C.appId}`}const vn=new Map;function Lr(C,S){const O=yn(C);on(O,S),function Qt(C,S){const O=function Er(){return!Di&&"BroadcastChannel"in self&&(Di=new BroadcastChannel("[Firebase] FID Change"),Di.onmessage=C=>{on(C.data.key,C.data.fid)}),Di}();O&&O.postMessage({key:C,fid:S}),function Ys(){0===vn.size&&Di&&(Di.close(),Di=null)}()}(O,S)}function on(C,S){const O=vn.get(C);if(O)for(const V of O)V(S)}let Di=null;const Yi="firebase-installations-store";let ys=null;function vs(){return ys||(ys=(0,ne.X3)("firebase-installations-database",1,(C,S)=>{0===S&&C.createObjectStore(Yi)})),ys}function vt(C,S){return dr.apply(this,arguments)}function dr(){return(dr=(0,L.Z)(function*(C,S){const O=yn(C),Q=(yield vs()).transaction(Yi,"readwrite"),re=Q.objectStore(Yi),Oe=yield re.get(O);return yield re.put(S,O),yield Q.complete,(!Oe||Oe.fid!==S.fid)&&Lr(C,S.fid),S})).apply(this,arguments)}function gi(C){return ai.apply(this,arguments)}function ai(){return(ai=(0,L.Z)(function*(C){const S=yn(C),V=(yield vs()).transaction(Yi,"readwrite");yield V.objectStore(Yi).delete(S),yield V.complete})).apply(this,arguments)}function Dr(C,S){return Co.apply(this,arguments)}function Co(){return(Co=(0,L.Z)(function*(C,S){const O=yn(C),Q=(yield vs()).transaction(Yi,"readwrite"),re=Q.objectStore(Yi),Oe=yield re.get(O),ke=S(Oe);return void 0===ke?yield re.delete(O):yield re.put(ke,O),yield Q.complete,ke&&(!Oe||Oe.fid!==ke.fid)&&Lr(C,ke.fid),ke})).apply(this,arguments)}function In(C){return mi.apply(this,arguments)}function mi(){return(mi=(0,L.Z)(function*(C){let S;const O=yield Dr(C.appConfig,V=>{const Q=Js(V),re=qa(C,Q);return S=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function Js(C){return Kt(C||{fid:_t(),registrationStatus:0})}function qa(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ce.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function Xt(C,S){return ft.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mt(C)}:{installationEntry:S}}function ft(){return(ft=(0,L.Z)(function*(C,S){try{const O=yield ae(C,S);return vt(C.appConfig,O)}catch(O){throw at(O)&&409===O.customData.serverCode?yield gi(C.appConfig):yield vt(C.appConfig,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Mt(C){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,L.Z)(function*(C){let S=yield is(C.appConfig);for(;1===S.registrationStatus;)yield ue(100),S=yield is(C.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield In(C);return V||O}return S})).apply(this,arguments)}function is(C){return Dr(C,S=>{if(!S)throw Ce.create("installation-not-found");return Kt(S)})}function Kt(C){return function To(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Ni(C,S){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:S},O){const V=bt(C,O),Q=Ke(C,O),re=S.getImmediate({optional:!0});if(re){const Nt=yield re.getHeartbeatsHeader();Nt&&Q.append("x-firebase-client",Nt)}const ke={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:z,appId:C.appId}})},rt=yield se(()=>fetch(V,ke));if(rt.ok)return Me(yield rt.json());throw yield Ee("Generate Auth Token",rt)})).apply(this,arguments)}function bt(C,{fid:S}){return`${tt(C)}/${S}/authTokens:generate`}function Oi(C){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(C,S=!1){let O;const V=yield Dr(C.appConfig,re=>{if(!$t(re))throw Ce.create("not-registered");const Oe=re.authToken;if(!S&&G(Oe))return re;if(1===Oe.requestStatus)return O=nt(C,S),re;{if(!navigator.onLine)throw Ce.create("app-offline");const ke=q(re);return O=wt(C,ke),ke}});return O?yield O:V.authToken})).apply(this,arguments)}function nt(C,S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(C,S){let O=yield st(C.appConfig);for(;1===O.authToken.requestStatus;)yield ue(100),O=yield st(C.appConfig);const V=O.authToken;return 0===V.requestStatus?Oi(C,S):V})).apply(this,arguments)}function st(C){return Dr(C,S=>{if(!$t(S))throw Ce.create("not-registered");return function fe(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function wt(C,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,L.Z)(function*(C,S){try{const O=yield Ni(C,S),V=Object.assign(Object.assign({},S),{authToken:O});return yield vt(C.appConfig,V),O}catch(O){if(!at(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield vt(C.appConfig,V)}else yield gi(C.appConfig);throw O}})).apply(this,arguments)}function $t(C){return void 0!==C&&2===C.registrationStatus}function G(C){return 2===C.requestStatus&&!function U(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function q(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function $e(){return($e=(0,L.Z)(function*(C){const S=C,{installationEntry:O,registrationPromise:V}=yield In(S);return V?V.catch(console.error):Oi(S).catch(console.error),O.fid})).apply(this,arguments)}function nn(){return(nn=(0,L.Z)(function*(C,S=!1){const O=C;return yield ki(O),(yield Oi(O,S)).token})).apply(this,arguments)}function ki(C){return en.apply(this,arguments)}function en(){return(en=(0,L.Z)(function*(C){const{registrationPromise:S}=yield In(C);S&&(yield S)})).apply(this,arguments)}function li(C){return Ce.create("missing-app-config-values",{valueName:C})}const Za="installations",Be=C=>{const S=C.getProvider("app").getImmediate(),O=function bs(C){if(!C||!C.options)throw li("App Configuration");if(!C.name)throw li("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!C.options[O])throw li(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,ce._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ht=C=>{const S=C.getProvider("app").getImmediate(),O=(0,ce._getProvider)(S,Za).getImmediate();return{getId:()=>function ee(C){return $e.apply(this,arguments)}(O),getToken:Q=>function St(C){return nn.apply(this,arguments)}(O,Q)}};(function En(){(0,ce._registerComponent)(new ye.wA(Za,Be,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("installations-internal",Ht,"PRIVATE"))})(),(0,ce.registerVersion)(ge,"0.5.7"),(0,ce.registerVersion)(ge,"0.5.7","esm2017");const Si="@firebase/remote-config",Kn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rd{constructor(S,O,V,Q){this.client=S,this.storage=O,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var O=this;return(0,L.Z)(function*(){const[V,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const re=yield O.client.fetch(S),Oe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Oe.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Oe),re})()}}function ua(C=navigator){return C.languages&&C.languages[0]||C.language}class Hl{constructor(S,O,V,Q,re,Oe){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=V,this.projectId=Q,this.apiKey=re,this.appId=Oe}fetch(S){var O=this;return(0,L.Z)(function*(){const[V,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},rt={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:O.appId,language_code:ua()},Nt={method:"POST",headers:ke,body:JSON.stringify(rt)},Vt=fetch(Oe,Nt),Rt=new Promise((Or,Wr)=>{S.signal.addEventListener(()=>{const Vo=new Error("The operation was aborted.");Vo.name="AbortError",Wr(Vo)})});let si;try{yield Promise.race([Vt,Rt]),si=yield Vt}catch(Or){let Wr="fetch-client-network";throw"AbortError"===Or.name&&(Wr="fetch-timeout"),Kn.create(Wr,{originalErrorMessage:Or.message})}let Gn=si.status;const Ea=si.headers.get("ETag")||void 0;let Bo,Ji;if(200===si.status){let Or;try{Or=yield si.json()}catch(Wr){throw Kn.create("fetch-client-parse",{originalErrorMessage:Wr.message})}Bo=Or.entries,Ji=Or.state}if("INSTANCE_STATE_UNSPECIFIED"===Ji?Gn=500:"NO_CHANGE"===Ji?Gn=304:("NO_TEMPLATE"===Ji||"EMPTY_CONFIG"===Ji)&&(Bo={}),304!==Gn&&200!==Gn)throw Kn.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:Ea,config:Bo}})()}}class Qg{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,L.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:V}){var Q=this;return(0,L.Z)(function*(){yield function ni(C,S){return new Promise((O,V)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),V(Kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const re=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function Pd(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Oe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Oe),Q.attemptFetch(S,Oe)}})()}}class Gl{constructor(S,O,V,Q,re){this.app=S,this._client=O,this._storageCache=V,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wc(C,S){const O=C.target.error||void 0;return Kn.create(S,{originalErrorMessage:O&&O.message})}const no="app_namespace_store";class nm{constructor(S,O,V,Q=function tm(){return new Promise((C,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{S(Wc(V,"storage-open"))},O.onsuccess=V=>{C(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(O){S(Kn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=S,this.appName=O,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Q,re)=>{const ke=V.transaction([no],"readonly").objectStore(no),rt=O.createCompositeKey(S);try{const Nt=ke.get(rt);Nt.onerror=Vt=>{re(Wc(Vt,"storage-get"))},Nt.onsuccess=Vt=>{const Rt=Vt.target.result;Q(Rt?Rt.value:void 0)}}catch(Nt){re(Kn.create("storage-get",{originalErrorMessage:Nt&&Nt.message}))}})})()}set(S,O){var V=this;return(0,L.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((re,Oe)=>{const rt=Q.transaction([no],"readwrite").objectStore(no),Nt=V.createCompositeKey(S);try{const Vt=rt.put({compositeKey:Nt,value:O});Vt.onerror=Rt=>{Oe(Wc(Rt,"storage-set"))},Vt.onsuccess=()=>{re()}}catch(Vt){Oe(Kn.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(S){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Q,re)=>{const ke=V.transaction([no],"readwrite").objectStore(no),rt=O.createCompositeKey(S);try{const Nt=ke.delete(rt);Nt.onerror=Vt=>{re(Wc(Vt,"storage-delete"))},Nt.onsuccess=()=>{Q()}}catch(Nt){re(Kn.create("storage-delete",{originalErrorMessage:Nt&&Nt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Ld{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const O=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),re=yield O;re&&(S.lastFetchStatus=re);const Oe=yield V;Oe&&(S.lastSuccessfulFetchTimestampMillis=Oe);const ke=yield Q;ke&&(S.activeConfig=ke)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Io(){return xf.apply(this,arguments)}function xf(){return(xf=(0,L.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}!function da(){(0,ce._registerComponent)(new ye.wA("remote-config",function C(S,{instanceIdentifier:O}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,ne.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:re,apiKey:Oe,appId:ke}=V.options;if(!re)throw Kn.create("registration-project-id");if(!Oe)throw Kn.create("registration-api-key");if(!ke)throw Kn.create("registration-app-id");const rt=new nm(ke,V.name,O=O||"firebase"),Nt=new Ld(rt),Vt=new ie.Yd(Si);Vt.logLevel=ie.in.ERROR;const Rt=new Hl(Q,ce.SDK_VERSION,O,re,Oe,ke),si=new Qg(Rt,rt),Gn=new Rd(si,rt,Nt,Vt),Ea=new Gl(V,Gn,Nt,rt,Vt);return function Jn(C){const S=(0,ne.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ea),Ea},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Si,"0.3.6"),(0,ce.registerVersion)(Si,"0.3.6","esm2017")}();const Zc="/firebase-messaging-sw.js",io="/firebase-cloud-messaging-push-scope",fr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ao="google.c.a.c_id",Ya="google.c.a.c_l",Bd="google.c.a.ts",im="google.c.a.e";var ro=(()=>{return(C=ro||(ro={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ro;var C})();function Sr(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zl(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),Q=new Uint8Array(V.length);for(let re=0;re<V.length;++re)Q[re]=V.charCodeAt(re);return Q}const ql="fcm_token_details_db",Ii="fcm_token_object_Store";function Nf(C){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,L.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(ql))return null;let S=null;return(yield(0,ne.X3)(ql,5,function(){var V=(0,L.Z)(function*(Q,re,Oe,ke){var rt;if(re<2||!Q.objectStoreNames.contains(Ii))return;const Nt=ke.objectStore(Ii),Vt=yield Nt.index("fcmSenderId").get(C);if(yield Nt.clear(),Vt)if(2===re){const Rt=Vt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;S={token:Rt.fcmToken,createTime:null!==(rt=Rt.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Sr(Rt.vapidKey)}}}else if(3===re){const Rt=Vt;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Sr(Rt.auth),p256dh:Sr(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Sr(Rt.vapidKey)}}}else if(4===re){const Rt=Vt;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Sr(Rt.auth),p256dh:Sr(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Sr(Rt.vapidKey)}}}});return function(Q,re,Oe,ke){return V.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(ql),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Vd(S)?S:null}),Wl.apply(this,arguments)}function Vd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Cs="firebase-messaging-store";let Ja=null;function Kc(){return Ja||(Ja=(0,ne.X3)("firebase-messaging-database",1,(C,S)=>{0===S&&C.createObjectStore(Cs)})),Ja}function Sn(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(C){const S=xo(C),V=yield(yield Kc()).transaction(Cs).objectStore(Cs).get(S);if(V)return V;{const Q=yield Nf(C.appConfig.senderId);if(Q)return yield so(C,Q),Q}})).apply(this,arguments)}function so(C,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,L.Z)(function*(C,S){const O=xo(C),Q=(yield Kc()).transaction(Cs,"readwrite");return yield Q.objectStore(Cs).put(S,O),yield Q.complete,S})).apply(this,arguments)}function Ud(C){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(C){const S=xo(C),V=(yield Kc()).transaction(Cs,"readwrite");yield V.objectStore(Cs).delete(S),yield V.complete})).apply(this,arguments)}function xo({appConfig:C}){return C.appId}const Xn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qa(C,S){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,L.Z)(function*(C,S){const O=yield ao(C),V=Et(S),Q={method:"POST",headers:O,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(pr(C.appConfig),Q)).json()}catch(Oe){throw Xn.create("token-subscribe-failed",{errorInfo:Oe})}if(re.error)throw Xn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Fi(C,S){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(C,S){const O=yield ao(C),V=Et(S.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${pr(C.appConfig)}/${S.token}`,Q)).json()}catch(Oe){throw Xn.create("token-update-failed",{errorInfo:Oe})}if(re.error)throw Xn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Ts(C,S){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,L.Z)(function*(C,S){const V={method:"DELETE",headers:yield ao(C)};try{const re=yield(yield fetch(`${pr(C.appConfig)}/${S}`,V)).json();if(re.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw Xn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function pr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ao(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,L.Z)(function*({appConfig:C,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Et({p256dh:C,auth:S,endpoint:O,vapidKey:V}){const Q={web:{endpoint:O,auth:S,p256dh:C}};return V!==fr&&(Q.web.applicationPubKey=V),Q}const Jl=6048e5;function Xa(C){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,L.Z)(function*(C){const S=yield Qc(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Sr(S.getKey("auth")),p256dh:Sr(S.getKey("p256dh"))},V=yield Sn(C.firebaseDependencies);if(V){if(pa(V.subscriptionOptions,O))return Date.now()>=V.createTime+Jl?Yc(C,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield Ts(C.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Te(C.firebaseDependencies,O)}return Te(C.firebaseDependencies,O)})).apply(this,arguments)}function Xl(C){return ec.apply(this,arguments)}function ec(){return(ec=(0,L.Z)(function*(C){const S=yield Sn(C.firebaseDependencies);S&&(yield Ts(C.firebaseDependencies,S.token),yield Ud(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Yc(C,S){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,L.Z)(function*(C,S){try{const O=yield Fi(C.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield so(C.firebaseDependencies,V),O}catch(O){throw yield Xl(C),O}})).apply(this,arguments)}function Te(C,S){return zt.apply(this,arguments)}function zt(){return(zt=(0,L.Z)(function*(C,S){const V={token:yield Qa(C,S),createTime:Date.now(),subscriptionOptions:S};return yield so(C,V),V.token})).apply(this,arguments)}function Qc(C,S){return An.apply(this,arguments)}function An(){return(An=(0,L.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zl(S)})})).apply(this,arguments)}function pa(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function ga(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function gr(C,S){if(!S.notification)return;C.notification={};const O=S.notification.title;O&&(C.notification.title=O);const V=S.notification.body;V&&(C.notification.body=V);const Q=S.notification.image;Q&&(C.notification.image=Q)}(S,C),function Xc(C,S){!S.data||(C.data=S.data)}(S,C),function eu(C,S){if(!S.fcmOptions)return;C.fcmOptions={};const O=S.fcmOptions.link;O&&(C.fcmOptions.link=O);const V=S.fcmOptions.analytics_label;V&&(C.fcmOptions.analyticsLabel=V)}(S,C),S}function jd(C){return"object"==typeof C&&!!C&&Ao in C}function tu(C,S){const O=[];for(let V=0;V<C.length;V++)O.push(C.charAt(V)),V<S.length&&O.push(S.charAt(V));return O.join("")}function co(C){return Xn.create("missing-app-config-values",{valueName:C})}tu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ai{constructor(S,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function tc(C){if(!C||!C.options)throw co("App Configuration Object");if(!C.name)throw co("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const V of S)if(!O[V])throw co(V);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ir(C){return nc.apply(this,arguments)}function nc(){return(nc=(0,L.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Zc,{scope:io}),C.swRegistration.update().catch(()=>{})}catch(S){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function uo(C,S){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,L.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield Ir(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function nu(C,S){return ic.apply(this,arguments)}function ic(){return(ic=(0,L.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=fr)})).apply(this,arguments)}function iu(){return(iu=(0,L.Z)(function*(C,S){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield nu(C,null==S?void 0:S.vapidKey),yield uo(C,null==S?void 0:S.serviceWorkerRegistration),Xa(C)})).apply(this,arguments)}function el(C,S,O){return ma.apply(this,arguments)}function ma(){return(ma=(0,L.Z)(function*(C,S,O){const V=ru(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[Ao],message_name:O[Ya],message_time:O[Bd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ru(C){switch(C){case ro.NOTIFICATION_CLICKED:return"notification_open";case ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hd(){return(Hd=(0,L.Z)(function*(C,S){const O=S.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===ro.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ga(O)):C.onMessageHandler.next(ga(O)));const V=O.data;jd(V)&&"1"===V[im]&&(yield el(C,O.messageType,V))})).apply(this,arguments)}const ou="@firebase/messaging",Gd=C=>{const S=new Ai(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function su(C,S){return Hd.apply(this,arguments)}(S,O)),S},Oo=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:V=>function rc(C,S){return iu.apply(this,arguments)}(S,V)}};function zd(){return ko.apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*(){try{yield(0,ne.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $d(){(0,ce._registerComponent)(new ye.wA("messaging",Gd,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("messaging-internal",Oo,"PRIVATE")),(0,ce.registerVersion)(ou,"0.9.11"),(0,ce.registerVersion)(ou,"0.9.11","esm2017")}();const lu="analytics",Ty="firebase_id",tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sc="https://www.googletagmanager.com/gtag/js",ii=new ie.Yd("@firebase/analytics");function qd(C){return Promise.all(C.map(S=>S.catch(O=>O)))}function rm(C,S){const O=document.createElement("script");O.src=`${sc}?l=${C}&id=${S}`,O.async=!0,document.head.appendChild(O)}function _a(C,S,O,V,Q,re){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,L.Z)(function*(C,S,O,V,Q,re){const Oe=V[Q];try{if(Oe)yield S[Oe];else{const rt=(yield qd(O)).find(Nt=>Nt.measurementId===Q);rt&&(yield S[rt.appId])}}catch(ke){ii.error(ke)}C("config",Q,re)})).apply(this,arguments)}function uu(C,S,O,V,Q){return os.apply(this,arguments)}function os(){return(os=(0,L.Z)(function*(C,S,O,V,Q){try{let re=[];if(Q&&Q.send_to){let Oe=Q.send_to;Array.isArray(Oe)||(Oe=[Oe]);const ke=yield qd(O);for(const rt of Oe){const Nt=ke.find(Rt=>Rt.measurementId===rt),Vt=Nt&&S[Nt.appId];if(!Vt){re=[];break}re.push(Vt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),C("event",V,Q||{})}catch(re){ii.error(re)}})).apply(this,arguments)}function sm(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(sc))return S;return null}const Pn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jn=new class Mn{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ya(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Kd(C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(C){var S;const{appId:O,apiKey:V}=C,Q={method:"GET",headers:ya(V)},re=tl.replace("{app-id}",O),Oe=yield fetch(re,Q);if(200!==Oe.status&&304!==Oe.status){let ke="";try{const rt=yield Oe.json();(null===(S=rt.error)||void 0===S?void 0:S.message)&&(ke=rt.error.message)}catch(rt){}throw Pn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:ke})}return Oe.json()})).apply(this,arguments)}function kf(C){return jr.apply(this,arguments)}function jr(){return(jr=(0,L.Z)(function*(C,S=jn,O){const{appId:V,apiKey:Q,measurementId:re}=C.options;if(!V)throw Pn.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:V};throw Pn.create("no-api-key")}const Oe=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new hu;return setTimeout((0,L.Z)(function*(){ke.abort()}),void 0!==O?O:6e4),oc({appId:V,apiKey:Q,measurementId:re},Oe,ke,S)})).apply(this,arguments)}function oc(C,S,O){return mr.apply(this,arguments)}function mr(){return(mr=(0,L.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:O},V,Q=jn){const{appId:re,measurementId:Oe}=C;try{yield gt(V,S)}catch(ke){if(Oe)return ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:re,measurementId:Oe};throw ke}try{const ke=yield Kd(C);return Q.deleteThrottleMetadata(re),ke}catch(ke){if(!Yd(ke)){if(Q.deleteThrottleMetadata(re),Oe)return ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:re,measurementId:Oe};throw ke}const rt=503===Number(ke.customData.httpStatus)?(0,ne.$s)(O,Q.intervalMillis,30):(0,ne.$s)(O,Q.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+rt,backoffCount:O+1};return Q.setThrottleMetadata(re,Nt),ii.debug(`Calling attemptFetch again in ${rt} millis`),oc(C,Nt,V,Q)}})).apply(this,arguments)}function gt(C,S){return new Promise((O,V)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),V(Pn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Yd(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class hu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function fu(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,L.Z)(function*(){if(!(0,ne.hl)())return ii.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(C){return ii.warn(Pn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function As(){return(As=(0,L.Z)(function*(C,S,O,V,Q,re,Oe){var ke;const rt=kf(C);rt.then(Gn=>{O[Gn.measurementId]=Gn.appId,C.options.measurementId&&Gn.measurementId!==C.options.measurementId&&ii.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gn=>ii.error(Gn)),S.push(rt);const Nt=fu().then(Gn=>{if(Gn)return V.getId()}),[Vt,Rt]=yield Promise.all([rt,Nt]);sm()||rm(re,Vt.measurementId),Q("js",new Date);const si=null!==(ke=null==Oe?void 0:Oe.config)&&void 0!==ke?ke:{};return si.origin="firebase",si.update=!0,null!=Rt&&(si[Ty]=Rt),Q("config",Vt.measurementId,si),Vt.measurementId})).apply(this,arguments)}class po{constructor(S){this.app=S}_delete(){return delete Ar[this.app.options.appId],Promise.resolve()}}let Ar={},go=[];const Mr={};let mo,as,Hr="dataLayer",gu=!1;function Gr(C,S,O){!function _r(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),O=Pn.create("invalid-analytics-context",{errorInfo:S});ii.warn(O.message)}}();const V=C.options.appId;if(!V)throw Pn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Pn.create("no-api-key");ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ar[V])throw Pn.create("already-exists",{id:V});if(!gu){!function Is(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(Hr);const{wrappedGtag:re,gtagCore:Oe}=function Zd(C,S,O,V,Q){let re=function(...Oe){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function du(C,S,O,V){function re(){return(re=(0,L.Z)(function*(Oe,ke,rt){try{"event"===Oe?yield uu(C,S,O,ke,rt):"config"===Oe?yield _a(C,S,O,V,ke,rt):C("set",ke)}catch(Nt){ii.error(Nt)}})).apply(this,arguments)}return function Q(Oe,ke,rt){return re.apply(this,arguments)}}(re,C,S,O),{gtagCore:re,wrappedGtag:window[Q]}}(Ar,go,Mr,Hr,"gtag");as=re,mo=Oe,gu=!0}return Ar[V]=function _n(C,S,O,V,Q,re,Oe){return As.apply(this,arguments)}(C,go,Mr,S,mo,Hr,O),new po(C)}function Po(){return(Po=(0,L.Z)(function*(C,S,O,V,Q){if(Q&&Q.global)C("event",O,V);else{const re=yield S;C("event",O,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function Rn(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,L.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}const yo="@firebase/analytics";!function Rf(){(0,ce._registerComponent)(new ye.wA(lu,(S,{options:O})=>Gr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ce._registerComponent)(new ye.wA("analytics-internal",function C(S){try{const O=S.getProvider(lu).getImmediate();return{logEvent:(V,Q,re)=>function lm(C,S,O,V){C=(0,ne.m9)(C),function _o(C,S,O,V,Q){return Po.apply(this,arguments)}(as,Ar[C.app.options.appId],S,O,V).catch(Q=>ii.error(Q))}(O,V,Q,re)}}catch(O){throw Pn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ce.registerVersion)(yo,"0.7.7"),(0,ce.registerVersion)(yo,"0.7.7","esm2017")}();var vo=F(4408),lc=F(7565);const mu=new class Bn extends lc.v{}(class xs extends vo.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,O,V):S.flush(this)}});var cm=F(4986),_u=F(8505),Vi=F(9468),xr=F(5363);const yu=new c.GfV("7.3.0"),Ns="__angularfire_symbol__analyticsIsSupportedValue",qr="__angularfire_symbol__analyticsIsSupported",ls="__angularfire_symbol__remoteConfigIsSupportedValue",nl="__angularfire_symbol__remoteConfigIsSupported",vu="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function bo(C,S,O){if(S){if(1===S.length)return S[0];const re=S.filter(Oe=>Oe.app===O);if(1===re.length)return re[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[qr]||(globalThis[qr]=Rn().then(C=>globalThis[Ns]=C).catch(()=>globalThis[Ns]=!1)),globalThis[bu]||(globalThis[bu]=zd().then(C=>globalThis[vu]=C).catch(()=>globalThis[vu]=!1)),globalThis[nl]||(globalThis[nl]=Io().then(C=>globalThis[ls]=C).catch(()=>globalThis[ls]=!1));const Xd=(C,S)=>{const O=S?[S]:(0,X.C6)(),V=[];return O.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Oe=>{V.includes(Oe)||V.push(Oe)})}),V};function Fo(){}class cc{constructor(S,O=mu){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,V){const Q=this.zone;return this.delegate.schedule(function(Oe){Q.runGuarded(()=>{S.apply(this,[Oe])})},O,V)}}class cs{constructor(S){this.zone=S,this.task=null}call(S,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fo,{},Fo,Fo)),O.pipe((0,_u.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uc=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new cc(Zone.current)),this.insideAngular=O.run(()=>new cc(Zone.current,cm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function us(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Du(C){return us(),function Lo(C){return function(O){return(O=O.lift(new cs(C.ngZone))).pipe((0,Vi.R)(C.outsideAngular),(0,xr.Q)(C.insideAngular))}}(us())(C)}},2090:(pt,Ie,F)=>{F.d(Ie,{$s:()=>To,BH:()=>Ne,G6:()=>se,L:()=>he,LL:()=>Ot,Lj:()=>Wt,Mn:()=>Ye,Sg:()=>Le,UG:()=>Ce,US:()=>ie,X3:()=>wt,ZB:()=>te,ZR:()=>ue,b$:()=>Me,d:()=>Ee,eu:()=>oe,hl:()=>J,jU:()=>at,m9:()=>bt,ne:()=>vt,pd:()=>ys,r3:()=>on,ru:()=>tt,tV:()=>$,uI:()=>me,vZ:()=>Ys,w1:()=>De,xO:()=>ns,xb:()=>Di,z$:()=>Ge,zI:()=>ve,zd:()=>Yi});var c=F(5861);const ne=function(G){const U=[];let q=0;for(let fe=0;fe<G.length;fe++){let ee=G.charCodeAt(fe);ee<128?U[q++]=ee:ee<2048?(U[q++]=ee>>6|192,U[q++]=63&ee|128):55296==(64512&ee)&&fe+1<G.length&&56320==(64512&G.charCodeAt(fe+1))?(ee=65536+((1023&ee)<<10)+(1023&G.charCodeAt(++fe)),U[q++]=ee>>18|240,U[q++]=ee>>12&63|128,U[q++]=ee>>6&63|128,U[q++]=63&ee|128):(U[q++]=ee>>12|224,U[q++]=ee>>6&63|128,U[q++]=63&ee|128)}return U},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,U){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let ee=0;ee<G.length;ee+=3){const $e=G[ee],St=ee+1<G.length,nn=St?G[ee+1]:0,ki=ee+2<G.length,en=ki?G[ee+2]:0;let wn=(15&nn)<<2|en>>6,_i=63&en;ki||(_i=64,St||(wn=64)),fe.push(q[$e>>2],q[(3&$e)<<4|nn>>4],q[wn],q[_i])}return fe.join("")},encodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(G):this.encodeByteArray(ne(G),U)},decodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(G):function(G){const U=[];let q=0,fe=0;for(;q<G.length;){const ee=G[q++];if(ee<128)U[fe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const $e=G[q++];U[fe++]=String.fromCharCode((31&ee)<<6|63&$e)}else if(ee>239&&ee<365){const ki=((7&ee)<<18|(63&G[q++])<<12|(63&G[q++])<<6|63&G[q++])-65536;U[fe++]=String.fromCharCode(55296+(ki>>10)),U[fe++]=String.fromCharCode(56320+(1023&ki))}else{const $e=G[q++],St=G[q++];U[fe++]=String.fromCharCode((15&ee)<<12|(63&$e)<<6|63&St)}}return U.join("")}(this.decodeStringToByteArray(G,U))},decodeStringToByteArray(G,U){this.init_();const q=U?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let ee=0;ee<G.length;){const $e=q[G.charAt(ee++)],nn=ee<G.length?q[G.charAt(ee)]:0;++ee;const en=ee<G.length?q[G.charAt(ee)]:64;++ee;const jt=ee<G.length?q[G.charAt(ee)]:64;if(++ee,null==$e||null==nn||null==en||null==jt)throw Error();fe.push($e<<2|nn>>4),64!==en&&(fe.push(nn<<4&240|en>>2),64!==jt&&fe.push(en<<6&192|jt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},he=function(G){return function(G){const U=ne(G);return ie.encodeByteArray(U,!0)}(G).replace(/\./g,"")},$=function(G){try{return ie.decodeString(G,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function te(G,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return U}for(const q in U)!U.hasOwnProperty(q)||!Qe(q)||(G[q]=te(G[q],U[q]));return G}function Qe(G){return"__proto__"!==G}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,q)=>{this.resolve=U,this.reject=q})}wrapCallback(U){return(q,fe)=>{q?this.reject(q):this.resolve(fe),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(q):U(q,fe))}}}function Le(G,U){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=U||"demo-project",ee=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:ee,exp:ee+3600,auth_time:ee,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(St)),""].join(".")}function Ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function at(){return"object"==typeof self&&self.self===self}function tt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){return Ge().indexOf("Electron/")>=0}function De(){const G=Ge();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ye(){return Ge().indexOf("MSAppHost/")>=0}function se(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){return"object"==typeof indexedDB}function oe(){return new Promise((G,U)=>{try{let q=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(fe);ee.onsuccess=()=>{ee.result.close(),q||self.indexedDB.deleteDatabase(fe),G(!0)},ee.onupgradeneeded=()=>{q=!1},ee.onerror=()=>{var $e;U((null===($e=ee.error)||void 0===$e?void 0:$e.message)||"")}}catch(q){U(q)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(U,q,fe){super(q),this.code=U,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(U,q,fe){this.service=U,this.serviceName=q,this.errors=fe}create(U,...q){const fe=q[0]||{},ee=`${this.service}/${U}`,$e=this.errors[U],St=$e?function sn(G,U){return G.replace(Zn,(q,fe)=>{const ee=U[fe];return null!=ee?String(ee):`<${fe}?>`})}($e,fe):"Error";return new ue(ee,`${this.serviceName}: ${St} (${ee}).`,fe)}}const Zn=/\{\$([^}]+)}/g;function on(G,U){return Object.prototype.hasOwnProperty.call(G,U)}function Di(G){for(const U in G)if(Object.prototype.hasOwnProperty.call(G,U))return!1;return!0}function Ys(G,U){if(G===U)return!0;const q=Object.keys(G),fe=Object.keys(U);for(const ee of q){if(!fe.includes(ee))return!1;const $e=G[ee],St=U[ee];if(Ki($e)&&Ki(St)){if(!Ys($e,St))return!1}else if($e!==St)return!1}for(const ee of fe)if(!q.includes(ee))return!1;return!0}function Ki(G){return null!==G&&"object"==typeof G}function ns(G){const U=[];for(const[q,fe]of Object.entries(G))Array.isArray(fe)?fe.forEach(ee=>{U.push(encodeURIComponent(q)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(q)+"="+encodeURIComponent(fe));return U.length?"&"+U.join("&"):""}function Yi(G){const U={};return G.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[ee,$e]=fe.split("=");U[decodeURIComponent(ee)]=decodeURIComponent($e)}}),U}function ys(G){const U=G.indexOf("?");if(!U)return"";const q=G.indexOf("#",U);return G.substring(U,q>0?q:void 0)}function vt(G,U){const q=new dr(G,U);return q.subscribe.bind(q)}class dr{constructor(U,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{U(this)}).catch(fe=>{this.error(fe)})}next(U){this.forEachObserver(q=>{q.next(U)})}error(U){this.forEachObserver(q=>{q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,q,fe){let ee;if(void 0===U&&void 0===q&&void 0===fe)throw new Error("Missing Observer.");ee=function ai(G,U){if("object"!=typeof G||null===G)return!1;for(const q of U)if(q in G&&"function"==typeof G[q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:q,complete:fe},void 0===ee.next&&(ee.next=Dr),void 0===ee.error&&(ee.error=Dr),void 0===ee.complete&&(ee.complete=Dr);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(St){}}),this.observers.push(ee),$e}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,U)}sendOne(U,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{q(this.observers[U])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dr(){}function To(G,U=1e3,q=2){const fe=U*Math.pow(q,G),ee=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+ee)}function bt(G){return G&&G._delegate?G._delegate:G}function Oi(G,U){return new Promise((q,fe)=>{G.onsuccess=ee=>{q(ee.target.result)},G.onerror=ee=>{var $e;fe(`${U}: ${null===($e=ee.target.error)||void 0===$e?void 0:$e.message}`)}})}class qt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,q){return new nt(this._db.transaction.call(this._db,U,q))}createObjectStore(U,q){return new xe(this._db.createObjectStore(U,q))}close(){this._db.close()}}class nt{constructor(U){this._transaction=U,this.complete=new Promise((q,fe)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(U){return new xe(this._transaction.objectStore(U))}}class xe{constructor(U){this._store=U}index(U){return new st(this._store.index(U))}createIndex(U,q,fe){return new st(this._store.createIndex(U,q,fe))}get(U){return Oi(this._store.get(U),"Error reading from IndexedDB")}put(U,q){return Oi(this._store.put(U,q),"Error writing to IndexedDB")}delete(U){return Oi(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return Oi(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(U){this._index=U}get(U){return Oi(this._index.get(U),"Error reading from IndexedDB")}}function wt(G,U,q){return new Promise((fe,ee)=>{try{const $e=indexedDB.open(G,U);$e.onsuccess=St=>{fe(new qt(St.target.result))},$e.onerror=St=>{var nn;ee(`Error opening indexedDB: ${null===(nn=St.target.error)||void 0===nn?void 0:nn.message}`)},$e.onupgradeneeded=St=>{q(new qt($e.result),St.oldVersion,St.newVersion,new nt($e.transaction))}}catch($e){ee(`Error opening indexedDB: ${$e.message}`)}})}function Wt(G){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(G){return new Promise((U,q)=>{try{const fe=indexedDB.deleteDatabase(G);fe.onsuccess=()=>{U()},fe.onerror=ee=>{var $e;q(`Error deleting indexedDB database "${G}": ${null===($e=ee.target.error)||void 0===$e?void 0:$e.message}`)}}catch(fe){q(`Error deleting indexedDB database "${G}": ${fe.message}`)}})})).apply(this,arguments)}},6942:(pt,Ie,F)=>{var c=F(5e3);let X=null;function L(){return X}const ie=new c.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let z=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){te()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){te()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Qe(){return new z((0,c.LFG)(ie))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,c.LFG)(ie).location;return new tt((0,c.LFG)(ge),e&&e.origin||"")}()},providedIn:"root"}),n})();const at=new c.OlP("appBaseHref");let tt=(()=>{class n extends me{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Ge(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Ge(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(at,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ne(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Ge(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Ge(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(at,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Le(Ke(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ge(i))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Ne,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new Ee((0,c.LFG)(me),(0,c.LFG)(ge))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}let ss=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class eo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new eo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ws(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ws(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ws(n,e){n.context.$implicit=e.item}let Jn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function Vl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Rd=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split(".");null!=(i=null!=i&&a?`${i}${a}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Pd{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Qg{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Ds=new Qg,Xg=new Pd;let Gl=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Ds;if((0,c.F4k)(t))return Xg;throw function ni(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ro="browser";function Ii(n){return"server"===n}let Zl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Kl((0,c.LFG)(ie),window)}),n})();class Kl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ja(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Cs(this.window.history)||Cs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Cs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class so extends class fa extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){X||(X=n)}(new so)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ud(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==t?null:function xo(n){Mo=Mo||document.createElement("a"),Mo.setAttribute("href",n);const e=Mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ca(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Mo,mn=null;const Pi=new c.OlP("TRANSITION_ID"),Qa=[{provide:c.ip1,useFactory:function Xn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Pi,ie,c.zs3],multi:!0}];class Vr{static init(){(0,c.VLi)(new Vr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new c.OlP("EventManagerPlugins");let Ts=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let pr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ao=(()=>{class n extends pr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(lo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function lo(n){L().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jl=/%COMP%/g;function Te(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Te(n,r,t):(r=r.replace(Jl,n),t.push(r))}return t}function zt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let An=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Xc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new eu(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Te(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ts),c.LFG(ao),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class pa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Et[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Et[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zt(i)):this.eventManager.addEventListener(e,t,zt(i))}}class Xc extends pa{constructor(e,t,i,r){super(e),this.component=i;const a=Te(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Yc(n){return"_ngcontent-%COMP%".replace(Jl,n)}(r+"-"+i.id),this.hostAttr=function Jc(n){return"_nghost-%COMP%".replace(Jl,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class eu extends pa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Te(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jd=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const tu=["alt","control","meta","shift"],co={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ai={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ir={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nc=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(tu.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function uo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ai.hasOwnProperty(e)&&(e=Ai[e]))}return co[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tu.forEach(a=>{a!=r&&Ir[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ro},{provide:c.g9A,useValue:function Ur(){so.makeCurrent(),Vr.init()},multi:!0},{provide:ie,useFactory:function ic(){return(0,c.RDi)(document),document},deps:[]}]),el=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function nu(){return new c.qLn},deps:[]},{provide:oo,useClass:jd,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:oo,useClass:nc,multi:!0,deps:[ie]},{provide:An,useClass:An,deps:[Ts,ao,c.AFp]},{provide:c.FYo,useExisting:An},{provide:pr,useExisting:ao},{provide:ao,useClass:ao,deps:[ie]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ts,useClass:Ts,deps:[oo,c.R0b]},{provide:class Sn{},useClass:Fi,deps:[]}];let ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Pi,useExisting:c.AFp},Qa]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:el,imports:[Qn,c.hGG]}),n})();"undefined"!=typeof window&&window;let os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Zd),i},providedIn:"root"}),n})(),Zd=(()=>{class n extends os{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function du(n){return new Zd(n.get(ie))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var ei=F(8996),Pn=F(3269);function ut(...n){const e=(0,Pn.yG)(n);return(0,ei.D)(n,e)}var Bt=F(7579);class Mn extends Bt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var jn=F(8306);const{isArray:ya}=Array,{getPrototypeOf:Kd,prototype:Dn,keys:kf}=Object;function jr(n){if(1===n.length){const e=n[0];if(ya(e))return{args:e,keys:null};if(function oc(n){return n&&"object"==typeof n&&Kd(n)===Dn}(e)){const t=kf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var mr=F(4671),gt=F(4004);const{isArray:Yd}=Array;function fu(n){return(0,gt.U)(e=>function hu(n,e){return Yd(e)?n(...e):n(e)}(n,e))}function Ro(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var _n=F(5403),As=F(9672);function go(n,e,t){n?(0,As.f)(t,n,e):e()}var Mr=F(576);function Hr(n,e){const t=(0,Mr.m)(n)?n:()=>n,i=r=>r.error(t());return new jn.y(e?r=>e.schedule(i,0,r):i)}const mo=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var as=F(8189);function ac(...n){return function gu(){return(0,as.J)(1)}()((0,ei.D)(n,(0,Pn.yG)(n)))}var _r=F(8421);function Gr(n){return new jn.y(e=>{(0,_r.Xf)(n()).subscribe(e)})}var _o=F(515),Po=F(727),ri=F(4482);function $r(){return(0,ri.e)((n,e)=>{let t=null;n._refCount++;const i=(0,_n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Jd extends jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ri.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Po.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_n.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Po.w0.EMPTY)}return e}refCount(){return $r()(this)}}function Fn(n,e){return(0,ri.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,_n.x)(i,_=>{null==r||r.unsubscribe();let b=0;const T=a++;(0,_r.Xf)(n(_,T)).subscribe(r=(0,_n.x)(i,I=>i.next(e?e(_,I,T,b++):I),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Ln=F(5698);function Mi(...n){const e=(0,Pn.yG)(n);return(0,ri.e)((t,i)=>{(e?ac(n,t,e):ac(n,t)).subscribe(i)})}function va(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,_n.x)(u,T=>{const I=b++;_=f?n(_,T,I):(f=!0,T),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Bi(n,e){return(0,ri.e)(va(n,e,arguments.length>=2,!0))}function xn(n,e){return(0,ri.e)((t,i)=>{let r=0;t.subscribe((0,_n.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function zr(n){return(0,ri.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,_n.x)(t,void 0,void 0,u=>{a=(0,_r.Xf)(n(u,zr(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var Rn=F(5577);function Ms(n,e){return(0,Mr.m)(e)?(0,Rn.z)(n,e,1):(0,Rn.z)(n,1)}function Qd(n){return n<=0?()=>_o.E:(0,ri.e)((e,t)=>{let i=[];e.subscribe((0,_n.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Hn(n=om){return(0,ri.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function om(){return new mo}function am(n){return(0,ri.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function yo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xn((r,a)=>n(r,a,i)):mr.y,(0,Ln.q)(1),t?am(e):Hn(()=>new mo))}var ci=F(8505);function Rf(n){return(0,ri.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class vo{constructor(e,t){this.id=e,this.url=t}}class xs extends vo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lc extends vo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bn extends vo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mu extends vo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ba extends vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cm extends vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _u extends vo{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vi extends vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ns{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qr{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bu{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class wu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ui(n){return new wu(n)}const Eu="ngNavigationCancelingError";function bo(n){const e=Error("NavigationCancelingError: "+n);return e[Eu]=!0,e}function Fo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function cs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!uc(n[r],e[r]))return!1;return!0}function uc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function us(n){return Array.prototype.concat.apply([],n)}function eh(n){return n.length>0?n[n.length-1]:null}function di(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nr(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,ei.D)(Promise.resolve(n)):ut(n)}const Lo={exact:function S(n,e,t){if(!Vt(n.segments,e.segments)||!re(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!S(n.children[i],e.children[i],t))return!1;return!0},subset:V},wa={exact:function C(n,e){return cs(n,e)},subset:function O(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uc(n[t],e[t]))},ignored:()=>!0};function dc(n,e,t){return Lo[t.paths](n.root,e.root,t.matrixParams)&&wa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function V(n,e,t){return Q(n,e,e.segments,t)}function Q(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Vt(r,t)||e.hasChildren()||!re(r,t,i))}if(n.segments.length===t.length){if(!Vt(n.segments,t)||!re(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!V(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Vt(n.segments,r)&&re(n.segments,r,i)&&n.children[Gt])&&Q(n.children[Gt],e,a,i)}}function re(n,e,t){return e.every((i,r)=>wa[t](n[r].parameters,i.parameters))}class Oe{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return Ea.serialize(this)}}class ke{constructor(e,t){this.segments=e,this.children=t,this.parent=null,di(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bo(this)}}class rt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ui(this.parameters)),this._parameterMap}toString(){return il(this)}}function Vt(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class si{}class Gn{parse(e){const t=new nh(e);return new Oe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ji(e.root,!0)}`,i=function Sy(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Wr(t)}=${Wr(r)}`).join("&"):`${Wr(t)}=${Wr(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Vo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ea=new Gn;function Bo(n){return n.segments.map(e=>il(e)).join("/")}function Ji(n,e){if(!n.hasChildren())return Bo(n);if(e){const t=n.children[Gt]?Ji(n.children[Gt],!1):"",i=[];return di(n.children,(r,a)=>{a!==Gt&&i.push(`${a}:${Ji(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Rt(n,e){let t=[];return di(n.children,(i,r)=>{r===Gt&&(t=t.concat(e(i,r)))}),di(n.children,(i,r)=>{r!==Gt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Gt?[Ji(n.children[Gt],!1)]:[`${r}:${Ji(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Bo(n)}/${t[0]}`:`${Bo(n)}/(${t.join("//")})`}}function Or(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wr(n){return Or(n).replace(/%3B/gi,";")}function th(n){return Or(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cu(n){return decodeURIComponent(n)}function Tu(n){return Cu(n.replace(/\+/g,"%20"))}function il(n){return`${th(n.path)}${function um(n){return Object.keys(n).map(e=>`;${th(e)}=${th(n[e])}`).join("")}(n.parameters)}`}const Iy=/^[^\/()?;=#]+/;function Os(n){const e=n.match(Iy);return e?e[0]:""}const Su=/^[^=?&#]+/,My=/^[^&#]+/;class nh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Gt]=new ke(e,t)),i}parseSegment(){const e=Os(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rt(Cu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Os(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Os(this.remaining);r&&(i=r,this.capture(i))}e[Cu(t)]=Cu(i)}parseQueryParam(e){const t=function Ay(n){const e=n.match(Su);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function dm(n){const e=n.match(My);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Tu(t),a=Tu(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Os(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Gt]:new ke([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Pf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Pf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ff(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Ff(e,this._root).map(t=>t.value)}}function Pf(n,e){if(n===e.value)return e;for(const t of e.children){const i=Pf(n,t);if(i)return i}return null}function Ff(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Ff(n,t);if(i.length)return i.unshift(e),i}return[]}class Uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ih extends xy{constructor(e,t){super(e),this.snapshot=t,sh(this,e)}toString(){return this.snapshot.toString()}}function rl(n,e){const t=function Ny(n,e){const u=new hc([],{},{},"",{},Gt,e,null,n.root,-1,{});return new Lf("",new Uo(u,[]))}(n,e),i=new Mn([new rt("",{})]),r=new Mn({}),a=new Mn({}),u=new Mn({}),f=new Mn(""),_=new Da(i,r,u,f,a,Gt,e,t.root);return _.snapshot=t.root,new ih(new Uo(_,[]),t)}class Da{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>ui(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>ui(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oy(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function rh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class hc{constructor(e,t,i,r,a,u,f,_,b,T,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ui(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lf extends xy{constructor(e,t){super(t),this.url=e,sh(this,t)}toString(){return oh(this._root)}}function sh(n,e){e.value._routerState=n,e.children.forEach(t=>sh(n,t))}function oh(n){const e=n.children.length>0?` { ${n.children.map(oh).join(", ")} } `:"";return`${n.value}${e}`}function Ho(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function cc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bf(n,e){const t=cs(n.params,e.params)&&function Nt(n,e){return Vt(n,e)&&n.every((t,i)=>cs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bf(n.parent,e.parent))}function Iu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Vf(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Iu(n,i,r);return Iu(n,i)})}(n,e,t);return new Uo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Iu(n,f)),u}}const i=function Ry(n){return new Da(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Iu(n,a));return new Uo(i,r)}}function Go(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sl(n){return"object"==typeof n&&null!=n&&n.outlets}function Uf(n,e,t,i,r){let a={};if(i&&di(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new Oe(t,a,r);const u=ah(n,e,t);return new Oe(u,a,r)}function ah(n,e,t){const i={};return di(n.children,(r,a)=>{i[a]=r===e?t:ah(r,e,t)}),new ke(n.segments,i)}class hm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Go(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(sl);if(r&&r!==eh(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lh{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Ly(n,e,t){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return wo(n,e,t);const i=function kw(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(sl(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Zr(_,b,u))return a;i+=2}else{if(!Zr(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new ke(n.segments.slice(0,i.pathIndex),{});return a.children[Gt]=new ke(n.segments.slice(i.pathIndex),n.children),wo(a,0,r)}return i.match&&0===r.length?new ke(n.segments,{}):i.match&&!n.hasChildren()?jf(n,e,t):i.match?wo(n,0,r):jf(n,e,t)}function wo(n,e,t){if(0===t.length)return new ke(n.segments,{});{const i=function Fy(n){return sl(n[0])?n[0].outlets:{[Gt]:n}}(t),r={};return di(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Ly(n.children[u],e,a))}),di(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new ke(n.segments,r)}}function jf(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(sl(a)){const _=ol(a.outlets);return new ke(i,_)}if(0===r&&Go(t[0])){i.push(new rt(n.segments[e].path,Hf(t[0]))),r++;continue}const u=sl(a)?a.outlets[Gt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Go(f)?(i.push(new rt(u,Hf(f))),r+=2):(i.push(new rt(u,{})),r++)}return new ke(i,{})}function ol(n){const e={};return di(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=jf(new ke([],{}),0,t))}),e}function Hf(n){const e={};return di(n,(t,i)=>e[i]=`${t}`),e}function Zr(n,e,t){return n==t.path&&cs(e,t.parameters)}class gm{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ho(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=jo(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),di(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=jo(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new vu(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ls(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Ho(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Ho(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function ch(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class uh{constructor(e,t){this.routes=e,this.module=t}}function al(n){return"function"==typeof n}function fc(n){return n instanceof Oe}const Mu=Symbol("INITIAL_VALUE");function Ca(){return Fn(n=>function po(...n){const e=(0,Pn.yG)(n),t=(0,Pn.jO)(n),{args:i,keys:r}=jr(n);if(0===i.length)return(0,ei.D)([],e);const a=new jn.y(function Ar(n,e,t=mr.y){return i=>{go(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)go(e,()=>{const b=(0,ei.D)(n[_],e);let T=!1;b.subscribe((0,_n.x)(i,I=>{a[_]=I,T||(T=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Ro(r,u):mr.y));return t?a.pipe(fu(t)):a}(n.map(e=>e.pipe((0,Ln.q)(1),Mi(Mu)))).pipe(Bi((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==Mu?r:(a===Mu&&(i=!0),i||!1!==a&&u!==t.length-1&&!fc(a)?r:a),e)},Mu),xn(e=>e!==Mu),(0,gt.U)(e=>fc(e)?e:!0===e),(0,Ln.q)(1)))}class By{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xu,this.attachRef=null}}class xu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new By,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Nu=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new qf(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class qf{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Da?this.route:e===xu?this.childContexts:this.parent.get(e,t)}}let Wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[Nu],encapsulation:2}),n})();function Ou(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];ku(i,Zf(e,i))}}function ku(n,e){n.children&&Ou(n.children,e)}function Zf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Kf(n){const e=n.children&&n.children.map(Kf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=Wf),t}function an(n){return n.outlet||Gt}function Yf(n,e){const t=n.filter(i=>an(i)===e);return t.push(...n.filter(i=>an(i)!==e)),t}const _m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pc(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},_m):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Fo)(t,n,e);if(!a)return Object.assign({},_m);const u={};di(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function Ru(n,e,t,i,r="corrected"){if(t.length>0&&function Uy(n,e,t){return t.some(i=>hh(n,e,i)&&an(i)!==Gt)}(n,t,i)){const u=new ke(e,function dh(n,e,t,i){const r={};r[Gt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&an(a)!==Gt){const u=new ke([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[an(a)]=u}return r}(n,e,i,new ke(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function ym(n,e,t){return t.some(i=>hh(n,e,i))}(n,t,i)){const u=new ke(n.segments,function Vy(n,e,t,i,r,a){const u={};for(const f of i)if(hh(n,t,f)&&!r[an(f)]){const _=new ke([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[an(f)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new ke(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function hh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function jy(n,e,t,i){return!!(an(n)===i||i!==Gt&&hh(e,t,n))&&("**"===n.path||pc(e,n,t).matched)}function Hy(n,e,t){return 0===e.length&&!n.children[t]}class Ta{constructor(e){this.segmentGroup=e||null}}class Ui{constructor(e){this.urlTree=e}}function $o(n){return Hr(new Ta(n))}function Pu(n){return Hr(new Ui(n))}class Qf{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Ru(this.urlTree.root,[],[],this.config).segmentGroup,t=new ke(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,gt.U)(a=>this.createUrlTree(cl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zr(a=>{if(a instanceof Ui)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ta?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,gt.U)(r=>this.createUrlTree(cl(r),e.queryParams,e.fragment))).pipe(zr(r=>{throw r instanceof Ta?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new ke([],{[Gt]:e}):e;return new Oe(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,gt.U)(a=>new ke([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,ei.D)(r).pipe(Ms(a=>{const u=i.children[a],f=Yf(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,gt.U)(_=>({segment:_,outlet:a})))}),Bi((a,u)=>(a[u.outlet]=u.segment,a),{}),function lm(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xn((r,a)=>n(r,a,i)):mr.y,Qd(1),t?am(e):Hn(()=>new mo))}())}expandSegment(e,t,i,r,a,u){return(0,ei.D)(i).pipe(Ms(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(zr(b=>{if(b instanceof Ta)return ut(null);throw b}))),yo(f=>!!f),zr((f,_)=>{if(f instanceof mo||"EmptyError"===f.name)return Hy(t,r,a)?ut(new ke([],{})):$o(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return jy(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):$o(t):$o(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Pu(a):this.lineralizeSegments(i,a).pipe((0,Rn.z)(u=>{const f=new ke(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=pc(t,r,a);if(!f)return $o(t);const I=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?Pu(I):this.lineralizeSegments(r,I).pipe((0,Rn.z)(k=>this.expandSegment(e,t,i,k.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ut(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,gt.U)(I=>(i._loadedConfig=I,new ke(r,{})))):ut(new ke(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=pc(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,Rn.z)(T=>{const I=T.module,k=T.routes,{segmentGroup:B,slicedSegments:H}=Ru(t,f,_,k),K=new ke(B.segments,B.children);if(0===H.length&&K.hasChildren())return this.expandChildren(I,k,K).pipe((0,gt.U)(it=>new ke(f,it)));if(0===k.length&&0===H.length)return ut(new ke(f,{}));const _e=an(i)===a;return this.expandSegment(I,K,k,H,_e?Gt:a,!0).pipe((0,gt.U)(Se=>new ke(f.concat(Se.segments),Se.children)))})):$o(t)}getChildConfig(e,t,i){return t.children?ut(new uh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Rn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,gt.U)(a=>(t._loadedConfig=a,a))):function Qi(n){return Hr(bo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new uh([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ut(r.map(u=>{const f=e.get(u);let _;if(function Gf(n){return n&&al(n.canLoad)}(f))_=f.canLoad(t,i);else{if(!al(f))throw new Error("Invalid CanLoad guard");_=f(t,i)}return Nr(_)})).pipe(Ca(),(0,ci.b)(u=>{if(!fc(u))return;const f=bo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,gt.U)(u=>!0===u)):ut(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ut(i);if(r.numberOfChildren>1||!r.children[Gt])return Hr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Gt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Oe(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return di(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return di(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new ke(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function cl(n){const e={};for(const i of Object.keys(n.children)){const a=cl(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Kr(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new ke(n.segments.concat(e.segments),e.children)}return n}(new ke(n.segments,e))}class vm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ul{constructor(e,t){this.component=e,this.route=t}}function ep(n,e,t){const i=n._root;return kr(i,e?e._root:null,t,[i.value])}function Fu(n,e,t){const i=function Gy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function kr(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=jo(e);return n.children.forEach(u=>{(function wm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function $y(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vt(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bf(n,e)||!cs(n.queryParams,e.queryParams);default:return!Bf(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new vm(i)):(a.data=u.data,a._resolvedData=u._resolvedData),kr(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new ul(f.outlet.component,u))}else u&&dl(e,f,r),r.canActivateChecks.push(new vm(i)),kr(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),di(a,(u,f)=>dl(u,t.getContext(f),r)),r}function dl(n,e,t){const i=jo(n),r=n.value;di(i,(a,u)=>{dl(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new ul(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class ip{}function rp(n){return new jn.y(e=>e.error(n))}class sp{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=Ru(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const i=new hc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uo(i,t),a=new Lf(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=Oy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=Yf(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=op(i);return function Zy(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return Hy(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!jy(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const B=i.length>0?eh(i).parameters:{};a=new hc(i,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),an(e),e.component,e,p(t),m(t)+i.length,x(e))}else{const B=pc(t,e,i);if(!B.matched)return null;u=B.consumedSegments,f=B.remainingSegments,a=new hc(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),an(e),e.component,e,p(t),m(t)+u.length,x(e))}const _=function Ky(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=Ru(t,u,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const B=this.processChildren(_,b);return null===B?null:[new Uo(a,B)]}if(0===_.length&&0===T.length)return[new Uo(a,[])];const I=an(e)===r,k=this.processSegment(_,b,T,I?Gt:r);return null===k?null:[new Uo(a,k)]}}function Yy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function op(n){const e=[],t=new Set;for(const i of n){if(!Yy(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=op(i.children);e.push(new Uo(i.value,r))}return e.filter(i=>!t.has(i))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function w(n){return n.data||{}}function x(n){return n.resolve||{}}function ot(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function mt(n){return Fn(e=>{const t=n(e);return t?(0,ei.D)(t).pipe((0,gt.U)(()=>e)):ut(e)})}class Bu extends class hs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gc=new c.OlP("ROUTES");class mc{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new uh(us(u.injector.get(gc,void 0,c.XFs.Self|c.XFs.Optional)).map(Kf),u)}),zr(a=>{throw t._loader$=void 0,a}));return t._loader$=new Jd(r,()=>new Bt.x).pipe($r()),t._loader$}loadModuleFactory(e){return Nr(e()).pipe((0,Rn.z)(t=>t instanceof c.YKP?ut(t):(0,ei.D)(this.compiler.compileModuleAsync(t))))}}class Jy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Sa(n){throw n}function fh(n,e,t){return e.parse("/")}function ph(n,e){return ut(null)}const lp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt.x,this.errorHandler=Sa,this.malformedUriErrorHandler=fh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ph,afterPreactivation:ph},this.urlHandlingStrategy=new Jy,this.routeReuseStrategy=new Bu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const I=u.get(c.R0b);this.isNgZoneEnabled=I instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Du(){return new Oe(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mc(u,f,k=>this.triggerEvent(new yu(k)),k=>this.triggerEvent(new Ns(k))),this.routerState=rl(this.currentUrlTree,this.rootComponentType),this.transitions=new Mn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(xn(r=>0!==r.id),(0,gt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let a=!1,u=!1;return ut(r).pipe((0,ci.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Dm(f.source)&&(this.browserUrlTree=f.extractedUrl),ut(f).pipe(Fn(I=>{const k=this.transitions.getValue();return i.next(new xs(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),k!==this.transitions.getValue()?_o.E:Promise.resolve(I)}),function Xf(n,e,t,i){return Fn(r=>function ll(n,e,t,i,r){return new Qf(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,gt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ci.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function R(n,e,t,i,r){return(0,Rn.z)(a=>function Wy(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new sp(n,e,t,i,r,a).recognize();return null===u?rp(new ip):ut(u)}catch(u){return rp(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,gt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ci.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(B,I)}this.browserUrlTree=I.urlAfterRedirects}const k=new ba(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(k)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:B,source:H,restoredState:K,extras:_e}=f,je=new xs(k,this.serializeUrl(B),H,K);i.next(je);const Se=rl(B,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},f),{targetSnapshot:Se,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),_o.E}),mt(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:k,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!k,replaceUrl:!!B})}),(0,ci.b)(f=>{const _=new cm(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,gt.U)(f=>Object.assign(Object.assign({},f),{guards:ep(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function zy(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function Em(n,e,t,i){return(0,ei.D)(n).pipe((0,Rn.z)(r=>function Lu(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const _=Fu(f,e,r);let b;if(function Rw(n){return n&&al(n.canDeactivate)}(_))b=Nr(_.canDeactivate(n,e,t,i));else{if(!al(_))throw new Error("Invalid CanDeactivate guard");b=Nr(_(n,e,t,i))}return b.pipe(yo())})).pipe(Ca()):ut(!0)}(r.component,r.route,t,e,i)),yo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Rn.z)(f=>f&&function mm(n){return"boolean"==typeof n}(f)?function ji(n,e,t,i){return(0,ei.D)(e).pipe(Ms(r=>ac(function np(n,e){return null!==n&&e&&e(new qr(n)),ut(!0)}(r.route.parent,i),function tp(n,e){return null!==n&&e&&e(new nl(n)),ut(!0)}(r.route,i),function zo(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function bm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Gr(()=>ut(u.guards.map(_=>{const b=Fu(_,u.node,t);let T;if(function zf(n){return n&&al(n.canActivateChild)}(b))T=Nr(b.canActivateChild(i,n));else{if(!al(b))throw new Error("Invalid CanActivateChild guard");T=Nr(b(i,n))}return T.pipe(yo())})).pipe(Ca())));return ut(a).pipe(Ca())}(n,r.path,t),function qy(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ut(!0);const r=i.map(a=>Gr(()=>{const u=Fu(a,e,t);let f;if(function $f(n){return n&&al(n.canActivate)}(u))f=Nr(u.canActivate(e,n));else{if(!al(u))throw new Error("Invalid CanActivate guard");f=Nr(u(e,n))}return f.pipe(yo())}));return ut(r).pipe(Ca())}(n,r.route,t))),yo(r=>!0!==r,!0))}(i,a,n,e):ut(f)),(0,gt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ci.b)(f=>{if(fc(f.guardsResult)){const b=bo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new _u(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),mt(f=>{if(f.guards.canActivateChecks.length)return ut(f).pipe((0,ci.b)(_=>{const b=new Vi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Fn(_=>{let b=!1;return ut(_).pipe(function W(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ut(t);let a=0;return(0,ei.D)(r).pipe(Ms(u=>function le(n,e,t,i){return function ze(n,e,t,i){const r=ot(n);if(0===r.length)return ut({});const a={};return(0,ei.D)(r).pipe((0,Rn.z)(u=>function It(n,e,t,i){const r=Fu(n,e,i);return Nr(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,ci.b)(f=>{a[u]=f}))),Qd(1),(0,Rn.z)(()=>ot(a).length===r.length?ut(a):_o.E))}(n._resolve,n,e,i).pipe((0,gt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Oy(n,t).resolve),null)))}(u.route,i,n,e)),(0,ci.b)(()=>a++),Qd(1),(0,Rn.z)(u=>a===r.length?ut(t):_o.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ci.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,ci.b)(_=>{const b=new xr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),mt(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:k,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!k,replaceUrl:!!B})}),(0,gt.U)(f=>{const _=function ky(n,e,t){const i=Iu(n,e._root,t?t._root:void 0);return new ih(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,ci.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(i=>(new gm(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ci.b)({next(){a=!0},complete(){a=!0}}),Rf(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),zr(f=>{if(u=!0,function Xd(n){return n&&n[Eu]}(f)){const _=fc(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Bn(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dm(r.source)};this.scheduleNavigation(T,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new mu(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return _o.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ou(t),this.config=t.map(Kf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function ks(n,e,t,i,r){if(0===t.length)return Uf(e.root,e.root,e.root,i,r);const a=function fm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return di(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new hm(t,e,i)}(t);if(a.toRoot())return Uf(e.root,e.root,new ke([],{}),i,r);const u=function pm(n,e,t){if(n.isAbsolute)return new lh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new lh(a,a===e.root,0)}const i=Go(n.commands[0])?0:1;return function Py(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new lh(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?wo(u.segmentGroup,u.index,a.commands):Ly(u.segmentGroup,u.index,a.commands);return Uf(e.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,t,I,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=fc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function cp(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},lp):!1===i?Object.assign({},gh):i,fc(t))return dc(this.currentUrlTree,t,r);const a=this.parseUrl(t);return dc(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new lc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,T,I;u?(b=u.resolve,T=u.reject,I=u.promise):I=new Promise((H,K)=>{b=H,T=K});const k=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),B=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:k,targetPageId:B,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:T,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(H=>Promise.reject(H))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Bn(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Dm(n){return"imperative"!==n}let up=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new Bt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:mh(this.skipLocationChange),replaceUrl:mh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(Da),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function mh(n){return""===n||!!n}class ev{}class Fw{preload(e,t){return ut(null)}}let Lw=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new mc(r,i,_=>t.triggerEvent(new yu(_)),_=>t.triggerEvent(new Ns(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof lc),Ms(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,ei.D)(r).pipe((0,as.J)(),(0,gt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ut(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Rn.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(ev))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Cm=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new bu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new c.OlP("ROUTER_CONFIGURATION"),nv=new c.OlP("ROUTER_FORROOT_GUARD"),Bw=[Ee,{provide:si,useClass:Gn},{provide:Xi,useFactory:function rv(n,e,t,i,r,a,u={},f,_){const b=new Xi(null,n,e,t,i,r,us(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function jw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var I,k;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(k=console.groupEnd)||void 0===k||k.call(console)}),b},deps:[si,xu,Ee,c.zs3,c.Sil,gc,Rs,[class ap{},new c.FiY],[class $n{},new c.FiY]]},xu,{provide:Da,useFactory:function Tm(n){return n.routerState.root},deps:[Xi]},Lw,Fw,class tv{preload(e,t){return t().pipe(zr(()=>ut(null)))}},{provide:Rs,useValue:{enableTracing:!1}}];function uT(){return new c.PXZ("Router",Xi)}let dp=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Bw,iv(t),{provide:nv,useFactory:Uw,deps:[[Xi,new c.FiY,new c.tp0]]},{provide:Rs,useValue:i||{}},{provide:me,useFactory:Vw,deps:[ge,[new c.tBr(at),new c.FiY],Rs]},{provide:Cm,useFactory:dT,deps:[Xi,Zl,Rs]},{provide:ev,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Fw},{provide:c.PXZ,multi:!0,useFactory:uT},[_h,{provide:c.ip1,multi:!0,useFactory:Hw,deps:[_h]},{provide:ov,useFactory:sv,deps:[_h]},{provide:c.tb,multi:!0,useExisting:ov}]]}}static forChild(t){return{ngModule:n,providers:[iv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(nv,8),c.LFG(Xi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function dT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cm(n,e,t)}function Vw(n,e,t={}){return t.useHash?new Me(n,e):new tt(n,e)}function Uw(n){return"guarded"}function iv(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:gc,multi:!0,useValue:n}]}let _h=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Xi),u=this.injector.get(Rs);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Rs),r=this.injector.get(Lw),a=this.injector.get(Cm),u=this.injector.get(Xi),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hw(n){return n.appInitializer.bind(n)}function sv(n){return n.bootstrapListener.bind(n)}const ov=new c.OlP("Router Initializer");let hT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:47,vars:0,consts:[["id","about",1,"section","about-section","gray-bg"],[1,"container"],[1,"row","align-items-center","flex-row-reverse"],[1,"col-lg-6"],[1,"about-text","go-to"],[1,"dark-color"],[1,"theme-color","lead"],[1,"row","about-list"],[1,"col-md-6"],[1,"media"],[1,"about-avatar"],["src","../../../assets/imagenes/quiensoy.png",1,"img-circle"]],template:function(t,i){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),c._uU(6,"About Me"),c.qZA(),c.TgZ(7,"h6",6),c._uU(8,"A FullStack developer in SEIDOR S.A"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"I work developing both web and desktop business applications that communicate and work with SAP B1. I have also worked developing Angular and Ionic applications"),c.qZA(),c.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"label"),c._uU(15,"Birthday"),c.qZA(),c.TgZ(16,"p"),c._uU(17,"15th april 1999"),c.qZA()(),c.TgZ(18,"div",9)(19,"label"),c._uU(20,"Age"),c.qZA(),c.TgZ(21,"p"),c._uU(22,"23 Yr"),c.qZA()(),c.TgZ(23,"div",9)(24,"label"),c._uU(25,"Argentina"),c.qZA(),c.TgZ(26,"p"),c._uU(27,"Bs. As."),c.qZA()()(),c.TgZ(28,"div",8)(29,"div",9)(30,"label"),c._uU(31,"E-mail"),c.qZA(),c.TgZ(32,"p"),c._uU(33,"rodrigodisconsi@gmail.com"),c.qZA()(),c.TgZ(34,"div",9)(35,"label"),c._uU(36,"Github"),c.qZA(),c.TgZ(37,"p"),c._uU(38,"Link de github"),c.qZA()(),c.TgZ(39,"div",9)(40,"label"),c._uU(41,"FullStack"),c.qZA(),c.TgZ(42,"p"),c._uU(43,"Angular, .NET Core, SQL, etc"),c.qZA()()()()()(),c.TgZ(44,"div",3)(45,"div",10),c._UZ(46,"img",11),c.qZA()()()()())},styles:[".section[_ngcontent-%COMP%]{padding:100px 0;position:relative}img[_ngcontent-%COMP%]{max-width:100%}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}.about-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:45px;font-weight:700;margin:0 0 6px}@media (max-width: 767px){.about-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:35px}}.about-text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px}@media (max-width: 767px){.about-text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px}}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;max-width:450px}.about-list[_ngcontent-%COMP%]{padding-top:10px}.about-list[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{padding:5px 0}.about-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ecd139d9;font-weight:600;width:88px;font-size:25px;margin:0;position:relative}.about-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;text-align:center}@media (max-width: 991px){.about-avatar[_ngcontent-%COMP%]{margin-top:30px}}.theme-color[_ngcontent-%COMP%], .dark-color[_ngcontent-%COMP%]{color:#ecd139d9}.img-circle[_ngcontent-%COMP%]{border-radius:50%;margin-top:-3vh!important}"]}),n})(),Gw=(()=>{class n{constructor(){this.suits=["Hearts","Spades","Diamonds","Clubs"],this.suitType=0,this.cardAmount=30}ngOnInit(){this.initCards()}randomize(){this.suitType=Math.floor(4*Math.random())}initCards(){for(let r=1;r<this.cardAmount;r++){var t=-43+Math.ceil(3*Math.random()),i=document.querySelector(`.card:nth-child(${r})`);i&&(i.style.transform=`rotateX(60deg) rotateY(0deg) rotateZ(${t}deg) translateZ(${3*r}px)`)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-higherorlower"]],decls:11,vars:0,consts:[[1,"cards"],[1,"card","down"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1)(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",1)(6,"div",1)(7,"div",1)(8,"div",1)(9,"div",1)(10,"div",1),c.qZA())},styles:[".randomSuit[_ngcontent-%COMP%]{position:absolute;left:50px;top:50px}.card[_ngcontent-%COMP%]{background-color:#fff;background-image:url(http://chetart.com/blog/wp-content/uploads/2012/05/playing-card-back.jpg);background-size:cover;left:44%;top:33%;transform:rotateX(60deg) rotateY(0) rotate(-45deg) translateY(0);position:absolute;width:200px;height:300px;border-radius:10px;transition:all .7s;border:1px solid #ccc;cursor:pointer;border-bottom-color:#933;box-shadow:-10px 40px 20px 2px #0000}.card.opened[_ngcontent-%COMP%]{transform:scale(1.5) rotateX(0) rotateY(180deg) rotate(0) translateY(0)!important;box-shadow:0 10px 24px #0003}.card.is-removed[_ngcontent-%COMP%]{transform:translateY(100%)!important}.card[_ngcontent-%COMP%]:first-child{box-shadow:12px 12px 0 12px #0000004d}.card.down[_ngcontent-%COMP%]:last-child:hover{transform:rotateX(60deg) rotateY(0) rotate(-45deg) translateZ(50px)!important;box-shadow:-10px 40px 20px 2px #0003}.cards[_ngcontent-%COMP%]{height:auto;width:auto}"]}),n})();const lv={classic:"Cl\xe1sico",no_walls:"Sin paredes",obstacles:"Con obstaculos"};let $w=(()=>{class n{constructor(){this.ngxSnake="ngx_snake"}store(t){localStorage.setItem(this.ngxSnake,JSON.stringify({best_score:t}))}retrieve(){let t=this.parse();return t||(this.store(0),t=this.parse()),t.best_score}parse(){let t=localStorage.getItem(this.ngxSnake);if(t)return JSON.parse(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Im=F(4986),er=F(5813);function cv(){return(0,ri.e)((n,e)=>{let t,i=!1;n.subscribe((0,_n.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Uu(n,e=mr.y){return n=null!=n?n:fT,(0,ri.e)((t,i)=>{let r,a=!0;t.subscribe((0,_n.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function fT(n,e){return n===e}var ct,qo=F(2011),pT=(F(4087),F(3942)),we=F(5861),ju=F(9681),Am=F(4859),_c=F(1877),tn=F(2090),zw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fl={},uv=uv||{},He=zw||self;function hp(){}function Mm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ps="closure_uid_"+(1e9*Math.random()>>>0),qw=0;function gT(n,e,t){return n.call.apply(n.bind,arguments)}function dv(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zn(n,e,t){return(zn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gT:dv).apply(null,arguments)}function vh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function tr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Aa(){this.s=this.s,this.o=this.o}var Ww={};Aa.prototype.s=!1,Aa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function xm(n){return Object.prototype.hasOwnProperty.call(n,Ps)&&n[Ps]||(n[Ps]=++qw)}(this);delete Ww[n]}},Aa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},fp=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function Om(n){return Array.prototype.concat.apply([],arguments)}function pp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function bh(n){return/^[\s\xa0]*$/.test(n)}var Jr,_T=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yr(n,e){return-1!=n.indexOf(e)}function hv(n,e){return n<e?-1:n>e?1:0}e:{var Zw=He.navigator;if(Zw){var fv=Zw.userAgent;if(fv){Jr=fv;break e}}Jr=""}function Kw(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Yw(n){const e={};for(const t in n)e[t]=n[t];return e}var yT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<yT.length;a++)t=yT[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function km(n){return km[" "](n),n}km[" "]=hp;var mv,n,gv=Yr(Jr,"Opera"),gp=Yr(Jr,"Trident")||Yr(Jr,"MSIE"),bT=Yr(Jr,"Edge"),Jw=bT||gp,wT=Yr(Jr,"Gecko")&&!(Yr(Jr.toLowerCase(),"webkit")&&!Yr(Jr,"Edge"))&&!(Yr(Jr,"Trident")||Yr(Jr,"MSIE"))&&!Yr(Jr,"Edge"),OM=Yr(Jr.toLowerCase(),"webkit")&&!Yr(Jr,"Edge");function ET(){var n=He.document;return n?n.documentMode:void 0}e:{var Qw="",Xw=(n=Jr,wT?/rv:([^\);]+)(\)|;)/.exec(n):bT?/Edge\/([\d\.]+)/.exec(n):gp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OM?/WebKit\/(\S+)/.exec(n):gv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xw&&(Qw=Xw?Xw[1]:""),gp){var eE=ET();if(null!=eE&&eE>parseFloat(Qw)){mv=String(eE);break e}}mv=Qw}var yc={};var bv=He.document&&gp&&(ET()||parseInt(mv,10))||void 0,tE=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{He.addEventListener("test",hp,e),He.removeEventListener("test",hp,e)}catch(t){}return n}();function nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function mp(n,e){if(nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wT){e:{try{km(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mp.Z.h.call(this)}}nr.prototype.h=function(){this.defaultPrevented=!0},tr(mp,nr);var vc={2:"touch",3:"pen",4:"mouse"};mp.prototype.h=function(){mp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),DT=0;function wv(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++DT,this.ca=this.fa=!1}function Rm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _p(n){this.src=n,this.g={},this.h=0}function Ev(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=mT(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Rm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Dv(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}_p.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Dv(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new wv(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Hu="closure_lm_"+(1e6*Math.random()|0),bc={};function Pm(n,e,t,i,r){if(i&&i.once)return $u(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Pm(n,e[a],t,i,r);return null}return t=Eh(t),n&&n[wh]?n.N(e,t,yh(i)?!!i.capture:!!i,r):Gu(n,e,t,!1,i,r)}function Gu(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=yh(r)?!!r.capture:!!r,f=vp(n);if(f||(n[Hu]=f=new _p(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function yp(){var e=Tv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)tE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Cv(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function $u(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)$u(n,e[a],t,i,r);return null}return t=Eh(t),n&&n[wh]?n.O(e,t,yh(i)?!!i.capture:!!i,r):Gu(n,e,t,!0,i,r)}function nE(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)nE(n,e[a],t,i,r);else i=yh(i)?!!i.capture:!!i,t=Eh(t),n&&n[wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Dv(a=n.g[e],t,i,r))&&(Rm(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=vp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Dv(e,t,i,r)),(t=-1<n?e[n]:null)&&Fm(t))}function Fm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[wh])Ev(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Cv(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vp(e))?(Ev(t,n),0==t.h&&(t.src=null,e[Hu]=null)):Rm(n)}}}function Cv(n){return n in bc?bc[n]:bc[n]="on"+n}function Tv(n,e){if(n.ca)n=!0;else{e=new mp(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Fm(n),n=t.call(i,e)}return n}function vp(n){return(n=n[Hu])instanceof _p?n:null}var Lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(n){return"function"==typeof n?n:(n[Lm]||(n[Lm]=function(e){return n.handleEvent(e)}),n[Lm])}function ir(){Aa.call(this),this.i=new _p(this),this.P=this,this.I=null}function rr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new nr(e,n);else if(e instanceof nr)e.target=e.target||n;else{var r=e;pv(e=new nr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=Sv(u,i,!0,e)&&r}if(r=Sv(u=e.g=n,i,!0,e)&&r,r=Sv(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Sv(u=e.g=t[a],i,!1,e)&&r}function Sv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&Ev(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}tr(ir,Aa),ir.prototype[wh]=!0,ir.prototype.removeEventListener=function(n,e,t,i){nE(this,n,e,t,i)},ir.prototype.M=function(){if(ir.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Rm(t[i]);delete n.g[e],n.h--}}this.I=null},ir.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ir.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Bm=He.JSON.stringify;function iE(){var n=AT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Av,Iv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TT,n=>n.reset());class TT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ST(n){He.setTimeout(()=>{throw n},0)}function Qr(n,e){Av||function IT(){var n=He.Promise.resolve(void 0);Av=function(){n.then(sE)}}(),rE||(Av(),rE=!0),AT.add(n,e)}var rE=!1,AT=new class CT{constructor(){this.h=this.g=null}add(e,t){const i=Iv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function sE(){for(var n;n=iE();){try{n.h.call(n.g)}catch(t){ST(t)}var e=Iv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}rE=!1}function Mv(n,e){ir.call(this),this.h=n||1,this.g=e||He,this.j=zn(this.kb,this),this.l=Date.now()}function xv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bp(n,e,t){if("function"==typeof n)t&&(n=zn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zn(n.handleEvent,n)}return 2147483647<Number(e)?-1:He.setTimeout(n,e||0)}function Nv(n){n.g=bp(()=>{n.g=null,n.i&&(n.i=!1,Nv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}tr(Mv,ir),(ct=Mv.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rr(this,"tick"),this.da&&(xv(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Mv.Z.M.call(this),xv(this),delete this.g};class MT extends Aa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nv(this)}M(){super.M(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wp(n){Aa.call(this),this.h=n,this.g={}}tr(wp,Aa);var oE=[];function Ov(n,e,t,i){Array.isArray(t)||(t&&(oE[0]=t.toString()),t=oE);for(var r=0;r<t.length;r++){var a=Pm(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function aE(n){Kw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fm(e)},n),n.g={}}function Ep(){this.g=!0}function zu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Bm(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}wp.prototype.M=function(){wp.Z.M.call(this),aE(this)},wp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ep.prototype.Aa=function(){this.g=!1},Ep.prototype.info=function(){};var Rr={},Vm=null;function Um(){return Vm=Vm||new ir}function cE(n){nr.call(this,Rr.Ma,n)}function jm(n){const e=Um();rr(e,new cE(e,n))}function kv(n,e){nr.call(this,Rr.STAT_EVENT,n),this.stat=e}function Xr(n){const e=Um();rr(e,new kv(e,n))}function uE(n,e){nr.call(this,Rr.Na,n),this.size=e}function Dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){n()},e)}Rr.Ma="serverreachability",tr(cE,nr),Rr.STAT_EVENT="statevent",tr(kv,nr),Rr.Na="timingevent",tr(uE,nr);var Dh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rv(){}function Hm(){}Rv.prototype.h=null;var Gm,Tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sp(){nr.call(this,"d")}function Ip(){nr.call(this,"c")}function $m(){}function Ap(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new wp(this),this.P=kM,this.W=new Mv(n=Jw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zm}function zm(){this.i=null,this.g="",this.h=!1}tr(Sp,nr),tr(Ip,nr),tr($m,Rv),$m.prototype.g=function(){return new XMLHttpRequest},$m.prototype.i=function(){return{}},Gm=new $m;var kM=45e3,Pv={},Mp={};function qm(n,e,t){n.K=1,n.v=Qm(Wo(e)),n.s=t,n.U=!0,Fv(n,null)}function Fv(n,e){n.F=Date.now(),wc(n),n.A=Wo(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),vE(t.h,"t",i),n.C=0,t=n.l.H,n.h=new zm,n.g=Yv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new MT(zn(n.Ia,n,n.g),n.O)),Ov(n.V,n.g,"readystatechange",n.gb),e=n.H?Yw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jm(1),function xT(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var I=T.split("_");u=2<=I.length&&"type"==I[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Lv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Bv(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=pl(n,t),r==Mp){4==e&&(n.o=4,Xr(14),i=!1),zu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Pv){n.o=4,Xr(15),zu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}zu(n.j,n.m,r,null),Km(n,r)}Lv(n)&&r!=Mp&&r!=Pv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cc(e),e.L=!0,Xr(11))):(zu(n.j,n.m,t,"[Invalid Chunked Response]"),gl(n),Zm(n))}function pl(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Mp:(t=Number(e.substring(t,i)),isNaN(t)?Pv:(i+=1)+t>e.length?Mp:(e=e.substr(i,t),n.C=i+t,e))}function wc(n){n.Y=Date.now()+n.P,hE(n,n.P)}function hE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dp(zn(n.eb,n),e)}function Wm(n){n.B&&(He.clearTimeout(n.B),n.B=null)}function Zm(n){0==n.l.G||n.I||qv(n.l,n)}function gl(n){Wm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xv(n.W),aE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Km(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||EE(t.i,n)))if(t.I=n.N,!n.J&&EE(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Dp(zn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;yl(t),Ma(t)}Dc(t),Xr(18)}if(1>=FT(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Tc(t,11)}else if((n.J||t.g==n)&&yl(t),!bh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const I=b[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const k=b[5];null!=k&&"number"==typeof k&&0<k&&(t.K=i=1.5*k,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const H=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var a=i.i;!a.g&&(Yr(H,"spdy")||Yr(H,"quic")||Yr(H,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Rp(a,a.h),a.h=null))}if(i.D){const K=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.sa=K,qn(i.F,i.D,K))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Kv(i,i.H?i.la:null,i.W),u.J){DE(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(Wm(f),wc(f)),i.g=u}else Ju(i);0<t.l.length&&Nh(t)}else"stop"!=b[0]&&"close"!=b[0]||Tc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Tc(t,7):sr(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}jm(4)}catch(b){}}function qu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mm(n)||"string"==typeof n)fp(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Mm(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Vv(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Mm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Ch(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ch)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function xp(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ec(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Ec(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Ec(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=Ap.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==Fs(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const T=Fs(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>T)&&(3!=T||Jw||this.g&&(this.h.h||this.g.ga()||AE(this.g)))){this.I||4!=T||7==e||jm(8==e||0>=I?3:2),Wm(this);var t=this.g.ba();this.N=t;t:if(Lv(this)){var i=AE(this.g);n="";var r=i.length,a=4==Fs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gl(this),Zm(this);var u="";break t}this.h.i=new He.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function NT(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Xr(12),gl(this),Zm(this);break e}zu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Km(this,t)}this.U?(Bv(this,T,u),Jw&&this.i&&3==T&&(Ov(this.V,this.W,"tick",this.fb),this.W.start())):(zu(this.j,this.m,u,null),Km(this,u)),4==T&&gl(this),this.i&&!this.I&&(4==T?qv(this.l,this):(this.i=!1,wc(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),gl(this),Zm(this)}}}catch(T){}},ct.fb=function(){if(this.g){var n=Fs(this.g),e=this.g.ga();this.C<e.length&&(Wm(this),Bv(this,n,e),this.i&&4!=n&&wc(this))}},ct.cancel=function(){this.I=!0,gl(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jm(3),Xr(17)),gl(this),this.o=2,Zm(this)):hE(this,this.Y-n)},(ct=Ch.prototype).R=function(){xp(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return xp(this),this.g.concat()},ct.get=function(n,e){return Ec(this.h,n)?this.h[n]:e},ct.set=function(n,e){Ec(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var Uv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wu){this.g=void 0!==e?e:n.g,Ym(this,n.j),this.s=n.s,Jm(this,n.i),Np(this,n.m),this.l=n.l,e=n.h;var t=new Sh;t.i=e.i,e.g&&(t.g=new Ch(e.g),t.h=e.h),Zu(this,t),this.o=n.o}else n&&(t=String(n).match(Uv))?(this.g=!!e,Ym(this,t[1]||"",!0),this.s=Op(t[2]||""),Jm(this,t[3]||"",!0),Np(this,t[4]),this.l=Op(t[5]||"",!0),Zu(this,t[6]||"",!0),this.o=Op(t[7]||"")):(this.g=!!e,this.h=new Sh(null,this.g))}function Wo(n){return new Wu(n)}function Ym(n,e,t){n.j=t?Op(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jm(n,e,t){n.i=t?Op(e,!0):e}function Np(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Zu(n,e,t){e instanceof Sh?(n.h=e,function bE(n,e){e&&!n.j&&(ml(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(_E(this,i),vE(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kp(e,gE)),n.h=new Sh(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function Qm(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Op(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,RT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kp(e,pE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kp(e,pE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kp(t,"/"==t.charAt(0)?jv:Zo,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kp(t,mE)),n.join("")};var pE=/[#\/\?@]/g,Zo=/[#\?:]/g,jv=/[#\?]/g,gE=/[#\?@]/g,mE=/#/g;function Sh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ml(n){n.g||(n.g=new Ch,n.h=0,n.i&&function fE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _E(n,e){ml(n),e=Ih(n,e),Ec(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ec((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&xp(n)))}function yE(n,e){return ml(n),e=Ih(n,e),Ec(n.g.h,e)}function vE(n,e,t){_E(n,e),0<t.length&&(n.i=null,n.g.set(Ih(n,e),pp(t)),n.h+=t.length)}function Ih(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hv(n){this.l=n||PT,n=He.PerformanceNavigationTiming?0<(n=He.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(He.g&&He.g.Ea&&He.g.Ea()&&He.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Sh.prototype).add=function(n,e){ml(this),this.i=null,n=Ih(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){ml(this),this.g.forEach(function(t,i){fp(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){ml(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},ct.R=function(n){ml(this);var e=[];if("string"==typeof n)yE(this,n)&&(e=Om(e,this.g.get(Ih(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Om(e,n[t])}return e},ct.set=function(n,e){return ml(this),this.i=null,yE(this,n=Ih(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var PT=10;function wE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FT(n){return n.h?1:n.g?n.g.size:0}function EE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rp(n,e){n.g?n.g.add(e):n.h=e}function DE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pp(n.i)}function Xm(){}function PM(){this.g=new Xm}function Ko(n,e,t){const i=t||"";try{qu(n,function(r,a){let u=r;yh(r)&&(u=Bm(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function $v(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Ah(n){this.l=n.$b||null,this.j=n.ib||!1}function Pp(n,e){ir.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=e_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hv.prototype.cancel=function(){if(this.i=Gv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Xm.prototype.stringify=function(n){return He.JSON.stringify(n,void 0)},Xm.prototype.parse=function(n){return He.JSON.parse(n,void 0)},tr(Ah,Rv),Ah.prototype.g=function(){return new Pp(this.l,this.j)},Ah.prototype.i=function(n){return function(){return n}}({}),tr(Pp,ir);var e_=0;function CE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function t_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mh(n)}function Mh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Pp.prototype).open=function(n,e){if(this.readyState!=e_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mh(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||He).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,t_(this)),this.readyState=e_},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==He.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?t_(this):Mh(this),3==this.readyState&&CE(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,t_(this))},ct.Ta=function(n){this.g&&(this.response=n,t_(this))},ct.ha=function(){this.g&&t_(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zv=He.JSON.parse;function xi(n){ir.call(this),this.headers=new Ch,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=n_,this.K=this.L=!1}tr(xi,ir);var n_="",LT=/^https?$/i,BT=["POST","PUT"];function UT(n){return"content-type"==n.toLowerCase()}function TE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,SE(n),_l(n)}function SE(n){n.D||(n.D=!0,rr(n,"complete"),rr(n,"error"))}function Fp(n){if(n.h&&void 0!==uv&&(!n.C[1]||4!=Fs(n)||2!=n.ba()))if(n.v&&4==Fs(n))bp(n.Fa,0,n);else if(rr(n,"readystatechange"),4==Fs(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Uv)[1]||null;if(!r&&He.self&&He.self.location){var a=He.self.location.protocol;r=a.substr(0,a.length-1)}i=!LT.test(r?r.toLowerCase():"")}t=i}if(t)rr(n,"complete"),rr(n,"success");else{n.m=6;try{var u=2<Fs(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",SE(n)}}finally{_l(n)}}}function _l(n,e){if(n.g){IE(n);const t=n.g,i=n.C[0]?hp:null;n.g=null,n.C=null,e||rr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function IE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(He.clearTimeout(n.A),n.A=null)}function Fs(n){return n.g?n.g.readyState:0}function AE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case n_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Lp(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function jT(n){let e="";return Kw(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function fs(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xh(n){this.za=0,this.l=[],this.h=new Ep,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fs("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fs("baseRetryDelayMs",5e3,n),this.$a=fs("retryDelaySeedMs",1e4,n),this.Ya=fs("forwardChannelMaxRetries",2,n),this.ra=fs("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Hv(n&&n.concurrentRequestLimit),this.Ca=new PM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function sr(n){if(Bp(n),3==n.G){var e=n.V++,t=Wo(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),xa(n,t),(e=new Ap(n,n.h,e,void 0)).K=2,e.v=Qm(Wo(t)),t=!1,He.navigator&&He.navigator.sendBeacon&&(t=He.navigator.sendBeacon(e.v.toString(),"")),!t&&He.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wc(e)}Zv(n)}function Ma(n){n.g&&(Cc(n),n.g.cancel(),n.g=null)}function Bp(n){Ma(n),n.u&&(He.clearTimeout(n.u),n.u=null),yl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&He.clearTimeout(n.m),n.m=null)}function ps(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Nh(n)}function Nh(n){wE(n.i)||n.m||(n.m=!0,Qr(n.Ha,n),n.C=0)}function Ku(n,e){var t;t=e?e.m:n.V++;const i=Wo(n.F);qn(i,"SID",n.J),qn(i,"RID",t),qn(i,"AID",n.U),xa(n,i),n.o&&n.s&&Lp(i,n.o,n.s),t=new Ap(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Yu(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Rp(n.i,t),qm(t,i,e)}function xa(n,e){n.j&&qu({},function(t,i){qn(e,i,t)})}function Yu(n,e,t){t=Math.min(n.l.length,t);var i=n.j?zn(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const T=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{Ko(T,u,"req"+b+"_")}catch(I){i&&i(T)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Ju(n){n.g||n.u||(n.Y=1,Qr(n.Ga,n),n.A=0)}function Dc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dp(zn(n.Ga,n),Wv(n,n.A)),n.A++,0))}function Cc(n){null!=n.B&&(He.clearTimeout(n.B),n.B=null)}function Qu(n){n.g=new Ap(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Wo(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),xa(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&Lp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qm(Wo(e)),t.s=null,t.U=!0,Fv(t,n)}function yl(n){null!=n.v&&(He.clearTimeout(n.v),n.v=null)}function qv(n,e){var t=null;if(n.g==e){yl(n),Cc(n),n.g=null;var i=2}else{if(!EE(n.i,e))return;t=e.D,DE(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;rr(i=Um(),new uE(i,t,e,r)),Nh(n)}else Ju(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Oh(n,e){return!(FT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dp(zn(n.Ha,n,e),Wv(n,n.C)),n.C++,0)))}(n,e)||2==i&&Dc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Tc(n,5);break;case 4:Tc(n,10);break;case 3:Tc(n,6);break;default:Tc(n,2)}}function Wv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Tc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=zn(n.jb,n);t||(t=new Wu("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||Ym(t,"https"),Qm(t)),function FM(n,e){const t=new Ep;if(He.Image){const i=new Image;i.onload=vh($v,t,i,"TestLoadImage: loaded",!0,e),i.onerror=vh($v,t,i,"TestLoadImage: error",!1,e),i.onabort=vh($v,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=vh($v,t,i,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Xr(2);n.G=0,n.j&&n.j.va(e),Zv(n),Bp(n)}function Zv(n){n.G=0,n.I=-1,n.j&&((0!=Gv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,pp(n.l),n.l.length=0),n.j.ua())}function Kv(n,e,t){let i=function kT(n){return n instanceof Wu?Wo(n):new Wu(n,void 0)}(t);if(""!=i.i)e&&Jm(i,e+"."+i.i),Np(i,i.m);else{const r=He.location;i=function Th(n,e,t,i){var r=new Wu(null,void 0);return n&&Ym(r,n),e&&Jm(r,e),t&&Np(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Kw(n.aa,function(r,a){qn(i,a,r)}),t=n.sa,(e=n.D)&&t&&qn(i,e,t),qn(i,"VER",n.ma),xa(n,i),i}function Yv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xi(t&&n.Ba&&!n.qa?new Ah({ib:!0}):n.qa)).L=n.H,e}function Jv(){}function Vp(){if(gp&&!(10<=Number(bv)))throw Error("Environmental error: no available transport.")}function gs(n,e){ir.call(this),this.g=new xh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!bh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kh(this)}function ME(n){Sp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Qv(){Ip.call(this),this.status=1}function kh(n){this.g=n}(ct=xi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gm.g(),this.C=function Cp(n){return n.h||(n.h=n.i())}(this.u?this.u:Gm),this.g.onreadystatechange=zn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void TE(this,a)}n=t||"";const r=new Ch(this.headers);i&&qu(i,function(a,u){r.set(u,a)}),i=function Nm(n){e:{var e=UT;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=He.FormData&&n instanceof He.FormData,!(0<=mT(BT,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IE(this),0<this.B&&((this.K=function VT(n){return gp&&function _v(){return function vT(n){var e=yc;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_T(String(mv)).split("."),t=_T("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=hv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||hv(0==r[2].length,0==a[2].length)||hv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zn(this.pa,this)):this.A=bp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){TE(this,a)}},ct.pa=function(){void 0!==uv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rr(this,"complete"),rr(this,"abort"),_l(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_l(this,!0)),xi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Fp(this):this.cb())},ct.cb=function(){Fp(this)},ct.ba=function(){try{return 2<Fs(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zv(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=xh.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Ap(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Yw(a),pv(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Yu(this,r,e),qn(t=Wo(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),xa(this,t),this.o&&a&&Lp(t,this.o,a),Rp(this.i,r),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),r.$=!0,qm(r,t,null)):qm(r,t,e),this.G=2}}else 3==this.G&&(n?Ku(this,n):0==this.l.length||wE(this.i)||Ku(this))},ct.Ga=function(){if(this.u=null,Qu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dp(zn(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xr(10),Ma(this),Qu(this))},ct.ab=function(){null!=this.v&&(this.v=null,Ma(this),Dc(this),Xr(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Xr(2)):(this.h.info("Failed to ping google.com"),Xr(1))},(ct=Jv.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Vp.prototype.g=function(n,e){return new gs(n,e)},tr(gs,ir),gs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Qr(zn(n.hb,n,e))),Xr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Kv(n,null,n.W),Nh(n)},gs.prototype.close=function(){sr(this.g)},gs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ps(this.g,e)}else this.v?((e={}).__data__=Bm(n),ps(this.g,e)):ps(this.g,n)},gs.prototype.M=function(){this.g.j=null,delete this.j,sr(this.g),delete this.g,gs.Z.M.call(this)},tr(ME,Sp),tr(Qv,Ip),tr(kh,Jv),kh.prototype.xa=function(){rr(this.g,"a")},kh.prototype.wa=function(n){rr(this.g,new ME(n))},kh.prototype.va=function(n){rr(this.g,new Qv(n))},kh.prototype.ua=function(){rr(this.g,"b")},Vp.prototype.createWebChannel=Vp.prototype.g,gs.prototype.send=gs.prototype.u,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,dE.COMPLETE="complete",Hm.EventType=Tp,Tp.OPEN="a",Tp.CLOSE="b",Tp.ERROR="c",Tp.MESSAGE="d",ir.prototype.listen=ir.prototype.N,xi.prototype.listenOnce=xi.prototype.O,xi.prototype.getLastError=xi.prototype.La,xi.prototype.getLastErrorCode=xi.prototype.Da,xi.prototype.getStatus=xi.prototype.ba,xi.prototype.getResponseJson=xi.prototype.Qa,xi.prototype.getResponseText=xi.prototype.ga,xi.prototype.send=xi.prototype.ea;var xE=fl.createWebChannelTransport=function(){return new Vp},NE=fl.getStatEventTarget=function(){return Um()},Xv=fl.ErrorCode=Dh,HT=fl.EventType=dE,OE=fl.Event=Rr,kE=fl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RE=fl.FetchXmlHttpFactory=Ah,i_=fl.WebChannel=Hm,GT=fl.XhrIo=xi;const $T="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let Sc="9.6.10";const Na=new _c.Yd("@firebase/firestore");function e0(){return Na.logLevel}function Ve(n,...e){if(Na.logLevel<=_c.in.DEBUG){const t=e.map(r_);Na.debug(`Firestore (${Sc}): ${n}`,...t)}}function Gi(n,...e){if(Na.logLevel<=_c.in.ERROR){const t=e.map(r_);Na.error(`Firestore (${Sc}): ${n}`,...t)}}function Up(n,...e){if(Na.logLevel<=_c.in.WARN){const t=e.map(r_);Na.warn(`Firestore (${Sc}): ${n}`,...t)}}function r_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw Gi(e),new Error(e)}function Pt(n,e){n||dt()}function Xe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class PE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new jp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new yr(e)}}class WT{constructor(e,t,i){this.type="FirstParty",this.user=yr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZT{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new WT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.p=t.token,new FE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function LE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Ls.A=-1;class t0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=LE(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Zt(n,e){return n<e?-1:n>e?1:0}function Hp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function s_(n){return n+"\0"}class yi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yi.fromMillis(Date.now())}static fromDate(e){return yi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new yi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new yi(0,0))}static max(){return new kt(new yi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ph(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function o_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xu{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Xu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Xu{construct(e,t,i){return new ln(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const a_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends Xu{construct(e,t,i){return new vi(e,t,i)}static isValidIdentifier(e){return a_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class Ac{constructor(e){this.fields=e,e.sort(vi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const n0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=n0.exec(n);if(Pt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oi(n.seconds),nanos:oi(n.nanos)}}function oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mc(n){return"string"==typeof n?zi.fromBase64String(n):zi.fromUint8Array(n)}function Gp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function r0(n){const e=n.mapValue.fields.__previous_value__;return Gp(e)?r0(e):e}function Fh(n){const e=Oa(n.mapValue.fields.__local_write_time__.timestampValue);return new yi(e.seconds,e.nanos)}class s0{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Yo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}function ed(n){return null==n}function Lh(n){return 0===n&&1/n==-1/0}function o0(n){return"number"==typeof n&&Number.isInteger(n)&&!Lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(ln.fromString(e))}static fromName(e){return new qe(ln.fromString(e).popFirst(5))}static empty(){return new qe(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new ln(e.slice()))}}const a0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},BE={nullValue:"NULL_VALUE"};function xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:VE(n)?9:10:dt()}function Jo(n,e){if(n===e)return!0;const t=xc(n);if(t!==xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fh(n).isEqual(Fh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Oa(i.timestampValue),u=Oa(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Mc(n.bytesValue).isEqual(Mc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return oi(i.geoPointValue.latitude)===oi(r.geoPointValue.latitude)&&oi(i.geoPointValue.longitude)===oi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return oi(i.integerValue)===oi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=oi(i.doubleValue),u=oi(r.doubleValue);return a===u?Lh(a)===Lh(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Hp(n.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Ph(a)!==Ph(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Jo(a[f],u[f])))return!1;return!0}(n,e);default:return dt()}var r}function td(n,e){return void 0!==(n.values||[]).find(t=>Jo(t,e))}function Qo(n,e){if(n===e)return 0;const t=xc(n),i=xc(e);if(t!==i)return Zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=oi(r.integerValue||r.doubleValue),f=oi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return l0(n.timestampValue,e.timestampValue);case 4:return l0(Fh(n),Fh(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Mc(r),f=Mc(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Zt(u[_],f[_]);if(0!==b)return b}return Zt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Zt(oi(r.latitude),oi(a.latitude));return 0!==u?u:Zt(oi(r.longitude),oi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Qo(u[_],f[_]);if(b)return b}return Zt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const I=Zt(f[T],b[T]);if(0!==I)return I;const k=Qo(u[f[T]],_[b[T]]);if(0!==k)return k}return Zt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw dt()}}function l0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Oa(n),i=Oa(e),r=Zt(t.seconds,i.seconds);return 0!==r?r:Zt(t.nanos,i.nanos)}function nd(n){return l_(n)}function l_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Oa(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mc(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=l_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${l_(i.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function id(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c_(n){return!!n&&"integerValue"in n}function Bh(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function u0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function d0(n){return!!n&&"mapValue"in n}function $p(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ic(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$p(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$p(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function h0(n,e){return void 0===n?e:void 0===e||Qo(n,e)>0?n:e}function UE(n,e){return void 0===n?e:void 0===e||Qo(n,e)<0?n:e}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!d0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$p(t)}setAll(e){let t=vi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=$p(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());d0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];d0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ic(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new cn($p(this.value))}}function f0(n){const e=[];return Ic(n.fields,(t,i)=>{const r=new vi([t]);if(d0(i)){const a=f0(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Ac(e)}class Wn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Wn(e,0,kt.min(),kt.min(),cn.empty(),0)}static newFoundDocument(e,t,i){return new Wn(e,1,t,kt.min(),i,0)}static newNoDocument(e,t){return new Wn(e,2,t,kt.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,kt.min(),cn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class u_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function d_(n){return n.fields.find(e=>2===e.kind)}function Vh(n){return n.fields.filter(e=>2!==e.kind)}u_.UNKNOWN_ID=-1;class zp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uh(0,vl.min())}}function rd(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new yi(t+1,0):new yi(t,i));return new vl(r,qe.empty(),e)}function JT(n){return new vl(n.readTime,n.key,-1)}class vl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vl(kt.min(),qe.empty(),-1)}static max(){return new vl(kt.max(),qe.empty(),-1)}}function jE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class QT{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function p0(n,e=null,t=[],i=[],r=null,a=null,u=null){return new QT(n,e,t,i,r,a,u)}function jh(n){const e=Xe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+nd(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ed(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>nd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>nd(i)).join(",")),e.P=t}return e.P}function sd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!qp(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Jo(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_0(n.startAt,e.startAt)&&_0(n.endAt,e.endAt)}function Bs(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function h_(n,e){return n.filters.filter(t=>t instanceof or&&t.field.isEqual(e))}class or extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new ka(e,t,i):"array-contains"===t?new HE(e,i):"in"===t?new XT(e,i):"not-in"===t?new eS(e,i):"array-contains-any"===t?new tS(e,i):new or(e,t,i)}static V(e,t,i){return"in"===t?new Xo(e,i):new ea(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Qo(t,this.value)):null!==t&&xc(this.value)===xc(t)&&this.v(Qo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ka extends or{constructor(e,t,i){super(e,t,i),this.key=qe.fromName(i.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.v(t)}}class Xo extends or{constructor(e,t){super(e,"in",t),this.keys=m0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ea extends or{constructor(e,t){super(e,"not-in",t),this.keys=m0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qe.fromName(i.referenceValue))}class HE extends or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bh(t)&&td(t.arrayValue,this.value)}}class XT extends or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&td(this.value.arrayValue,t)}}class eS extends or{constructor(e,t){super(e,"not-in",t)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!td(this.value.arrayValue,t)}}class tS extends or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>td(this.value.arrayValue,i))}}class Nc{constructor(e,t){this.position=e,this.inclusive=t}}class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function qp(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function GE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):Qo(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function _0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jo(n.position[t],e.position[t]))return!1;return!0}class bl{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function y0(n,e,t,i,r,a,u,f){return new bl(n,e,t,i,r,a,u,f)}function od(n){return new bl(n)}function ad(n){return!ed(n.limit)&&"F"===n.limitType}function f_(n){return!ed(n.limit)&&"L"===n.limitType}function p_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function g_(n){for(const e of n.filters)if(e.S())return e.field;return null}function Wp(n){return null!==n.collectionGroup}function wl(n){const e=Xe(n);if(null===e.D){e.D=[];const t=g_(e),i=p_(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Oc(t)),e.D.push(new Oc(vi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Oc(vi.keyField(),a))}}}return e.D}function Vs(n){const e=Xe(n);if(!e.C)if("F"===e.limitType)e.C=p0(e.path,e.collectionGroup,wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of wl(e))t.push(new Oc(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Nc(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new Nc(e.startAt.position,!e.startAt.inclusive):null;e.C=p0(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function v0(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return sd(Vs(n),Vs(e))&&n.limitType===e.limitType}function b0(n){return`${jh(Vs(n))}|lt:${n.limitType}`}function m_(n){return`Query(target=${function g0(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${nd(i.value)}`;var i}).join(", ")}]`),ed(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>nd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>nd(t)).join(",")),`Target(${e})`}(Vs(n))}; limitType=${n.limitType})`}function __(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=GE(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,wl(t),i)||t.endAt&&!function(r,a,u){const f=GE(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,wl(t),i)));var t,i}function w0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E0(n){return(e,t)=>{let i=!1;for(const r of wl(n)){const a=nS(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function nS(n,e,t){const i=n.field.isKeyField()?qe.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Qo(f,_):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function $E(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function zE(n){return{integerValue:""+n}}function qE(n,e){return o0(e)?zE(e):$E(n,e)}class y_{constructor(){this._=void 0}}function iS(n,e,t){return n instanceof Gh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof ld?ZE(n,e):n instanceof cd?KE(n,e):function(i,r){const a=WE(i,r),u=YE(a)+YE(i.k);return c_(a)&&c_(i.k)?zE(u):$E(i.M,u)}(n,e)}function rS(n,e,t){return n instanceof ld?ZE(n,e):n instanceof cd?KE(n,e):t}function WE(n,e){return n instanceof $h?c_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Gh extends y_{}class ld extends y_{constructor(e){super(),this.elements=e}}function ZE(n,e){const t=JE(e);for(const i of n.elements)t.some(r=>Jo(r,i))||t.push(i);return{arrayValue:{values:t}}}class cd extends y_{constructor(e){super(),this.elements=e}}function KE(n,e){let t=JE(e);for(const i of n.elements)t=t.filter(r=>!Jo(r,i));return{arrayValue:{values:t}}}class $h extends y_{constructor(e,t){super(),this.M=e,this.k=t}}function YE(n){return oi(n.integerValue||n.doubleValue)}function JE(n){return Bh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zp{constructor(e,t){this.field=e,this.transform=t}}class QE{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yp{}function XE(n,e,t){n instanceof ud?function(i,r,a){const u=i.value.clone(),f=tD(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof El?function(i,r,a){if(!Kp(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=tD(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(kc(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function v_(n,e,t){var r;n instanceof ud?function(i,r,a){if(!Kp(i.precondition,r))return;const u=i.value.clone(),f=nD(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(C0(r),u).setHasLocalMutations()}(n,e,t):n instanceof El?function(i,r,a){if(!Kp(i.precondition,r))return;const u=nD(i.fieldTransforms,a,r),f=r.data;f.setAll(kc(i)),f.setAll(u),r.convertToFoundDocument(C0(r),f).setHasLocalMutations()}(n,e,t):Kp(n.precondition,r=e)&&r.convertToNoDocument(kt.min())}function eD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=WE(i.transform,r||null);null!=a&&(null==t&&(t=cn.empty()),t.set(i.field,a))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hp(t,i,(r,a)=>function sS(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ld&&i instanceof ld||t instanceof cd&&i instanceof cd?Hp(t.elements,i.elements,Jo):t instanceof $h&&i instanceof $h?Jo(t.k,i.k):t instanceof Gh&&i instanceof Gh);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function C0(n){return n.isFoundDocument()?n.version:kt.min()}class ud extends Yp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class El extends Yp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function kc(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function tD(n,e,t){const i=new Map;Pt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,rS(u,f,t[r]))}return i}function nD(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,iS(a,u,e))}return i}class Ra extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class iD extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class T0{constructor(e){this.count=e}}var qi,rn;function S0(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function oS(n){if(void 0===n)return Gi("GRPC error has no .code"),de.UNKNOWN;switch(n){case qi.OK:return de.OK;case qi.CANCELLED:return de.CANCELLED;case qi.UNKNOWN:return de.UNKNOWN;case qi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case qi.INTERNAL:return de.INTERNAL;case qi.UNAVAILABLE:return de.UNAVAILABLE;case qi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case qi.NOT_FOUND:return de.NOT_FOUND;case qi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case qi.ABORTED:return de.ABORTED;case qi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case qi.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(rn=qi||(qi={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class yt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ic(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}class wi{constructor(e,t){this.comparator=e,this.root=t||vr.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b_(this.root,e,this.comparator,!1)}getReverseIterator(){return new b_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b_(this.root,e,this.comparator,!0)}}class b_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:vr.RED,this.left=null!=r?r:vr.EMPTY,this.right=null!=a?a:vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new vr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1,vr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new vr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rD(this.data.getIterator())}getIteratorFrom(e){return new rD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class rD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dl(n){return n.hasNext()?n.getNext():void 0}const w_=new wi(qe.comparator);function dn(){return w_}const VM=new wi(qe.comparator);function E_(){return VM}function Jp(){return new yt(n=>n.toString(),(n,e)=>n.isEqual(e))}const aS=new wi(qe.comparator),sD=new Nn(qe.comparator);function bn(...n){let e=sD;for(const t of n)e=e.add(t);return e}const oD=new Nn(Zt);function Qp(){return oD}class Xp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,eg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xp(kt.min(),i,Qp(),dn(),bn())}}class eg{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new eg(zi.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class D_{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class zh{constructor(e,t){this.targetId=e,this.$=t}}class aD{constructor(e,t,i=zi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class lD{constructor(){this.B=0,this.L=I0(),this.U=zi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=bn(),t=bn(),i=bn();return this.L.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new eg(this.U,this.q,e,t,i)}J(){this.G=!1,this.L=I0()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class lS{constructor(e){this.nt=e,this.st=new Map,this.it=dn(),this.rt=tg(),this.ot=new Nn(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const a=r.target;if(Bs(a))if(0===i){const u=new qe(a.path);this.ct(t,u,Wn.newNoDocument(u,kt.min()))}else Pt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&Bs(f.target)){const _=new qe(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Wn.newNoDocument(_,e))}a.j&&(t.set(u,a.H()),a.J())}});let i=bn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const r=new Xp(e,t,this.ot,this.it,i);return this.it=dn(),this.rt=tg(),this.ot=new Nn(Zt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new lD,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Nn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new lD),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function tg(){return new wi(qe.comparator)}function I0(){return new wi(qe.comparator)}const cD={asc:"ASCENDING",desc:"DESCENDING"},uD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class cS{constructor(e,t){this.databaseId=e,this.N=t}}function Cl(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qh(n,e){return n.N?e.toBase64():e.toUint8Array()}function uS(n,e){return Cl(n,e.toTimestamp())}function ar(n){return Pt(!!n),kt.fromTimestamp(function(e){const t=Oa(e);return new yi(t.seconds,t.nanos)}(n))}function A0(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M0(n){const e=ln.fromString(n);return Pt(pD(e)),e}function Wh(n,e){return A0(n.databaseId,e.path)}function ta(n,e){const t=M0(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(dD(t))}function x0(n,e){return A0(n.databaseId,e)}function N0(n){const e=M0(n);return 4===e.length?ln.emptyPath():dD(e)}function ng(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dD(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dS(n,e,t){return{name:Wh(n,e),fields:t.value.mapValue.fields}}function hS(n,e,t){const i=ta(n,e.name),r=ar(e.updateTime),a=new cn({mapValue:{fields:e.fields}}),u=Wn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Zh(n,e){let t;if(e instanceof ud)t={update:dS(n,e.key,e.value)};else if(e instanceof Ra)t={delete:Wh(n,e.key)};else if(e instanceof El)t={update:dS(n,e.key,e.data),updateMask:Qh(e.fieldMask)};else{if(!(e instanceof iD))return dt();t={verify:Wh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Gh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ld)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $h)return{fieldPath:a.field.canonicalString(),increment:u.k};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:uS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function Kh(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?bi.updateTime(ar(r.updateTime)):void 0!==r.exists?bi.exists(r.exists):bi.none():bi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Pt("REQUEST_TIME"===u.setToServerValue),f=new Gh):"appendMissingElements"in u?f=new ld(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new cd(u.removeAllFromArray.values||[]):"increment"in u?f=new $h(a,u.increment):dt();const _=vi.fromServerFormat(u.fieldPath);return new Zp(_,f)}(n,r)):[];var r;if(e.update){const r=ta(n,e.update.name),a=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ac((e.updateMask.fieldPaths||[]).map(b=>vi.fromServerFormat(b)));return new El(r,a,u,t,i)}return new ud(r,a,t,i)}if(e.delete){const r=ta(n,e.delete);return new Ra(r,t)}if(e.verify){const r=ta(n,e.verify);return new iD(r,t)}return dt()}function hD(n,e){return{documents:[x0(n,e.path)]}}function O0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=x0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=x0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(T=>function(I){if("=="===I.op){if(u0(I.value))return{unaryFilter:{field:Jh(I.field),op:"IS_NAN"}};if(c0(I.value))return{unaryFilter:{field:Jh(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(u0(I.value))return{unaryFilter:{field:Jh(I.field),op:"IS_NOT_NAN"}};if(c0(I.value))return{unaryFilter:{field:Jh(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(I.field),op:mS(I.op),value:I.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Jh((T=b).field),direction:gS(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.N||ed(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Yh(n){let e=N0(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Pt(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=fD(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new Oc(dd((I=T).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(T){let I;return I="object"==typeof T?T.value:T,ed(I)?null:I}(t.limit));let _=null;var T;t.startAt&&(_=new Nc((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new Nc(T.values||[],!T.before)}(t.endAt)),y0(e,r,u,a,f,"F",_,b)}function fD(n){return n?void 0!==n.unaryFilter?[yS(n)]:void 0!==n.fieldFilter?[_S(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fD(e)).reduce((e,t)=>e.concat(t)):dt():[]}function gS(n){return cD[n]}function mS(n){return uD[n]}function Jh(n){return{fieldPath:n.canonicalString()}}function dd(n){return vi.fromServerFormat(n.fieldPath)}function _S(n){return or.create(dd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function yS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=dd(n.unaryFilter.field);return or.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=dd(n.unaryFilter.field);return or.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dd(n.unaryFilter.field);return or.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=dd(n.unaryFilter.field);return or.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function Qh(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=k0(e)),e=vS(n.get(t),e);return k0(e)}function vS(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function k0(n){return n+"\x01\x01"}function na(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:dt()}a=u+2}return new ln(i)}const R0=["userId","batchId"];function C_(n,e){return[n,Wi(e)]}function T_(n,e,t){return[n,Wi(e),t]}const bS={},gD=["prefixPath","collectionGroup","readTime","documentId"],mD=["prefixPath","collectionGroup","documentId"],wS=["collectionGroup","readTime","prefixPath","documentId"],ES=["canonicalId","targetId"],DS=["targetId","path"],P0=["path","targetId"],CS=["collectionId","parent"],_D=["indexId","uid"],TS=["uid","sequenceNumber"],SS=["indexId","uid","arrayValue","directionalValue","documentKey"],IS=["indexId","uid","documentKey"],AS=["userId","collectionPath","documentId"],MS=["userId","collectionPath","largestBatchId"],xS=["userId","collectionGroup","largestBatchId"],yD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NS=[...yD,"documentOverlays"],F0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vD=[...F0,"indexConfiguration","indexState","indexEntries"],L0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(r=>r?pe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}}class ig{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new $i,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new hd(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=B0(i.target.error);this.At.reject(new hd(e,r))}}static open(e,t,i,r){try{return new ig(t,e.transaction(r,i))}catch(a){throw new hd(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wD(t)}}class ia{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===ia.Vt((0,tn.z$)())&&Gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Sl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,tn.hl)())return!1;if(ia.St())return!0;const e=(0,tn.z$)(),t=ia.Vt(e),i=0<t&&t<10,r=ia.Dt(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new hd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new hd(e,f))},a.onupgradeneeded=u=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=ig.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(T=>(_.bt(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Ve("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OS{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Sl(this.Ft.delete())}}class hd extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tl(n){return"IndexedDbTransactionError"===n.name}class wD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Sl(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Sl(this.store.add(e))}get(e){return Sl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Sl(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Sl(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.Gt(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new pe((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new pe((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(a,u,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Gt(r,t)}zt(e){const t=this.cursor({});return new pe((i,r)=>{t.onerror=a=>{const u=B0(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Gt(e,t){const i=[];return new pe((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new OS(f),b=t(f.primaryKey,f.value,_);if(b instanceof pe){const T=b.catch(I=>(_.done(),pe.reject(I)));i.push(T)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>pe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sl(n){return new pe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=B0(i.target.error);t(r)}})}let ED=!1;function B0(n){const e=ia.Vt((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ED||(ED=!0,setTimeout(()=>{throw i},0)),i}}return n}class S_ extends bD{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function lr(n,e){const t=Xe(n);return ia.xt(t.Ht,e)}class I_{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&XE(a,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&v_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&v_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Hp(this.mutations,e.mutations,(t,i)=>D0(t,i))&&Hp(this.baseMutations,e.baseMutations,(t,i)=>D0(t,i))}}class V0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Pt(e.mutations.length===i.length);let r=aS;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new V0(e,t,i,r)}}class A_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rc{constructor(e,t,i,r,a=kt.min(),u=kt.min(),f=zi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Rc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class U0{constructor(e){this.Jt=e}}function DD(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Wh(r=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Cl(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:pd(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:pd(e.version)}}var r,a;return i}function fd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eo(n){const e=new yi(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function Pa(n,e){const t=(e.baseMutations||[]).map(a=>Kh(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>Kh(n.Jt,a)),r=yi.fromMillis(e.localWriteTimeMs);return new I_(e.batchId,r,t,i)}function rg(n){const e=Eo(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Eo(n.lastLimboFreeSnapshotVersion):kt.min();let i;var r;return void 0!==n.query.documents?(Pt(1===(r=n.query).documents.length),i=Vs(od(N0(r.documents[0])))):i=Vs(Yh(n.query)),new Rc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,zi.fromBase64String(n.resumeToken))}function kS(n,e){const t=pd(e.snapshotVersion),i=pd(e.lastLimboFreeSnapshotVersion);let r;r=Bs(e.target)?hD(n.Jt,e.target):O0(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function M_(n){const e=Yh({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?v0(e,e.limit,"L"):e}function j0(n,e){return new A_(e.largestBatchId,Kh(n.Jt,e.overlayMutation))}function CD(n,e){const t=e.path.lastSegment();return[n,Wi(e.path.popLast()),t]}class RS{getBundleMetadata(e,t){return TD(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Eo(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return TD(e).put({bundleId:(i=t).id,createTime:pd(ar(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return H0(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:M_(r.bundledQuery),readTime:Eo(r.readTime)};var r})}saveNamedQuery(e,t){return H0(e).put({name:(i=t).name,readTime:pd(ar(i.readTime)),bundledQuery:i.bundledQuery});var i}}function TD(n){return lr(n,"bundles")}function H0(n){return lr(n,"namedQueries")}class x_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new x_(e,t.uid||"")}getOverlay(e,t){return gd(e).get(CD(this.userId,t)).next(i=>i?j0(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new A_(t,u);r.push(this.Xt(e,f))}),pe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Wi(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(gd(e).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Jp(),a=Wi(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gd(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=j0(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Jp();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gd(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const I=j0(this.M,b);a.size()<r||I.largestBatchId===u?(a.set(I.getKey(),I),u=I.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return gd(e).put(function(i,r,a){const[u,f,_]=CD(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Zh(i.Jt,a.mutation)}}(this.M,this.userId,t))}}function gd(n){return lr(n,"documentOverlays")}class Il{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(oi(e.integerValue));else if("doubleValue"in e){const i=oi(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Lh(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Mc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?VE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),qe.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function sg(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function SD(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=sg(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Il.fe=new Il;class ID{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=SD(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=SD(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class AD{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class PS{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class N_{constructor(){this.De=new ID,this.Ce=new AD(this.De),this.xe=new PS(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Fa{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Fa(this.indexId,this.documentKey,this.arrayValue,i)}}function md(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=FS(n.arrayValue,e.arrayValue),0!==t?t:(t=FS(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function FS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class LS{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=d_(e);if(void 0!==t&&!this.Be(t))return!1;const i=Vh(e);let r=0,a=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class BS{constructor(){this.qe=new Pc}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class Pc{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Nn(ln.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nn(ln.comparator)).toArray()}}const og=new Uint8Array(0);class Xh{constructor(e){this.user=e,this.Ge=new Pc,this.Ke=new yt(t=>jh(t),(t,i)=>sd(t,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:i,parent:Wi(r)};return VS(e).put(a)}return pe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[s_(t),""],!1,!0);return VS(e).qt(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(na(u.parent))}return i})}addFieldIndex(e,t){const i=O_(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=O_(e),r=G0(e),a=ef(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=ef(e);let r=!0;const a=new Map;return pe.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=bn();return pe.forEach(a,(f,_)=>{var b;Ve("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Se=>`${Se.fieldPath}:${Se.kind}`).join(",")}`} to execute ${jh(t)}`);const T=function(Se,it){const Pe=d_(it);if(void 0===Pe)return null;for(const Je of h_(Se,Pe.fieldPath))switch(Je.op){case"array-contains-any":return Je.value.arrayValue.values||[];case"array-contains":return[Je.value]}return null}(_,f),I=function(Se,it){const Pe=new Map;for(const Je of Vh(it))for(const Ze of h_(Se,Je.fieldPath))switch(Ze.op){case"==":case"in":Pe.set(Je.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return Pe.set(Je.fieldPath.canonicalString(),Ze.value),Array.from(Pe.values())}return null}(_,f),k=function(Se,it){const Pe=[];let Je=!0;for(const Ct of Vh(it)){let At,hn=!0;for(const Ut of h_(Se,Ct.fieldPath)){let Ft,pi=!0;switch(Ut.op){case"<":case"<=":Ft="nullValue"in(Ze=Ut.value)?BE:"booleanValue"in Ze?{booleanValue:!1}:"integerValue"in Ze||"doubleValue"in Ze?{doubleValue:NaN}:"timestampValue"in Ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Ze?{stringValue:""}:"bytesValue"in Ze?{bytesValue:""}:"referenceValue"in Ze?id(Yo.empty(),qe.empty()):"geoPointValue"in Ze?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Ze?{arrayValue:{}}:"mapValue"in Ze?{mapValue:{}}:dt();break;case"==":case"in":case">=":Ft=Ut.value;break;case">":Ft=Ut.value,pi=!1;break;case"!=":case"not-in":Ft=BE}h0(At,Ft)===Ft&&(At=Ft,hn=pi)}if(null!==Se.startAt)for(let Ut=0;Ut<Se.orderBy.length;++Ut)if(Se.orderBy[Ut].field.isEqual(Ct.fieldPath)){const Ft=Se.startAt.position[Ut];h0(At,Ft)===Ft&&(At=Ft,hn=Se.startAt.inclusive);break}if(void 0===At)return null;Pe.push(At),Je&&(Je=hn)}var Ze;return new Nc(Pe,Je)}(_,f),B=function(Se,it){const Pe=[];let Je=!0;for(const Ct of Vh(it)){let At,hn=!0;for(const Ut of h_(Se,Ct.fieldPath)){let Ft,pi=!0;switch(Ut.op){case">=":case">":Ft="nullValue"in(Ze=Ut.value)?{booleanValue:!1}:"booleanValue"in Ze?{doubleValue:NaN}:"integerValue"in Ze||"doubleValue"in Ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Ze?{stringValue:""}:"stringValue"in Ze?{bytesValue:""}:"bytesValue"in Ze?id(Yo.empty(),qe.empty()):"referenceValue"in Ze?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Ze?{arrayValue:{}}:"arrayValue"in Ze?{mapValue:{}}:"mapValue"in Ze?a0:dt(),pi=!1;break;case"==":case"in":case"<=":Ft=Ut.value;break;case"<":Ft=Ut.value,pi=!1;break;case"!=":case"not-in":Ft=a0}UE(At,Ft)===Ft&&(At=Ft,hn=pi)}if(null!==Se.endAt)for(let Ut=0;Ut<Se.orderBy.length;++Ut)if(Se.orderBy[Ut].field.isEqual(Ct.fieldPath)){const Ft=Se.endAt.position[Ut];UE(At,Ft)===Ft&&(At=Ft,hn=Se.endAt.inclusive);break}if(void 0===At)return null;Pe.push(At),Je&&(Je=hn)}var Ze;return new Nc(Pe,Je)}(_,f),H=this.je(f,_,k),K=this.je(f,_,B),_e=this.We(f,_,I),je=this.ze(f.indexId,T,H,!!k&&k.inclusive,K,!!B&&B.inclusive,_e);return pe.forEach(je,Se=>i.Kt(Se,t.limit).next(it=>{it.forEach(Pe=>{u=u.add(new qe(na(Pe.documentKey)))})}))}).next(()=>u)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=a?a.length:1),b=_/(null!=t?t.length:1),T=[];for(let I=0;I<_;++I){const k=t?this.He(t[I/b]):og,B=i?this.Je(e,k,i[I%b],r):this.Ye(e),H=a?this.Xe(e,k,a[I%b],u):this.Ye(e+1);T.push(...this.createRange(B,H,f.map(K=>this.Je(e,k,K,!0))))}return T}Je(e,t,i,r){const a=new Fa(e,qe.empty(),t,i);return r?a:a.ke()}Xe(e,t,i,r){const a=new Fa(e,qe.empty(),t,i);return r?a.ke():a}Ye(e){return new Fa(e,qe.empty(),og,og)}getFieldIndex(e,t){const i=new LS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{const u=a.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const i=new N_;for(const r of Vh(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Ne(r.kind);Il.fe.Zt(a,u)}return i.Se()}He(e){const t=new N_;return Il.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new N_);let a=0;for(const u of Vh(e)){const f=i[a++];for(const _ of r)if(this.tn(t,u.fieldPath)&&Bh(f))r=this.en(r,u,f);else{const b=_.Ne(u.kind);Il.fe.Zt(f,b)}}return this.nn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}nn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}en(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new N_;_.seed(f.Se()),Il.fe.Zt(u,_.Ne(t.kind)),a.push(_)}return a}tn(e,t){return!!e.filters.find(i=>i instanceof or&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=O_(e),r=G0(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(a=>{const u=[];return pe.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,T){const I=T?new Uh(T.sequenceNumber,new vl(Eo(T.readTime),new qe(na(T.documentKey)),T.largestBatchId)):Uh.empty(),k=b.fields.map(([B,H])=>new zp(vi.fromServerFormat(B),H));return new u_(b.indexId,b.collectionGroup,k,I)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=O_(e),a=G0(e);return this.sn(e).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>pe.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:pd((k=i).readTime),documentKey:Wi(k.documentKey.path),largestBatchId:k.largestBatchId});var k})))}updateIndexEntries(e,t){const i=new Map;return pe.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),pe.forEach(f,_=>this.rn(e,r,_).next(b=>{const T=this.on(a,_);return b.isEqual(T)?pe.resolve():this.un(e,a,b,T)}))))})}an(e,t,i){return ef(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Wi(t.key.path)})}cn(e,t,i){return ef(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Wi(t.key.path)])}rn(e,t,i){const r=ef(e);let a=new Nn(md);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Wi(t.path)])},(u,f)=>{a=a.add(new Fa(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let i=new Nn(md);const r=this.Ze(t,e);if(null==r)return i;const a=d_(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Bh(u))for(const f of u.arrayValue.values||[])i=i.add(new Fa(t.indexId,e.key,this.He(f),r))}else i=i.add(new Fa(t.indexId,e.key,og,r));return i}un(e,t,i,r){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(u,f,_,b,T){const I=u.getIterator(),k=f.getIterator();let B=Dl(I),H=Dl(k);for(;B||H;){let K=!1,_e=!1;if(B&&H){const je=_(B,H);je<0?_e=!0:je>0&&(K=!0)}else null!=B?_e=!0:K=!0;K?(b(H),H=Dl(k)):_e?(T(B),B=Dl(I)):(B=Dl(I),H=Dl(k))}}(i,r,md,u=>{a.push(this.an(e,t,u))},u=>{a.push(this.cn(e,t,u))}),pe.waitFor(a)}sn(e){let t=1;return G0(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>md(u,f)).filter((u,f,_)=>!f||0!==md(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=md(u,e),_=md(u,t);if(0===f)r[0]=e.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return a}}function VS(n){return lr(n,"collectionParents")}function ef(n){return lr(n,"indexEntries")}function O_(n){return lr(n,"indexConfiguration")}function G0(n){return lr(n,"indexState")}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function z0(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Wt({range:u},(T,I,k)=>(f++,k.delete()));a.push(_.next(()=>{Pt(1===f)}));const b=[];for(const T of t.mutations){const I=T_(e,T.key.path,t.batchId);a.push(r.delete(I)),b.push(T.key)}return pe.waitFor(a).next(()=>b)}function tf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class k_{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(e,t,i,r){Pt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new k_(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).Wt({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=_d(e),u=Al(e);return u.add({}).next(f=>{Pt("number"==typeof f);const _=new I_(f,t,i,r),b=function(k,B,H){const K=H.baseMutations.map(je=>Zh(k.Jt,je)),_e=H.mutations.map(je=>Zh(k.Jt,je));return{userId:B,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:K,mutations:_e}}(this.M,this.userId,_),T=[];let I=new Nn((k,B)=>Zt(k.canonicalString(),B.canonicalString()));for(const k of r){const B=T_(this.userId,k.key.path,f);I=I.add(k.key.path.popLast()),T.push(u.put(b)),T.push(a.put(B,bS))}return I.forEach(k=>{T.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Al(e).get(t).next(i=>i?(Pt(i.userId===this.userId),Pa(this.M,i)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.hn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Al(e).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Pt(f.batchId>=i),a=Pa(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Al(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).qt("userMutationsIndex",t).next(i=>i.map(r=>Pa(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=C_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return _d(e).Wt({range:r},(u,f,_)=>{const[b,T,I]=u,k=na(T);if(b===this.userId&&t.path.isEqual(k))return Al(e).get(I).next(B=>{if(!B)throw dt();Pt(B.userId===this.userId),a.push(Pa(this.M,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(Zt);const r=[];return t.forEach(a=>{const u=C_(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=_d(e).Wt({range:f},(b,T,I)=>{const[k,B,H]=b,K=na(B);k===this.userId&&a.path.isEqual(K)?i=i.add(H):I.done()});r.push(_)}),pe.waitFor(r).next(()=>this.fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=C_(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Nn(Zt);return _d(e).Wt({range:u},(_,b,T)=>{const[I,k,B]=_,H=na(k);I===this.userId&&i.isPrefixOf(H)?H.length===r&&(f=f.add(B)):T.done()}).next(()=>this.fn(e,f))}fn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Al(e).get(a).next(u=>{if(null===u)throw dt();Pt(u.userId===this.userId),i.push(Pa(this.M,u))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return z0(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return _d(e).Wt({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=na(a[1]);r.push(_)}else f.done()}).next(()=>{Pt(0===r.length)})})}containsKey(e,t){return q0(e,this.userId,t)}_n(e){return MD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function q0(n,e,t){const i=C_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return _d(n).Wt({range:a,jt:!0},(f,_,b)=>{const[T,I,k]=f;T===e&&I===r&&(u=!0),b.done()}).next(()=>u)}function Al(n){return lr(n,"mutations")}function _d(n){return lr(n,"documentMutations")}function MD(n){return lr(n,"mutationQueues")}class yd{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new yd(0)}static gn(){return new yd(-1)}}class US{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const i=new yd(t.highestTargetId);return t.highestTargetId=i.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>kt.fromTimestamp(new yi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.yn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.pn(e,r)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(i=>(i.targetCount+=1,this.Tn(t,i),this.pn(e,i))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nf(e).delete(t.targetId)).next(()=>this.yn(e)).next(i=>(Pt(i.targetCount>0),i.targetCount-=1,this.pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return nf(e).Wt((u,f)=>{const _=rg(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>pe.waitFor(a)).next(()=>r)}forEachTarget(e,t){return nf(e).Wt((i,r)=>{const a=rg(r);t(a)})}yn(e){return xD(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}pn(e,t){return xD(e).put("targetGlobalKey",t)}In(e,t){return nf(e).put(kS(this.M,t))}Tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=jh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return nf(e).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=rg(f);sd(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Fc(e);return t.forEach(u=>{const f=Wi(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),pe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Fc(e);return pe.forEach(t,a=>{const u=Wi(a.path);return pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Fc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fc(e);let a=bn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const b=na(u[1]),T=new qe(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const i=Wi(t.path),r=IDBKeyRange.bound([i],[s_(i)],!1,!0);let a=0;return Fc(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return nf(e).get(t).next(i=>i?rg(i):null)}}function nf(n){return lr(n,"targets")}function xD(n){return lr(n,"targetGlobal")}function Fc(n){return lr(n,"targetDocuments")}function ra(n){return R_.apply(this,arguments)}function R_(){return R_=(0,we.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==L0)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),R_.apply(this,arguments)}function W0([n,e],[t,i]){const r=Zt(n,t);return 0===r?Zt(e,i):r}class ND{constructor(e){this.En=e,this.buffer=new Nn(W0),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();W0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const i=this.Pn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Tl(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ra(r)}yield t.vn(e)}))}}class kD{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Ls.A);const i=new ND(t);return this.Sn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Sn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve($0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let i,r,a,u,f,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(b=Date.now(),e0()<=_c.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${I} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:I})))}}class RD{constructor(e,t){this.db=e,this.garbageCollector=new kD(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Nn(e){let t=0;return this.Cn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(i,r)=>t(r))}addReference(e,t,i){return P_(e,i)}removeReference(e,t,i){return P_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return P_(e,t)}Mn(e,t){return function(i,r){let a=!1;return MD(i).zt(u=>q0(i,u,r).next(f=>(f&&(a=!0),pe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.kn(e,(u,f)=>{if(f<=t){const _=this.Mn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,kt.min()),Fc(e).delete([0,Wi(u.path)])))});r.push(_)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return P_(e,t)}kn(e,t){const i=Fc(e);let r,a=Ls.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Ls.A&&t(new qe(na(r)),a),a=b,r=_):a=Ls.A}).next(()=>{a!==Ls.A&&t(new qe(na(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function P_(n,e){return Fc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wi(e.path),sequenceNumber:i}));var i}class Z0{constructor(){this.changes=new yt(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jS{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return vd(e).put(i)}removeEntry(e,t,i){return vd(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fd(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.On(e,i)))}getEntry(e,t){let i=Wn.newInvalidDocument(t);return vd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ml(t))},(r,a)=>{i=this.Fn(t,a)}).next(()=>i)}$n(e,t){let i={size:0,document:Wn.newInvalidDocument(t)};return vd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ml(t))},(r,a)=>{i={document:this.Fn(t,a),size:tf(a)}}).next(()=>i)}getEntries(e,t){let i=dn();return this.Bn(e,t,(r,a)=>{const u=this.Fn(r,a);i=i.insert(r,u)}).next(()=>i)}Ln(e,t){let i=dn(),r=new wi(qe.comparator);return this.Bn(e,t,(a,u)=>{const f=this.Fn(a,u);i=i.insert(a,f),r=r.insert(a,tf(u))}).next(()=>({documents:i,Un:r}))}Bn(e,t,i){if(t.isEmpty())return pe.resolve();let r=new Nn(F_);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Ml(r.first()),Ml(r.last())),u=r.getIterator();let f=u.getNext();return vd(e).Wt({index:"documentKeyIndex",range:a},(_,b,T)=>{const I=qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&F_(f,I)<0;)i(f,null),f=u.getNext();f&&f.isEqual(I)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?T.Ut(Ml(f)):T.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),fd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vd(e).qt(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=dn();for(const _ of u){const b=this.Fn(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=dn();const u=FD(t,i),f=FD(t,vl.max());return vd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,T)=>{const I=this.Fn(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(I.key,I),a.size===r&&T.done()}).next(()=>a)}newChangeBuffer(e){return new HS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PD(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}On(e,t){return PD(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const i=function HM(n,e){let t;if(e.document)t=hS(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qe.fromSegments(e.noDocument.path),r=Eo(e.noDocument.readTime);t=Wn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=qe.fromSegments(e.unknownDocument.path),r=Eo(e.unknownDocument.version);t=Wn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new yi(i[0],i[1]);return kt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return Wn.newInvalidDocument(e)}}class HS extends Z0{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new yt(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Nn((a,u)=>Zt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=DD(this.qn.M,u);r=r.add(a.path.popLast()),i+=tf(_)-f.size,t.push(this.qn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=DD(this.qn.M,u.convertToNoDocument(kt.min()));t.push(this.qn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,i)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:i,Un:r})=>(r.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function PD(n){return lr(n,"remoteDocumentGlobal")}function vd(n){return lr(n,"remoteDocumentsV14")}function Ml(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FD(n,e){const t=e.documentKey.path.toArray();return[n,fd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function F_(n,e){const t=n.path.length-e.path.length;return 0!==t?t:qe.comparator(n,e)}class La{constructor(e){this.M=e}kt(e,t,i,r){const a=new ig("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R0,{unique:!0}),f.createObjectStore("documentMutations"),LD(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),LD(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R0,{unique:!0});const T=_.store("mutations"),I=b.map(k=>T.put(k));return pe.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Kn(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),i<7&&r>=7&&(u=u.next(()=>this.jn(a))),i<8&&r>=8&&(u=u.next(()=>this.Wn(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.zn(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:AS});_.createIndex("collectionPathOverlayIndex",MS,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",xS,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:gD});_.createIndex("documentKeyIndex",mD),_.createIndex("collectionGroupIndex",wS)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:_D}).createIndex("sequenceNumberIndex",TS,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:SS}).createIndex("documentKeyIndex",IS,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=tf(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>pe.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>pe.forEach(f,_=>{Pt(_.userId===a.userId);const b=Pa(this.M,_);return z0(e,a.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Wt((u,f)=>{const _=new ln(u),b=[0,Wi(_)];a.push(t.get(b).next(T=>T?pe.resolve():t.put({targetId:0,path:Wi(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:CS});const i=t.store("collectionParents"),r=new Pc,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Wi(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new ln(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const T=na(f);return a(T.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((i,r)=>{const a=rg(r),u=kS(this.M,a);return t.put(u)})}Hn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new qe(ln.fromString(b.document.name).popFirst(5)):b.noDocument?qe.fromSegments(b.noDocument.path):b.unknownDocument?qe.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(T))}).next(()=>pe.waitFor(r))}}function LD(n){n.createObjectStore("targetDocuments",{keyPath:DS}).createIndex("documentTargetsIndex",P0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ES,{unique:!0}),n.createObjectStore("targetGlobal")}const rf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bd{constructor(e,t,i,r,a,u,f,_,b,T,I=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Jn=a,this.window=u,this.document=f,this.Yn=b,this.Xn=T,this.Zn=I,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=k=>Promise.resolve(),!bd.vt())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RD(this,r),this.cs=t+"main",this.M=new U0(_),this.hs=new ia(this.cs,this.Zn,new La(this.M)),this.ls=new US(this.referenceDelegate,this.M),this.fs=new jS(this.M),this.ds=new RS,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&Gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,rf);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ls(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>L_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Tl(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return ag(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return L_(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=lr(i,"clientMetadata");return r.qt().next(a=>{const u=e.Ss(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return pe.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const i of t)e._s.removeItem(e.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):ag(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,rf);return!1}}return!(!this.networkEnabled||!this.inForeground)||L_(e).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new S_(t,Ls.A);return e.As(i).next(()=>e.Ps(i))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(i=>this.vs(i.updateTimeMs,t)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>L_(e).qt().next(t=>this.Ss(t,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(e,t){return k_.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Xh(e)}getDocumentOverlayCache(e){return x_.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=14===(u=this.Zn)?vD:13===u?F0:12===u?NS:11===u?yD:void dt();var u;let f;return this.hs.runTransaction(e,r,a,_=>(f=new S_(_,this.ts?this.ts.next():Ls.A),"readwrite-primary"===t?this.Ts(f).next(b=>!!b||this.Es(f)).next(b=>{if(!b)throw Gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Re(de.FAILED_PRECONDITION,L0);return i(f)}).next(b=>this.Rs(f).next(()=>b)):this.Fs(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return ag(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,rf)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ag(e).put("owner",t)}static vt(){return ia.vt()}As(e){const t=ag(e);return t.get("owner").next(i=>this.bs(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const i=Date.now();return!(e<i-t||e>i&&(Gi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const i=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Gi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ag(n){return lr(n,"owner")}function L_(n){return lr(n,"clientMetadata")}function K0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class B_{constructor(e,t,i){this.fs=e,this.$s=t,this.indexManager=i}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Ls(e,t,i))}Ls(e,t,i){return this.fs.getEntry(e,t).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}Us(e,t){e.forEach((i,r)=>{for(const a of t)a.applyToLocalView(r)})}qs(e,t){return this.fs.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Us(t,i))}Ks(e,t,i){return qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):Wp(t)?this.js(e,t,i):this.Ws(e,t,i);var r}Qs(e,t){return this.Bs(e,new qe(t)).next(i=>{let r=E_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(e,t,i){const r=t.collectionGroup;let a=E_();return this.indexManager.getCollectionParents(e,r).next(u=>pe.forEach(u,f=>{const _=(b=t,T=f.child(r),new bl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.Ws(e,_,i).next(b=>{b.forEach((T,I)=>{a=a.insert(T,I)})})}).next(()=>a))}Ws(e,t,i){let r;return this.fs.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const _=f.key;let b=r.get(_);null==b&&(b=Wn.newInvalidDocument(_),r=r.insert(_,b)),v_(f,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((a,u)=>{__(t,u)||(r=r.remove(a))}),r))}}class sf{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.zs=i,this.Hs=r}static Js(e,t){let i=bn(),r=bn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new sf(e,t.fromCache,i,r)}}class BD{Ys(e){this.Xs=e}Ks(e,t,i,r){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(kt.min())?this.Zs(e,t):this.Xs.qs(e,r).next(a=>{const u=this.ti(t,a);return(ad(t)||f_(t))&&this.ei(t.limitType,u,r,i)?this.Zs(e,t):(e0()<=_c.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),m_(t)),this.Xs.Ks(e,t,rd(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ti(e,t){let i=new Nn(E0(e));return t.forEach((r,a)=>{__(e,a)&&(i=i.add(a))}),i}ei(e,t,i,r){if(i.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Zs(e,t){return e0()<=_c.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",m_(t)),this.Xs.Ks(e,t,vl.min())}}class GS{constructor(e,t,i,r){this.persistence=e,this.ni=t,this.M=r,this.si=new wi(Zt),this.ii=new yt(a=>jh(a),sd),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(i)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new B_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Y0(n,e,t,i){return new GS(n,e,t,i)}function J0(n,e){return lg.apply(this,arguments)}function lg(){return lg=(0,we.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.$s.getAllMutationBatches(i).next(a=>(r=a,t.ui(e),t.$s.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=bn();for(const b of r){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.ai.qs(i,_).next(b=>({ci:b,removedBatchIds:u,addedBatchIds:f}))})})}),lg.apply(this,arguments)}function VD(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const T=_.batch,I=T.keys();let k=pe.resolve();return I.forEach(B=>{k=k.next(()=>b.getEntry(f,B)).next(H=>{const K=_.docVersions.get(B);Pt(null!==K),H.version.compareTo(K)<0&&(T.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),b.addEntry(H)))})}),k.next(()=>u.$s.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.$s.performConsistencyCheck(i)).next(()=>t.ai.qs(i,r))})}function UD(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function $S(n,e){const t=Xe(n),i=e.snapshotVersion;let r=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});r=t.si;const f=[];e.targetChanges.forEach((b,T)=>{const I=r.get(T);if(!I)return;f.push(t.ls.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.ls.addMatchingKeys(a,b.addedDocuments,T)));let k=I.withSequenceNumber(a.currentSequenceNumber);var B,H,K;e.targetMismatches.has(T)?k=k.withResumeToken(zi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,i)),r=r.insert(T,k),H=k,K=b,(0===(B=I).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,k))});let _=dn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(zS(a,u,e.documentUpdates).next(b=>{_=b})),!i.isEqual(kt.min())){const b=t.ls.getLastRemoteSnapshotVersion(a).next(T=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return pe.waitFor(f).next(()=>u.apply(a)).next(()=>t.ai.Gs(a,_)).next(()=>_)}).then(a=>(t.si=r,a))}function zS(n,e,t){let i=bn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let a=dn();return t.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(kt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Ve("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),a})}function Q0(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(i,e)))}function Lc(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ls.getTargetData(i,e).next(a=>a?(r=a,pe.resolve(r)):t.ls.allocateTargetId(i).next(u=>(r=new Rc(e,u,0,i.currentSequenceNumber),t.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.si=t.si.insert(i.targetId,i),t.ii.set(e,i.targetId)),i})}function wd(n,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=i.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Tl(u))throw u;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.si=i.si.remove(e),i.ii.delete(r.target)}),cg.apply(this,arguments)}function af(n,e,t){const i=Xe(n);let r=kt.min(),a=bn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const T=Xe(f),I=T.ii.get(b);return void 0!==I?pe.resolve(T.si.get(I)):T.ls.getTargetData(_,b)}(i,u,Vs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.ni.Ks(u,e,t?r:kt.min(),t?a:bn())).next(f=>(GD(i,w0(e),f),{documents:f,hi:a})))}function jD(n,e){const t=Xe(n),i=Xe(t.ls),r=t.si.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,e).next(u=>u?u.target:null))}function HD(n,e){const t=Xe(n),i=t.ri.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.oi.getAllFromCollectionGroup(r,e,rd(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GD(t,e,r),r))}function GD(n,e,t){let i=kt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ri.set(e,i)}function V_(){return V_=(0,we.Z)(function*(n,e,t,i){const r=Xe(n);let a=bn(),u=dn();for(const b of t){const T=e.li(b.metadata.name);b.document&&(a=a.add(T));const I=e.fi(b);I.setReadTime(e.di(b.metadata.readTime)),u=u.insert(T,I)}const f=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield Lc(r,(b=i,Vs(od(ln.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>zS(b,f,u).next(T=>(f.apply(b),T)).next(T=>r.ls.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.ls.addMatchingKeys(b,a,_.targetId)).next(()=>r.ai.Gs(b,T)).next(()=>T)))}),V_.apply(this,arguments)}function X0(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,we.Z)(function*(n,e,t=bn()){const i=yield Lc(n,Vs(M_(e.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=ar(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.ds.saveNamedQuery(a,e);const f=i.withResumeToken(zi.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(f.targetId,f),r.ls.updateTargetData(a,f).next(()=>r.ls.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.ls.addMatchingKeys(a,t,i.targetId)).next(()=>r.ds.saveNamedQuery(a,e))})}),U_.apply(this,arguments)}class $D{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var i;return this._i.set(t.id,{id:(i=t).id,version:i.version,createTime:ar(i.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(i=t).name,query:M_(i.bundledQuery),readTime:ar(i.readTime)}),pe.resolve();var i}}class zD{constructor(){this.overlays=new wi(qe.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Xt(e,t,a)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const r=Jp(),a=t.length+1,u=new qe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return pe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new wi((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let T=a.get(b.largestBatchId);null===T&&(T=Jp(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=Jp(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=r)););return pe.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new A_(t,i));let a=this.mi.get(t);void 0===a&&(a=bn(),this.mi.set(t,a)),this.mi.set(t,a.add(i.key))}}class j_{constructor(){this.gi=new Nn(cr.yi),this.pi=new Nn(cr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const i=new cr(e,t);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ei(new cr(e,t))}Ai(e,t){e.forEach(i=>this.removeReference(i,t))}Ri(e){const t=new qe(new ln([])),i=new cr(t,e),r=new cr(t,e+1),a=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),a.push(u.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new qe(new ln([])),i=new cr(t,e),r=new cr(t,e+1);let a=bn();return this.pi.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new cr(e,0),i=this.gi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class cr{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return qe.comparator(e.key,t.key)||Zt(e.Vi,t.Vi)}static Ii(e,t){return Zt(e.Vi,t.Vi)||qe.comparator(e.key,t.key)}}class qD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Nn(cr.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,i,r){const a=this.vi;this.vi++;const u=new I_(a,t,i,r);this.$s.push(u);for(const f of r)this.Si=this.Si.add(new cr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ci(t+1),a=r<0?0:r;return pe.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cr(t,0),r=new cr(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([i,r],u=>{const f=this.Di(u.Vi);a.push(f)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(Zt);return t.forEach(r=>{const a=new cr(r,0),u=new cr(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,u],f=>{i=i.add(f.Vi)})}),pe.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;qe.isDocumentKey(a)||(a=a.child(""));const u=new cr(new qe(a),0);let f=new Nn(Zt);return this.Si.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.Vi)),!0)},u),pe.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(i=>{const r=this.Di(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Pt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let i=this.Si;return pe.forEach(t.mutations,r=>{const a=new cr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const i=new cr(t,0),r=this.Si.firstAfterOrEqual(i);return pe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class WD{constructor(e){this.ki=e,this.docs=new wi(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ki(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let i=dn();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Wn.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(e,t,i){let r=dn();const a=new qe(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||jE(JT(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}Mi(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WS(this)}getSize(e){return pe.resolve(this.size)}}class WS extends Z0{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.qn.addEntry(e,r)):this.qn.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class ZD{constructor(e){this.persistence=e,this.Oi=new yt(t=>jh(t),sd),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new j_,this.targetCount=0,this.Bi=yd.mn()}forEachTarget(e,t){return this.Oi.forEach((i,r)=>t(r)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new yd(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),pe.waitFor(a).next(()=>r)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Oi.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.$i.Ti(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.$i.Ai(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.$i.Pi(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class KD{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ls(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new ZD(this),this.indexManager=new BS,this.fs=new WD(i=>this.referenceDelegate.Ui(i)),this.M=new U0(t),this.ds=new $D(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Li[e.toKey()];return i||(i=new qD(t,this.referenceDelegate),this.Li[e.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new es(this.ts.next());return this.referenceDelegate.qi(),i(r).next(a=>this.referenceDelegate.Gi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ki(e,t){return pe.or(Object.values(this.Li).map(i=>()=>i.containsKey(e,t)))}}class es extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Bc{constructor(e){this.persistence=e,this.Qi=new j_,this.ji=null}static Wi(e){return new Bc(e)}get zi(){if(this.ji)return this.ji;throw dt()}addReference(e,t,i){return this.Qi.addReference(i,t),this.zi.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Qi.removeReference(i,t),this.zi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,i=>{const r=qe.fromPath(i);return this.Hi(e,r).next(a=>{a||t.removeEntry(r,kt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(i=>{i?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function YD(n,e){return`firestore_clients_${n}_${e}`}function JD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function QD(n,e){return`firestore_targets_${n}_${e}`}class Vc{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Re(r.error.code,r.error.message))),u?new Vc(e,t,r.state,a):(Gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ug{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Re(i.error.code,i.error.message))),a?new ug(e,i.state,r):(Gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Qp();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=o0(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new lf(e,a):(Gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eb(t.clientId,t.onlineState):(Gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class H_{constructor(){this.activeTargetIds=Qp()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tb{constructor(e,t,i,r,a){this.window=e,this.Jn=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new wi(Zt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=YD(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new H_),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const r of t){if(r===e.tr)continue;const a=e.getItem(YD(e.persistenceKey,r));if(a){const u=lf.Ji(r,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(QD(this.persistenceKey,e));if(i){const r=ug.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QD(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.ar.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.cr.test(i.key)){if(null!==i.newValue){const r=t.Vr(i.key,i.newValue);if(r)return t.vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let u=Ls.A;if(null!=a)try{const f=JSON.parse(a);Pt("number"==typeof f),u=f}catch(f){Gi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Ls.A&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new Vc(this.currentUser,e,t,i),a=JD(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=JD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=QD(this.persistenceKey,e),a=new ug(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return lf.Ji(i,t)}Vr(e,t){const i=this.cr.exec(e),r=Number(i[1]);return Vc.Ji(new yr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return ug.Ji(r,t)}wr(e){return eb.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Qp();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class XD{constructor(){this.Fr=new H_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new H_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nb{Br(e){}shutdown(){}}class ib{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class rb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const u=this.oo(e,t);Ve("RestConnection","Sending: ",u,i);const f={};return this.uo(f,r,a),this.ao(e,u,f,i).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw Up("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}co(e,t,i,r,a){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${eC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,i,r){return new Promise((a,u)=>{const f=new GT;f.listenOnce(HT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Xv.NO_ERROR:const b=f.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Xv.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),u(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case Xv.HTTP_ERROR:const T=f.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const k=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(I.status);u(new Re(k,I.message))}else u(new Re(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xE(),u=NE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new RE({})),this.uo(f.initMessageHeaders,t,i),(0,tn.uI)()||(0,tn.b$)()||(0,tn.d)()||(0,tn.w1)()||(0,tn.Mn)()||(0,tn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ve("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let T=!1,I=!1;const k=new G_({jr:H=>{I?Ve("Connection","Not sending because WebChannel is closed:",H):(T||(Ve("Connection","Opening WebChannel transport."),b.open(),T=!0),Ve("Connection","WebChannel sending:",H),b.send(H))},Wr:()=>b.close()}),B=(H,K,_e)=>{H.listen(K,je=>{try{_e(je)}catch(Se){setTimeout(()=>{throw Se},0)}})};return B(b,i_.EventType.OPEN,()=>{I||Ve("Connection","WebChannel transport opened.")}),B(b,i_.EventType.CLOSE,()=>{I||(I=!0,Ve("Connection","WebChannel transport closed"),k.eo())}),B(b,i_.EventType.ERROR,H=>{I||(I=!0,Up("Connection","WebChannel transport errored:",H),k.eo(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),B(b,i_.EventType.MESSAGE,H=>{var K;if(!I){const _e=H.data[0];Pt(!!_e);const je=_e,Se=je.error||(null===(K=je[0])||void 0===K?void 0:K.error);if(Se){Ve("Connection","WebChannel received error:",Se);const it=Se.status;let Pe=function(Ze){const Ct=qi[Ze];if(void 0!==Ct)return oS(Ct)}(it),Je=Se.message;void 0===Pe&&(Pe=de.INTERNAL,Je="Unknown error status: "+it+" with message "+Se.message),I=!0,k.eo(new Re(Pe,Je)),b.close()}else Ve("Connection","WebChannel received:",_e),k.no(_e)}}),B(u,OE.STAT_EVENT,H=>{H.stat===kE.PROXY?Ve("Connection","Detected buffering proxy"):H.stat===kE.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.Zr()},0),k}}function ZS(){return"undefined"!=typeof window?window:null}function dg(){return"undefined"!=typeof document?document:null}function hg(n){return new cS(n,!0)}class $_{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class fg{constructor(e,t,i,r,a,u,f,_){this.Jn=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new $_(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Gi(t.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Re(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tC extends fg{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function jM(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.N?(Pt(void 0===b||"string"==typeof b),zi.fromBase64String(b||"")):(Pt(void 0===b||b instanceof Uint8Array),zi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?de.UNKNOWN:oS(_.code);return new Re(b,_.message||"")}(u);t=new aD(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=ta(n,i.document.name),a=ar(i.document.updateTime),u=new cn({mapValue:{fields:i.document.fields}}),f=Wn.newFoundDocument(r,a,u);t=new D_(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=ta(n,i.document),a=i.readTime?ar(i.readTime):kt.min(),u=Wn.newNoDocument(r,a);t=new D_([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=ta(n,i.document);t=new D_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,a=new T0(i.count||0);t=new zh(i.targetId,a)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return kt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?kt.min():a.readTime?ar(a.readTime):kt.min()}(e);return this.listener.Ko(t,i)}Qo(e){const t={};t.database=ng(this.M),t.addTarget=function(r,a){let u;const f=a.target;return u=Bs(f)?{documents:hD(r,f)}:{query:O0(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=qh(r,a.resumeToken):a.snapshotVersion.compareTo(kt.min())>0&&(u.readTime=Cl(r,a.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function pS(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=ng(this.M),t.removeTarget=e,this.Oo(t)}}class KS extends fg{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function fS(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(i,r){let a=ar(i.updateTime?i.updateTime:r);return a.isEqual(kt.min())&&(a=ar(r)),new QE(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.Jo(i,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=ng(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Zh(this.M,i))};this.Oo(t)}}class sb extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}co(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class ob{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Gi(t),this.su=!1):Ve("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class GM{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;Uc(u)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(b){const T=Xe(b);T.lu.add(4),yield Ed(T),T._u.set("Unknown"),T.lu.delete(4),yield pg(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this._u=new ob(i,r)}}function pg(n){return ab.apply(this,arguments)}function ab(){return ab=(0,we.Z)(function*(n){if(Uc(n))for(const e of n.fu)yield e(!0)}),ab.apply(this,arguments)}function Ed(n){return z_.apply(this,arguments)}function z_(){return z_=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),z_.apply(this,arguments)}function q_(n,e){const t=Xe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Z_(t)?lb(t):Dd(t).Co()&&W_(t,e))}function cf(n,e){const t=Xe(n),i=Dd(t);t.hu.delete(e),i.Co()&&nC(t,e),0===t.hu.size&&(i.Co()?i.ko():Uc(t)&&t._u.set("Unknown"))}function W_(n,e){n.wu.Z(e.targetId),Dd(n).Qo(e)}function nC(n,e){n.wu.Z(e),Dd(n).jo(e)}function lb(n){n.wu=new lS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Dd(n).start(),n._u.iu()}function Z_(n){return Uc(n)&&!Dd(n).Do()&&n.hu.size>0}function Uc(n){return 0===Xe(n).lu.size}function cb(n){n.wu=void 0}function iC(n){return K_.apply(this,arguments)}function K_(){return K_=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{W_(n,e)})}),K_.apply(this,arguments)}function rC(n,e){return ub.apply(this,arguments)}function ub(){return ub=(0,we.Z)(function*(n,e){cb(n),Z_(n)?(n._u.uu(e),lb(n)):n._u.set("Unknown")}),ub.apply(this,arguments)}function YS(n,e,t){return sC.apply(this,arguments)}function sC(){return sC=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof aD&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield gg(n,i)}else if(e instanceof D_?n.wu.ut(e):e instanceof zh?n.wu._t(e):n.wu.ht(e),!t.isEqual(kt.min()))try{const i=yield UD(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.hu.get(_);b&&r.hu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(zi.EMPTY_BYTE_STRING,_.snapshotVersion)),nC(r,f);const b=new Rc(_.target,f,1,_.sequenceNumber);W_(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield gg(n,i)}var i}),sC.apply(this,arguments)}function gg(n,e,t){return oC.apply(this,arguments)}function oC(){return oC=(0,we.Z)(function*(n,e,t){if(!Tl(e))throw e;n.lu.add(1),yield Ed(n),n._u.set("Offline"),t||(t=()=>UD(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield pg(n)}))}),oC.apply(this,arguments)}function JS(n,e){return e().catch(t=>gg(n,t,e))}function mg(n){return aC.apply(this,arguments)}function aC(){return aC=(0,we.Z)(function*(n){const e=Xe(n),t=jc(e);let i=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;$M(e);)try{const r=yield Q0(e.localStore,i);if(null===r){0===e.cu.length&&t.ko();break}i=r.batchId,zM(e,r)}catch(r){yield gg(e,r)}QS(e)&&XS(e)}),aC.apply(this,arguments)}function $M(n){return Uc(n)&&n.cu.length<10}function zM(n,e){n.cu.push(e);const t=jc(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function QS(n){return Uc(n)&&!jc(n).Do()&&n.cu.length>0}function XS(n){jc(n).start()}function Y_(n){return lC.apply(this,arguments)}function lC(){return lC=(0,we.Z)(function*(n){jc(n).Xo()}),lC.apply(this,arguments)}function cC(n){return _g.apply(this,arguments)}function _g(){return _g=(0,we.Z)(function*(n){const e=jc(n);for(const t of n.cu)e.Ho(t.mutations)}),_g.apply(this,arguments)}function uC(n,e,t){return J_.apply(this,arguments)}function J_(){return J_=(0,we.Z)(function*(n,e,t){const i=n.cu.shift(),r=V0.from(i,e,t);yield JS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield mg(n)}),J_.apply(this,arguments)}function qM(n,e){return yg.apply(this,arguments)}function yg(){return yg=(0,we.Z)(function*(n,e){var t;e&&jc(n).zo&&(yield(t=(0,we.Z)(function*(i,r){if(S0(a=r.code)&&a!==de.ABORTED){const u=i.cu.shift();jc(i).No(),yield JS(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield mg(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),QS(n)&&XS(n)}),yg.apply(this,arguments)}function db(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,we.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Uc(t);t.lu.add(3),yield Ed(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield pg(t)}),Q_.apply(this,arguments)}function X_(n,e){return dC.apply(this,arguments)}function dC(){return dC=(0,we.Z)(function*(n,e){const t=Xe(n);e?(t.lu.delete(2),yield pg(t)):e||(t.lu.add(2),yield Ed(t),t._u.set("Unknown"))}),dC.apply(this,arguments)}function Dd(n){return n.mu||(n.mu=function(e,t,i){const r=Xe(e);return r.tu(),new tC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:iC.bind(null,n),Jr:rC.bind(null,n),Ko:YS.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),Z_(n)?lb(n):n._u.set("Unknown")):(yield n.mu.stop(),cb(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function jc(n){return n.gu||(n.gu=function(e,t,i){const r=Xe(e);return r.tu(),new KS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:Y_.bind(null,n),Jr:qM.bind(null,n),Yo:cC.bind(null,n),Jo:uC.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield mg(n)):(yield n.gu.stop(),n.cu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class vg{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new vg(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(n,e){if(Gi("AsyncQueue",`${e}: ${n}`),Tl(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class bg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qe.comparator(t.key,i.key):(t,i)=>qe.comparator(t.key,i.key),this.keyedMap=E_(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new bg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class eI{constructor(){this.yu=new wi(qe.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class wg{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new wg(e,t,bg.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class tI{constructor(){this.Iu=void 0,this.listeners=[]}}class nI{constructor(){this.queries=new yt(e=>b0(e),Hh),this.onlineState="Unknown",this.Tu=new Set}}function hb(n,e){return hC.apply(this,arguments)}function hC(){return hC=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new tI),r)try{a.Iu=yield t.onListen(i)}catch(u){const f=uf(u,`Initialization of query '${m_(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&pb(t)}),hC.apply(this,arguments)}function fb(n,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Eg.apply(this,arguments)}function iI(n,e){const t=Xe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Au(r)&&(i=!0);u.Iu=r}}i&&pb(t)}function sa(n,e,t){const i=Xe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function pb(n){n.Tu.forEach(e=>{e.next()})}class Dg{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new wg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=wg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class rI{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class fC{constructor(e){this.M=e}li(e){return ta(this.M,e)}fi(e){return e.metadata.exists?hS(this.M,e.document,!1):Wn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ar(e)}}class gb{constructor(e,t,i){this.xu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mb(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=ln.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new fC(this.M);for(const r of e)if(r.metadata.queries){const a=i.li(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||bn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function qS(n,e,t,i){return V_.apply(this,arguments)}(e.localStore,new fC(e.M),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield X0(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function mb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _b{constructor(e){this.key=e}}class pC{constructor(e){this.key=e}}class yb{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=bn(),this.mutatedKeys=bn(),this.Lu=E0(e),this.Uu=new bg(this.Lu)}get qu(){return this.Fu}Gu(e,t){const i=t?t.Ku:new eI,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=ad(this.query)&&r.size===this.query.limit?r.last():null,b=f_(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,I)=>{const k=r.get(T),B=__(this.query,I)?I:null,H=!!k&&this.mutatedKeys.has(k.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;k&&B?k.data.isEqual(B.data)?H!==K&&(i.track({type:3,doc:B}),_e=!0):this.Qu(k,B)||(i.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||b&&this.Lu(B,b)<0)&&(f=!0)):!k&&B?(i.track({type:0,doc:B}),_e=!0):k&&!B&&(i.track({type:1,doc:k}),_e=!0,(_||b)&&(f=!0)),_e&&(B?(u=u.add(B),a=K?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),ad(this.query)||f_(this.query))for(;u.size>this.query.limit;){const T=ad(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),i.track({type:1,doc:T})}return{Uu:u,Ku:i,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((b,T)=>function(I,k){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return B(I)-B(k)}(b.type,T.type)||this.Lu(b.doc,T.doc)),this.ju(i);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new wg(this.query,e.Uu,r,a,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new eI,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=bn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new pC(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new _b(i))}),t}Ju(e){this.Fu=e.hi,this.Bu=bn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return wg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class gC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sI{constructor(e){this.key=e,this.Xu=!1}}class oI{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new yt(f=>b0(f),Hh),this.ea=new Map,this.na=new Set,this.sa=new wi(qe.comparator),this.ia=new Map,this.ra=new j_,this.oa={},this.ua=new Map,this.aa=yd.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function vb(n,e){return js.apply(this,arguments)}function js(){return js=(0,we.Z)(function*(n,e){const t=hf(n);let i,r;const a=t.ta.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield Lc(t.localStore,Vs(e));t.isPrimaryClient&&q_(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield bb(t,e,i,"current"===f)}return r}),js.apply(this,arguments)}function bb(n,e,t,i){return mC.apply(this,arguments)}function mC(){return mC=(0,we.Z)(function*(n,e,t,i){n.ha=(T,I,k)=>{return(B=(0,we.Z)(function*(H,K,_e,je){let Se=K.view.Gu(_e);Se.ei&&(Se=yield af(H.localStore,K.query,!1).then(({documents:Je})=>K.view.Gu(Je,Se)));const it=je&&je.targetChanges.get(K.targetId),Pe=K.view.applyChanges(Se,H.isPrimaryClient,it);return Ib(H,K.targetId,Pe.zu),Pe.snapshot}),function(H,K,_e,je){return B.apply(this,arguments)})(n,T,I,k);var B};const r=yield af(n.localStore,e,!0),a=new yb(e,r.hi),u=a.Gu(r.documents),f=eg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);Ib(n,t,_.zu);const b=new gC(e,t,a);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),mC.apply(this,arguments)}function aI(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,we.Z)(function*(n,e){const t=Xe(n),i=t.ta.get(e),r=t.ea.get(i.targetId);if(r.length>1)return t.ea.set(i.targetId,r.filter(a=>!Hh(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),cf(t.remoteStore,i.targetId),Cd(t,i.targetId)}).catch(ra))):(Cd(t,i.targetId),yield wd(t.localStore,i.targetId,!0))}),ey.apply(this,arguments)}function wb(){return wb=(0,we.Z)(function*(n,e,t){const i=DC(n);try{const r=yield function(a,u){const f=Xe(a),_=yi.now(),b=u.reduce((I,k)=>I.add(k.key),bn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.ai.qs(I,b).next(k=>{T=k;const B=[];for(const H of u){const K=eD(H,T.get(H.key));null!=K&&B.push(new El(H.key,K,f0(K.value.mapValue),bi.exists(!0)))}return f.$s.addMutationBatch(I,_,B,u)})).then(I=>(I.applyToLocalDocumentSet(T),{batchId:I.batchId,changes:T}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.oa[a.currentUser.toKey()];_||(_=new wi(Zt)),_=_.insert(u,f),a.oa[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Ba(i,r.changes),yield mg(i.remoteStore)}catch(r){const a=uf(r,"Failed to persist write");t.reject(a)}}),wb.apply(this,arguments)}function Eb(n,e){return Db.apply(this,arguments)}function Db(){return Db=(0,we.Z)(function*(n,e){const t=Xe(n);try{const i=yield $S(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ia.get(a);u&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?Pt(u.Xu):r.removedDocuments.size>0&&(Pt(u.Xu),u.Xu=!1))}),yield Ba(t,i,e)}catch(i){yield ra(i)}}),Db.apply(this,arguments)}function cI(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ta.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Xe(a);f.onlineState=u;let _=!1;f.queries.forEach((b,T)=>{for(const I of T.listeners)I.Eu(u)&&(_=!0)}),_&&pb(f)}(i.eventManager,e),r.length&&i.Zu.Ko(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function _C(n,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,we.Z)(function*(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ia.get(e),a=r&&r.key;if(a){let u=new wi(qe.comparator);u=u.insert(a,Wn.newNoDocument(a,kt.min()));const f=bn().add(a),_=new Xp(kt.min(),new Map,new Nn(Zt),u,f);yield Eb(i,_),i.sa=i.sa.remove(a),i.ia.delete(e),bC(i)}else yield wd(i.localStore,e,!1).then(()=>Cd(i,e,t)).catch(ra)}),ty.apply(this,arguments)}function uI(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.batch.batchId;try{const r=yield VD(t.localStore,e);iy(t,i,null),Sb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ba(t,r)}catch(r){yield ra(r)}}),Cb.apply(this,arguments)}function yC(n,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,we.Z)(function*(n,e,t){const i=Xe(n);try{const r=yield function(a,u){const f=Xe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.$s.lookupMutationBatch(_,u).next(T=>(Pt(null!==T),b=T.keys(),f.$s.removeMutationBatch(_,T))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,b))})}(i.localStore,e);iy(i,e,t),Sb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(i,r)}catch(r){yield ra(r)}}),Cg.apply(this,arguments)}function ny(){return ny=(0,we.Z)(function*(n,e){const t=Xe(n);Uc(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Xe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ua.get(i)||[];r.push(e),t.ua.set(i,r)}catch(i){const r=uf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),ny.apply(this,arguments)}function Sb(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function iy(n,e,t){const i=Xe(n);let r=i.oa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oa[i.currentUser.toKey()]=r}}function Cd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ea.get(e))n.ta.delete(i),t&&n.Zu.la(i,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(i=>{n.ra.containsKey(i)||vC(n,i)})}function vC(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(cf(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),bC(n))}function Ib(n,e,t){for(const i of t)i instanceof _b?(n.ra.addReference(i.key,e),WM(n,i)):i instanceof pC?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,e),n.ra.containsKey(i.key)||vC(n,i.key)):dt()}function WM(n,e){const t=e.key,i=t.path.canonicalString();n.sa.get(t)||n.na.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.na.add(i),bC(n))}function bC(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new qe(ln.fromString(e)),i=n.aa.next();n.ia.set(i,new sI(t)),n.sa=n.sa.insert(t,i),q_(n.remoteStore,new Rc(Vs(od(t.path)),i,2,Ls.A))}}function Ba(n,e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=[],a=[],u=[];var f;i.ta.isEmpty()||(i.ta.forEach((f,_)=>{u.push(i.ha(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=sf.Js(_.targetId,b);a.push(T)}}))}),yield Promise.all(u),i.Zu.Ko(r),yield(f=(0,we.Z)(function*(_,b){const T=Xe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>pe.forEach(b,k=>pe.forEach(k.zs,B=>T.persistence.referenceDelegate.addReference(I,k.targetId,B)).next(()=>pe.forEach(k.Hs,B=>T.persistence.referenceDelegate.removeReference(I,k.targetId,B)))))}catch(I){if(!Tl(I))throw I;Ve("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const k=I.targetId;if(!I.fromCache){const B=T.si.get(k),K=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.si=T.si.insert(k,K)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),Ab.apply(this,arguments)}function dI(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,we.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield J0(t.localStore,e);t.currentUser=e,(r=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ba(t,i.ci)}var r}),Mb.apply(this,arguments)}function ZM(n,e){const t=Xe(n),i=t.ia.get(e);if(i&&i.Xu)return bn().add(i.key);{let r=bn();const a=t.ea.get(e);if(!a)return r;for(const u of a){const f=t.ta.get(u);r=r.unionWith(f.view.qu)}return r}}function KM(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,we.Z)(function*(n,e){const t=Xe(n),i=yield af(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&Ib(t,e.targetId,r.zu),r}),wC.apply(this,arguments)}function YM(n,e){return EC.apply(this,arguments)}function EC(){return EC=(0,we.Z)(function*(n,e){const t=Xe(n);return HD(t.localStore,e).then(i=>Ba(t,i))}),EC.apply(this,arguments)}function hI(n,e,t,i){return df.apply(this,arguments)}function df(){return df=(0,we.Z)(function*(n,e,t,i){const r=Xe(n),a=yield function(u,f){const _=Xe(u),b=Xe(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.ln(T,f).next(I=>I?_.ai.qs(T,I):pe.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield mg(r.remoteStore):"acknowledged"===t||"rejected"===t?(iy(r,e,i||null),Sb(r,e),f=e,Xe(Xe(r.localStore).$s).dn(f)):dt(),yield Ba(r,a)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),df.apply(this,arguments)}function xb(){return xb=(0,we.Z)(function*(n,e){const t=Xe(n);if(hf(t),DC(t),!0===e&&!0!==t.ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Nb(t,i.toArray());t.ca=!0,yield X_(t.remoteStore,!0);for(const a of r)q_(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const i=[];let r=Promise.resolve();t.ea.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Cd(t,u),wd(t.localStore,u,!0))),cf(t.remoteStore,u)}),yield r,yield Nb(t,i),function(a){const u=Xe(a);u.ia.forEach((f,_)=>{cf(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new wi(qe.comparator)}(t),t.ca=!1,yield X_(t.remoteStore,!1)}}),xb.apply(this,arguments)}function Nb(n,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=[],a=[];for(const u of e){let f;const _=i.ea.get(u);if(_&&0!==_.length){f=yield Lc(i.localStore,Vs(_[0]));for(const b of _){const T=i.ta.get(b),I=yield KM(i,T);I.snapshot&&a.push(I.snapshot)}}else{const b=yield jD(i.localStore,u);f=yield Lc(i.localStore,b),yield bb(i,Ob(b),u,!1)}r.push(f)}return i.Zu.Ko(a),r}),xl.apply(this,arguments)}function Ob(n){return y0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kb(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Os()}function Rb(n,e,t,i){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,we.Z)(function*(n,e,t,i){const r=Xe(n);if(r.ca)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const a=r.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield HD(r.localStore,w0(a[0])),f=Xp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ba(r,u,f);break}case"rejected":yield wd(r.localStore,e,!0),Cd(r,e,i);break;default:dt()}}),Pb.apply(this,arguments)}function Fb(n,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,we.Z)(function*(n,e,t){const i=hf(n);if(i.ca){for(const r of e){if(i.ea.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const a=yield jD(i.localStore,r),u=yield Lc(i.localStore,a);yield bb(i,Ob(a),u.targetId,!1),q_(i.remoteStore,u)}for(const r of t)i.ea.has(r)&&(yield wd(i.localStore,r,!1).then(()=>{cf(i.remoteStore,r),Cd(i,r)}).catch(ra))}}),Tg.apply(this,arguments)}function hf(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_C.bind(null,e),e.Zu.Ko=iI.bind(null,e.eventManager),e.Zu.la=sa.bind(null,e.eventManager),e}function DC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,e),e}class pI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=hg(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Y0(this.persistence,new BD,e.initialUser,this.M)}_a(e){return new KD(Bc.Wi,this.M)}da(e){return new XD}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gI extends pI{constructor(e,t,i){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.ga.initialize(i,e),yield DC(i.ga.syncEngine),yield mg(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(e){return Y0(this.persistence,new BD,e.initialUser,this.M)}wa(e){return new OD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=K0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new bd(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ZS(),dg(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new XD}}class CC extends gI{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.ga.syncEngine;i.sharedClientState instanceof tb&&(i.sharedClientState.syncEngine={kr:hI.bind(null,r),Mr:Rb.bind(null,r),Or:Fb.bind(null,r),Os:kb.bind(null,r),Nr:YM.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var a=(0,we.Z)(function*(u){yield function fI(n,e){return xb.apply(this,arguments)}(i.ga.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}da(e){const t=ZS();if(!tb.vt(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=K0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Lb{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,i.syncEngine),yield X_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nI}createDatastore(e){const t=hg(e.databaseInfo.databaseId),i=new rb(e.databaseInfo);return new sb(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>cI(this.syncEngine,f,0),u=ib.vt()?new ib:new nb,new GM(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const T=new oI(i,r,a,u,f,_);return b&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=Xe(t);Ve("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Ed(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function TC(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mI{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new $i,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const i=e.Ta.decode(t),r=Number(i);isNaN(r)&&e.Ra(`length string (${i}) is not valid number`);const a=yield e.ba(r);return new rI(JSON.parse(a),t.length+r)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const i=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class SC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,u){const f=Xe(a),_=ng(f.M)+"/documents",b={documents:u.map(B=>Wh(f.M,B))},T=yield f.co("BatchGetDocuments",_,b),I=new Map;T.forEach(B=>{const H=function UM(n,e){return"found"in e?function(t,i){Pt(!!i.found);const r=ta(t,i.found.name),a=ar(i.found.updateTime),u=new cn({mapValue:{fields:i.found.fields}});return Wn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Pt(!!i.missing),Pt(!!i.readTime);const r=ta(t,i.missing),a=ar(i.readTime);return Wn.newNoDocument(r,a)}(n,e):dt()}(f.M,B);I.set(H.key.toString(),H)});const k=[];return u.forEach(B=>{const H=I.get(B.toString());Pt(!!H),k.push(H)}),k}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ra(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=qe.fromPath(r);e.mutations.push(new iD(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const u=Xe(r),f=ng(u.M)+"/documents",_={writes:a.map(b=>Zh(u.M,b))};yield u.ro("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=kt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?bi.updateTime(t):bi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(t)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IC{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new $_(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new SC(e.datastore),i=e.Da(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Ca(a)}))}).catch(r=>{e.Ca(r)})}))}Da(e){try{const t=this.updateFunction(e);return!ed(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!S0(t)}return!1}}class AC{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=t0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ve("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=uf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function MC(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield J0(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Bb.apply(this,arguments)}function Vb(n,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xC(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>db(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>db(e.remoteStore,a)),n.onlineComponents=e}),Sg.apply(this,arguments)}function xC(n){return sy.apply(this,arguments)}function sy(){return sy=(0,we.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield MC(n,new pI)),n.offlineComponents}),sy.apply(this,arguments)}function ff(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,we.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield Vb(n,new Lb)),n.onlineComponents}),Ub.apply(this,arguments)}function NC(n){return xC(n).then(e=>e.persistence)}function OC(n){return xC(n).then(e=>e.localStore)}function _I(n){return ff(n).then(e=>e.remoteStore)}function kC(n){return ff(n).then(e=>e.syncEngine)}function pf(n){return jb.apply(this,arguments)}function jb(){return jb=(0,we.Z)(function*(n){const e=yield ff(n),t=e.eventManager;return t.onListen=vb.bind(null,e.syncEngine),t.onUnlisten=aI.bind(null,e.syncEngine),t}),jb.apply(this,arguments)}function yI(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new ry({next:I=>{a.enqueueAndForget(()=>fb(r,T));const k=I.docs.has(u);!k&&I.fromCache?_.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&f&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new Dg(od(u.path),b,{includeMetadataChanges:!0,Du:!0});return hb(r,T)}(yield pf(n),n.asyncQueue,e,t,i)})),i.promise}function RC(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const b=new ry({next:I=>{a.enqueueAndForget(()=>fb(r,T)),I.fromCache&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),T=new Dg(u,b,{includeMetadataChanges:!0,Du:!0});return hb(r,T)}(yield pf(n),n.asyncQueue,e,t,i)})),i.promise}const s=new Map;function o(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l(n,e,t,i){if(!0===e&&!0===i)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d(n){if(!qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h(n){if(qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function g(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function y(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=g(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function E(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class D{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,l("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D({}),this._settingsFrozen=!1,e instanceof Yo?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(r.options.projectId)}(e))}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zT;switch(t.type){case"gapi":const i=t.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZT(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=s.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),s.delete(e),t.terminate())}(this),Promise.resolve()}}class P{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Y(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new P(this.firestore,e,this._key)}}class j{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new j(this.firestore,e,this._query)}}class Y extends j{constructor(e,t,i){super(e,t,od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new P(this.firestore,null,new qe(e))}withConverter(e){return new Y(this.firestore,e,this._path)}}function be(n,e,...t){if(n=(0,tn.m9)(n),o("collection","path",e),n instanceof M){const i=ln.fromString(e,...t);return h(i),new Y(n,null,i)}{if(!(n instanceof P||n instanceof Y))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return h(i),new Y(n.firestore,null,i)}}function We(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=t0.R()),o("doc","path",e),n instanceof M){const i=ln.fromString(e,...t);return d(i),new P(n,null,new qe(i))}{if(!(n instanceof P||n instanceof Y))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return d(i),new P(n.firestore,n instanceof Y?n.converter:null,new qe(i))}}function lt(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof P||n instanceof Y)&&(e instanceof P||e instanceof Y)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ae(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof j&&e instanceof j&&n.firestore===e.firestore&&Hh(n._query,e._query)&&n.converter===e.converter}class Dt{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new $_(this,"async_queue_retry"),this.Ua=()=>{const t=dg();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=dg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new $i;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Tl(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(i=>{throw this.Fa=i,this.$a=!1,Gi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=t,t}enqueueAfterDelay(e,t,i){this.qa(),this.La.indexOf(e)>-1&&(t=0);const r=vg.createAndSchedule(this,e,t,i,a=>this.Qa(a));return this.Oa.push(r),r}qa(){this.Fa&&dt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function Yt(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Cn{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tn extends M{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Dt,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oy(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||oy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oy(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new s0(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new AC(n._authCredentials,n._appCheckCredentials,n._queue,i)}function ay(n,e,t){const i=new $i;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield MC(n,t),yield Vb(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function ox(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(zi.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hc(zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ig{constructor(e){this._methodName=e}}class LC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const HP=/^__.*__$/;class GP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new El(e,this.data,this.fieldMask,t,this.fieldTransforms):new ud(e,this.data,t,this.fieldTransforms)}}class ax{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new El(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class BC{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new BC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.ec(e),r}nc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return jC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(lx(this.Ya)&&HP.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class $P{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||hg(e)}uc(e,t,i,r=!1){return new BC({Ya:e,methodName:t,oc:i,path:vi.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ag(n){const e=n._freezeSettings(),t=hg(n._databaseId);return new $P(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VC(n,e,t,i,r,a={}){const u=n.uc(a.merge||a.mergeFields?2:0,e,t,r);EI("Data must be an object, but it was:",u,i);const f=dx(i,u);let _,b;if(a.merge)_=new Ac(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const I of a.mergeFields){const k=DI(e,I,t);if(!u.contains(k))throw new Re(de.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);fx(T,k)||T.push(k)}_=new Ac(T),b=u.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,b=u.fieldTransforms;return new GP(new cn(f),_,b)}class qb extends Ig{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qb}}function cx(n,e,t){return new BC({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class vI extends Ig{_toFieldTransform(e){return new Zp(e.path,new Gh)}isEqual(e){return e instanceof vI}}class zP extends Ig{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=cx(this,e,!0),i=this.ac.map(a=>Mg(a,t)),r=new ld(i);return new Zp(e.path,r)}isEqual(e){return this===e}}class qP extends Ig{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=cx(this,e,!0),i=this.ac.map(a=>Mg(a,t)),r=new cd(i);return new Zp(e.path,r)}isEqual(e){return this===e}}class WP extends Ig{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new $h(e.M,qE(e.M,this.cc));return new Zp(e.path,t)}isEqual(e){return this===e}}function bI(n,e,t,i){const r=n.uc(1,e,t);EI("Data must be an object, but it was:",r,i);const a=[],u=cn.empty();Ic(i,(_,b)=>{const T=UC(e,_,t);b=(0,tn.m9)(b);const I=r.nc(T);if(b instanceof qb)a.push(T);else{const k=Mg(b,I);null!=k&&(a.push(T),u.set(T,k))}});const f=new Ac(a);return new ax(u,f,r.fieldTransforms)}function wI(n,e,t,i,r,a){const u=n.uc(1,e,t),f=[DI(e,i,t)],_=[r];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)f.push(DI(e,a[k])),_.push(a[k+1]);const b=[],T=cn.empty();for(let k=f.length-1;k>=0;--k)if(!fx(b,f[k])){const B=f[k];let H=_[k];H=(0,tn.m9)(H);const K=u.nc(B);if(H instanceof qb)b.push(B);else{const _e=Mg(H,K);null!=_e&&(b.push(B),T.set(B,_e))}}const I=new Ac(b);return new ax(T,I,u.fieldTransforms)}function ux(n,e,t,i=!1){return Mg(t,n.uc(i?4:3,e))}function Mg(n,e){if(hx(n=(0,tn.m9)(n)))return EI("Unsupported field value:",e,n),dx(n,e);if(n instanceof Ig)return function(t,i){if(!lx(i.Ya))throw i.ic(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Mg(u,i.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qE(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=yi.fromDate(t);return{timestampValue:Cl(i.M,r)}}if(t instanceof yi){const r=new yi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cl(i.M,r)}}if(t instanceof LC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hc)return{bytesValue:qh(i.M,t._byteString)};if(t instanceof P){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:A0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ic(`Unsupported field value: ${g(t)}`)}(n,e)}function dx(n,e){const t={};return o_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ic(n,(i,r)=>{const a=Mg(r,e.Za(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function hx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yi||n instanceof LC||n instanceof Hc||n instanceof P||n instanceof Ig)}function EI(n,e,t){if(!hx(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=g(t);throw e.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function DI(n,e,t){if((e=(0,tn.m9)(e))instanceof Td)return e._internalPath;if("string"==typeof e)return UC(n,e);throw jC("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZP=new RegExp("[~\\*/\\[\\]]");function UC(n,e,t){if(e.search(ZP)>=0)throw jC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch(i){throw jC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jC(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Re(de.INVALID_ARGUMENT,f+n+_)}function fx(n,e){return n.some(t=>t.isEqual(e))}class Wb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new P(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KP extends Wb{data(){return super.data()}}function HC(n,e){return"string"==typeof e?UC(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class xg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends Wb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zb extends Sd{data(e={}){return super.data(e)}}class gf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zb(this._firestore,this._userDataWriter,i.key,i,new xg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Zb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Zb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:YP(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function px(n,e){return n instanceof Sd&&e instanceof Sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gf&&e instanceof gf&&n._firestore===e._firestore&&Ae(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function gx(n){if(f_(n)&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}function mf(n,...e){for(const t of e)n=t._apply(n);return n}class JP extends Kb{constructor(e,t,i){super(),this.hc=e,this.lc=t,this.fc=i,this.type="where"}_apply(e){const t=Ag(e.firestore),i=function(r,a,u,f,_,b,T){let I;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){wx(T,b);const B=[];for(const H of T)B.push(bx(f,r,H));I={arrayValue:{values:B}}}else I=bx(f,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||wx(T,b),I=ux(u,"where",T,"in"===b||"not-in"===b);const k=or.create(_,b,I);return function(B,H){if(H.S()){const _e=g_(B);if(null!==_e&&!_e.isEqual(H.field))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${H.field.toString()}'`);const je=p_(B);null!==je&&Ex(0,H.field,je)}const K=function(_e,je){for(const Se of _e.filters)if(je.indexOf(Se.op)>=0)return Se.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==K)throw new Re(de.INVALID_ARGUMENT,K===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${K.toString()}' filters.`)}(r,k),k}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new j(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class XP extends Kb{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Oc(r,a);return function(f,_){if(null===p_(f)){const b=g_(f);null!==b&&Ex(0,b,_.field)}}(i,u),u}(e._query,this.hc,this.dc);return new j(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new bl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mx extends Kb{constructor(e,t,i){super(),this.type=e,this._c=t,this.wc=i}_apply(e){return new j(e.firestore,e.converter,v0(e._query,this._c,this.wc))}}class _x extends Kb{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=vx(e,this.type,this.mc,this.gc);return new j(e.firestore,e.converter,(r=t,new bl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class yx extends Kb{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=vx(e,this.type,this.mc,this.gc);return new j(e.firestore,e.converter,(r=t,new bl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function vx(n,e,t,i){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof Wb)return function(r,a,u,f,_){if(!f)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of wl(r))if(T.field.isKeyField())b.push(id(a,f.key));else{const I=f.data.field(T.field);if(Gp(I))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const k=T.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}b.push(I)}return new Nc(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Ag(n.firestore);return function(a,u,f,_,b,T){const I=a.explicitOrderBy;if(b.length>I.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let B=0;B<b.length;B++){const H=b[B];if(I[B].field.isKeyField()){if("string"!=typeof H)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof H}`);if(!Wp(a)&&-1!==H.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${H}' contains a slash.`);const K=a.path.child(ln.fromString(H));if(!qe.isDocumentKey(K))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const _e=new qe(K);k.push(id(u,_e))}else{const K=ux(f,_,H);k.push(K)}}return new Nc(k,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function bx(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wp(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ln.fromString(t));if(!qe.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return id(n,new qe(i))}if(t instanceof P)return id(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g(t)}.`)}function wx(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ex(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class CI{convertValue(e,t="none"){switch(xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return Ic(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new LC(oi(e.latitude),oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=r0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new yi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ln.fromString(e);Pt(pD(i));const r=new Yo(i.get(1),i.get(3)),a=new qe(i.popFirst(5));return r.isEqual(t)||Gi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function GC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class aF extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new P(this.firestore,null,t)}}class Dx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ag(e)}set(e,t,i){this._verifyNotCommitted();const r=_f(e,this._firestore),a=GC(r.converter,t,i),u=VC(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,bi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=_f(e,this._firestore);let u;return u="string"==typeof(t=(0,tn.m9)(t))||t instanceof Td?wI(this._dataReader,"WriteBatch.update",a._key,t,i,r):bI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_f(e,this._firestore);return this._mutations=this._mutations.concat(new Ra(t._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _f(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ng extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new P(this.firestore,null,t)}}function Cx(n,e,t){n=y(n,P);const i=y(n.firestore,Tn),r=GC(n.converter,e,t);return ly(i,[VC(Ag(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,bi.none())])}function Tx(n,e,t,...i){n=y(n,P);const r=y(n.firestore,Tn),a=Ag(r);let u;return u="string"==typeof(e=(0,tn.m9)(e))||e instanceof Td?wI(a,"updateDoc",n._key,e,t,i):bI(a,"updateDoc",n._key,e),ly(r,[u.toMutation(n._key,bi.exists(!0))])}function Sx(n,...e){var t,i,r;n=(0,tn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Yt(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Yt(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let _,b,T;if(n instanceof P)b=y(n.firestore,Tn),T=od(n._key.path),_={next:I=>{e[u]&&e[u](TI(b,n,I))},error:e[u+1],complete:e[u+2]};else{const I=y(n,j);b=y(I.firestore,Tn),T=I._query;const k=new Ng(b);_={next:B=>{e[u]&&e[u](new gf(b,k,I,B))},error:e[u+1],complete:e[u+2]},gx(n._query)}return function(I,k,B,H){const K=new ry(H),_e=new Dg(k,K,B);return I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return hb(yield pf(I),_e)})),()=>{K.pa(),I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return fb(yield pf(I),_e)}))}}(hi(b),T,f,_)}function ly(n,e){return function(t,i){const r=new $i;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function lI(n,e,t){return wb.apply(this,arguments)}(yield kC(t),i,r)})),r.promise}(hi(n),e)}function TI(n,e,t){const i=t.docs.get(e._key),r=new Ng(n);return new Sd(n,r,e._key,i,new xg(t.hasPendingWrites,t.fromCache),e.converter)}class _F extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ag(e)}get(e){const t=_f(e,this._firestore),i=new aF(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const a=r[0];if(a.isFoundDocument())return new Wb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Wb(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=_f(e,this._firestore),a=GC(r.converter,t,i),u=VC(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=_f(e,this._firestore);let u;return u="string"==typeof(t=(0,tn.m9)(t))||t instanceof Td?wI(this._dataReader,"Transaction.update",a._key,t,i,r):bI(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=_f(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_f(e,this._firestore),i=new Ng(this._firestore);return super.get(e).then(r=>new Sd(this._firestore,i,t._key,r._document,new xg(!1,!1),t.converter))}}function SI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ax(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function Mx(){if(!function BM(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Sc=ju.SDK_VERSION,(0,ju._registerComponent)(new Am.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new Tn(r,new qT(t.getProvider("auth-internal")),new KT(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,ju.registerVersion)($T,"3.4.7",n),(0,ju.registerVersion)($T,"3.4.7","esm2017")}();class Yb{constructor(e){this._delegate=e}static fromBase64String(e){return Mx(),new Yb(Hc.fromBase64String(e))}static fromUint8Array(e){return Ax(),new Yb(Hc.fromUint8Array(e))}toBase64(){return Mx(),this._delegate.toBase64()}toUint8Array(){return Ax(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function II(n){return function SF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class IF{enableIndexedDbPersistence(e,t){return function Hb(n,e){ox(n=y(n,Tn));const t=hi(n),i=n._freezeSettings(),r=new Lb;return ay(t,r,new gI(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Gb(n){ox(n=y(n,Tn));const e=hi(n),t=n._freezeSettings(),i=new Lb;return ay(e,i,new CC(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $b(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!ia.vt())return Promise.resolve();const r=i+"main";yield ia.delete(r)}),function(i){return t.apply(this,arguments)})(K0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xx{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Up("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function N(n,e,t,i={}){var r;const a=(n=y(n,M))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Up("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=yr.MOCK_USER;else{u=(0,tn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yr(_)}n._authCredentials=new PE(new jp(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function BP(n){return function QM(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield NC(n),t=yield _I(n);return e.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.lu.delete(0),pg(r)}(t)}))}(hi(n=y(n,Tn)))}(this._delegate)}disableNetwork(){return function VP(n){return function XM(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield NC(n),t=yield _I(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=Xe(r);a.lu.add(0),yield Ed(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(hi(n=y(n,Tn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,l("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zb(n){return function(e){const t=new $i;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Tb(n,e){return ny.apply(this,arguments)}(yield kC(e),t)})),t.promise}(hi(n=y(n,Tn)))}(this._delegate)}onSnapshotsInSync(e){return function mF(n,e){return function nx(n,e){const t=new ry(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield pf(n),r=t,Xe(i).Tu.add(r),void r.next();var i,r})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield pf(n),r=t,void Xe(i).Tu.delete(r);var i,r}))}}(hi(n=y(n,Tn)),Yt(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cy(this,be(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,We(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,function Ue(n,e){if(n=y(n,M),o("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new j(n,null,(t=e,new bl(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yF(n,e){return function ix(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(r=n,ff(r).then(a=>a.datastore));var r;new IC(n.asyncQueue,i,e,t).run()})),t.promise}(hi(n=y(n,Tn)),t=>e(new _F(n,t)))}(this._delegate,t=>e(new Nx(this,t)))}batch(){return hi(this._delegate),new Ox(new Dx(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return function UP(n,e){const t=hi(n=y(n,Tn)),i=new Cn;return function rx(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return TC(_,b);if(_ instanceof ArrayBuffer)return TC(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new mI(_,u);var _}(t,hg(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function JM(n,e,t){const i=Xe(n);var r;(r=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(k,B){const H=Xe(k),K=ar(B.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",_e=>H.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(K)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=_).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(mb(_));const b=new gb(_,a.localStore,u.M);let T=yield u.fa();for(;T;){const k=yield b.Nu(T);k&&f._updateProgress(k),T=yield u.fa()}const I=yield b.complete();return yield Ba(a,I.Ou,void 0),yield function(k,B){const H=Xe(k);return H.persistence.runTransaction("Save bundle","readwrite",K=>H.ds.saveBundleMetadata(K,B))}(a.localStore,_),f._completeWith(I.progress),Promise.resolve(I.Mu)}catch(_){return Up("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var k}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield kC(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function jP(n,e){return function sx(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=Xe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.ds.getNamedQuery(a,i))}(yield OC(n),e)}))}(hi(n=y(n,Tn)),e).then(t=>t?new j(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $s(this,t):null)}}class $C extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yb(new Hc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class Nx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}get(e){const t=kg(e);return this._delegate.get(t).then(i=>new Jb(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=kg(e);return i?(SI("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=kg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}}class Ox{constructor(e){this._delegate=e}set(e,t,i){const r=kg(e);return i?(SI("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=kg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Og{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Zb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Og.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Og(e,new $C(e),t),r.set(t,a)),a}}Og.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new P(t._delegate,i,new qe(e)))}static forKey(e,t,i){return new Va(t,new P(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cy(this.firestore,be(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof P&&lt(this._delegate,e)}set(e,t){t=SI("DocumentReference.set",t);try{return t?Cx(this._delegate,e,t):Cx(this._delegate,e)}catch(i){throw Gs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Tx(this._delegate,e):Tx(this._delegate,e,t,...i)}catch(r){throw Gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pF(n){return ly(y(n.firestore,Tn),[new Ra(n._key,bi.none())])}(this._delegate)}onSnapshot(...e){const t=kx(e),i=Rx(e,r=>new Jb(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Sx(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cF(n){n=y(n,P);const e=y(n.firestore,Tn),t=hi(e),i=new Ng(e);return function ex(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield function(_,b){const T=Xe(_);return T.persistence.runTransaction("read document","readonly",I=>T.ai.Bs(I,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=uf(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield OC(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Sd(e,i,n._key,r,new xg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uF(n){n=y(n,P);const e=y(n.firestore,Tn);return yI(hi(e),n._key,{source:"server"}).then(t=>TI(e,n,t))}(this._delegate):function lF(n){n=y(n,P);const e=y(n.firestore,Tn);return yI(hi(e),n._key).then(t=>TI(e,n,t))}(this._delegate),t.then(i=>new Jb(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function kx(n){for(const e of n)if("object"==typeof e&&!II(e))return e;return{}}function Rx(n,e){var t,i;let r;return r=II(n[0])?n[0]:II(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return px(this._delegate,e._delegate)}}class Qb extends Jb{data(e){const t=this._delegate.data(e);return function Rh(n,e){n||dt()}(void 0!==t),t}}class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}where(e,t,i){try{return new $s(this.firestore,mf(this._delegate,function QP(n,e,t){const i=e,r=HC("where",n);return new JP(r,i,t)}(e,t,i)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $s(this.firestore,mf(this._delegate,function eF(n,e="asc"){const t=e,i=HC("orderBy",n);return new XP(i,t)}(e,t)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,mf(this._delegate,function tF(n){return E("limit",n),new mx("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,mf(this._delegate,function nF(n){return E("limitToLast",n),new mx("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,mf(this._delegate,function iF(...n){return new _x("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,mf(this._delegate,function rF(...n){return new _x("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,mf(this._delegate,function sF(...n){return new yx("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,mf(this._delegate,function oF(...n){return new yx("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return Ae(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hF(n){n=y(n,j);const e=y(n.firestore,Tn),t=hi(e),i=new Ng(e);return function tx(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield af(r,a,!0),_=new yb(a,f.hi),b=_.Gu(f.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const _=uf(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield OC(n),e,t);var i})),t.promise}(t,n._query).then(r=>new gf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function fF(n){n=y(n,j);const e=y(n.firestore,Tn),t=hi(e),i=new Ng(e);return RC(t,n._query,{source:"server"}).then(r=>new gf(e,i,n,r))}(this._delegate):function dF(n){n=y(n,j);const e=y(n.firestore,Tn),t=hi(e),i=new Ng(e);return gx(n._query),RC(t,n._query).then(r=>new gf(e,i,n,r))}(this._delegate),t.then(i=>new AI(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=kx(e),i=Rx(e,r=>new AI(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Sx(this._delegate,t,i)}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}class MF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MF(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Qb(this._firestore,i))})}isEqual(e){return px(this._delegate,e._delegate)}}class cy extends $s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?We(this._delegate):We(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function gF(n,e){const t=y(n.firestore,Tn),i=We(n),r=GC(n.converter,e);return ly(t,[VC(Ag(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,bi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return lt(this._delegate,e._delegate)}withConverter(e){return new cy(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function kg(n){return y(n,P)}class MI{constructor(...e){this._delegate=new Td(...e)}static documentId(){return new MI(vi.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof Td&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bF(){return new vI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rg(e)}static delete(){const e=function vF(){return new qb("deleteField")}();return e._methodName="FieldValue.delete",new Rg(e)}static arrayUnion(...e){const t=function wF(...n){return new zP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Rg(t)}static arrayRemove(...e){const t=function EF(...n){return new qP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Rg(t)}static increment(e){const t=function DF(n){return new WP("increment",n)}(e);return t._methodName="FieldValue.increment",new Rg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xF={Firestore:xx,GeoPoint:LC,Timestamp:yi,Blob:Yb,Transaction:Nx,WriteBatch:Ox,DocumentReference:Va,DocumentSnapshot:Jb,Query:$s,QueryDocumentSnapshot:Qb,QuerySnapshot:AI,CollectionReference:cy,FieldPath:MI,FieldValue:Rg,setLogLevel:function AF(n){!function LM(n){Na.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OF(n){(function NF(n,e){n.INTERNAL.registerComponent(new Am.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},xF)))})(n,(e,t)=>new xx(e,t,new IF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(pT.Z);var Px=F(6451),zC=F(5363),kF=F(6063);class RF extends Bt.x{constructor(e=1/0,t=1/0,i=kF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var Fx=F(3099);function Lx(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,Fx.B)({connector:()=>new RF(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Bx(n,e){return(0,Mr.m)(e)?Fn(()=>n,e):Fn(()=>n)}var xI=F(9468);F(5867);const Ux=new Map,VF={activated:!1,tokenObservers:[]},UF={initialized:!1,enabled:!1};function Pr(n){return Ux.get(n)||VF}function Nl(n,e){Ux.set(n,e)}function WC(){return UF}class zF{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function qF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zs=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hx(n){if(!Pr(n).activated)throw zs.create("use-before-activation",{appName:n.name})}function RI(n,e){return PI.apply(this,arguments)}function PI(){return PI=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(I){throw zs.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw zs.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw zs.create("fetch-parse-error",{originalErrorMessage:I.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),PI.apply(this,arguments)}function JF(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Xb="firebase-app-check-store";let YC=null;function $x(){return YC||(YC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(zs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Xb,{keyPath:"compositeKey"})}}catch(t){e(zs.create("storage-open",{originalErrorMessage:t.message}))}}),YC)}function FI(){return FI=(0,we.Z)(function*(n,e){const i=(yield $x()).transaction(Xb,"readwrite"),a=i.objectStore(Xb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(zs.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),FI.apply(this,arguments)}const ew=new _c.Yd("@firebase/app-check");function Zx(n,e){return(0,tn.hl)()?function tL(n,e){return function zx(n,e){return FI.apply(this,arguments)}(function Wx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ew.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kx(){return WC().enabled}function Yx(){return UI.apply(this,arguments)}function UI(){return UI=(0,we.Z)(function*(){const n=WC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UI.apply(this,arguments)}const aL={error:"UNKNOWN_ERROR"};function lL(n){return tn.US.encodeString(JSON.stringify(n),!1)}function JC(n){return jI.apply(this,arguments)}function jI(){return jI=(0,we.Z)(function*(n,e=!1){const t=n.app;Hx(t);const i=Pr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&QC(_)&&(r=_)}if(!e&&r&&QC(r))return{token:r.token};let f,u=!1;if(Kx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=RI(JF(t,yield Yx()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield Zx(t,_),Nl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ew.warn(_.message):ew.error(_),a=_}return r?(f={token:r.token},Nl(t,Object.assign(Object.assign({},i),{token:r})),yield Zx(t,r)):f=uL(a),u&&Qx(t,f),f}),jI.apply(this,arguments)}function GI(n,e){const t=Pr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Nl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Jx(n){const{app:e}=n,t=Pr(e);let i=t.tokenRefresher;i||(i=function cL(n){const{app:e}=n;return new zF((0,we.Z)(function*(){let i;if(i=Pr(e).token?yield JC(n,!0):yield JC(n),i.error)throw i.error}),()=>!0,()=>{const t=Pr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Nl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Qx(n,e){const t=Pr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function QC(n){return n.expireTimeMillis-Date.now()>0}function uL(n){return{token:lL(aL),error:n}}class dL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Pr(this.app);for(const t of e)GI(this.app,t.next);return Promise.resolve()}}const oN="app-check-internal";!function TL(){(0,ju._registerComponent)(new Am.wA("app-check",n=>function hL(n,e){return new dL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oN).initialize()})),(0,ju._registerComponent)(new Am.wA(oN,n=>function fL(n){return{getToken:e=>JC(n,e),addTokenListener:e=>function HI(n,e,t,i){const{app:r}=n,a=Pr(r),u={next:t,error:i,type:e};if(Nl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&QC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Jx(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Jx(n))}(n,"INTERNAL",e),removeTokenListener:e=>GI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ju.registerVersion)("@firebase/app-check","0.5.5")}();class WI{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;var lN=F(127);const cN=new c.OlP("angularfire2.auth.use-emulator"),uN=new c.OlP("angularfire2.auth.settings"),dN=new c.OlP("angularfire2.auth.tenant-id"),hN=new c.OlP("angularfire2.auth.langugage-code"),fN=new c.OlP("angularfire2.auth.use-device-language"),pN=new c.OlP("angularfire.auth.persistence"),gN=(n,e,t,i,r,a,u,f)=>(0,qo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let e1=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I,k,B){const H=new Bt.x,K=ut(void 0).pipe((0,zC.Q)(u.outsideAngular),Fn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4087)))),(0,gt.U)(()=>(0,qo.on)(t,a,i)),(0,gt.U)(_e=>gN(_e,a,f,b,T,I,_,k)),Lx({bufferSize:1,refCount:!1}));if(Ii(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{K.pipe(yo()).subscribe();const je=K.pipe(Fn(Pe=>Pe.getRedirectResult().then(Je=>Je,()=>null)),er.iC,Lx({bufferSize:1,refCount:!1})),Se=K.pipe(Fn(Pe=>new jn.y(Je=>({unsubscribe:a.runOutsideAngular(()=>Pe.onAuthStateChanged(Ze=>Je.next(Ze),Ze=>Je.error(Ze),()=>Je.complete()))})))),it=K.pipe(Fn(Pe=>new jn.y(Je=>({unsubscribe:a.runOutsideAngular(()=>Pe.onIdTokenChanged(Ze=>Je.next(Ze),Ze=>Je.error(Ze),()=>Je.complete()))}))));this.authState=je.pipe(Bx(Se),(0,xI.R)(u.outsideAngular),(0,zC.Q)(u.insideAngular)),this.user=je.pipe(Bx(it),(0,xI.R)(u.outsideAngular),(0,zC.Q)(u.insideAngular)),this.idToken=this.user.pipe(Fn(Pe=>Pe?(0,ei.D)(Pe.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Fn(Pe=>Pe?(0,ei.D)(Pe.getIdTokenResult()):ut(null))),this.credential=(0,Px.T)(je,H,this.authState.pipe(xn(Pe=>!Pe))).pipe((0,gt.U)(Pe=>(null==Pe?void 0:Pe.user)?Pe:null),(0,xI.R)(u.outsideAngular),(0,zC.Q)(u.insideAngular))}return(0,qo.pX)(this,K,a,{spy:{apply:(_e,je,Se)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Se.then(it=>H.next(it))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qo.Dh),c.LFG(qo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(er.HU),c.LFG(cN,8),c.LFG(uN,8),c.LFG(dN,8),c.LFG(hN,8),c.LFG(fN,8),c.LFG(pN,8),c.LFG(WI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NL=(()=>{class n{constructor(){lN.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[e1]}),n})();function mN(n,e){return function OL(n,e=Im.z){return new jn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function KI(n,e){return mN(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function t1(n,e){return KI(n,e).pipe(Mi(void 0),cv(),(0,gt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function _N(n,e,t){return t1(n,t).pipe(Bi((i,r)=>function RL(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YI(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Uu(),(0,gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function YI(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function yN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=t1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Mi(void 0),cv(),xn(([i,r])=>r.length>0||!i),(0,gt.U)(([i,r])=>r),er.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bi((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yN(e);return _N(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return KI(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),er.iC)}get(e){return(0,ei.D)(this.query.get(e)).pipe(er.iC)}add(e){return this.ref.add(e)}doc(e){return new bN(this.ref.doc(e),this.afs)}}class bN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=wN(i,t);return new vN(r,a,this.afs)}snapshotChanges(){return function kL(n,e){return mN(n,e).pipe(Mi(void 0),cv(),(0,gt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ei.D)(this.ref.get(e)).pipe(er.iC)}}class FL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?t1(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),xn(t=>t.length>0),er.iC):t1(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bi((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yN(e);return _N(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return KI(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),er.iC)}get(e){return(0,ei.D)(this.query.get(e)).pipe(er.iC)}}const LL=new c.OlP("angularfire2.enableFirestorePersistence"),BL=new c.OlP("angularfire2.firestore.persistenceSettings"),VL=new c.OlP("angularfire2.firestore.settings"),UL=new c.OlP("angularfire2.firestore.use-emulator");function wN(n,e=(t=>t)){return{query:e(n),ref:n}}let jL=(()=>{class n{constructor(t,i,r,a,u,f,_,b,T,I,k,B,H,K,_e,je,Se){this.schedulers=_;const it=(0,qo.on)(t,f,i),Pe=T;I&&gN(it,f,k,H,K,_e,B,je),[this.firestore,this.persistenceEnabled$]=(0,qo.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Je=f.runOutsideAngular(()=>it.firestore());if(a&&Je.settings(a),Pe&&Je.useEmulator(...Pe),r&&!Ii(u)){const Ze=()=>{try{return(0,ei.D)(Je.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ct){return"undefined"!=typeof console&&console.warn(Ct),ut(!1)}};return[Je,f.runOutsideAngular(Ze)]}return[Je,ut(!1)]},[a,Pe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=wN(r,i),f=this.schedulers.ngZone.run(()=>a);return new vN(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new FL(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new bN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qo.Dh),c.LFG(qo.xv,8),c.LFG(LL,8),c.LFG(VL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(er.HU),c.LFG(BL,8),c.LFG(UL,8),c.LFG(e1,8),c.LFG(cN,8),c.LFG(uN,8),c.LFG(dN,8),c.LFG(hN,8),c.LFG(fN,8),c.LFG(pN,8),c.LFG(WI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tw=(()=>{class n{constructor(t){this.fauth=t,this.username=new Mn(""),this.loggedIn=new Mn(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}logout(){return this.fauth.signOut()}register(t,i){return this.fauth.createUserWithEmailAndPassword(t,i)}login(t,i){return this.fauth.signInWithEmailAndPassword(t,i)}loginGoogle(){var t=this;return(0,we.Z)(function*(){return t.fauth.signInWithPopup(new lN.Z.auth.GoogleAuthProvider)})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(e1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HL=(()=>{class n{constructor(t,i){this.afs=t,this.auth=i}setResult(t){return this.afs.collection("resultados").add({usuario:this.auth.user,juego:t.juego,puntaje:t.puntaje,fecha:Date.now()})}get(t){return this.afs.collection(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jL),c.LFG(tw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GL=function(n){return{"background-color":n}};function $L(n,e){if(1&n&&c._UZ(0,"div",11),2&n){const t=e.index,i=c.oxw().index,r=c.oxw();c.Q6J("ngStyle",c.VKq(1,GL,r.setColors(i,t)))}}function zL(n,e){if(1&n&&(c.TgZ(0,"div",9),c.YNc(1,$L,1,3,"div",10),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngForOf",t)}}function qL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",15),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(2).newGame(a)}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=c.oxw(2);c.xp6(1),c.Oqu(i.all_modes[t])}}function WL(n,e){if(1&n&&(c.TgZ(0,"div",12)(1,"span",13),c._uU(2,"SELECCIONA UN MODO"),c.qZA(),c.YNc(3,qL,2,1,"div",14),c.qZA()),2&n){const t=c.oxw();c.xp6(3),c.Q6J("ngForOf",t.getKeys(t.all_modes))}}const ZL=function(n){return{"new-best-score":n}},KL=function(n){return{"disable-clicks":n}};let YL=(()=>{class n{constructor(t,i){this.bestScoreService=t,this.juegoService=i,this.interval=0,this.tempDirection=0,this.default_mode="classic",this.isGameOver=!1,this.all_modes=lv,this.getKeys=Object.keys,this.board=[],this.obstacles=[],this.score=0,this.showMenuChecker=!1,this.gameStarted=!1,this.newBestScore=!1,this.best_score=this.bestScoreService.retrieve(),this.snake={direction:37,parts:[{x:-1,y:-1}]},this.fruit={x:-1,y:-1},this.setBoard()}ngOnInit(){}handleKeyboardEvents(t){37===t.keyCode&&39!==this.snake.direction?this.tempDirection=37:38===t.keyCode&&40!==this.snake.direction?this.tempDirection=38:39===t.keyCode&&37!==this.snake.direction?this.tempDirection=39:40===t.keyCode&&38!==this.snake.direction&&(this.tempDirection=40)}setColors(t,i){return this.isGameOver?"#D24D57":this.fruit.x===i&&this.fruit.y===t?"#EC644B":this.snake.parts[0].x===i&&this.snake.parts[0].y===t?"#336E7B":!0===this.board[t][i]?"#C8F7C5":"obstacles"===this.default_mode&&this.checkObstacles(i,t)?"#383522":"#86B5BD"}updatePositions(){let t=this.repositionHead(),i=this;if("classic"===this.default_mode&&this.boardCollision(t))return this.gameOver();if("no_walls"===this.default_mode)this.noWallsTransition(t);else if("obstacles"===this.default_mode&&(this.noWallsTransition(t),this.obstacleCollision(t)))return this.gameOver();if(this.selfCollision(t))return this.gameOver();this.fruitCollision(t)&&this.eatFruit();let r=this.snake.parts.pop();r&&(this.board[null==r?void 0:r.y][r.x]=!1),this.snake.parts.unshift(t),this.board[t.y][t.x]=!0,this.snake.direction=this.tempDirection,setTimeout(()=>{i.updatePositions()},this.interval)}repositionHead(){let t=Object.assign({},this.snake.parts[0]);return 37===this.tempDirection?t.x-=1:39===this.tempDirection?t.x+=1:38===this.tempDirection?t.y-=1:40===this.tempDirection&&(t.y+=1),t}noWallsTransition(t){18===t.x?t.x=0:-1===t.x&&(t.x=17),18===t.y?t.y=0:-1===t.y&&(t.y=17)}addObstacles(){let t=this.randomNumber(),i=this.randomNumber();if(!0===this.board[i][t]||8===i)return this.addObstacles();this.obstacles.push({x:t,y:i})}checkObstacles(t,i){let r=!1;return this.obstacles.forEach(a=>{a.x===t&&a.y===i&&(r=!0)}),r}obstacleCollision(t){return this.checkObstacles(t.x,t.y)}boardCollision(t){return 18===t.x||-1===t.x||18===t.y||-1===t.y}selfCollision(t){return!0===this.board[t.y][t.x]}fruitCollision(t){return t.x===this.fruit.x&&t.y===this.fruit.y}resetFruit(){let t=this.randomNumber(),i=this.randomNumber();if(!0===this.board[i][t]||this.checkObstacles(t,i))return this.resetFruit();this.fruit={x:t,y:i}}eatFruit(){this.score++;let t=Object.assign({},this.snake.parts[this.snake.parts.length-1]);this.snake.parts.push(t),this.resetFruit(),this.score%5==0&&(this.interval-=15)}gameOver(){this.isGameOver=!0,this.gameStarted=!1;let t=this;this.score>this.best_score&&(this.bestScoreService.store(this.score),this.best_score=this.score,this.newBestScore=!0),this.setBoard(),setTimeout(()=>{t.isGameOver=!1},500),this.juegoService.setResult({juego:"Snake",puntaje:this.score}).then(i=>{console.log(i)}).catch(i=>{console.log("Error ->",i)})}randomNumber(){return Math.floor(18*Math.random())}setBoard(){this.board=[];for(let t=0;t<18;t++){this.board[t]=[];for(let i=0;i<18;i++)this.board[t][i]=!1}}showMenu(){this.showMenuChecker=!this.showMenuChecker}newGame(t){this.default_mode=t||"classic",this.showMenuChecker=!1,this.newBestScore=!1,this.gameStarted=!0,this.score=0,this.tempDirection=37,this.isGameOver=!1,this.interval=150,this.snake={direction:37,parts:[]};for(let i=0;i<3;i++)this.snake.parts.push({x:8+i,y:8});if("obstacles"===t){this.obstacles=[];let i=1;do{this.addObstacles()}while(i++<9)}this.resetFruit(),this.updatePositions()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($w),c.Y36(HL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-snake"]],hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i.handleKeyboardEvents(a)},!1,c.evT)},decls:12,vars:9,consts:[[1,"main-container"],[1,"game-container"],[1,"game-header"],[1,"logo"],[1,"score-block"],[1,"score",3,"ngClass"],["class","row",4,"ngFor","ngForOf"],[1,"start-button",3,"ngClass","click"],["class","new-game-menu",4,"ngIf"],[1,"row"],["class","column",3,"ngStyle",4,"ngFor","ngForOf"],[1,"column",3,"ngStyle"],[1,"new-game-menu"],[1,"new-game-menu-label"],["class","start-button new-game-button",3,"click",4,"ngFor","ngForOf"],[1,"start-button","new-game-button",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),c._uU(4,"Snake"),c.qZA(),c.TgZ(5,"div",4)(6,"h3",5),c._uU(7),c.qZA()()(),c.YNc(8,zL,2,1,"div",6),c.TgZ(9,"div",7),c.NdJ("click",function(){return i.showMenu()}),c._uU(10,"Comenzar Juego"),c.qZA(),c.YNc(11,WL,4,1,"div",8),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("ngClass",c.VKq(5,ZL,i.newBestScore)),c.xp6(1),c.hij("Puntaje: ",i.score,""),c.xp6(1),c.Q6J("ngForOf",i.board),c.xp6(1),c.Q6J("ngClass",c.VKq(7,KL,i.gameStarted)),c.xp6(2),c.Q6J("ngIf",i.showMenuChecker))},directives:[ss,Yn,Rd,Jn],styles:[".game-header[_ngcontent-%COMP%]{color:#fff;padding:5px 15px 5px 0;position:relative}.game-header[_ngcontent-%COMP%] > .score-block[_ngcontent-%COMP%]{display:inline-block}.score-block[_ngcontent-%COMP%] > .score[_ngcontent-%COMP%]{position:absolute;right:8px;top:-5px}.score-block[_ngcontent-%COMP%] > .best-score[_ngcontent-%COMP%]{position:absolute;right:8px;margin-top:5px;font-size:12px}.game-header[_ngcontent-%COMP%] > .logo[_ngcontent-%COMP%]{display:inline-block;padding-left:15px}.game-container[_ngcontent-%COMP%]{width:468px;position:relative;display:block;margin:auto;background-color:#47565a;box-shadow:0 19px 38px #0000004d,0 15px 12px #00000038;border-radius:5px}.row[_ngcontent-%COMP%]{height:26px;margin-left:2vh}.column[_ngcontent-%COMP%]{border:1px solid rgba(97,131,138,.1);width:24px;height:24px;display:inline-block}.start-button[_ngcontent-%COMP%]{padding:15px;text-align:center;background-color:#47565a;color:#fff;border-radius:5px}.start-button[_ngcontent-%COMP%]:hover{opacity:.65;cursor:pointer}.start-button.new-game-button[_ngcontent-%COMP%]{margin:0 105px 4px}.disable-clicks[_ngcontent-%COMP%]{pointer-events:none}.new-game-menu[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;bottom:0;padding:40% 0;text-align:center;background:rgba(0,0,0,.15)}.new-game-menu-label[_ngcontent-%COMP%]{font-size:1.17em;margin-bottom:13px;display:block;color:#fff}.new-best-score[_ngcontent-%COMP%]{animation:glow .5s infinite alternate}@keyframes glow{to{text-shadow:0 0 15px #ffff00}}@media screen and (max-width: 480px){.game-container[_ngcontent-%COMP%]{width:100%}.column[_ngcontent-%COMP%]{width:5.55%;height:0;padding-bottom:5.06%;box-sizing:border-box}.row[_ngcontent-%COMP%]{display:flex;height:0;padding-bottom:5.5%}.new-game-menu[_ngcontent-%COMP%]{width:100%;top:8px;padding-top:30%;font-size:80%}.start-button.new-game-button[_ngcontent-%COMP%]{margin:0 15% 1%}@-moz-document url-prefix(){.column{min-height:5.5vw}}}.score[_ngcontent-%COMP%]{margin-top:.5vh}.main-container[_ngcontent-%COMP%]{background:linear-gradient(to right,#232526,#414345);height:80%;padding-top:5vh;margin-top:-2.5vh;padding-bottom:0!important;margin-bottom:0!important}"]}),n})();const JL=function(){return["/HigherOrLower"]},QL=function(){return["/Snake"]};let XL=(()=>{class n{constructor(){this.mensaje="",this.logged=!1}ngOnInit(){}testing(){console.log("ASD")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:55,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-xs-12","col-sm-6","col-md-4"],["ontouchstart","this.classList.toggle('hover');",1,"image-flip"],[1,"mainflip"],[1,"frontside"],[1,"card"],[1,"card-body","text-center","mt-4"],[1,"h1"],["src","../../../assets/imagenes/Preguntados.png",1,"img-fluid"],[1,"backside"],[1,"card-body"],["src","'../../../../../assets/imagenes/playbutton.gif",1,"test",2,"cursor","pointer"],["src","../../../assets/imagenes/HigherOrLower.png",1,"img-fluid"],["src","'../../../../../assets/imagenes/playbutton.gif",1,"test",2,"cursor","pointer",3,"routerLink"],["src","../../../assets/imagenes/snake.gif",1,"img-fluid"],["src","../../../assets/imagenes/HangMan.png",1,"img-fluid"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),c._uU(9,"Preguntados"),c.qZA(),c._UZ(10,"img",9),c.qZA()()(),c.TgZ(11,"div",10)(12,"div",6)(13,"div",11),c._UZ(14,"img",12),c.qZA()()()()()(),c.TgZ(15,"div",2)(16,"div",3)(17,"div",4)(18,"div",5)(19,"div",6)(20,"div",7)(21,"h1",8),c._uU(22,"H or L"),c.qZA(),c._UZ(23,"img",13),c.qZA()()(),c.TgZ(24,"div",10)(25,"div",6)(26,"div",11),c._UZ(27,"img",14),c.qZA()()()()()(),c.TgZ(28,"div",2)(29,"div",3)(30,"div",4)(31,"div",5)(32,"div",6)(33,"div",7)(34,"h1",8),c._uU(35,"Snake Game"),c.qZA(),c._UZ(36,"img",15),c.qZA()()(),c.TgZ(37,"div",10)(38,"div",6)(39,"div",11),c._UZ(40,"img",14),c.qZA()()()()()(),c._UZ(41,"div",2),c.TgZ(42,"div",2)(43,"div",3)(44,"div",4)(45,"div",5)(46,"div",6)(47,"div",7)(48,"h1",8),c._uU(49,"HangMan"),c.qZA(),c._UZ(50,"img",16),c.qZA()()(),c.TgZ(51,"div",10)(52,"div",6)(53,"div",11),c._UZ(54,"img",12),c.qZA()()()()()()()()),2&t&&(c.xp6(27),c.Q6J("routerLink",c.DdM(2,JL)),c.xp6(13),c.Q6J("routerLink",c.DdM(3,QL)))},directives:[up],styles:[".image-flip[_ngcontent-%COMP%]:hover   .backside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .backside[_ngcontent-%COMP%]{transform:rotateY(0);border-radius:.25rem}.image-flip[_ngcontent-%COMP%]:hover   .frontside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .frontside[_ngcontent-%COMP%]{transform:rotateY(180deg)}.mainflip[_ngcontent-%COMP%]{-webkit-transition:1s;-webkit-transform-style:preserve-3d;-ms-transition:1s;-moz-transition:1s;-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d;position:relative}.backside[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:transparent;transform:rotateY(-180deg)}.frontside[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transition:1s;-webkit-transform-style:preserve-3d;-moz-transition:1s;-moz-transform-style:preserve-3d;-o-transition:1s;-o-transform-style:preserve-3d;-ms-transition:1s;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-height:312px;background-color:transparent}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:10%}.test[_ngcontent-%COMP%]{width:80%;align-self:center;margin-top:12vh}.card[_ngcontent-%COMP%]{border:0}"]}),n})();function EN(...n){const e=(0,Pn.jO)(n),{args:t,keys:i}=jr(n),r=new jn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let I=!1;(0,_r.Xf)(t[T]).subscribe((0,_n.x)(a,k=>{I||(I=!0,b--),f[T]=k},()=>_--,void 0,()=>{(!_||!I)&&(b||a.next(i?Ro(i,f):f),a.complete())}))}});return e?r.pipe(fu(e)):r}let DN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Pg=(()=>{class n extends DN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ua=new c.OlP("NgValueAccessor"),t2={provide:Ua,useExisting:(0,c.Gpc)(()=>nw),multi:!0},r2=new c.OlP("CompositionEventMode");let nw=(()=>{class n extends DN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function n2(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(r2,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([t2]),c.qOj]}),n})();function yf(n){return null==n||0===n.length}function TN(n){return null!=n&&"number"==typeof n.length}const ms=new c.OlP("NgValidators"),vf=new c.OlP("NgAsyncValidators"),s2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Id{static min(e){return function SN(n){return e=>{if(yf(e.value)||yf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IN(n){return e=>{if(yf(e.value)||yf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return AN(e)}static requiredTrue(e){return function MN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function xN(n){return yf(n.value)||s2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function NN(n){return e=>yf(e.value)||!TN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ON(n){return e=>TN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function kN(n){if(!n)return n1;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(yf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return VN(e)}static composeAsync(e){return UN(e)}}function AN(n){return yf(n.value)?{required:!0}:null}function n1(n){return null}function RN(n){return null!=n}function PN(n){const e=(0,c.QGY)(n)?(0,ei.D)(n):n;return(0,c.CqO)(e),e}function FN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function LN(n,e){return e.map(t=>t(n))}function BN(n){return n.map(e=>function o2(n){return!n.validate}(e)?e:t=>e.validate(t))}function VN(n){if(!n)return null;const e=n.filter(RN);return 0==e.length?null:function(t){return FN(LN(t,e))}}function JI(n){return null!=n?VN(BN(n)):null}function UN(n){if(!n)return null;const e=n.filter(RN);return 0==e.length?null:function(t){return EN(LN(t,e).map(PN)).pipe((0,gt.U)(FN))}}function QI(n){return null!=n?UN(BN(n)):null}function jN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HN(n){return n._rawValidators}function GN(n){return n._rawAsyncValidators}function XI(n){return n?Array.isArray(n)?n:[n]:[]}function r1(n,e){return Array.isArray(n)?n.includes(e):n===e}function $N(n,e){const t=XI(e);return XI(n).forEach(r=>{r1(t,r)||t.push(r)}),t}function zN(n,e){return XI(e).filter(t=>!r1(n,t))}class qN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bf extends qN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qs extends qN{get formDirective(){return null}get path(){return null}}class WN{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let eA=(()=>{class n extends WN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bf,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),tA=(()=>{class n extends WN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function iw(n,e){rA(n,e),e.valueAccessor.writeValue(n.value),function p2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&KN(n,e)})}(n,e),function m2(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function g2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&KN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function f2(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function a1(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),c1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function l1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rA(n,e){const t=HN(n);null!==e.validator?n.setValidators(jN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=GN(n);null!==e.asyncValidator?n.setAsyncValidators(jN(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();l1(e._rawValidators,r),l1(e._rawAsyncValidators,r)}function c1(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=HN(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=GN(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return l1(e._rawValidators,i),l1(e._rawAsyncValidators,i),t}function KN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const rw="VALID",u1="INVALID",uy="PENDING",sw="DISABLED";function cA(n){return(d1(n)?n.validators:n)||null}function XN(n){return Array.isArray(n)?JI(n):n||null}function uA(n,e){return(d1(e)?e.asyncValidators:n)||null}function eO(n){return Array.isArray(n)?QI(n):n||null}function d1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const dA=n=>n instanceof fA,h1=n=>n instanceof f1,tO=n=>n instanceof sO;function nO(n){return dA(n)?n.value:n.getRawValue()}function iO(n,e){const t=h1(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function rO(n,e){h1(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class hA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=XN(this._rawValidators),this._composedAsyncValidatorFn=eO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rw}get invalid(){return this.status===u1}get pending(){return this.status==uy}get disabled(){return this.status===sw}get enabled(){return this.status!==sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=XN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=eO(e)}addValidators(e){this.setValidators($N(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($N(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zN(e,this._rawAsyncValidators))}hasValidator(e){return r1(this._rawValidators,e)}hasAsyncValidator(e){return r1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rw||this.status===uy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sw:rw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uy,this._hasOwnPendingAsyncValidator=!0;const t=PN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function b2(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=h1(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:tO(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?sw:this.errors?u1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uy)?uy:this._anyControlsHaveStatus(u1)?u1:rw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){d1(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fA extends hA{constructor(e=null,t,i){super(cA(t),uA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),d1(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class f1 extends hA{constructor(e,t,i){super(cA(t),uA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rO(this,e),Object.keys(e).forEach(i=>{iO(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=nO(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class sO extends hA{constructor(e,t,i){super(cA(t),uA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rO(this,e),e.forEach((i,r)=>{iO(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>nO(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let gA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const mA=new c.OlP("NgModelWithFormControlWarning"),M2={provide:qs,useExisting:(0,c.Gpc)(()=>aw)};let aw=(()=>{class n extends qs{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(c1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return iw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){a1(t.control||null,t,!1),aA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function QN(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(a1(i||null,t),dA(r)&&(iw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function YN(n,e){rA(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _2(n,e){return c1(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rA(this.form,this),this._oldForm&&c1(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ms,10),c.Y36(vf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([M2]),c.qOj,c.TTD]}),n})();const O2={provide:bf,useExisting:(0,c.Gpc)(()=>p1)};let p1=(()=>{class n extends bf{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function oA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===nw?t=a:function v2(n){return Object.getPrototypeOf(n.constructor)===Pg}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function sA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function o1(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(qs,13),c.Y36(ms,10),c.Y36(vf,10),c.Y36(Ua,10),c.Y36(mA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([O2]),c.qOj,c.TTD]}),n})(),Fg=(()=>{class n{constructor(){this._validator=n1}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):n1,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const H2={provide:ms,useExisting:(0,c.Gpc)(()=>g1),multi:!0};let g1=(()=>{class n extends Fg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function V2(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>AN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([H2]),c.qOj]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[dO]]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[IO]}),n})(),MO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[IO]}),n})(),xO=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let f,a=null,u=null;return null!=i&&(function Z2(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new f1(r,{asyncValidators:u,updateOn:f,validators:a})}control(t,i,r){return new fA(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new sO(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return dA(t)||h1(t)||tO(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:MO}),n})();function K2(n,e){1&n&&c._UZ(0,"div",15)}const NO=function(n,e){return{"is-invalid":n,"is-valid":e}};let Y2=(()=>{class n{constructor(t,i,r){this.router=t,this.formBuilder=i,this.auth=r,this.cargando=!1,this.hide=!1,this.usuario="",this.error=!1,this.errorMsj=new Mn(""),this.loginForm=this.formBuilder.group({username:["",[Id.required,Id.email]],password:["",[Id.required,Id.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.username,this.loginForm.value.password).then(t=>{t&&(this.auth.user=t.user,this.auth.username.next(t.user.displayName),this.auth.loggedIn.next(!0),this.router.navigate([""]),this.cargando=!1)}).catch(t=>{this.errorMsj.next(t.message),this.error=!0,this.cargando=!1,console.info("ERROR ->",t)})}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[t].hasError("email")&&(i="Not valid email."),i}isNotValidField(t){return(this.f[t].touched||this.f[t].dirty)&&!this.f[t].valid}completarLogin(){this.loginForm.setValue({username:"usuario@gmail.com",password:"123456"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(xO),c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:16,consts:[[1,"card-front"],[1,"center-wrap"],[1,"section","text-center"],[1,"mb-4","pb-3"],["autocomplete","disabled",3,"formGroup"],[1,"form-group"],["formControlName","username","placeholder","Your email","type","text","id","validationSuccess","required","","autocomplete","disabled",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback",2,"font-size","small"],[1,"form-group","mt-2"],["formControlName","password","type","password","name","logpass","placeholder","Your Password","id","logpass","autocomplete","disabled",1,"form-control","form-style",3,"ngClass"],["class","is-invalid mt-4",4,"ngIf"],[1,"invalid-feedback",2,"font-size","medium"],[1,"btn","mt-4",3,"disabled","click"],[1,"mb-0","mt-4","text-center"],[1,"link",3,"click"],[1,"is-invalid","mt-4"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),c._uU(4,"Log In"),c.qZA(),c.TgZ(5,"form",4)(6,"div",5),c._UZ(7,"input",6),c.TgZ(8,"div",7),c._uU(9),c.qZA()(),c.TgZ(10,"div",8),c._UZ(11,"input",9),c.TgZ(12,"div",7),c._uU(13),c.qZA()(),c.YNc(14,K2,1,0,"div",10),c.TgZ(15,"div",11),c._uU(16),c.ALo(17,"async"),c.qZA(),c.TgZ(18,"button",12),c.NdJ("click",function(){return i.onLogin()}),c._uU(19,"Sign In"),c.qZA(),c.TgZ(20,"p",13)(21,"a",14),c.NdJ("click",function(){return i.completarLogin()}),c._uU(22,"Autocomplete"),c.qZA()()()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",i.loginForm),c.xp6(2),c.Q6J("ngClass",c.WLB(10,NO,i.isNotValidField("username"),!i.isNotValidField("username")&&i.f.username.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("username")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(13,NO,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("password")," "),c.xp6(1),c.Q6J("ngIf",i.error),c.xp6(2),c.hij(" ",c.lcZ(17,8,i.errorMsj)," "),c.xp6(2),c.Q6J("disabled",i.loginForm.invalid))},directives:[gA,tA,aw,nw,eA,p1,g1,ss,Jn],pipes:[Gl],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})();const wA=function(n,e){return{"is-invalid":n,"is-valid":e}};let J2=(()=>{class n{constructor(t,i,r){this.router=t,this.formBuilder=i,this.auth=r,this.cargando=!1,this.hide=!0,this.mensaje="",this.error=!1,this.errorMsj="",this.regisForm=this.formBuilder.group({email:["",[Id.required,Id.email]],username:["",Id.required],password:["",[Id.required,Id.minLength(6)]]})}ngOnInit(){}get f(){return this.regisForm.controls}onRegistrar(){this.error=!1,this.cargando=!0,this.auth.register(this.regisForm.value.email,this.regisForm.value.password).then(t=>{t&&t.user.updateProfile({displayName:this.regisForm.value.username}).then(()=>{this.auth.user=t.user,this.auth.loggedIn.next(!0),localStorage.setItem("nickname",this.auth.user.displayName),this.router.navigate([""]),this.cargando=!1})}).catch(t=>{this.errorMsj=t.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",t)})}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[t].hasError("email")&&(i="Not valid email."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(xO),c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:17,consts:[[1,"center-wrap"],[1,"section","text-center"],[1,"mb-4","pb-3"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","username","name","logname","placeholder","Your Full Name","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback",2,"font-size","small"],[1,"form-group","mt-2"],["type","email","formControlName","email","name","logemail","placeholder","Your Email","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"input-icon","uil","uil-at"],["type","password","formControlName","password","name","logpass","placeholder","Your Password","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"input-icon","uil","uil-lock-alt"],["type","button",1,"btn","mt-4",3,"disabled","click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),c._uU(3,"Sign Up"),c.qZA(),c.TgZ(4,"form",3)(5,"div",4),c._UZ(6,"input",5),c.TgZ(7,"div",6),c._uU(8),c.qZA()(),c.TgZ(9,"div",7),c._UZ(10,"input",8)(11,"i",9),c.TgZ(12,"div",6),c._uU(13),c.qZA()(),c.TgZ(14,"div",7),c._UZ(15,"input",10)(16,"i",11),c.TgZ(17,"div",6),c._uU(18),c.qZA()(),c.TgZ(19,"button",12),c.NdJ("click",function(){return i.onRegistrar()}),c._uU(20,"Sign Up"),c.qZA()()()()),2&t&&(c.xp6(4),c.Q6J("formGroup",i.regisForm),c.xp6(2),c.Q6J("ngClass",c.WLB(8,wA,i.isNotValidField("username"),!i.isNotValidField("username")&&i.f.username.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("username")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(11,wA,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),c.xp6(3),c.hij(" ",i.getErrorMessage("email")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(14,wA,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),c.xp6(3),c.hij(" ",i.getErrorMessage("password")," "),c.xp6(1),c.Q6J("disabled",i.regisForm.invalid))},directives:[gA,tA,aw,nw,eA,p1,ss],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})(),Q2=(()=>{class n{constructor(){this.click=!1}ngOnInit(){}onClick(){this.click=!this.click}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login-register"]],decls:18,vars:0,consts:[[1,"centrar"],[1,"section"],[1,"container"],[1,"row","full-height","justify-content-center"],[1,"col-12","text-center","align-self-center","py-5"],[1,"section","pb-5","pt-5","pt-sm-2","text-center"],[1,"mb-0","pb-3"],["type","checkbox","id","reg-log","name","reg-log",1,"checkbox"],["for","reg-log"],[1,"card-3d-wrap","mx-auto"],[1,"card-3d-wrapper"],[1,"card-back"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6)(7,"span"),c._uU(8,"Log In "),c.qZA(),c.TgZ(9,"span"),c._uU(10,"Sign Up"),c.qZA()(),c._UZ(11,"input",7)(12,"label",8),c.TgZ(13,"div",9)(14,"div",10),c._UZ(15,"app-login"),c.TgZ(16,"div",11),c._UZ(17,"app-register"),c.qZA()()()()()()()()())},directives:[Y2,J2],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})(),m1=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.isLoggedIn$=this.authService.isLoggedIn}canActivate(t,i){return this.isLoggedIn$.subscribe(r=>{r||this.router.navigateByUrl("Login")}),!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tw),c.LFG(Xi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X2=[{path:"",component:XL,canActivate:[m1]},{path:"Login",component:Q2},{path:"Snake",component:YL,canActivate:[m1]},{path:"HigherOrLower",component:Gw,canActivate:[m1]},{path:"AboutMe",component:hT,canActivate:[m1]}];let eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[dp.forRoot(X2)],dp]}),n})();function Ol(n){return null!=n&&"false"!=`${n}`}function OO(n,e=0){return function tB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function dy(n){return n instanceof c.SBq?n.nativeElement:n}var nB=F(1144);const iB=["addListener","removeListener"],rB=["addEventListener","removeEventListener"],sB=["on","off"];function Fr(n,e,t,i){if((0,Mr.m)(t)&&(i=t,t=void 0),i)return Fr(n,e,t).pipe(fu(i));const[r,a]=function lB(n){return(0,Mr.m)(n.addEventListener)&&(0,Mr.m)(n.removeEventListener)}(n)?rB.map(u=>f=>n[u](e,f,t)):function oB(n){return(0,Mr.m)(n.addListener)&&(0,Mr.m)(n.removeListener)}(n)?iB.map(kO(n,e)):function aB(n){return(0,Mr.m)(n.on)&&(0,Mr.m)(n.off)}(n)?sB.map(kO(n,e)):[];if(!r&&(0,nB.z)(n))return(0,Rn.z)(u=>Fr(u,e,t))((0,_r.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new jn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function kO(n,e){return t=>i=>n[t](e,i)}var RO=F(4408);const lw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=lw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Po.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=lw;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lw;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var PO=F(7565);new class uB extends PO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class cB extends RO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(lw.cancelAnimationFrame(t),e._scheduled=void 0)}});let EA,hB=1;const _1={};function FO(n){return n in _1&&(delete _1[n],!0)}const fB={setImmediate(n){const e=hB++;return _1[e]=!0,EA||(EA=Promise.resolve()),EA.then(()=>FO(e)&&n()),e},clearImmediate(n){FO(n)}},{setImmediate:pB,clearImmediate:gB}=fB,y1={setImmediate(...n){const{delegate:e}=y1;return((null==e?void 0:e.setImmediate)||pB)(...n)},clearImmediate(n){const{delegate:e}=y1;return((null==e?void 0:e.clearImmediate)||gB)(n)},delegate:void 0};new class _B extends PO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class mB extends RO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=y1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(y1.clearImmediate(t),e._scheduled=void 0)}});var bB=F(3532);function v1(n=0,e,t=Im.P){let i=-1;return null!=e&&((0,bB.K)(e)?t=e:i=e),new jn.y(r=>{let a=function wB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function LO(n,e=Im.z){return function vB(n){return(0,ri.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,_n.x)(t,b=>{i=!0,r=b,a||(0,_r.Xf)(n(b)).subscribe(a=(0,_n.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>v1(n,e))}var b1=F(5032);function On(n){return(0,ri.e)((e,t)=>{(0,_r.Xf)(n).subscribe((0,_n.x)(t,()=>t.complete(),b1.Z)),!t.closed&&e.subscribe(t)})}let DA;try{DA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){DA=!1}let cw,E1,Lg,CA,wf=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ri(n){return n===ro}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w1(n){return function EB(){if(null==cw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cw=!0}))}finally{cw=cw||!1}return cw}()?n:!!n.capture}function uw(){if("object"!=typeof document||!document)return 0;if(null==E1){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),E1=0,0===n.scrollLeft&&(n.scrollLeft=1,E1=0===n.scrollLeft?1:2),n.remove()}return E1}function dw(n){return n.composedPath?n.composedPath()[0]:n.target}const IB=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function AB(){return(0,c.f3M)(ie)}}),MB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let VO=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function xB(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?MB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(IB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),TA=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(LO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(xn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=dy(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(wf),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hw=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Bt.x,this._elementScrolled=new jn.y(u=>this.ngZone.runOutsideAngular(()=>Fr(this.elementRef.nativeElement,"scroll").pipe(On(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=uw()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==uw()?t.left=t.right:1==uw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function DB(){if(null==Lg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Lg=!1,Lg;if("scrollBehavior"in document.documentElement.style)Lg=!0;else{const n=Element.prototype.scrollTo;Lg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Lg}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==uw()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==uw()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(TA),c.Y36(c.R0b),c.Y36(VO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),kB=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Bt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wf),c.LFG(c.R0b),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let qO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function $B(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function GB(n){try{return n.frameElement}catch(e){return null}}(function QB(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===ZO(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=ZO(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function YB(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function JB(n){return!function qB(n){return function ZB(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zB(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function WB(n){return function KB(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||WO(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ZO(n){if(!WO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class XB{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ln.q)(1)).subscribe(e)}}let eV=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new XB(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qO),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tV=new c.OlP("cdk-input-modality-detector-options"),nV={ignoreKeys:[18,17,224,91,16]},fy=w1({passive:!0,capture:!0});let iV=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Mn(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=dw(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(KO(u)?"keyboard":"mouse"),this._mostRecentTarget=dw(u))},this._onTouchstart=u=>{YO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dw(u))},this._options=Object.assign(Object.assign({},nV),a),this.modalityDetected=this._modality.pipe(function GO(n){return xn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Uu()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fy),r.addEventListener("mousedown",this._onMousedown,fy),r.addEventListener("touchstart",this._onTouchstart,fy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fy),document.removeEventListener("mousedown",this._onMousedown,fy),document.removeEventListener("touchstart",this._onTouchstart,fy))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wf),c.LFG(c.R0b),c.LFG(ie),c.LFG(tV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sV=new c.OlP("cdk-focus-monitor-default-options"),D1=w1({passive:!0,capture:!0});let QO=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Bt.x,this._rootNodeFocusAndBlurListener=f=>{const _=dw(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)b.call(this,f,T)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=dy(t);if(!this._platform.isBrowser||1!==r.nodeType)return ut(null);const a=function TB(n){if(function CB(){if(null==CA){const n="undefined"!=typeof document?document.head:null;CA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return CA}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Bt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=dy(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=dy(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=dw(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,D1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,D1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(On(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,D1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,D1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(wf),c.LFG(iV),c.LFG(ie,8),c.LFG(sV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XO="cdk-high-contrast-black-on-white",ek="cdk-high-contrast-white-on-black",SA="cdk-high-contrast-active";let oV=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(SA),t.remove(XO),t.remove(ek),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(SA),t.add(XO)):2===i&&(t.add(SA),t.add(ek))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wf),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tk{}const Ad="*";function nk(n,e){return{type:7,name:n,definitions:e,options:{}}}function IA(n,e=null){return{type:4,styles:e,timings:n}}function ik(n,e=null){return{type:2,steps:n,options:e}}function py(n){return{type:6,styles:n,offset:null}}function AA(n,e,t){return{type:0,name:n,styles:e,options:t}}function MA(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function rk(n){Promise.resolve(null).then(n)}class fw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?rk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const un=!1;function ok(n){return new c.vHH(3e3,un)}function jV(){return"undefined"!=typeof window&&void 0!==window.document}function NA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ef(n){switch(n.length){case 0:return new fw;case 1:return n[0];default:return new sk(n)}}function ak(n,e,t,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(T=>{const I=T.offset,k=I==_,B=k&&b||{};Object.keys(T).forEach(H=>{let K=H,_e=T[H];if("offset"!==H)switch(K=e.normalizePropertyName(K,u),_e){case"!":_e=r[H];break;case Ad:_e=a[H];break;default:_e=e.normalizeStyleValue(H,K,_e,u)}B[K]=_e}),k||f.push(B),b=B,_=I}),u.length)throw function xV(n){return new c.vHH(3502,un)}();return f}function OA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&kA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&kA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&kA(t,"destroy",n)))}}function kA(n,e,t){const i=t.totalTime,a=RA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function RA(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function oa(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function lk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let PA=(n,e)=>!1,ck=(n,e,t)=>[],uk=null;function FA(n){const e=n.parentNode||n.host;return e===uk?null:e}(NA()||"undefined"!=typeof Element)&&(jV()?(uk=(()=>document.documentElement)(),PA=(n,e)=>{for(;e;){if(e===n)return!0;e=FA(e)}return!1}):PA=(n,e)=>n.contains(e),ck=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Bg=null,dk=!1;function hk(n){Bg||(Bg=function GV(){return"undefined"!=typeof document?document.body:null}()||{},dk=!!Bg.style&&"WebkitAppearance"in Bg.style);let e=!0;return Bg.style&&!function HV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Bg.style,!e&&dk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Bg.style)),e}const fk=PA,pk=ck;let gk=(()=>{class n{validateStyleProperty(t){return hk(t)}matchesElement(t,i){return!1}containsElement(t,i){return fk(t,i)}getParentElement(t){return FA(t)}query(t,i,r){return pk(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new fw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),LA=(()=>{class n{}return n.NOOP=new gk,n})();const BA="ng-enter",T1="ng-leave",S1="ng-trigger",I1=".ng-trigger",_k="ng-animating",VA=".ng-animating";function Vg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UA(parseFloat(e[1]),e[2])}function UA(n,e){return"s"===e?1e3*n:n}function A1(n,e,t){return n.hasOwnProperty("duration")?n:function qV(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(ok()),{duration:0,delay:0,easing:""};r=UA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=UA(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function lV(){return new c.vHH(3100,un)}()),f=!0),a<0&&(e.push(function cV(){return new c.vHH(3101,un)}()),f=!0),f&&e.splice(_,0,ok())}return{duration:r,delay:a,easing:u}}(n,e,t)}function gy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Df(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else gy(n,t);return t}function vk(n,e,t){return t?e+":"+t+";":""}function bk(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=vk(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vk(0,KV(t),n.style[t]));n.setAttribute("style",e)}function Gc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=HA(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),NA()&&bk(n))}function Ug(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=HA(t);n.style[i]=""}),NA()&&bk(n))}function pw(n){return Array.isArray(n)?1==n.length?n[0]:ik(n):n}const jA=new RegExp("{{\\s*(.+?)\\s*}}","g");function wk(n){let e=[];if("string"==typeof n){let t;for(;t=jA.exec(n);)e.push(t[1]);jA.lastIndex=0}return e}function M1(n,e,t){const i=n.toString(),r=i.replace(jA,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function dV(n){return new c.vHH(3003,un)}()),f=""),f.toString()});return r==i?n:r}function x1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ZV=/-+([a-z0-9])/g;function HA(n){return n.replace(ZV,(...e)=>e[1].toUpperCase())}function KV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function aa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function hV(n){return new c.vHH(3004,un)}()}}function Ek(n,e){return window.getComputedStyle(n)[e]}function tU(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nU(n,e,t){if(":"==n[0]){const _=function iU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function SV(n){return new c.vHH(3016,un)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function TV(n){return new c.vHH(3015,un)}()),e;const r=i[1],a=i[2],u=i[3];e.push(Dk(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(Dk(u,r))}(i,t,e)):t.push(n),t}const R1=new Set(["true","1"]),P1=new Set(["false","0"]);function Dk(n,e){const t=R1.has(n)||P1.has(n),i=R1.has(e)||P1.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?R1.has(n):P1.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?R1.has(e):P1.has(e)),u&&f}}const rU=new RegExp("s*:selfs*,?","g");function GA(n,e,t,i){return new sU(n).build(e,t,i)}class sU{constructor(e){this._driver=e}build(e,t,i){const r=new lU(t);this._resetContextStyleTimingState(r);const a=aa(this,pw(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function pV(){return new c.vHH(3006,un)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function gV(){return new c.vHH(3007,un)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(F1(f)){const _=f;Object.keys(_).forEach(b=>{wk(_[b]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(x1(a.values()),t.errors.push(function mV(n,e){return new c.vHH(3008,un)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=aa(this,pw(e.animation),t);return{type:1,matchers:tU(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:jg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>aa(this,i,t)),options:jg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=aa(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:jg(e.options)}}visitAnimate(e,t){const i=function uU(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return $A(A1(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=$A(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||A1(i,e),$A(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:py({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=py(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Ad?i.push(u):t.errors.push(function _V(n){return new c.vHH(3002,un)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(F1(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],b=_[f];let T=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(t.errors.push(function yV(n,e,t,i,r){return new c.vHH(3010,un)}()),T=!1),a=b.startTime),T&&(_[f]={startTime:a,endTime:r}),t.options&&function WV(n,e,t){const i=e.params||{},r=wk(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function uV(n){return new c.vHH(3001,un)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function vV(){return new c.vHH(3011,un)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const T=e.steps.map(je=>{const Se=this._makeStyleAst(je,t);let it=null!=Se.offset?Se.offset:function cU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(F1(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(F1(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Se.styles),Pe=0;return null!=it&&(a++,Pe=Se.offset=it),_=_||Pe<0||Pe>1,f=f||Pe<b,b=Pe,u.push(Pe),Se});_&&t.errors.push(function bV(){return new c.vHH(3012,un)}()),f&&t.errors.push(function wV(){return new c.vHH(3200,un)}());const I=e.steps.length;let k=0;a>0&&a<I?t.errors.push(function EV(){return new c.vHH(3202,un)}()):0==a&&(k=1/(I-1));const B=I-1,H=t.currentTime,K=t.currentAnimateTimings,_e=K.duration;return T.forEach((je,Se)=>{const it=k>0?Se==B?1:k*Se:u[Se],Pe=it*_e;t.currentTime=H+K.delay+Pe,K.duration=Pe,this._validateStyleAst(je,t),je.offset=it,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:aa(this,pw(e.animation),t),options:jg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function oU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rU,"")),n=n.replace(/@\*/g,I1).replace(/@\w+/g,t=>I1+"-"+t.substr(1)).replace(/:animating/g,VA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,oa(t.collectedStyles,t.currentQuerySelector,{});const f=aa(this,pw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:jg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function DV(){return new c.vHH(3013,un)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:A1(e.timings,t.errors,!0);return{type:12,animation:aa(this,pw(e.animation),t),timings:i,options:null}}}class lU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function F1(n){return!Array.isArray(n)&&"object"==typeof n}function jg(n){return n?(n=gy(n)).params&&(n.params=function aU(n){return n?gy(n):null}(n.params)):n={},n}function $A(n,e,t){return{duration:n,delay:e,easing:t}}function zA(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class L1{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fU=new RegExp(":enter","g"),gU=new RegExp(":leave","g");function qA(n,e,t,i,r,a={},u={},f,_,b=[]){return(new mU).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class mU{buildKeyframes(e,t,i,r,a,u,f,_,b,T=[]){b=b||new L1;const I=new WA(e,t,b,r,a,T,[]);I.options=_,I.currentTimeline.setStyles([u],null,I.errors,_),aa(this,i,I);const k=I.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let H=k.length-1;H>=0;H--){const K=k[H];if(K.element===t){B=K;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,I.errors,_)}return k.length?k.map(B=>B.buildKeyframes()):[zA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Vg(i.duration):null,f=null!=i.delay?Vg(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),aa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=B1);const u=Vg(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>aa(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Vg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),aa(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return A1(t.params?M1(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Vg(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=B1);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const I=t.createSubContext(e.options,b);a&&I.delayNextStep(a),b===t.element&&(_=I.currentTimeline),aa(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const I=T.currentTime;aa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const B1={};class WA{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=B1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new V1(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Vg(i.duration)),null!=i.delay&&(r.delay=Vg(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=M1(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new WA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=B1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new _U(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(fU,"."+this._enterClassName)).replace(gU,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function CV(n){return new c.vHH(3014,un)}()),f}}class V1{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new V1(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ad,this._currentKeyframe[t]=Ad}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function yU(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=Ad})):Df(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=M1(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ad),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Df(f,!0);Object.keys(b).forEach(T=>{const I=b[T];"!"==I?e.add(T):I==Ad&&t.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const a=e.size?x1(e.values()):[],u=t.size?x1(t.values()):[];if(i){const f=r[0],_=gy(f);f.offset=0,_.offset=1,r=[f,_]}return zA(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class _U extends V1{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Df(e[0],!1);_.offset=0,a.push(_);const b=Df(e[0],!1);b.offset=Sk(f),a.push(b);const T=e.length-1;for(let I=1;I<=T;I++){let k=Df(e[I],!1);k.offset=Sk((t+k.offset*i)/u),a.push(k)}i=u,t=0,r="",e=a}return zA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Sk(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ZA{}class vU extends ZA{normalizePropertyName(e,t){return HA(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(bU[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function fV(n,e){return new c.vHH(3005,un)}())}return u+a}}const bU=(()=>function wU(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ik(n,e,t,i,r,a,u,f,_,b,T,I,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:I,errors:k}}const KA={};class Ak{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function EU(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,f,_,b,T){const I=[],k=this.ast.options&&this.ast.options.params||KA,H=this.buildStyles(i,f&&f.params||KA,I),K=_&&_.params||KA,_e=this.buildStyles(r,K,I),je=new Set,Se=new Map,it=new Map,Pe="void"===r,Je={params:Object.assign(Object.assign({},k),K)},Ze=T?[]:qA(e,t,this.ast.animation,a,u,H,_e,Je,b,I);let Ct=0;if(Ze.forEach(hn=>{Ct=Math.max(hn.duration+hn.delay,Ct)}),I.length)return Ik(t,this._triggerName,i,r,Pe,H,_e,[],[],Se,it,Ct,I);Ze.forEach(hn=>{const Ut=hn.element,Ft=oa(Se,Ut,{});hn.preStyleProps.forEach(Zi=>Ft[Zi]=!0);const pi=oa(it,Ut,{});hn.postStyleProps.forEach(Zi=>pi[Zi]=!0),Ut!==t&&je.add(Ut)});const At=x1(je.values());return Ik(t,this._triggerName,i,r,Pe,H,_e,Ze,At,Se,it,Ct)}}class DU{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=gy(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=M1(_,r,t));const b=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,b,_,t),i[b]=_})}}),i}}class TU{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new DU(r.style,r.options&&r.options.params||{},i)}),Mk(this.states,"true","1"),Mk(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Ak(e,r,this.states))}),this.fallbackTransition=function SU(n,e,t){return new Ak(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Mk(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const IU=new L1;class AU{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=GA(this._driver,t,i,[]);if(i.length)throw function NV(n){return new c.vHH(3503,un)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=ak(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const f=new Map;if(a?(u=qA(this._driver,t,a,BA,T1,{},{},i,IU,r),u.forEach(T=>{const I=oa(f,T.element,{});T.postStyleProps.forEach(k=>I[k]=null)})):(r.push(function OV(){return new c.vHH(3300,un)}()),u=[]),r.length)throw function kV(n){return new c.vHH(3504,un)}();f.forEach((T,I)=>{Object.keys(T).forEach(k=>{T[k]=this._driver.computeStyle(I,k,Ad)})});const b=Ef(u.map(T=>{const I=f.get(T.element);return this._buildPlayer(T,{},I)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function RV(n){return new c.vHH(3301,un)}();return t}listen(e,t,i,r){const a=RA(t,"","","");return OA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const xk="ng-animate-queued",YA="ng-animate-disabled",kU=[],Nk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class JA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function BU(n){return null!=n?n:null}(i?e.value:e),i){const a=gy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const gw="void",QA=new JA(gw);class PU{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function PV(n,e){return new c.vHH(3302,un)}();if(null==i||0==i.length)throw function FV(n){return new c.vHH(3303,un)}();if(!function VU(n){return"start"==n||"done"==n}(i))throw function LV(n,e){return new c.vHH(3400,un)}();const a=oa(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=oa(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ha(e,S1),Ha(e,S1+"-"+t),f[t]=QA),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function BV(n){return new c.vHH(3401,un)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new XA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ha(e,S1),Ha(e,S1+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const b=new JA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[t]=b,_||(_=QA),b.value!==gw&&_.value===b.value){if(!function HU(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const K=[],_e=a.matchStyles(_.value,_.params,K),je=a.matchStyles(b.value,b.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Ug(e,_e),Gc(e,je)})}return}const k=oa(this._engine.playersByElement,e,[]);k.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let B=a.matchTransition(_.value,b.value,e,b.params),H=!1;if(!B){if(!r)return;B=a.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:H}),H||(Ha(e,xk),u.onStart(()=>{my(e,xk)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const _e=this._engine.playersByElement.get(e);if(_e){let je=_e.indexOf(u);je>=0&&_e.splice(je,1)}}),this.players.push(u),k.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,I1,!0);i.forEach(r=>{if(r[ja])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,gw,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Ef(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||QA,T=new JA(gw),I=new XA(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ja];(!a||a===Nk)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=RA(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,OA(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class FU{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new PU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(U1(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!U1(t))return;const a=t[ja];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,YA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),my(e,YA))}removeNode(e,t,i,r){if(U1(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ja]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return U1(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,I1,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ef(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ja];if(i&&i.setForRemoval){if(e[ja]=Nk,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(YA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ha(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ef(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function VV(n){return new c.vHH(3402,un)}()}_flushAnimations(e,t){const i=new L1,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(et=>{T.add(et);const ht=this.driver.query(et,".ng-animate-queued",!0);for(let xt=0;xt<ht.length;xt++)T.add(ht[xt])});const I=this.bodyNode,k=Array.from(this.statesByElement.keys()),B=Rk(k,this.collectedEnterElements),H=new Map;let K=0;B.forEach((et,ht)=>{const xt=BA+K++;H.set(ht,xt),et.forEach(Jt=>Ha(Jt,xt))});const _e=[],je=new Set,Se=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const ht=this.collectedLeaveElements[et],xt=ht[ja];xt&&xt.setForRemoval&&(_e.push(ht),je.add(ht),xt.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Jt=>je.add(Jt)):Se.add(ht))}const it=new Map,Pe=Rk(k,Array.from(je));Pe.forEach((et,ht)=>{const xt=T1+K++;it.set(ht,xt),et.forEach(Jt=>Ha(Jt,xt))}),e.push(()=>{B.forEach((et,ht)=>{const xt=H.get(ht);et.forEach(Jt=>my(Jt,xt))}),Pe.forEach((et,ht)=>{const xt=it.get(ht);et.forEach(Jt=>my(Jt,xt))}),_e.forEach(et=>{this.processLeaveNode(et)})});const Je=[],Ze=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(t).forEach(xt=>{const Jt=xt.player,Ei=xt.element;if(Je.push(Jt),this.collectedEnterElements.length){const ur=Ei[ja];if(ur&&ur.setForMove){if(ur.previousTriggersValues&&ur.previousTriggersValues.has(xt.triggerName)){const Ks=ur.previousTriggersValues.get(xt.triggerName),za=this.statesByElement.get(xt.element);za&&za[xt.triggerName]&&(za[xt.triggerName].value=Ks)}return void Jt.destroy()}}const Do=!I||!this.driver.containsElement(I,Ei),wr=it.get(Ei),la=H.get(Ei),kn=this._buildInstruction(xt,i,la,wr,Do);if(kn.errors&&kn.errors.length)return void Ze.push(kn);if(Do)return Jt.onStart(()=>Ug(Ei,kn.fromStyles)),Jt.onDestroy(()=>Gc(Ei,kn.toStyles)),void r.push(Jt);if(xt.isFallbackTransition)return Jt.onStart(()=>Ug(Ei,kn.fromStyles)),Jt.onDestroy(()=>Gc(Ei,kn.toStyles)),void r.push(Jt);const Ll=[];kn.timelines.forEach(ur=>{ur.stretchStartingKeyframe=!0,this.disabledNodes.has(ur.element)||Ll.push(ur)}),kn.timelines=Ll,i.append(Ei,kn.timelines),u.push({instruction:kn,player:Jt,element:Ei}),kn.queriedElements.forEach(ur=>oa(f,ur,[]).push(Jt)),kn.preStyleProps.forEach((ur,Ks)=>{const za=Object.keys(ur);if(za.length){let Od=_.get(Ks);Od||_.set(Ks,Od=new Set),za.forEach(Yg=>Od.add(Yg))}}),kn.postStyleProps.forEach((ur,Ks)=>{const za=Object.keys(ur);let Od=b.get(Ks);Od||b.set(Ks,Od=new Set),za.forEach(Yg=>Od.add(Yg))})});if(Ze.length){const et=[];Ze.forEach(ht=>{et.push(function UV(n,e){return new c.vHH(3505,un)}())}),Je.forEach(ht=>ht.destroy()),this.reportError(et)}const Ct=new Map,At=new Map;u.forEach(et=>{const ht=et.element;i.has(ht)&&(At.set(ht,ht),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,Ct))}),r.forEach(et=>{const ht=et.element;this._getPreviousPlayers(ht,!1,et.namespaceId,et.triggerName,null).forEach(Jt=>{oa(Ct,ht,[]).push(Jt),Jt.destroy()})});const hn=_e.filter(et=>Fk(et,_,b)),Ut=new Map;kk(Ut,this.driver,Se,b,Ad).forEach(et=>{Fk(et,_,b)&&hn.push(et)});const pi=new Map;B.forEach((et,ht)=>{kk(pi,this.driver,new Set(et),_,"!")}),hn.forEach(et=>{const ht=Ut.get(et),xt=pi.get(et);Ut.set(et,Object.assign(Object.assign({},ht),xt))});const Zi=[],Af=[],Mf={};u.forEach(et=>{const{element:ht,player:xt,instruction:Jt}=et;if(i.has(ht)){if(T.has(ht))return xt.onDestroy(()=>Gc(ht,Jt.toStyles)),xt.disabled=!0,xt.overrideTotalTime(Jt.totalTime),void r.push(xt);let Ei=Mf;if(At.size>1){let wr=ht;const la=[];for(;wr=wr.parentNode;){const kn=At.get(wr);if(kn){Ei=kn;break}la.push(wr)}la.forEach(kn=>At.set(kn,Ei))}const Do=this._buildAnimation(xt.namespaceId,Jt,Ct,a,pi,Ut);if(xt.setRealPlayer(Do),Ei===Mf)Zi.push(xt);else{const wr=this.playersByElement.get(Ei);wr&&wr.length&&(xt.parentPlayer=Ef(wr)),r.push(xt)}}else Ug(ht,Jt.fromStyles),xt.onDestroy(()=>Gc(ht,Jt.toStyles)),Af.push(xt),T.has(ht)&&r.push(xt)}),Af.forEach(et=>{const ht=a.get(et.element);if(ht&&ht.length){const xt=Ef(ht);et.setRealPlayer(xt)}}),r.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<_e.length;et++){const ht=_e[et],xt=ht[ja];if(my(ht,T1),xt&&xt.hasAnimation)continue;let Jt=[];if(f.size){let Do=f.get(ht);Do&&Do.length&&Jt.push(...Do);let wr=this.driver.query(ht,VA,!0);for(let la=0;la<wr.length;la++){let kn=f.get(wr[la]);kn&&kn.length&&Jt.push(...kn)}}const Ei=Jt.filter(Do=>!Do.destroyed);Ei.length?UU(this,ht,Ei):this.processLeaveNode(ht)}return _e.length=0,Zi.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const ht=this.players.indexOf(et);this.players.splice(ht,1)}),et.play()}),Zi}elementContainsData(e,t){let i=!1;const r=t[ja];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==gw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==a,I=oa(i,b,[]);this._getPreviousPlayers(b,T,u,f,t.toState).forEach(B=>{const H=B.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),B.destroy(),I.push(B)})}Ug(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],T=new Set,I=new Set,k=t.timelines.map(H=>{const K=H.element;T.add(K);const _e=K[ja];if(_e&&_e.removedBeforeQueried)return new fw(H.duration,H.delay);const je=K!==_,Se=function jU(n){const e=[];return Pk(n,e),e}((i.get(K)||kU).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===K),it=a.get(K),Pe=u.get(K),Je=ak(0,this._normalizer,0,H.keyframes,it,Pe),Ze=this._buildPlayer(H,Je,Se);if(H.subTimeline&&r&&I.add(K),je){const Ct=new XA(e,f,K);Ct.setRealPlayer(Ze),b.push(Ct)}return Ze});b.forEach(H=>{oa(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function LU(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,H.element,H))}),T.forEach(H=>Ha(H,_k));const B=Ef(k);return B.onDestroy(()=>{T.forEach(H=>my(H,_k)),Gc(_,t.toStyles)}),I.forEach(H=>{oa(r,H,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new fw(e.duration,e.delay)}}class XA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new fw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>OA(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function U1(n){return n&&1===n.nodeType}function Ok(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function kk(n,e,t,i,r){const a=[];t.forEach(_=>a.push(Ok(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(I=>{const k=T[I]=e.computeStyle(b,I,r);(!k||0==k.length)&&(b[ja]=RU,u.push(b))}),n.set(b,T)});let f=0;return t.forEach(_=>Ok(_,a[f++])),u}function Rk(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Ha(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function my(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function UU(n,e,t){Ef(t).onDone(()=>n.processLeaveNode(e))}function Pk(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof sk?Pk(i.players,e):e.push(i)}}function Fk(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class j1{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new FU(e,t,i),this._timelineEngine=new AU(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],T=GA(this._driver,a,_,[]);if(_.length)throw function MV(n,e){return new c.vHH(3404,un)}();f=function CU(n,e,t){return new TU(n,e,t)}(r,T,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=lk(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=lk(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $U=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Gc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gc(this._element,this._initialStyles),this._endStyles&&(Gc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ug(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ug(this._element,this._endStyles),this._endStyles=null),Gc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eM(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];zU(r)&&(e=e||{},e[r]=n[r])}return e}function zU(n){return"display"===n||"position"===n}class Lk{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:Ek(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qU{validateStyleProperty(e){return hk(e)}matchesElement(e,t){return!1}containsElement(e,t){return fk(e,t)}getParentElement(e){return FA(e)}query(e,t,i){return pk(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},T=u.filter(k=>k instanceof Lk);(function YV(n,e){return 0===n||0===e})(i,r)&&T.forEach(k=>{let B=k.currentSnapshot;Object.keys(B).forEach(H=>b[H]=B[H])}),t=function JV(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(_){f[_]=Ek(n,_)})}}return e}(e,t=t.map(k=>Df(k,!1)),b);const I=function GU(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=eM(e[0]),e.length>1&&(i=eM(e[e.length-1]))):e&&(t=eM(e)),t||i?new $U(n,t,i):null}(e,t);return new Lk(e,t,_,I)}}let WU=(()=>{class n extends tk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ik(t):t;return Bk(this._renderer,null,i,"register",[r]),new ZU(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ZU extends class aV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new KU(this._id,e,t||{},this._renderer)}}class KU{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Bk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Bk(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Vk="@.disabled";let YU=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(a);return T||(T=new Uk("",a,this.engine),this._rendererCache.set(a,T)),T}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,t,T.name,T)};return i.data.animation.forEach(_),new JU(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(j1),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Uk{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Vk?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class JU extends Uk{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Vk?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function QU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function XU(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let ej=(()=>{class n extends j1{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(LA),c.LFG(ZA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mw=new c.OlP("AnimationModuleType"),jk=[{provide:tk,useClass:WU},{provide:ZA,useFactory:function tj(){return new vU}},{provide:j1,useClass:ej},{provide:c.FYo,useFactory:function nj(n,e,t){return new YU(n,e,t)},deps:[An,j1,c.R0b]}],Hk=[{provide:LA,useFactory:()=>new qU},{provide:mw,useValue:"BrowserAnimations"},...jk],ij=[{provide:LA,useClass:gk},{provide:mw,useValue:"NoopAnimations"},...jk];let rj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ij:Hk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Hk,imports:[ma]}),n})();const oj=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function sj(){return!0}});let Ws=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function SB(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oV),c.LFG(oj,8),c.LFG(ie))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[UO],UO]}),n})();function aj(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ol(e)}}}function $k(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function lj(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ol(e)}}}let uj=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dj{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zk={enterDuration:225,exitDuration:150},tM=w1({passive:!0}),qk=["mousedown","touchstart"],Wk=["mouseup","mouseleave","touchend","touchcancel"];class fj{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=dy(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},zk),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function gj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function pj(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const I=new dj(this,T,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const k=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!k||!this._isPointerDown)&&I.fadeOut()},b),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},zk),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=dy(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(qk))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Wk),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=KO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!YO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,tM)})})}_removeTriggerEvents(){this._triggerElement&&(qk.forEach(e=>{this._triggerElement.removeEventListener(e,this,tM)}),this._pointerUpEventsRegistered&&Wk.forEach(e=>{this._triggerElement.removeEventListener(e,this,tM)}))}}const mj=new c.OlP("mat-ripple-global-options");let Zk=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new fj(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(wf),c.Y36(mj,8),c.Y36(mw,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})();function nM(n){return(0,gt.U)(()=>n)}const G1=["*"],vj=["content"];function bj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(t),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function wj(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const Ej=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Dj=["mat-drawer","mat-drawer-content","*"];function Cj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(t),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Tj(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const Sj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ij=["mat-sidenav","mat-sidenav-content","*"],Kk={transformDrawer:nk("transform",[AA("open, open-instant",py({transform:"none",visibility:"visible"})),AA("void",py({"box-shadow":"none",visibility:"hidden"})),MA("void => open-instant",IA("0ms")),MA("void <=> open, open-instant => void",IA("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Mj=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function xj(){return!1}}),iM=new c.OlP("MAT_DRAWER_CONTAINER");let $1=(()=>{class n extends hw{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Jk)),c.Y36(c.SBq),c.Y36(TA),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:hw,useExisting:n}]),c.qOj],ngContentSelectors:G1,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Yk=(()=>{class n{constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Bt.x,this._animationEnd=new Bt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(xn(T=>T),(0,gt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(xn(T=>T.fromState!==T.toState&&0===T.toState.indexOf("open")),nM(void 0)),this._closedStream=this.openedChange.pipe(xn(T=>!T),(0,gt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(xn(T=>T.fromState!==T.toState&&"void"===T.toState),nM(void 0)),this._destroyed=new Bt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Bt.x,this.openedChange.subscribe(T=>{T?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Fr(this._elementRef.nativeElement,"keydown").pipe(xn(T=>27===T.keyCode&&!this.disableClose&&!function UB(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(T)),On(this._destroyed)).subscribe(T=>this._ngZone.run(()=>{this.close(),T.stopPropagation(),T.preventDefault()}))}),this._animationEnd.pipe(Uu((T,I)=>T.fromState===I.fromState&&T.toState===I.toState)).subscribe(T=>{const{fromState:I,toState:k}=T;(0===k.indexOf("open")&&"void"===I||"void"===k&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Ol(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Ol(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Ol(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,Ln.q)(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(eV),c.Y36(QO),c.Y36(wf),c.Y36(c.R0b),c.Y36(qO),c.Y36(ie,8),c.Y36(iM,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(vj,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:G1,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[hw],encapsulation:2,data:{animation:[Kk.transformDrawer]},changeDetection:0}),n})(),Jk=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Bt.x,this._doCheckSubject=new Bt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Bt.x,t&&t.change.pipe(On(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(On(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Ol(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Ol(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Mi(this._allDrawers),On(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Mi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function yj(n,e=Im.z){return(0,ri.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,T=e.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);f()}t.subscribe((0,_n.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),On(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(xn(i=>i.fromState!==i.toState),On(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(On(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(On(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Ln.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(On((0,Px.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(VO,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(kB),c.Y36(Mj),c.Y36(mw,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,$1,5),c.Suo(r,Yk,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf($1,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:iM,useExisting:n}])],ngContentSelectors:Dj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(Ej),c.YNc(0,bj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,wj,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[$1,Jn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),rM=(()=>{class n extends $1{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Qk)),c.Y36(c.SBq),c.Y36(TA),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:hw,useExisting:n}]),c.qOj],ngContentSelectors:G1,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),sM=(()=>{class n extends Yk{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Ol(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=OO(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=OO(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:G1,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[hw],encapsulation:2,data:{animation:[Kk.transformDrawer]},changeDetection:0}),n})(),Qk=(()=>{class n extends Jk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,rM,5),c.Suo(r,sM,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:iM,useExisting:n}]),c.qOj],ngContentSelectors:Ij,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(Sj),c.YNc(0,Cj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Tj,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[rM,Jn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn,Ws,jO],jO,Ws]}),n})();const Oj=["mat-button",""],kj=["*"],Pj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Fj=$k(aj(lj(class{constructor(n){this._elementRef=n}})));let Lj=(()=>{class n extends Fj{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Pj)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(QO),c.Y36(mw,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(Zk,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:Oj,ngContentSelectors:kj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Zk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_j,Ws],Ws]}),n})();class Vj{}class Cf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Uj{encodeKey(e){return Xk(e)}encodeValue(e){return Xk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Hj=/%(\d[a-f0-9])/gi,Gj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xk(n){return encodeURIComponent(n).replace(Hj,(e,t)=>{var i;return null!==(i=Gj[t])&&void 0!==i?i:e})}function eR(n){return`${n}`}class Tf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Uj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Tf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(eR(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(eR(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $j{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tR(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function nR(n){return"undefined"!=typeof Blob&&n instanceof Blob}function iR(n){return"undefined"!=typeof FormData&&n instanceof FormData}class yw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Cf),this.context||(this.context=new $j),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Tf,this.urlWithParams=t}serializeBody(){return null===this.body?null:tR(this.body)||nR(this.body)||iR(this.body)||function qj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iR(this.body)?null:nR(this.body)?this.body.type||null:tR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,T=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((k,B)=>k.set(B,e.setHeaders[B]),b)),e.setParams&&(T=Object.keys(e.setParams).reduce((k,B)=>k.set(B,e.setParams[B]),T)),new yw(i,r,u,{params:T,headers:b,context:I,reportProgress:_,responseType:a,withCredentials:f})}}var ts=(()=>((ts=ts||{})[ts.Sent=0]="Sent",ts[ts.UploadProgress=1]="UploadProgress",ts[ts.ResponseHeader=2]="ResponseHeader",ts[ts.DownloadProgress=3]="DownloadProgress",ts[ts.Response=4]="Response",ts[ts.User=5]="User",ts))();class oM extends class Wj{constructor(e,t=200,i="OK"){this.headers=e.headers||new Cf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=ts.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new oM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function aM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof yw)a=t;else{let _,b;_=r.headers instanceof Cf?r.headers:new Cf(r.headers),r.params&&(b=r.params instanceof Tf?r.params:new Tf({fromObject:r.params})),a=new yw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ut(a).pipe(Ms(_=>this.handler.handle(_)));if(t instanceof yw||"events"===r.observe)return u;const f=u.pipe(xn(_=>_ instanceof oM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,gt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Tf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,aM(r,i))}post(t,i,r={}){return this.request("POST",t,aM(r,i))}put(t,i,r={}){return this.request("PUT",t,aM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kj=["*"];let z1;function vw(n){var e;return(null===(e=function Yj(){if(void 0===z1&&(z1=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(z1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return z1}())||void 0===e?void 0:e.createHTML(n))||n}function oR(n){return Error(`Unable to find icon with the name "${n}"`)}function aR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function lR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Hg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let q1=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Hg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw lR(r);const f=vw(u);return this._addSvgIconConfig(t,i,new Hg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Hg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw lR(i);const u=vw(a);return this._addSvgIconSetConfig(t,new Hg("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw aR(t);const r=this._cachedIconsByUrl.get(i);return r?ut(W1(r)):this._loadSvgIconFromConfig(new Hg(t,null)).pipe((0,ci.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,gt.U)(a=>W1(a)))}getNamedSvgIcon(t,i=""){const r=cR(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Hr(oR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ut(W1(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(i=>W1(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ut(r):EN(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(zr(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),ut(null)})))).pipe((0,gt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw oR(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ci.b)(i=>t.svgText=i),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ut(null):this._fetchIcon(t).pipe((0,ci.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(vw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(vw("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Jj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw aR(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,gt.U)(T=>vw(T)),Rf(()=>this._inProgressUrlFetches.delete(f)),(0,Fx.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(cR(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Xj(a)?new Hg(a.url,null,a.options):new Hg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sR,8),c.LFG(os),c.LFG(ie,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W1(n){return n.cloneNode(!0)}function cR(n,e){return n+":"+e}function Xj(n){return!(!n.url||!n.options)}const eH=$k(class{constructor(n){this._elementRef=n}}),tH=new c.OlP("mat-icon-location",{providedIn:"root",factory:function nH(){const n=(0,c.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),uR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iH=uR.map(n=>`[${n}]`).join(", "),rH=/^url\(['"]?#(.*?)['"]?\)$/;let sH=(()=>{class n extends eH{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Po.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ol(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(iH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)uR.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(rH):null;if(b){let T=r.get(f);T||(T=[],r.set(f,T)),T.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Ln.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(q1),c.$8M("aria-hidden"),c.Y36(tH),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Kj,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})(),aH=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Ol(t)}get inset(){return this._inset}set inset(t){this._inset=Ol(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})();function cH(n,e){1&n&&(c.TgZ(0,"mat-icon"),c._uU(1," menu "),c.qZA())}function uH(n,e){1&n&&(c.TgZ(0,"mat-icon"),c._uU(1," close "),c.qZA())}function dH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(t),c.oxw(),c.MAs(8).toggle()}),c.YNc(1,cH,2,0,"mat-icon",18),c.YNc(2,uH,2,0,"mat-icon",18),c.qZA()}if(2&n){c.oxw();const t=c.MAs(8);c.xp6(1),c.Q6J("ngIf",!t.opened),c.xp6(1),c.Q6J("ngIf",t.opened)}}const hH=function(){return["/Games"]},fH=function(){return["/AboutMe"]};let pH=(()=>{class n{constructor(t){this.authService=t,this.isLoggedIn$=this.authService.isLoggedIn,this.username$=this.authService.username}onLogout(){this.authService.logout().then(()=>{this.authService.loggedIn.next(!1),this.sidenav.toggle()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(t,i){if(1&t&&c.Gf(sM,5),2&t){let r;c.iGM(r=c.CRH())&&(i.sidenav=r.first)}},decls:38,vars:10,consts:[[1,"site-header","sticky-top","py-1"],[1,"container"],[1,"row"],[1,"col"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["sidenav","matSidenav"],["src","../../../assets/imagenes/playroom.jfif",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button",3,"routerLink"],[1,"rotate"],["mat-button","",1,"menu-button",3,"click"],[1,"showcase"],[1,"video-container"],["id","video-background","width","100%","height","100%","src","../assets/videos/Game.mp4","autoplay","","loop",""],[1,"content"],["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(t,i){if(1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3),c.YNc(4,dH,3,2,"button",4),c.ALo(5,"async"),c.qZA()()()(),c.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",5,6),c._UZ(9,"img",7),c.TgZ(10,"h4",8),c._uU(11),c.ALo(12,"async"),c.qZA(),c.TgZ(13,"p",9),c._uU(14,"Welcome"),c.qZA(),c._UZ(15,"mat-divider"),c.TgZ(16,"button",10)(17,"mat-icon",11),c._uU(18,"home"),c.qZA(),c.TgZ(19,"span"),c._uU(20,"Games"),c.qZA()(),c.TgZ(21,"button",10)(22,"mat-icon"),c._uU(23,"info"),c.qZA(),c.TgZ(24,"span"),c._uU(25,"About me"),c.qZA()(),c._UZ(26,"mat-divider"),c.TgZ(27,"button",12),c.NdJ("click",function(){return i.onLogout()}),c.TgZ(28,"mat-icon"),c._uU(29,"launch"),c.qZA(),c.TgZ(30,"span"),c._uU(31,"Log Out"),c.qZA()()(),c.TgZ(32,"mat-sidenav-content")(33,"section",13)(34,"div",14),c._UZ(35,"video",15),c.qZA(),c.TgZ(36,"div",16),c._UZ(37,"router-outlet"),c.qZA()()()()),2&t){const r=c.MAs(8);c.xp6(4),c.Q6J("ngIf","over"===r.mode&&c.lcZ(5,4,i.isLoggedIn$)),c.xp6(7),c.Oqu(c.lcZ(12,6,i.username$)),c.xp6(5),c.Q6J("routerLink",c.DdM(8,hH)),c.xp6(5),c.Q6J("routerLink",c.DdM(9,fH))}},directives:[Jn,Lj,sH,Qk,sM,aH,up,rM,Nu],pipes:[Gl],styles:["#video-background[_ngcontent-%COMP%]{height:100%;position:fixed;width:100%}[_ngcontent-%COMP%]:root{--primary-color: #3a4052}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.showcase[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;padding:0 20px}.video-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{min-width:100%;min-height:100%;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover}.content[_ngcontent-%COMP%]{z-index:1}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:rgba(194,29,166,.85);color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 16px 16px 32px;font-size:2rem;color:#d3d3d3}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.site-header[_ngcontent-%COMP%]{background-color:#c21da6d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e1f1;transition:ease-in-out color .15s;text-decoration:none}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.rotate[_ngcontent-%COMP%]{transition:all 1s}.rotate[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}"]}),n})(),gH=(()=>{class n{constructor(){this.title="TP-SalaDeJuegos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-dashboard")},directives:[pH],styles:[""]}),n})();const{isArray:mH}=Array;function dR(n){return 1===n.length&&mH(n[0])?n[0]:n}function Z1(...n){const e=(0,Pn.jO)(n),t=dR(n);return t.length?new jn.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<t.length;u++)(0,_r.Xf)(t[u]).subscribe((0,_n.x)(i,f=>{if(r[u].push(f),r.every(_=>_.length)){const _=r.map(b=>b.shift());i.next(e?e(..._):_),r.some((b,T)=>!b.length&&a[T])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):_o.E}function lM(...n){const e=(0,Pn.jO)(n);return(0,ri.e)((t,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,_r.Xf)(n[_]).subscribe((0,_n.x)(i,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(mr.y))&&(u=null))},b1.Z));t.subscribe((0,_n.x)(i,_=>{if(f){const b=[_,...a];i.next(e?e(...b):b)}}))})}new jn.y(b1.Z),Math,Math,Math;const x3=["*"],Z3=["dialog"];function $g(n){return null!=n}function Ey(n){return(n||document.body).getBoundingClientRect()}const xR={animation:!0,transitionTimerDelayMs:5},GG=()=>{},{transitionTimerDelayMs:$G}=xR,Sw=new Map,Zs=(n,e,t,i)=>{let r=i.context||{};const a=Sw.get(e);if(a)switch(i.runningTransition){case"continue":return _o.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Sw.delete(e)}const u=t(e,i.animation,r)||GG;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),ut(void 0).pipe(function jG(n){return e=>new jn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Bt.x,_=new Bt.x,b=f.pipe(function yH(...n){return e=>ac(e,ut(...n))}(!0));Sw.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:r});const T=function HG(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Fr(e,"transitionend").pipe(On(b),xn(({target:B})=>B===e));(function hR(...n){return 1===(n=dR(n)).length?(0,_r.Xf)(n[0]):new jn.y(function _H(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,_r.Xf)(n[i]).subscribe((0,_n.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))})(v1(T+$G).pipe(On(b)),I,_).pipe(On(b)).subscribe(()=>{Sw.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let eT=(()=>{class n{constructor(){this.animation=xR.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var br=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(br||(br={})),br))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qR(n){const e=Array.from(n.querySelectorAll(zR)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn,AO]]}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Zg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let F$=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{Zs(this._zone,this._el.nativeElement,(t,i)=>{i&&Ey(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class sP{close(e){}dismiss(e){}}class L${constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Bt.x,this._dismissed=new Bt.x,this._hidden=new Bt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(On(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(On(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function VG(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Z1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var xw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(xw||(xw={})),xw))();let B$=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Bt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Bt.x,this.hidden=new Bt.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=Z1(Zs(this._zone,t,()=>t.classList.remove("show"),i),Zs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};Z1(Zs(this._zone,this._elRef.nativeElement,(a,u)=>{u&&Ey(a),a.classList.add("show")},t),Zs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Fr(t,"keydown").pipe(On(this._closed$),xn(r=>r.which===br.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(xw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Fr(this._dialogEl.nativeElement,"mousedown").pipe(On(this._closed$),(0,ci.b)(()=>i=!1),Fn(()=>Fr(t,"mouseup").pipe(On(this._closed$),(0,Ln.q)(1))),xn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Fr(t,"click").pipe(On(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(xw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=qR(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ie),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&c.Gf(Z3,7),2&t){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:x3,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),V$=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:u}=r;if(t>0){const f=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${f+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U$=(()=>{class n{constructor(t,i,r,a,u,f){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new Bt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Fr(e,"focusin").pipe(On(t),(0,gt.U)(a=>a.target));Fr(e,"keydown").pipe(On(t),xn(a=>a.which===br.Tab),lM(r)).subscribe(([a,u])=>{const[f,_]=qR(e);(u===f||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),i&&Fr(e,"click").pipe(On(t),lM(r),(0,gt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r,a){const u=a.container instanceof HTMLElement?a.container:$g(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null),_=()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new sP,T=this._getContentRef(t,a.injector||i,r,b,a);let I=!1!==a.backdrop?this._attachBackdrop(t,u):void 0,k=this._attachWindowComponent(t,u,T),B=new L$(k,T,I,a.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(k),B.result.then(_,_),b.close=H=>{B.close(H)},b.dismiss=H=>{B.dismiss(H)},this._applyWindowOptions(k.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,a),I.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let a=t.resolveComponentFactory(F$).create(this._injector);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,i,r){let u=t.resolveComponentFactory(B$).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{$g(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{$g(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a,u){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,a):function MR(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,a,u):new Zg([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new Zg([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Zg([[i]])}_createFromComponent(t,i,r,a,u){const f=t.resolveComponentFactory(r),_=c.zs3.create({providers:[{provide:sP,useValue:a}],parent:i}),b=f.create(_),T=b.location.nativeElement;return u.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Zg([[T]],b.hostView,b)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ie),c.LFG(V$),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j$=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H$=(()=>{class n{constructor(t,i,r,a){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=a}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(U$),c.LFG(j$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[H$]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),EP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),DP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})(),TP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function tz(){return 100}});let SP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})();const nz=[FR,LR,VR,HR,GR,eP,rP,oP,uP,yP,bP,wP,EP,DP,CP,TP,SP];let iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nz,FR,LR,VR,HR,GR,eP,rP,oP,uP,yP,bP,wP,EP,DP,CP,TP,SP]}),n})();const IP_firebaseConfig={apiKey:"AIzaSyDh5br--eUK4STYRGPHjLaQeZhxApIamjI",authDomain:"tp-sala-de-juegos-92c8a.firebaseapp.com",databaseURL:"https://tp-sala-de-juegos-92c8a.firebaseio.com",projectId:"tp-sala-de-juegos-92c8a",storageBucket:"tp-sala-de-juegos-92c8a.appspot.com",messagingSenderId:"438502520653",appId:"1:438502520653:web:c474ed7aba055c54e22904",measurementId:"G-WX23KT33S7"};let rz=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rz]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn,Ws,sz],Ws]}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uj],imports:[[AP,MM,Ws],AP,MM]}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[gH]}),n.\u0275inj=c.cJS({providers:[],imports:[[ma,eB,AO,MO,iz,qo.hO.initializeApp(IP_firebaseConfig),NL,rj,MM,uz,dz,Nj,Bj,oH,lH]]}),n})();(0,c.G48)(),iu().bootstrapModule(hz).catch(n=>console.error(n))},5867:(pt,Ie,F)=>{F.d(Ie,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=F(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(pt,Ie,F)=>{F.d(Ie,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(pt,Ie,F)=>{F.r(Ie);var c=F(5861),X=F(3942),L=F(2090),ce=F(9681),ne=F(655),ye=F(1877),ie=F(4859);const Le=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new ye.Yd("@firebase/auth");function tt(v,...p){at.logLevel<=ye.in.ERROR&&at.error(`Auth (${ce.SDK_VERSION}): ${v}`,...p)}function Me(v,...p){throw Ke(v,...p)}function Ee(v,...p){return Ke(v,...p)}function De(v,p,m){const w=Object.assign(Object.assign({},Ge()),{[p]:m});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ye(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(v,"argument-error"),De(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return me.create(v,...p)}function se(v,p,...m){if(!v)throw Ke(p,...m)}function J(v){const p="INTERNAL ASSERTION FAILED: "+v;throw tt(p),new Error(p)}function oe(v,p){v||J(p)}const ve=new Map;function ae(v){oe(v instanceof Function,"Expected a class definition");let p=ve.get(v);return p?(oe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ve.set(v,p),p)}function Ot(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function sn(){return"http:"===Zn()||"https:"===Zn()}function Zn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class yn{constructor(p,m){this.shortDelay=p,this.longDelay=m,oe(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function _t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(v,p){oe(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Lr{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void J("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void J("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void J("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_s=new yn(3e4,6e4);function on(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Qt(v,p,m,w){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(v,p,m,w,x={}){return Er(v,x,(0,c.Z)(function*(){let R={},W={};w&&("GET"===p?W=w:R={body:JSON.stringify(w)});const le=(0,L.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),ze=yield v._getAdditionalHeaders();return ze["Content-Type"]="application/json",v.languageCode&&(ze["X-Firebase-Locale"]=v.languageCode),Lr.fetch()(Yi(v,v.config.apiHost,m,le),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Er(v,p,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},fn),p);try{const x=new ys(v),R=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw vs(v,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const le=R.ok?W.errorMessage:W.error.message,[ze,ot]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw vs(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===ze)throw vs(v,"email-already-in-use",W);const It=w[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw De(v,It,ot);Me(v,It)}}catch(x){if(x instanceof L.ZR)throw x;Me(v,"network-request-failed")}})).apply(this,arguments)}function Ki(v,p,m,w){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(v,p,m,w,x={}){const R=yield Qt(v,p,m,w,x);return"mfaPendingCredential"in R&&Me(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Yi(v,p,m,w){const x=`${p}${m}?${w}`;return v.config.emulator?vn(v.config,x):`${v.config.apiScheme}://${x}`}class ys{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),_s.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vs(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Ee(v,p,w);return x.customData._tokenResponse=m,x}function dr(){return(dr=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function gi(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dr(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function In(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function qa(){return(qa=(0,c.Z)(function*(v,p=!1){const m=(0,L.m9)(v),w=yield m.getIdToken(p),x=ft(w);se(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:x,token:w,authTime:In(Xt(x.auth_time)),issuedAtTime:In(Xt(x.iat)),expirationTime:In(Xt(x.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(v){return 1e3*Number(v)}function ft(v){const[p,m,w]=v.split(".");if(void 0===p||void 0===m||void 0===w)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(m);return x?JSON.parse(x):(tt("Failed to decode base64 JWT payload"),null)}catch(x){return tt("Caught error parsing JWT payload as JSON",x),null}}function Ci(v,p){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&Kt(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Kt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class To{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ni{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ti(v){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),x=yield Ci(v,Dr(m,{idToken:w}));se(null==x?void 0:x.users.length,m,"internal-error");const R=x.users[0];v._notifyReloadListener(R);const W=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?xe(R.providerUserInfo):[],le=nt(v.providerData,W),It=!!v.isAnonymous&&!(v.email&&R.passwordHash||(null==le?void 0:le.length)),mt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Ni(R.createdAt,R.lastLoginAt),isAnonymous:It};Object.assign(v,mt)})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(v){const p=(0,L.m9)(v);yield Ti(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function nt(v,p){return[...v.filter(w=>!p.some(x=>x.providerId===w.providerId)),...p]}function xe(v){return v.map(p=>{var{providerId:m}=p,w=(0,ne._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function wt(){return(wt=(0,c.Z)(function*(v,p){const m=yield Er(v,{},(0,c.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:R}=v.config,W=Yi(v,x,"/v1/token",`key=${R}`),le=yield v._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Lr.fetch()(W,{method:"POST",headers:le,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(void 0!==p.idToken,"internal-error"),se(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Mt(v){const p=ft(v);return se(p,"internal-error"),se(void 0!==p.exp,"internal-error"),se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return se(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:W}=yield function st(v,p){return wt.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(x,R,Number(W))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:x,expirationTime:R}=m,W=new Wt;return w&&(se("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),x&&(se("string"==typeof x,"internal-error",{appName:p}),W.accessToken=x),R&&(se("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return J("not implemented")}}function $t(v,p){se("string"==typeof v||void 0===v,"internal-error",{appName:p})}class G{constructor(p){var{uid:m,auth:w,stsTokenManager:x}=p,R=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new To(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ni(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield Ci(m,m.stsTokenManager.getToken(m.auth,p));return se(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Js(v){return qa.apply(this,arguments)}(this,p)}reload(){return function Oi(v){return qt.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new G(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let x=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield Ti(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Ci(p,function vt(v,p){return dr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,x,R,W,le,ze,ot,It;const mt=null!==(w=m.displayName)&&void 0!==w?w:void 0,$n=null!==(x=m.email)&&void 0!==x?x:void 0,hs=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Bu=null!==(W=m.photoURL)&&void 0!==W?W:void 0,gc=null!==(le=m.tenantId)&&void 0!==le?le:void 0,mc=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,ap=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,Jy=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:Sa,emailVerified:fh,isAnonymous:ph,providerData:lp,stsTokenManager:gh}=m;se(Sa&&gh,p,"internal-error");const Xi=Wt.fromJSON(this.name,gh);se("string"==typeof Sa,p,"internal-error"),$t(mt,p.name),$t($n,p.name),se("boolean"==typeof fh,p,"internal-error"),se("boolean"==typeof ph,p,"internal-error"),$t(hs,p.name),$t(Bu,p.name),$t(gc,p.name),$t(mc,p.name),$t(ap,p.name),$t(Jy,p.name);const cp=new G({uid:Sa,auth:p,email:$n,emailVerified:fh,displayName:mt,isAnonymous:ph,photoURL:Bu,phoneNumber:hs,tenantId:gc,stsTokenManager:Xi,createdAt:ap,lastLoginAt:Jy});return lp&&Array.isArray(lp)&&(cp.providerData=lp.map(Dm=>Object.assign({},Dm))),mc&&(cp._redirectEventId=mc),cp}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const x=new Wt;x.updateFromServerResponse(m);const R=new G({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:w});return yield Ti(R),R})()}}const q=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,c.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function fe(v,p,m){return`firebase:${v}:${p}:${m}`}class ee{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:x,name:R}=this.auth;this.fullUserKey=fe(this.userKey,x.apiKey,R),this.fullPersistenceKey=fe("persistence",x.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?G._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new ee(ae(q),p,w);const x=(yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let R=x[0]||ae(q);const W=fe(w,p.config.apiKey,p.name);let le=null;for(const ot of m)try{const It=yield ot._get(W);if(It){const mt=G._fromJSON(p,It);ot!==R&&(le=mt),R=ot;break}}catch(It){}const ze=x.filter(ot=>ot._shouldAllowMigration);return R._shouldAllowMigration&&ze.length?(R=ze[0],le&&(yield R._set(W,le.toJSON())),yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(It){if(It!==R)try{yield It._remove(W)}catch(mt){}});return function(It){return ot.apply(this,arguments)}}())),new ee(R,p,w)):new ee(R,p,w)})()}}function $e(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(en(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(St(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(jt(p))return"Blackberry";if(wn(p))return"Webos";if(nn(p))return"Safari";if((p.includes("chrome/")||ki(p))&&!p.includes("edge/"))return"Chrome";if(Vn(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function St(v=(0,L.z$)()){return/firefox\//i.test(v)}function nn(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ki(v=(0,L.z$)()){return/crios\//i.test(v)}function en(v=(0,L.z$)()){return/iemobile/i.test(v)}function Vn(v=(0,L.z$)()){return/android/i.test(v)}function jt(v=(0,L.z$)()){return/blackberry/i.test(v)}function wn(v=(0,L.z$)()){return/webos/i.test(v)}function _i(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function bs(v=(0,L.z$)()){return _i(v)||Vn(v)||wn(v)||jt(v)||/windows phone/i.test(v)||en(v)}function Za(v,p=[]){let m;switch(v){case"Browser":m=$e((0,L.z$)());break;case"Worker":m=`${$e((0,L.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${w}`}class Cr{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,R;if(!w._deleted&&(w.persistenceManager=yield ee.create(w,p),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(W){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;let x=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const R=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,W=null==x?void 0:x._redirectEventId,le=yield m.tryRedirectSignIn(p);(!R||R===W)&&(null==le?void 0:le.user)&&(x=le.user)}return x?x._redirectEventId?(se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)):m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(x){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield Ti(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Tt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&se(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&se(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ae(p)||m._popupRedirectResolver;se(w,m,"argument-error"),m.redirectPersistenceManager=yield ee.create(m,[ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,x){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return se(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function Be(v){return(0,L.m9)(v)}class Ht{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Si(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function ti(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class pn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return J("not implemented")}_getIdTokenResponse(p){return J("not implemented")}_linkToIdToken(p,m){return J("not implemented")}_getReauthenticationResolver(p){return J("not implemented")}}function Kn(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:resetPassword",on(v,p))})).apply(this,arguments)}function Lt(v,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ss(v,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:update",on(v,p))})).apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithPassword",on(v,p))})).apply(this,arguments)}function ws(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:sendOobCode",on(v,p))})).apply(this,arguments)}function Jn(v,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(v,p){return ws(v,p)})).apply(this,arguments)}function Vl(v,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(v,p){return ws(v,p)})).apply(this,arguments)}function Br(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(v,p){return ws(v,p)})).apply(this,arguments)}function kd(v,p){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(v,p){return ws(v,p)})).apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithEmailLink",on(v,p))})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithEmailLink",on(v,p))})).apply(this,arguments)}class Hl extends pn{constructor(p,m,w,x=null){super("password",w),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new Hl(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Hl(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function eo(v,p){return Yn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function jl(v,p){return hr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Lt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Rd(v,p){return ua.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ni(v,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithIdp",on(v,p))})).apply(this,arguments)}class Ds extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ds(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x}=m,R=(0,ne._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const W=new Ds(w,x);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(p){return ni(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ni(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ni(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Xg(v,p){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:sendVerificationCode",on(v,p))})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,p))})).apply(this,arguments)}function Fd(){return(Fd=(0,c.Z)(function*(v,p){const m=yield Ki(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,p));if(m.temporaryProof)throw vs(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const tm={USER_NOT_FOUND:"user-not-found"};function Ld(){return(Ld=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),tm)})).apply(this,arguments)}class da extends pn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new da({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new da({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Wc(v,p){return no.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function em(v,p){return Fd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function nm(v,p){return Ld.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}=p;return w||m||x||R?new da({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}):null}}class Io{constructor(p){var m,w,x,R,W,le;const ze=(0,L.zd)((0,L.pd)(p)),ot=null!==(m=ze.apiKey)&&void 0!==m?m:null,It=null!==(w=ze.oobCode)&&void 0!==w?w:null,mt=function Cy(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ze.mode)&&void 0!==x?x:null);se(ot&&It&&mt,"argument-error"),this.apiKey=ot,this.operation=mt,this.code=It,this.continueUrl=null!==(R=ze.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=ze.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(le=ze.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function $l(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||p||v}(p);try{return new Io(m)}catch(w){return null}}}let Zc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Hl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Io.parseLink(w);return se(x,"argument-error"),Hl._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class io{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fr extends io{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ha extends fr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return se("providerId"in m&&"signInMethod"in m,"argument-error"),Ds._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ha.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ha.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:R,nonce:W,providerId:le}=p;if(!w&&!x&&!m&&!R||!le)return null;try{return new ha(le)._credential({idToken:m,accessToken:w,nonce:W,pendingToken:R})}catch(ze){return null}}}let Ao=(()=>{class v extends fr{constructor(){super("facebook.com")}static credential(m){return Ds._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ya=(()=>{class v extends fr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ds._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return v.credential(w,x)}catch(R){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Bd=(()=>{class v extends fr{constructor(){super("github.com")}static credential(m){return Ds._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Qn extends pn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ni(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ni(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ni(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x,pendingToken:R}=m;return w&&x&&R&&w===x?new Qn(w,R):null}static _create(p,m){return new Qn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends io{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Sr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Sr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Qn.fromJSON(p);return se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Qn._create(w,m)}catch(x){return null}}}let zl=(()=>{class v extends fr{constructor(){super("twitter.com")}static credential(m,w){return Ds._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return v.credential(w,x)}catch(R){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ql(v,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signUp",on(v,p))})).apply(this,arguments)}class Ii{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,x=!1){return(0,c.Z)(function*(){const R=yield G._fromIdTokenResponse(p,w,x),W=Nf(w);return new Ii({user:R,providerId:W,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const x=Nf(w);return new Ii({user:p,providerId:x,_tokenResponse:w,operationType:m})})()}}function Nf(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Vd(){return(Vd=(0,c.Z)(function*(v){var p;const m=Be(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ii({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ql(m,{returnSecureToken:!0}),x=yield Ii._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Zl extends L.ZR{constructor(p,m,w,x){var R;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Zl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,x){return new Zl(p,m,w,x)}}function Kl(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Zl._fromErrorAndOperation(v,R,p,w):R})}function Cs(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Kc(){return(Kc=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v);yield so(!0,m,p);const{providerUserInfo:w}=yield gi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=Cs(w||[]);return m.providerData=m.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sn(v,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(v,p,m=!1){const w=yield Ci(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ii._forOperation(v,"link",w)})).apply(this,arguments)}function so(v,p,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(v,p,m){yield Ti(p);const x=!1===v?"provider-already-linked":"no-such-provider";se(Cs(p.providerData).has(m)===v,p.auth,x)})).apply(this,arguments)}function Ud(v,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(v,p,m=!1){const{auth:w}=v,x="reauthenticate";try{const R=yield Ci(v,Kl(w,x,p,v),m);se(R.idToken,w,"internal-error");const W=ft(R.idToken);se(W,w,"internal-error");const{sub:le}=W;return se(v.uid===le,w,"user-mismatch"),Ii._forOperation(v,x,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Me(w,"user-mismatch"),R}})).apply(this,arguments)}function xo(v,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(v,p,m=!1){const w="signIn",x=yield Kl(v,w,p),R=yield Ii._fromIdTokenResponse(v,w,x);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Xn(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(v,p){return xo(Be(v),p)})).apply(this,arguments)}function Vr(v,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v);return yield so(!1,m,p.providerId),Sn(m,p)})).apply(this,arguments)}function oo(v,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(v,p){return Ud((0,L.m9)(v),p)})).apply(this,arguments)}function Yl(v,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(v,p){return Ki(v,"POST","/v1/accounts:signInWithCustomToken",on(v,p))})).apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(v,p){const m=Be(v),w=yield Yl(m,{token:p,returnSecureToken:!0}),x=yield Ii._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Et{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Jl._fromServerResponse(p,m):Me(p,"internal-error")}}class Jl extends Et{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Jl(m)}}function Xa(v,p,m){var w;se((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),se(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(se(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(se(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Xl(){return(Xl=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v),x={requestType:"PASSWORD_RESET",email:p};m&&Xa(w,x,m),yield Vl(w,x)})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(v,p,m){yield Kn((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(v,p){yield ss((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function zt(v,p){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v),w=yield Kn(m,{oobCode:p}),x=w.requestType;switch(se(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,m,"internal-error");default:se(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Et._fromServerResponse(Be(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,p){const{data:m}=yield zt((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(v,p,m){const w=Be(v),x=yield ql(w,{returnSecureToken:!0,email:p,password:m}),R=yield Ii._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v),x={requestType:"EMAIL_SIGNIN",email:p};se(m.handleCodeInApp,w,"argument-error"),m&&Xa(w,x,m),yield Br(w,x)})).apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v),x=Zc.credentialWithLink(p,m||Ot());return se(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Xn(w,x)})).apply(this,arguments)}function Ai(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:createAuthUri",on(v,p))})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(v,p){const w={identifier:p,continueUri:sn()?Ot():"http://localhost"},{signinMethods:x}=yield Ai((0,L.m9)(v),w);return x||[]})).apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Xa(m.auth,x,p);const{email:R}=yield Jn(m.auth,x);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Xa(w.auth,R,m);const{email:W}=yield kd(w.auth,R);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function iu(v,p){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,L.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield Ci(w,iu(w.auth,R));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const le=w.providerData.find(({providerId:ze})=>"password"===ze);le&&(le.displayName=w.displayName,le.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function ou(v,p,m){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(v,p,m){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const W=yield Ci(v,Lt(w,R));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Oo{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class $d extends Oo{constructor(p,m,w,x){super(p,m,w),this.username=x}}class zd extends Oo{constructor(p,m){super(p,"facebook.com",m)}}class ko extends $d{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ho extends Oo{constructor(p,m){super(p,"google.com",m)}}class au extends $d{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Li(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Gd(v){var p,m;if(!v)return null;const{providerId:w}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const W=null===(m=null===(p=ft(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new Oo(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new zd(R,x);case"github.com":return new ko(R,x);case"google.com":return new ho(R,x);case"twitter.com":return new au(R,x,v.screenName||null);case"custom":case"anonymous":return new Oo(R,null);default:return new Oo(R,w,x)}}(m)}class Ss{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Ss("enroll",p)}static _fromMfaPendingCredential(p){return new Ss("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ss._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Ss._fromIdtoken(p.multiFactorSession.idToken)}return null}}class tl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Be(p),x=m.customData._serverResponse,R=(x.mfaInfo||[]).map(le=>Et._fromServerResponse(w,le));se(x.mfaPendingCredential,w,"internal-error");const W=Ss._fromMfaPendingCredential(x.mfaPendingCredential);return new tl(W,R,function(){var le=(0,c.Z)(function*(ze){const ot=yield ze._process(w,W);delete x.mfaInfo,delete x.mfaPendingCredential;const It=Object.assign(Object.assign({},x),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const mt=yield Ii._fromIdTokenResponse(w,m.operationType,It);return yield w._updateCurrentUser(mt.user),mt;case"reauthenticate":return se(m.user,w,"internal-error"),Ii._forOperation(m.user,m.operationType,It);default:Me(w,"internal-error")}});return function(ze){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function ii(v,p){return Qt(v,"POST","/v2/accounts/mfaEnrollment:start",on(v,p))}class Is{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Et._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Is(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Ss._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const x=p,R=yield w.getSession(),W=yield Ci(w.user,x._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,x=yield m.user.getIdToken(),R=yield Ci(m.user,function rm(v,p){return Qt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",on(v,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==w),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const _a=new WeakMap,uu="__sak";class os{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pn=(()=>{class v extends os{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const v=(0,L.z$)();return nn(v)||_i(v)}()&&function li(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=bs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),R=this.localCache[w];x!==R&&m(w,R,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((le,ze,ot)=>{this.notifyListeners(le,ot)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(x);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const R=()=>{const le=this.storage.getItem(x);!w&&this.localCache[x]===le||this.notifyListeners(x,le)},W=this.storage.getItem(x);!function Wa(){return(0,L.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,R=this;return(0,c.Z)(function*(){yield x().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,c.Z)(function*(){const R=yield w().call(x,m);return x.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,x=this;return(0,c.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),Bt=(()=>{class v extends os{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let jn=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const x=m,{eventId:R,eventType:W,data:le}=x.data,ze=w.handlersMap[W];if(!(null==ze?void 0:ze.size))return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const ot=Array.from(ze).map(function(){var mt=(0,c.Z)(function*($n){return $n(x.origin,le)});return function($n){return mt.apply(this,arguments)}}()),It=yield function Mn(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ot);x.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:It})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ya(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class Kd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var x=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,le;return new Promise((ze,ot)=>{const It=ya("",20);R.port1.start();const mt=setTimeout(()=>{ot(new Error("unsupported_event"))},w);le={messageChannel:R,onMessage($n){const hs=$n;if(hs.data.eventId===It)switch(hs.data.status){case"ack":clearTimeout(mt),W=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),ze(hs.data.response);break;default:clearTimeout(mt),clearTimeout(W),ot(new Error("invalid_response"))}}},x.handlers.add(le),R.port1.addEventListener("message",le.onMessage),x.target.postMessage({eventType:p,eventId:It,data:m},[R.port2])}).finally(()=>{le&&x.removeMessageHandler(le)})})()}}function Dn(){return window}function jr(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function mr(){return(mr=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const hu="firebaseLocalStorageDb",Ro="firebaseLocalStorage",_n="fbase_key";class As{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function po(v,p){return v.transaction([Ro],p?"readwrite":"readonly").objectStore(Ro)}function go(){const v=indexedDB.open(hu,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Ro,{keyPath:_n})}catch(x){m(x)}}),v.addEventListener("success",(0,c.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Ro)?p(w):(w.close(),yield function Ar(){const v=indexedDB.deleteDatabase(hu);return new As(v).toPromise()}(),p(yield go()))}))})}function Mr(v,p,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(v,p,m){const w=po(v,!0).put({[_n]:p,value:m});return new As(w).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(v,p){const m=po(v,!1).get(p),w=yield new As(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function as(v,p){const m=po(v,!0).delete(p);return new As(m).toPromise()}const Gr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield go()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(x++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return jr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=jn._getInstance(function Yd(){return jr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(x,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(x,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function oc(){return mr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Kd(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function gt(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield go();return yield Mr(m,uu,"1"),yield as(m,uu),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(R=>Mr(R,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const x=yield w._withRetries(R=>function pu(v,p){return mo.apply(this,arguments)}(R,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(x=>as(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(W=>{const le=po(W,!1).getAll();return new As(le).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:W,value:le}of w)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(le)&&(m.notifyListeners(W,le),x.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),x.push(W));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function _o(v,p){return Qt(v,"POST","/v2/accounts/mfaSignIn:start",on(v,p))}function $r(){return($r=(0,c.Z)(function*(v){return(yield Qt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=x=>{const R=Ee("internal-error");R.customData=x,m(R)},w.type="text/javascript",w.charset="UTF-8",function Jd(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Ln(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Bi=1e12;class xn{constructor(p){this.auth=p,this.counter=Bi,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new zr(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Bi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Bi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||Bi))||void 0===w||w.execute(),""})()}}class zr{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;se(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rn(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ms=Ln("rcb"),Qd=new yn(3e4,6e4);class om{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(p,m=""){return se(function am(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Dn().grecaptcha):new Promise((w,x)=>{const R=Dn().setTimeout(()=>{x(Ee(p,"network-request-failed"))},Qd.get());Dn()[Ms]=()=>{Dn().clearTimeout(R),delete Dn()[Ms];const le=Dn().grecaptcha;if(!le)return void x(Ee(p,"internal-error"));const ze=le.render;le.render=(ot,It)=>{const mt=ze(ot,It);return this.counter++,mt},this.hostLanguage=m,w(le)},Fn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Ms,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),x(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Dn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lm{load(p){return(0,c.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const yo="recaptcha",ci={theme:"light",type:"image"};class Rf{constructor(p,m=Object.assign({},ci),w){this.parameters=m,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Be(w),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;se(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lm:new om,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const W=le=>{!le||(p.tokenChangeListeners.delete(W),R(le))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Dn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){se(sn()&&!jr(),p.auth,"internal-error"),yield function vo(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ri(v){return $r.apply(this,arguments)}(p.auth);se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xs{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=da._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Bn(){return(Bn=(0,c.Z)(function*(v,p,m){const w=Be(v),x=yield Vi(w,p,(0,L.m9)(m));return new xs(x,R=>Xn(w,R))})).apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v);yield so(!1,w,"phone");const x=yield Vi(w.auth,p,(0,L.m9)(m));return new xs(x,R=>Vr(w,R))})).apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v),x=yield Vi(w.auth,p,(0,L.m9)(m));return new xs(x,R=>oo(w,R))})).apply(this,arguments)}function Vi(v,p,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(v,p,m){var w;const x=yield m.verify();try{let R;if(se("string"==typeof x,v,"argument-error"),se(m.type===yo,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return se("enroll"===W.type,v,"internal-error"),(yield ii(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{se("signin"===W.type,v,"internal-error");const le=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return se(le,v,"missing-multi-factor-info"),(yield _o(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Xg(v,{phoneNumber:R.phoneNumber,recaptchaToken:x});return W}}finally{m._reset()}})).apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(v,p){yield Sn((0,L.m9)(v),p)})).apply(this,arguments)}let qr=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Be(m)}verifyPhoneNumber(m,w){return Vi(this.auth,m,(0,L.m9)(w))}static credential(m,w){return da._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?da._fromTokenResponse(w,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ls(v,p){return p?ae(p):(se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class nl extends pn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ni(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ni(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ni(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function vu(v){return xo(v.auth,new nl(v),v.bypassAuthState)}function bu(v){const{auth:p,user:m}=v;return se(m,p,"internal-error"),Ud(m,new nl(v),v.bypassAuthState)}function Gt(v){return wu.apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return se(m,p,"internal-error"),Sn(m,new nl(v),v.bypassAuthState)})).apply(this,arguments)}class ui{constructor(p,m,w,x,R=!1){this.auth=p,this.resolver=w,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,x){p.pendingPromise={resolve:w,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:R,tenantId:W,error:le,type:ze}=p;if(le)return void m.reject(le);const ot={auth:m.auth,requestUri:w,sessionId:x,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(ot))}catch(It){m.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return bu;default:Me(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eu=new yn(2e3,1e4);function Xd(){return(Xd=(0,c.Z)(function*(v,p,m){const w=Be(v);Ye(v,p,io);const x=ls(w,m);return new us(w,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ye(w.auth,p,io);const x=ls(w.auth,m);return new us(w.auth,"reauthViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ye(w.auth,p,io);const x=ls(w.auth,m);return new us(w.auth,"linkViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}let us=(()=>{class v extends ui{constructor(m,w,x,R,W){super(m,w,R,W),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return se(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){oe(1===m.filter.length,"Popup operations only handle one event");const w=ya();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Eu.get())};m()}}return v.currentPopupAction=null,v})();const ds=new Map;class di extends ui{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=ds.get(m.auth._key());if(!w){try{const R=(yield function Nr(v,p){return Du.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(x){w=()=>Promise.reject(x)}ds.set(m.auth._key(),w)}return m.bypassAuthState||ds.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const x=yield w.auth._redirectUserForId(p.eventId);if(x)return w.user=x,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Du(){return(Du=(0,c.Z)(function*(v,p){const m=S(p),w=C(v);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function Lo(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(v,p){return C(v)._set(S(p),"true")})).apply(this,arguments)}function C(v){return ae(v._redirectPersistence)}function S(v){return fe("pendingRedirect",v.config.apiKey,v.name)}function Q(){return(Q=(0,c.Z)(function*(v,p,m){const w=Be(v);Ye(v,p,io);const x=ls(w,m);return yield Lo(x,w),x._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ye(w.auth,p,io);const x=ls(w.auth,m);yield Lo(x,w.auth);const R=yield Bo(w);return x._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ye(w.auth,p,io);const x=ls(w.auth,m);yield so(!1,w,p.providerId),yield Lo(x,w.auth);const R=yield Bo(w);return x._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(v,p){return yield Be(v)._initializationPromise,Gn(v,p,!1)})).apply(this,arguments)}function Gn(v,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(v,p,m=!1){const w=Be(v),x=ls(w,p),W=yield new di(w,x,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function Bo(v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(v){const p=ya(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Wr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Cu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!th(p)){const x=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vo(p))}saveEventToCache(p){this.cachedEventUids.add(Vo(p)),this.lastProcessedEventTime=Date.now()}}function Vo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function th({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Tu(v){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(v,p={}){return Qt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const um=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sy=/^https?/;function Os(){return(Os=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Tu(v);for(const m of p)try{if(Su(m))return}catch(w){}Me(v,"unauthorized-domain")})).apply(this,arguments)}function Su(v){const p=Ot(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===w}if(!Sy.test(m))return!1;if(um.test(v))return w===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Ay=new yn(3e4,6e4);function My(){const v=Dn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let nh=null;function xy(v){return nh=nh||function dm(v){return new Promise((p,m)=>{var w,x,R;function W(){My(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{My(),m(Ee(v,"network-request-failed"))},timeout:Ay.get()})}if(null===(x=null===(w=Dn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Dn().gapi)||void 0===R?void 0:R.load)){const le=Ln("iframefcb");return Dn()[le]=()=>{gapi.load?W():m(Ee(v,"network-request-failed"))},Fn(`https://apis.google.com/js/api.js?onload=${le}`).catch(ze=>m(ze))}W()}}).catch(p=>{throw nh=null,p})}(v),nh}const Pf=new yn(5e3,15e3),jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ih=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rl(v){const p=v.config;se(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?vn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:ce.SDK_VERSION},x=ih.get(v.config.apiHost);x&&(w.eid=x);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function Da(){return Da=(0,c.Z)(function*(v){const p=yield xy(v),m=Dn().gapi;return se(m,v,"internal-error"),p.open({where:document.body,url:rl(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jo,dontclear:!0},w=>new Promise(function(){var x=(0,c.Z)(function*(R,W){yield w.restyle({setHideOnLeave:!1});const le=Ee(v,"network-request-failed"),ze=Dn().setTimeout(()=>{W(le)},Pf.get());function ot(){Dn().clearTimeout(ze),R(w)}w.ping(ot).then(ot,()=>{W(le)})});return function(R,W){return x.apply(this,arguments)}}()))}),Da.apply(this,arguments)}const Oy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Vf(v,p,m,w,x,R){se(v.config.authDomain,v,"auth-domain-config-required"),se(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:ce.SDK_VERSION,eventId:x};if(p instanceof io){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,ot]of Object.entries(R||{}))W[ze]=ot}if(p instanceof fr){const ze=p.getScopes().filter(ot=>""!==ot);ze.length>0&&(W.scopes=ze.join(","))}v.tenantId&&(W.tid=v.tenantId);const le=W;for(const ze of Object.keys(le))void 0===le[ze]&&delete le[ze];return`${function Ry({config:v}){return v.emulator?vn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(le).slice(1)}`}const ks="webStorageSupport";class ah extends class Uf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return J("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ah(p)}_finalizeEnroll(p,m,w){return function qd(v,p){return Qt(v,"POST","/v2/accounts/mfaEnrollment:finalize",on(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Po(v,p){return Qt(v,"POST","/v2/accounts/mfaSignIn:finalize",on(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hm=(()=>{class v{constructor(){}static assertion(m){return ah._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var fm="@firebase/auth",lh="0.19.11";class pm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var x;p((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wo(){return window}function ol(){return(ol=(0,c.Z)(function*(v,p,m){var w;const{BuildInfo:x}=wo();oe(p.sessionId,"AuthEvent did not contain a session ID");const R=yield al(p.sessionId),W={};return _i()?W.ibi=x.packageName:Vn()?W.apn=x.packageName:Me(v,"operation-not-supported-in-this-environment"),x.displayName&&(W.appDisplayName=x.displayName),W.sessionId=R,Vf(v,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,W)})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(v){const{BuildInfo:p}=wo(),m={};_i()?m.iosBundleId=p.packageName:Vn()?m.androidPackageName=p.packageName:Me(v,"operation-not-supported-in-this-environment"),yield Tu(v,m)})).apply(this,arguments)}function ch(){return(ch=(0,c.Z)(function*(v,p,m){const{cordova:w}=wo();let x=()=>{};try{yield new Promise((R,W)=>{let le=null;function ze(){var mt;R();const $n=null===(mt=w.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof $n&&$n(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ot(){le||(le=window.setTimeout(()=>{W(Ee(v,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}p.addPassiveListener(ze),document.addEventListener("resume",ot,!1),Vn()&&document.addEventListener("visibilitychange",It,!1),x=()=>{p.removePassiveListener(ze),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",It,!1),le&&window.clearTimeout(le)}})}finally{x()}})).apply(this,arguments)}function al(v){return mm.apply(this,arguments)}function mm(){return(mm=(0,c.Z)(function*(v){const p=fc(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fc(v){if(oe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let w=0;w<v.length;w++)m[w]=v.charCodeAt(w);return m}!function Fy(v){(0,ce._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:R,authDomain:W}=w.options;return((le,ze)=>{se(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),se(!(null==W?void 0:W.includes(":")),"argument-error",{appName:le.name});const ot={apiKey:R,authDomain:W,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Za(v)},It=new Cr(le,ze,ot);return function ue(v,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ae);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(It,m),It})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ie.wA("auth-internal",p=>{const m=Be(p.getProvider("auth").getImmediate());return new pm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(fm,lh,function Py(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ce.registerVersion)(fm,lh,"esm2017")}("Browser");class $f extends Wr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Mu(v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(v){const p=yield Nu()._get(qf(v));return p&&(yield Nu()._remove(qf(v))),p})).apply(this,arguments)}function xu(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Nu(){return ae(Pn)}function qf(v){return fe("authEvent",v.config.apiKey,v.name)}function ku(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function Yf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function dh(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function ym(v=(0,L.z$)()){return!("file:"!==dh()&&"ionic:"!==dh()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ui(){try{const v=self.localStorage,p=ya();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Ta(v=(0,L.z$)()){return function jy(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Hy(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return $o()&&(0,L.hl)()}return!1}function $o(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pu(){return(function Uy(){return"http:"===dh()||"https:"===dh()}()||(0,L.ru)()||ym())&&!function hh(){return(0,L.b$)()||(0,L.UG)()}()&&Ui()&&!$o()}function Jf(){return ym()&&"undefined"!=typeof document}function ll(){return(ll=(0,c.Z)(function*(){return!!Jf()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Kr={LOCAL:"local",NONE:"none",SESSION:"session"},cl=se,Xf="persistence";function ul(v){return ep.apply(this,arguments)}function ep(){return(ep=(0,c.Z)(function*(v){yield v._initializationPromise;const p=Fu(),m=fe(Xf,v.config.apiKey,v.name);p&&p.setItem(m,v._getPersistence())})).apply(this,arguments)}function Fu(){var v;try{return(null===(v=function Qf(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(p){return null}}const Gy=se;class kr{constructor(){this.browserResolver=ae(class Go{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bt,this._completeRedirectFn=Gn}_openPopup(p,m,w,x){var R=this;return(0,c.Z)(function*(){var W;oe(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const le=Vf(p,m,w,Ot(),x);return function Ho(v,p,m,w=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let le="";const ze=Object.assign(Object.assign({},Oy),{width:w.toString(),height:x.toString(),top:R,left:W}),ot=(0,L.z$)().toLowerCase();m&&(le=ki(ot)?"_blank":m),St(ot)&&(p=p||"http://localhost",ze.scrollbars="yes");const It=Object.entries(ze).reduce(($n,[hs,Bu])=>`${$n}${hs}=${Bu},`,"");if(function Bl(v=(0,L.z$)()){var p;return _i(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ot)&&"_self"!==le)return function Bf(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",le),new oh(null);const mt=window.open(p||"",le,It);se(mt,v,"popup-blocked");try{mt.focus()}catch($n){}return new oh(mt)}(p,le,ya())})()}_openRedirect(p,m,w,x){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),function kf(v){Dn().location.href=v}(Vf(p,m,w,Ot(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:R}=this.eventManagers[m];return x?Promise.resolve(x):(oe(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function Ny(v){return Da.apply(this,arguments)}(p),x=new Wr(p);return w.register("authEvent",R=>(se(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=w,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ks,{type:ks},x=>{var R;const W=null===(R=null==x?void 0:x[0])||void 0===R?void 0:R[ks];void 0!==W&&m(!!W),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Iy(v){return Os.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return bs()||nn()||_i()}}),this.cordovaResolver=ae(class Kf{constructor(){this._redirectPersistence=Bt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gn}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let x=m.eventManagers.get(w);return x||(x=new $f(p),m.eventManagers.set(w,x),m.attachCallbackListeners(p,x)),x})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,x){var R=this;return(0,c.Z)(function*(){!function uh(v){var p,m,w,x,R,W,le,ze,ot,It;const mt=wo();se("function"==typeof(null===(p=null==mt?void 0:mt.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(m=null==mt?void 0:mt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(R=null===(x=null===(w=null==mt?void 0:mt.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(ze=null===(le=null===(W=null==mt?void 0:mt.cordova)||void 0===W?void 0:W.plugins)||void 0===le?void 0:le.browsertab)||void 0===ze?void 0:ze.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(It=null===(ot=null==mt?void 0:mt.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===It?void 0:It.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield R._initialize(p);yield W.initialized(),W.resetRedirect(),function dc(){ds.clear()}(),yield R._originValidation(p);const le=function zf(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:xu(),postBody:null,tenantId:v.tenantId,error:Ee(v,"no-auth-event")}}(p,w,x);yield function Rw(v,p){return Nu()._set(qf(v),p)}(p,le);const ze=yield function jf(v,p,m){return ol.apply(this,arguments)}(p,le,m),ot=yield function Au(v){const{cordova:p}=wo();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let x=null;w?p.plugins.browsertab.openUrl(v):x=p.InAppBrowser.open(v,function So(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(x)})})}(ze);return function gm(v,p,m){return ch.apply(this,arguments)}(p,W,ot)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Hf(v){return Zr.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:x,BuildInfo:R}=wo(),W=setTimeout((0,c.Z)(function*(){yield Mu(p),m.onEvent(Yf())}),500),le=function(){var It=(0,c.Z)(function*(mt){clearTimeout(W);const $n=yield Mu(p);let hs=null;$n&&(null==mt?void 0:mt.url)&&(hs=function By(v,p){var m,w;const x=function Ou(v){const p=ku(v),m=p.link?decodeURIComponent(p.link):void 0,w=ku(m).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ku(x).link||x||w||m||v}(p);if(x.includes("/__/auth/callback")){const R=ku(x),W=R.firebaseError?function Wf(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(w=null===(m=null==W?void 0:W.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],ze=le?Ee(le):null;return ze?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}($n,mt.url)),m.onEvent(hs||Yf())});return function($n){return It.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,le);const ze=x,ot=`${R.packageName.toLowerCase()}://`;wo().handleOpenURL=function(){var It=(0,c.Z)(function*(mt){if(mt.toLowerCase().startsWith(ot)&&le({url:mt}),"function"==typeof ze)try{ze(mt)}catch($n){console.error($n)}});return function(mt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bt,this._completeRedirectFn=Gn}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,x){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,x)})()}_openRedirect(p,m,w,x){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,x)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Jf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Qi(){return ll.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function wm(v){return v.unwrap()}function dl(v){return Em(v)}function Em(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return qr.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ya;break;case"facebook.com":w=Ao;break;case"github.com":w=Bd;break;case"twitter.com":w=zl;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:le,nonce:ze}=p;return R||W||x||le?le?m.startsWith("saml.")?Qn._create(m,le):Ds._fromParams({providerId:m,signInMethod:m,pendingToken:le,idToken:x,accessToken:R}):new ha(m).credential({idToken:x,accessToken:R,rawNonce:ze}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function ji(v,p){return p.catch(m=>{throw m instanceof L.ZR&&function zy(v,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new qy(v,function sc(v,p){var m;const w=(0,L.m9)(v),x=p;return se(p.customData.operationType,w,"argument-error"),se(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),tl._fromError(w,x)}(v,p));else if(w){const x=Em(p),R=p;x&&(R.credential=x,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(v,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:dl(m),additionalUserInfo:Li(m),user:zo.getOrCreate(x)}})}function tp(v,p){return np.apply(this,arguments)}function np(){return(np=(0,c.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>ji(v,m.confirm(w))}})).apply(this,arguments)}class qy{constructor(p,m){this.resolver=m,this.auth=function $y(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ji(wm(this.auth),this.resolver.resolveSignIn(p))}}class zo{constructor(p){this._delegate=p,this.multiFactor=function Wd(v){const p=(0,L.m9)(v);return _a.has(p)||_a.set(p,Is._fromUser(p)),_a.get(p)}(p)}static getOrCreate(p){return zo.USER_MAP.has(p)||zo.USER_MAP.set(p,new zo(p)),zo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return ji(m.auth,Vr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return tp(w.auth,function mu(v,p,m){return ba.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return ji(m.auth,function cs(v,p,m){return uc.apply(this,arguments)}(m._delegate,p,kr))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield ul(Be(m.auth)),function rt(v,p,m){return function Nt(v,p,m){return Vt.apply(this,arguments)}(v,p,m)}(m._delegate,p,kr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return ji(m.auth,oo(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return tp(this.auth,function cm(v,p,m){return _u.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return ji(this.auth,function Fo(v,p,m){return cc.apply(this,arguments)}(this._delegate,p,kr))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield ul(Be(m.auth)),function re(v,p,m){return function Oe(v,p,m){return ke.apply(this,arguments)}(v,p,m)}(m._delegate,p,kr)})()}sendEmailVerification(p){return function Ur(v,p){return nu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function Ja(v,p){return Kc.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function su(v,p){return ou((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function Hd(v,p){return ou((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yu(v,p){return Ns.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ma(v,p){return ru.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function ic(v,p,m){return rc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zo.USER_MAP=new WeakMap;const Lu=se;let ip=(()=>{class v{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Lu(x,"invalid-api-key",{appName:m.name}),Lu(x,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?kr:void 0;this._delegate=w.initialize({options:{persistence:Wy(x,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function En(v,p,m){const w=Be(v);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),R=Si(p),{host:W,port:le}=function Qs(v){const p=Si(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const R=x[1];return{host:R,port:ti(w.substr(R.length+1))}}{const[R,W]=w.split(":");return{host:R,port:ti(W)}}}(p);w.config.emulator={url:`${R}//${W}${null===le?"":`:${le}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function rs(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,w)}applyActionCode(m){return function Jc(v,p){return Te.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return zt(this._delegate,m)}confirmPasswordReset(m,w){return function ec(v,p,m){return Yc.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var x=this;return(0,c.Z)(function*(){return ji(x._delegate,function ga(v,p,m){return gr.apply(this,arguments)}(x._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function nc(v,p){return uo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function tu(v,p){const m=Io.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Lu(Pu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Rt(v,p){return si.apply(this,arguments)}(m._delegate,kr);return w?ji(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function _m(v,p){Be(v)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,x){const{next:R,error:W,complete:le}=rp(m,w,x);return this._delegate.onAuthStateChanged(R,W,le)}onIdTokenChanged(m,w,x){const{next:R,error:W,complete:le}=rp(m,w,x);return this._delegate.onIdTokenChanged(R,W,le)}sendSignInLinkToEmail(m,w){return function eu(v,p,m){return jd.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Ql(v,p,m){return Xl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let x;switch(function vm(v,p){cl(Object.values(Kr).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?cl(p!==Kr.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?cl(p===Kr.NONE,v,"unsupported-persistence-type"):$o()?cl(p===Kr.NONE||p===Kr.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):cl(p===Kr.NONE||Ui(),v,"unsupported-persistence-type")}(w._delegate,m),m){case Kr.SESSION:x=Bt;break;case Kr.LOCAL:x=(yield ae(Gr)._isAvailable())?Gr:Pn;break;case Kr.NONE:x=q;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ji(this._delegate,function Wl(v){return Vd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ji(this._delegate,Xn(this._delegate,m))}signInWithCustomToken(m){return ji(this._delegate,function ao(v,p){return lo.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return ji(this._delegate,function Xc(v,p,m){return Xn((0,L.m9)(v),Zc.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return ji(this._delegate,function tc(v,p,m){return co.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return tp(this._delegate,function lc(v,p,m){return Bn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return Lu(Pu(),w._delegate,"operation-not-supported-in-this-environment"),ji(w._delegate,function bo(v,p,m){return Xd.apply(this,arguments)}(w._delegate,m,kr))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return Lu(Pu(),w._delegate,"operation-not-supported-in-this-environment"),yield ul(w._delegate),function O(v,p,m){return function V(v,p,m){return Q.apply(this,arguments)}(v,p,m)}(w._delegate,m,kr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function An(v,p){return pa.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Kr,v})();function rp(v,p,m){let w=v;"function"!=typeof v&&({next:w,error:p,complete:m}=v);const x=w;return{next:W=>x(W&&zo.getOrCreate(W)),error:p,complete:m}}function Wy(v,p){const m=function bm(v,p){const m=Fu();if(!m)return[];const w=fe(Xf,v,p);switch(m.getItem(w)){case Kr.NONE:return[q];case Kr.LOCAL:return[Gr,Bt];case Kr.SESSION:return[Bt];default:return[]}}(v,p);if("undefined"!=typeof self&&!m.includes(Gr)&&m.push(Gr),"undefined"!=typeof window)for(const w of[Pn,Bt])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class sp{constructor(){this.providerId="phone",this._delegate=new qr(wm(X.Z.auth()))}static credential(p,m){return qr.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}sp.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,sp.PROVIDER_ID=qr.PROVIDER_ID;const Zy=se;class Ky{constructor(p,m,w=X.Z.app()){var x;Zy(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Rf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function op(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new ip(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zc,FacebookAuthProvider:Ao,GithubAuthProvider:Bd,GoogleAuthProvider:Ya,OAuthProvider:ha,SAMLAuthProvider:Sr,PhoneAuthProvider:sp,PhoneMultiFactorGenerator:hm,RecaptchaVerifier:Ky,TwitterAuthProvider:zl,Auth:ip,AuthCredential:pn,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.11")}(X.Z)},8306:(pt,Ie,F)=>{F.d(Ie,{y:()=>$});var c=F(930),X=F(727),L=F(8822),ce=F(4671);var ie=F(2416),ge=F(576),he=F(2806);let $=(()=>{class Ne{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const me=new Ne;return me.source=this,me.operator=Ge,me}subscribe(Ge,me,Ce){const at=function Qe(Ne){return Ne&&Ne instanceof c.Lv||function te(Ne){return Ne&&(0,ge.m)(Ne.next)&&(0,ge.m)(Ne.error)&&(0,ge.m)(Ne.complete)}(Ne)&&(0,X.Nn)(Ne)}(Ge)?Ge:new c.Hp(Ge,me,Ce);return(0,he.x)(()=>{const{operator:tt,source:Me}=this;at.add(tt?tt.call(at,Me):Me?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(me){Ge.error(me)}}forEach(Ge,me){return new(me=z(me))((Ce,at)=>{const tt=new c.Hp({next:Me=>{try{Ge(Me)}catch(Ee){at(Ee),tt.unsubscribe()}},error:at,complete:Ce});this.subscribe(tt)})}_subscribe(Ge){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Ge)}[L.L](){return this}pipe(...Ge){return function ye(Ne){return 0===Ne.length?ce.y:1===Ne.length?Ne[0]:function(Ge){return Ne.reduce((me,Ce)=>Ce(me),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=z(Ge))((me,Ce)=>{let at;this.subscribe(tt=>at=tt,tt=>Ce(tt),()=>me(at))})}}return Ne.create=Le=>new Ne(Le),Ne})();function z(Ne){var Le;return null!==(Le=null!=Ne?Ne:ie.v.Promise)&&void 0!==Le?Le:Promise}},7579:(pt,Ie,F)=>{F.d(Ie,{x:()=>ie});var c=F(8306),X=F(727);const ce=(0,F(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=F(8737),ye=F(2806);let ie=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const te=new ge(this,this);return te.operator=z,te}_throwIfClosed(){if(this.closed)throw new ce}next(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(z)}})}error(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:te}=this;for(;te.length;)te.shift().error(z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:te,isStopped:Qe,observers:Ne}=this;return te||Qe?X.Lc:(this.currentObservers=null,Ne.push(z),new X.w0(()=>{this.currentObservers=null,(0,ne.P)(Ne,z)}))}_checkFinalizedStatuses(z){const{hasError:te,thrownError:Qe,isStopped:Ne}=this;te?z.error(Qe):Ne&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return he.create=($,z)=>new ge($,z),he})();class ge extends ie{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===te||te.call(z,$)}error($){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===te||te.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,te;return null!==(te=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==te?te:X.Lc}}},930:(pt,Ie,F)=>{F.d(Ie,{Hp:()=>Ge,Lv:()=>te});var c=F(576),X=F(727),L=F(2416),ce=F(7849),ne=F(5032);const ye=he("C",void 0,void 0);function he(Me,Ee,De){return{kind:Me,value:Ee,error:De}}var $=F(3410),z=F(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=tt}static create(Ee,De,Ye){return new Ge(Ee,De,Ye)}next(Ee){this.isStopped?at(function ge(Me){return he("N",Me,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?at(function ie(Me){return he("E",void 0,Me)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?at(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ne(Me,Ee){return Qe.call(Me,Ee)}class Le{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch(Ye){me(Ye)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch(Ye){me(Ye)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){me(De)}}}class Ge extends te{constructor(Ee,De,Ye){let Ke;if(super(),(0,c.m)(Ee)||!Ee)Ke={next:null!=Ee?Ee:void 0,error:null!=De?De:void 0,complete:null!=Ye?Ye:void 0};else{let se;this&&L.v.useDeprecatedNextContext?(se=Object.create(Ee),se.unsubscribe=()=>this.unsubscribe(),Ke={next:Ee.next&&Ne(Ee.next,se),error:Ee.error&&Ne(Ee.error,se),complete:Ee.complete&&Ne(Ee.complete,se)}):Ke=Ee}this.destination=new Le(Ke)}}function me(Me){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Me):(0,ce.h)(Me)}function at(Me,Ee){const{onStoppedNotification:De}=L.v;De&&$.z.setTimeout(()=>De(Me,Ee))}const tt={closed:!0,next:ne.Z,error:function Ce(Me){throw Me},complete:ne.Z}},727:(pt,Ie,F)=>{F.d(Ie,{Lc:()=>ye,w0:()=>ne,Nn:()=>ie});var c=F(576);const L=(0,F(3888).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((te,Qe)=>`${Qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ce=F(8737);class ne{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ne of z)Ne.remove(this);else z.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Ne){$=Ne instanceof L?Ne.errors:[Ne]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ne of Qe)try{ge(Ne)}catch(Le){$=null!=$?$:[],Le instanceof L?$=[...$,...Le.errors]:$.push(Le)}}if($)throw new L($)}}add($){var z;if($&&$!==this)if(this.closed)ge($);else{if($ instanceof ne){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,ce.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,ce.P)(z,$),$ instanceof ne&&$._removeParent(this)}}ne.EMPTY=(()=>{const he=new ne;return he.closed=!0,he})();const ye=ne.EMPTY;function ie(he){return he instanceof ne||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function ge(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(pt,Ie,F)=>{F.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ie,F)=>{F.d(Ie,{E:()=>X});const X=new(F(8306).y)(ne=>ne.complete())},8996:(pt,Ie,F)=>{F.d(Ie,{D:()=>Ee});var c=F(8421),X=F(5363),L=F(9468),ye=F(8306),ge=F(2202),he=F(576),$=F(9672);function te(De,Ye){if(!De)throw new Error("Iterable cannot be null");return new ye.y(Ke=>{(0,$.f)(Ke,Ye,()=>{const se=De[Symbol.asyncIterator]();(0,$.f)(Ke,Ye,()=>{se.next().then(J=>{J.done?Ke.complete():Ke.next(J.value)})},0,!0)})})}var Qe=F(3670),Ne=F(8239),Le=F(1144),Ge=F(6495),me=F(2206),Ce=F(4532),at=F(3260);function Ee(De,Ye){return Ye?function Me(De,Ye){if(null!=De){if((0,Qe.c)(De))return function ce(De,Ye){return(0,c.Xf)(De).pipe((0,L.R)(Ye),(0,X.Q)(Ye))}(De,Ye);if((0,Le.z)(De))return function ie(De,Ye){return new ye.y(Ke=>{let se=0;return Ye.schedule(function(){se===De.length?Ke.complete():(Ke.next(De[se++]),Ke.closed||this.schedule())})})}(De,Ye);if((0,Ne.t)(De))return function ne(De,Ye){return(0,c.Xf)(De).pipe((0,L.R)(Ye),(0,X.Q)(Ye))}(De,Ye);if((0,me.D)(De))return te(De,Ye);if((0,Ge.T)(De))return function z(De,Ye){return new ye.y(Ke=>{let se;return(0,$.f)(Ke,Ye,()=>{se=De[ge.h](),(0,$.f)(Ke,Ye,()=>{let J,oe;try{({value:J,done:oe}=se.next())}catch(ve){return void Ke.error(ve)}oe?Ke.complete():Ke.next(J)},0,!0)}),()=>(0,he.m)(null==se?void 0:se.return)&&se.return()})}(De,Ye);if((0,at.L)(De))return function tt(De,Ye){return te((0,at.Q)(De),Ye)}(De,Ye)}throw(0,Ce.z)(De)}(De,Ye):(0,c.Xf)(De)}},8421:(pt,Ie,F)=>{F.d(Ie,{Xf:()=>Qe});var c=F(655),X=F(1144),L=F(8239),ce=F(8306),ne=F(3670),ye=F(2206),ie=F(4532),ge=F(6495),he=F(3260),$=F(576),z=F(7849),te=F(8822);function Qe(Me){if(Me instanceof ce.y)return Me;if(null!=Me){if((0,ne.c)(Me))return function Ne(Me){return new ce.y(Ee=>{const De=Me[te.L]();if((0,$.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,X.z)(Me))return function Le(Me){return new ce.y(Ee=>{for(let De=0;De<Me.length&&!Ee.closed;De++)Ee.next(Me[De]);Ee.complete()})}(Me);if((0,L.t)(Me))return function Ge(Me){return new ce.y(Ee=>{Me.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,z.h)})}(Me);if((0,ye.D)(Me))return Ce(Me);if((0,ge.T)(Me))return function me(Me){return new ce.y(Ee=>{for(const De of Me)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Me);if((0,he.L)(Me))return function at(Me){return Ce((0,he.Q)(Me))}(Me)}throw(0,ie.z)(Me)}function Ce(Me){return new ce.y(Ee=>{(function tt(Me,Ee){var De,Ye,Ke,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Me);!(Ye=yield De.next()).done;)if(Ee.next(Ye.value),Ee.closed)return}catch(J){Ke={error:J}}finally{try{Ye&&!Ye.done&&(se=De.return)&&(yield se.call(De))}finally{if(Ke)throw Ke.error}}Ee.complete()})})(Me,Ee).catch(De=>Ee.error(De))})}},6451:(pt,Ie,F)=>{F.d(Ie,{T:()=>ye});var c=F(8189),X=F(8421),L=F(515),ce=F(3269),ne=F(8996);function ye(...ie){const ge=(0,ce.yG)(ie),he=(0,ce._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,X.Xf)($[0]):(0,c.J)(he)((0,ne.D)($,ge)):L.E}},5403:(pt,Ie,F)=>{F.d(Ie,{x:()=>X});var c=F(930);function X(ce,ne,ye,ie,ge){return new L(ce,ne,ye,ie,ge)}class L extends c.Lv{constructor(ne,ye,ie,ge,he,$){super(ne),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=ye?function(z){try{ye(z)}catch(te){ne.error(te)}}:super._next,this._error=ge?function(z){try{ge(z)}catch(te){ne.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){ne.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(pt,Ie,F)=>{F.d(Ie,{U:()=>L});var c=F(4482),X=F(5403);function L(ce,ne){return(0,c.e)((ye,ie)=>{let ge=0;ye.subscribe((0,X.x)(ie,he=>{ie.next(ce.call(ne,he,ge++))}))})}},8189:(pt,Ie,F)=>{F.d(Ie,{J:()=>L});var c=F(5577),X=F(4671);function L(ce=1/0){return(0,c.z)(X.y,ce)}},5577:(pt,Ie,F)=>{F.d(Ie,{z:()=>ge});var c=F(4004),X=F(8421),L=F(4482),ce=F(9672),ne=F(5403),ie=F(576);function ge(he,$,z=1/0){return(0,ie.m)($)?ge((te,Qe)=>(0,c.U)((Ne,Le)=>$(te,Ne,Qe,Le))((0,X.Xf)(he(te,Qe))),z):("number"==typeof $&&(z=$),(0,L.e)((te,Qe)=>function ye(he,$,z,te,Qe,Ne,Le,Ge){const me=[];let Ce=0,at=0,tt=!1;const Me=()=>{tt&&!me.length&&!Ce&&$.complete()},Ee=Ye=>Ce<te?De(Ye):me.push(Ye),De=Ye=>{Ne&&$.next(Ye),Ce++;let Ke=!1;(0,X.Xf)(z(Ye,at++)).subscribe((0,ne.x)($,se=>{null==Qe||Qe(se),Ne?Ee(se):$.next(se)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(Ce--;me.length&&Ce<te;){const se=me.shift();Le?(0,ce.f)($,Le,()=>De(se)):De(se)}Me()}catch(se){$.error(se)}}))};return he.subscribe((0,ne.x)($,Ee,()=>{tt=!0,Me()})),()=>{null==Ge||Ge()}}(te,Qe,he,z)))}},5363:(pt,Ie,F)=>{F.d(Ie,{Q:()=>ce});var c=F(9672),X=F(4482),L=F(5403);function ce(ne,ye=0){return(0,X.e)((ie,ge)=>{ie.subscribe((0,L.x)(ge,he=>(0,c.f)(ge,ne,()=>ge.next(he),ye),()=>(0,c.f)(ge,ne,()=>ge.complete(),ye),he=>(0,c.f)(ge,ne,()=>ge.error(he),ye)))})}},3099:(pt,Ie,F)=>{F.d(Ie,{B:()=>ye});var c=F(8996),X=F(5698),L=F(7579),ce=F(930),ne=F(4482);function ye(ge={}){const{connector:he=(()=>new L.x),resetOnError:$=!0,resetOnComplete:z=!0,resetOnRefCountZero:te=!0}=ge;return Qe=>{let Ne=null,Le=null,Ge=null,me=0,Ce=!1,at=!1;const tt=()=>{null==Le||Le.unsubscribe(),Le=null},Me=()=>{tt(),Ne=Ge=null,Ce=at=!1},Ee=()=>{const De=Ne;Me(),null==De||De.unsubscribe()};return(0,ne.e)((De,Ye)=>{me++,!at&&!Ce&&tt();const Ke=Ge=null!=Ge?Ge:he();Ye.add(()=>{me--,0===me&&!at&&!Ce&&(Le=ie(Ee,te))}),Ke.subscribe(Ye),Ne||(Ne=new ce.Hp({next:se=>Ke.next(se),error:se=>{at=!0,tt(),Le=ie(Me,$,se),Ke.error(se)},complete:()=>{Ce=!0,tt(),Le=ie(Me,z),Ke.complete()}}),(0,c.D)(De).subscribe(Ne))})(Qe)}}function ie(ge,he,...$){return!0===he?(ge(),null):!1===he?null:he(...$).pipe((0,X.q)(1)).subscribe(()=>ge())}},9468:(pt,Ie,F)=>{F.d(Ie,{R:()=>X});var c=F(4482);function X(L,ce=0){return(0,c.e)((ne,ye)=>{ye.add(L.schedule(()=>ne.subscribe(ye),ce))})}},5698:(pt,Ie,F)=>{F.d(Ie,{q:()=>ce});var c=F(515),X=F(4482),L=F(5403);function ce(ne){return ne<=0?()=>c.E:(0,X.e)((ye,ie)=>{let ge=0;ye.subscribe((0,L.x)(ie,he=>{++ge<=ne&&(ie.next(he),ne<=ge&&ie.complete())}))})}},8505:(pt,Ie,F)=>{F.d(Ie,{b:()=>ne});var c=F(576),X=F(4482),L=F(5403),ce=F(4671);function ne(ye,ie,ge){const he=(0,c.m)(ye)||ie||ge?{next:ye,error:ie,complete:ge}:ye;return he?(0,X.e)(($,z)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let Qe=!0;$.subscribe((0,L.x)(z,Ne=>{var Le;null===(Le=he.next)||void 0===Le||Le.call(he,Ne),z.next(Ne)},()=>{var Ne;Qe=!1,null===(Ne=he.complete)||void 0===Ne||Ne.call(he),z.complete()},Ne=>{var Le;Qe=!1,null===(Le=he.error)||void 0===Le||Le.call(he,Ne),z.error(Ne)},()=>{var Ne,Le;Qe&&(null===(Ne=he.unsubscribe)||void 0===Ne||Ne.call(he)),null===(Le=he.finalize)||void 0===Le||Le.call(he)}))}):ce.y}},4408:(pt,Ie,F)=>{F.d(Ie,{o:()=>ne});var c=F(727);class X extends c.w0{constructor(ie,ge){super()}schedule(ie,ge=0){return this}}const L={setInterval(ye,ie,...ge){const{delegate:he}=L;return(null==he?void 0:he.setInterval)?he.setInterval(ye,ie,...ge):setInterval(ye,ie,...ge)},clearInterval(ye){const{delegate:ie}=L;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ye)},delegate:void 0};var ce=F(8737);class ne extends X{constructor(ie,ge){super(ie,ge),this.scheduler=ie,this.work=ge,this.pending=!1}schedule(ie,ge=0){if(this.closed)return this;this.state=ie;const he=this.id,$=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId($,he,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId($,this.id,ge),this}requestAsyncId(ie,ge,he=0){return L.setInterval(ie.flush.bind(ie,this),he)}recycleAsyncId(ie,ge,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ge;L.clearInterval(ge)}execute(ie,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ie,ge);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ge){let $,he=!1;try{this.work(ie)}catch(z){he=!0,$=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ge}=this,{actions:he}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(he,this),null!=ie&&(this.id=this.recycleAsyncId(ge,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ie,F)=>{F.d(Ie,{v:()=>L});var c=F(6063);class X{constructor(ne,ye=X.now){this.schedulerActionCtor=ne,this.now=ye}schedule(ne,ye=0,ie){return new this.schedulerActionCtor(this,ne).schedule(ie,ye)}}X.now=c.l.now;class L extends X{constructor(ne,ye=X.now){super(ne,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ye}=this;if(this._active)return void ye.push(ne);let ie;this._active=!0;do{if(ie=ne.execute(ne.state,ne.delay))break}while(ne=ye.shift());if(this._active=!1,ie){for(;ne=ye.shift();)ne.unsubscribe();throw ie}}}},4986:(pt,Ie,F)=>{F.d(Ie,{P:()=>ce,z:()=>L});var c=F(4408);const L=new(F(7565).v)(c.o),ce=L},6063:(pt,Ie,F)=>{F.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(pt,Ie,F)=>{F.d(Ie,{z:()=>c});const c={setTimeout(X,L,...ce){const{delegate:ne}=c;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(X,L,...ce):setTimeout(X,L,...ce)},clearTimeout(X){const{delegate:L}=c;return((null==L?void 0:L.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(pt,Ie,F)=>{F.d(Ie,{h:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ie,F)=>{F.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Ie,F)=>{F.d(Ie,{_6:()=>ye,jO:()=>ce,yG:()=>ne});var c=F(576),X=F(3532);function L(ie){return ie[ie.length-1]}function ce(ie){return(0,c.m)(L(ie))?ie.pop():void 0}function ne(ie){return(0,X.K)(L(ie))?ie.pop():void 0}function ye(ie,ge){return"number"==typeof L(ie)?ie.pop():ge}},8737:(pt,Ie,F)=>{function c(X,L){if(X){const ce=X.indexOf(L);0<=ce&&X.splice(ce,1)}}F.d(Ie,{P:()=>c})},3888:(pt,Ie,F)=>{function c(X){const ce=X(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(Ie,{d:()=>c})},2806:(pt,Ie,F)=>{F.d(Ie,{O:()=>ce,x:()=>L});var c=F(2416);let X=null;function L(ne){if(c.v.useDeprecatedSynchronousErrorHandling){const ye=!X;if(ye&&(X={errorThrown:!1,error:null}),ne(),ye){const{errorThrown:ie,error:ge}=X;if(X=null,ie)throw ge}}else ne()}function ce(ne){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ne)}},9672:(pt,Ie,F)=>{function c(X,L,ce,ne=0,ye=!1){const ie=L.schedule(function(){ce(),ye?X.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(X.add(ie),!ye)return ie}F.d(Ie,{f:()=>c})},4671:(pt,Ie,F)=>{function c(X){return X}F.d(Ie,{y:()=>c})},1144:(pt,Ie,F)=>{F.d(Ie,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(pt,Ie,F)=>{F.d(Ie,{D:()=>X});var c=F(576);function X(L){return Symbol.asyncIterator&&(0,c.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(pt,Ie,F)=>{function c(X){return"function"==typeof X}F.d(Ie,{m:()=>c})},3670:(pt,Ie,F)=>{F.d(Ie,{c:()=>L});var c=F(8822),X=F(576);function L(ce){return(0,X.m)(ce[c.L])}},6495:(pt,Ie,F)=>{F.d(Ie,{T:()=>L});var c=F(2202),X=F(576);function L(ce){return(0,X.m)(null==ce?void 0:ce[c.h])}},8239:(pt,Ie,F)=>{F.d(Ie,{t:()=>X});var c=F(576);function X(L){return(0,c.m)(null==L?void 0:L.then)}},3260:(pt,Ie,F)=>{F.d(Ie,{L:()=>ce,Q:()=>L});var c=F(655),X=F(576);function L(ne){return(0,c.FC)(this,arguments,function*(){const ie=ne.getReader();try{for(;;){const{value:ge,done:he}=yield(0,c.qq)(ie.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ge)}}finally{ie.releaseLock()}})}function ce(ne){return(0,X.m)(null==ne?void 0:ne.getReader)}},3532:(pt,Ie,F)=>{F.d(Ie,{K:()=>X});var c=F(576);function X(L){return L&&(0,c.m)(L.schedule)}},4482:(pt,Ie,F)=>{F.d(Ie,{A:()=>X,e:()=>L});var c=F(576);function X(ce){return(0,c.m)(null==ce?void 0:ce.lift)}function L(ce){return ne=>{if(X(ne))return ne.lift(function(ye){try{return ce(ye,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Ie,F)=>{function c(){}F.d(Ie,{Z:()=>c})},7849:(pt,Ie,F)=>{F.d(Ie,{h:()=>L});var c=F(2416),X=F(3410);function L(ce){X.z.setTimeout(()=>{const{onUnhandledError:ne}=c.v;if(!ne)throw ce;ne(ce)})}},4532:(pt,Ie,F)=>{function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>c})},655:(pt,Ie,F)=>{function ce(J,oe){var ve={};for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&oe.indexOf(ae)<0&&(ve[ae]=J[ae]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ae=Object.getOwnPropertySymbols(J);Fe<ae.length;Fe++)oe.indexOf(ae[Fe])<0&&Object.prototype.propertyIsEnumerable.call(J,ae[Fe])&&(ve[ae[Fe]]=J[ae[Fe]])}return ve}function ge(J,oe,ve,ae){return new(ve||(ve=Promise))(function(ue,Ot){function sn(Tt){try{_t(ae.next(Tt))}catch(yn){Ot(yn)}}function Zn(Tt){try{_t(ae.throw(Tt))}catch(yn){Ot(yn)}}function _t(Tt){Tt.done?ue(Tt.value):function Fe(ue){return ue instanceof ve?ue:new ve(function(Ot){Ot(ue)})}(Tt.value).then(sn,Zn)}_t((ae=ae.apply(J,oe||[])).next())})}function me(J){return this instanceof me?(this.v=J,this):new me(J)}function Ce(J,oe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ae=ve.apply(J,oe||[]),ue=[];return Fe={},Ot("next"),Ot("throw"),Ot("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ot(vn){ae[vn]&&(Fe[vn]=function(Lr){return new Promise(function(fn,_s){ue.push([vn,Lr,fn,_s])>1||sn(vn,Lr)})})}function sn(vn,Lr){try{!function Zn(vn){vn.value instanceof me?Promise.resolve(vn.value.v).then(_t,Tt):yn(ue[0][2],vn)}(ae[vn](Lr))}catch(fn){yn(ue[0][3],fn)}}function _t(vn){sn("next",vn)}function Tt(vn){sn("throw",vn)}function yn(vn,Lr){vn(Lr),ue.shift(),ue.length&&sn(ue[0][0],ue[0][1])}}function tt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,oe=J[Symbol.asyncIterator];return oe?oe.call(J):(J=function te(J){var oe="function"==typeof Symbol&&Symbol.iterator,ve=oe&&J[oe],ae=0;if(ve)return ve.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ae>=J.length&&(J=void 0),{value:J&&J[ae++],done:!J}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ve={},ae("next"),ae("throw"),ae("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ae(ue){ve[ue]=J[ue]&&function(Ot){return new Promise(function(sn,Zn){!function Fe(ue,Ot,sn,Zn){Promise.resolve(Zn).then(function(_t){ue({value:_t,done:sn})},Ot)}(sn,Zn,(Ot=J[ue](Ot)).done,Ot.value)})}}}F.d(Ie,{FC:()=>Ce,KL:()=>tt,_T:()=>ce,mG:()=>ge,qq:()=>me})},5e3:(pt,Ie,F)=>{F.d(Ie,{$8M:()=>Ln,$Z:()=>Ic,AFp:()=>uC,ALo:()=>RD,AaK:()=>ge,CHM:()=>Qc,CRH:()=>j_,CZH:()=>_g,CqO:()=>Fh,DdM:()=>k_,EJc:()=>uf,EiD:()=>ku,EpF:()=>Mc,F$t:()=>xc,F4k:()=>r0,FYo:()=>M_,FiY:()=>Or,G48:()=>Ib,Gf:()=>$D,GfV:()=>H0,Gpc:()=>z,Hsn:()=>Jo,Ikx:()=>ud,JOm:()=>le,JVY:()=>Uf,L6k:()=>ah,LAX:()=>fm,LFG:()=>rt,LSH:()=>pc,Lbi:()=>Q_,MAs:()=>xE,MGl:()=>Qo,NdJ:()=>s0,OlP:()=>Hn,Oqu:()=>Wp,PXZ:()=>lI,Q6J:()=>o_,QGY:()=>Gp,Qsj:()=>j0,QtT:()=>ig,R0b:()=>sa,RDi:()=>Cs,Rgc:()=>bd,SBq:()=>Pa,SDv:()=>L0,Sil:()=>nI,Suo:()=>zD,TTD:()=>Ao,TgZ:()=>a_,Tol:()=>or,Udp:()=>g0,VKq:()=>q0,VLi:()=>oI,W1O:()=>KD,WFA:()=>Yo,WLB:()=>Al,X6Q:()=>vC,XFs:()=>vt,Xpm:()=>$t,Y36:()=>Ph,YKP:()=>og,YNc:()=>Qv,Yjl:()=>ki,Yz7:()=>fn,ZZ4:()=>Sg,_Bn:()=>I_,_UZ:()=>Ac,_Vd:()=>fd,_c5:()=>pf,_uU:()=>g_,aQg:()=>ff,c2e:()=>Dd,cJS:()=>on,cg1:()=>T0,d8E:()=>El,dDg:()=>yb,deG:()=>om,dqk:()=>Kt,eBb:()=>hm,eFA:()=>Eb,ekj:()=>sd,evT:()=>op,f3M:()=>Vt,g9A:()=>db,h0i:()=>Pc,hGG:()=>jb,hij:()=>wl,iGM:()=>U_,ifc:()=>Xt,ip1:()=>cC,kEZ:()=>_d,kL8:()=>rn,lG2:()=>nn,lcZ:()=>Z0,mCW:()=>ol,n5z:()=>Jd,n_E:()=>rf,oAB:()=>ee,oxw:()=>a0,pB0:()=>lh,pQV:()=>pe,q3G:()=>an,q4F:()=>x_,qLn:()=>ji,qOj:()=>zv,qZA:()=>vi,qzn:()=>Go,s9C:()=>td,sBO:()=>Ab,sIi:()=>Fs,s_b:()=>sf,soG:()=>vg,tBr:()=>Ji,tb:()=>X_,tp0:()=>Vo,uIk:()=>Nh,vHH:()=>Le,vpe:()=>La,wAp:()=>yt,xp6:()=>hp,yhl:()=>sl,z2F:()=>Cg,z3N:()=>ks,zSh:()=>Vv,zs3:()=>Zo});var c=F(7579),X=F(727),L=F(8306),ce=F(6451),ne=F(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ye({__forward_ref__:ye});function z(s){return s.__forward_ref__=z,s.toString=function(){return ge(this())},s}function te(s){return Qe(s)?s():s}function Qe(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Le extends Error{constructor(o,l){super(function Ge(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function Ee(s,o){const l=o?` in ${o}`:"";throw new Le(-201,`No provider for ${Ce(s)} found${l}`)}function Tt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return Di(s,ns)||Di(s,ys)}function Di(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ki(s){return s&&(s.hasOwnProperty(Yi)||s.hasOwnProperty(vs))?s[Yi]:null}const ns=ye({\u0275prov:ye}),Yi=ye({\u0275inj:ye}),ys=ye({ngInjectableDef:ye}),vs=ye({ngInjectorDef:ye});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let dr;function ai(s){const o=dr;return dr=s,o}function Dr(s,o,l){const d=Qt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&vt.Optional?null:void 0!==o?o:void Ee(ge(s),"Injector")}function In(s){return{toString:s}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),Xt=(()=>{return(s=Xt||(Xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Xt;var s})();const ft="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Ci="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=ft||"undefined"!=typeof global&&global||Mt||Ci,Ti={},bt=[],Oi=ye({\u0275cmp:ye}),qt=ye({\u0275dir:ye}),nt=ye({\u0275pipe:ye}),xe=ye({\u0275mod:ye}),st=ye({\u0275fac:ye}),wt=ye({__NG_ELEMENT_ID__:ye});let Wt=0;function $t(s){return In(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Xt.Emulated,id:"c",styles:s.styles||bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,y=s.pipes;return d.id+=Wt++,d.inputs=St(s.inputs,l),d.outputs=St(s.outputs),g&&g.forEach(E=>E(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(U):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(q):null,d})}function U(s){return en(s)||function Vn(s){return s[qt]||null}(s)}function q(s){return function jt(s){return s[nt]||null}(s)}const fe={};function ee(s){return In(()=>{const o={type:s.type,bootstrap:s.bootstrap||bt,declarations:s.declarations||bt,imports:s.imports||bt,exports:s.exports||bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),o})}function St(s,o){if(null==s)return Ti;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const nn=$t;function ki(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[Oi]||null}function wn(s,o){const l=s[xe]||null;if(!l&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return l}function Br(s){return Array.isArray(s)&&"object"==typeof s[1]}function Tr(s){return Array.isArray(s)&&!0===s[1]}function kd(s){return 0!=(8&s.flags)}function to(s){return 2==(2&s.flags)}function jl(s){return 1==(1&s.flags)}function hr(s){return null!==s.template}function Rd(s){return 0!=(512&s[2])}function fr(s,o){return s.hasOwnProperty(st)?s[st]:null}class ha{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ao(){return Ya}function Ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=im),Bd}function Bd(){const s=ro(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Ti)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function im(s,o,l,d){const h=ro(s)||function Sr(s,o){return s[Qn]=o}(s,{previous:Ti,current:null}),g=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[l],D=y[E];g[E]=new ha(D&&D.currentValue,o,y===Ti),s[d]=o}Ao.ngInherit=!0;const Qn="__ngSimpleChanges__";function ro(s){return s[Qn]||null}let Kl;function Cs(s){Kl=s}function Ja(){return void 0!==Kl?Kl:"undefined"!=typeof document?document:void 0}function Sn(s){return!!s.listen}const fa={createRenderer:(s,o)=>Ja()};function mn(s){for(;Array.isArray(s);)s=s[0];return s}function xo(s,o){return mn(o[s])}function Pi(s,o){return mn(o[s.index])}function Qa(s,o){return s.data[o]}function Vr(s,o){return s[o]}function Fi(s,o){const l=o[s];return Br(l)?l:l[0]}function oo(s){return 4==(4&s[2])}function Ts(s){return 128==(128&s[2])}function pr(s,o){return null==o?null:s[o]}function ao(s){s[18]=0}function lo(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Et={lFrame:Oo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ec(){return Et.bindingsEnabled}function Te(){return Et.lFrame.lView}function zt(){return Et.lFrame.tView}function Qc(s){return Et.lFrame.contextLView=s,s[8]}function An(){let s=pa();for(;null!==s&&64===s.type;)s=s.parent;return s}function pa(){return Et.lFrame.currentTNode}function ga(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function gr(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function Xc(){return Et.lFrame.isParent}function eu(){Et.lFrame.isParent=!1}function tc(){return Et.isInCheckNoChangesMode}function co(s){Et.isInCheckNoChangesMode=s}function Ai(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function uo(){return Et.lFrame.bindingIndex++}function Ur(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ic(s){Et.lFrame.inI18n=s}function rc(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,el(o)}function el(s){Et.lFrame.currentDirectiveIndex=s}function ma(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ru(){return Et.lFrame.currentQueryIndex}function su(s){Et.lFrame.currentQueryIndex=s}function Hd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ou(s,o,l){if(l&vt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&vt.Host||(h=Hd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=Gd();return d.currentTNode=o,d.lView=s,!0}function No(s){const o=Gd(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Gd(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Oo(s):o}function Oo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function $d(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zd=$d;function ko(){const s=$d();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Li(){return Et.lFrame.selectedIndex}function fo(s){Et.lFrame.selectedIndex=s}function Un(){const s=Et.lFrame;return Qa(s.tView,s.selectedIndex)}function Ss(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:N}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(l,N)}}function tl(s,o,l){qd(s,o,3,l)}function sc(s,o,l,d){(3&s[2])===l&&qd(s,o,l,d)}function ii(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function qd(s,o,l,d){const g=null!=d?d:-1,y=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(rm(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function rm(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class _a{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ut(s,o,l){const d=Sn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const y=l[h++],E=l[h++],D=l[h++];d?s.setAttribute(o,E,D,y):o.setAttributeNS(y,E,D)}else{const y=g,E=l[++h];Mn(y)?d&&s.setProperty(o,y,E):d?s.setAttribute(o,y,E):o.setAttribute(y,E),h++}}return h}function Bt(s){return 3===s||4===s||6===s}function Mn(s){return 64===s.charCodeAt(0)}function jn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ya(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ya(s,o,l,d,h){let g=0,y=s.length;if(-1===o)y=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,o),g=y+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Kd(s){return-1!==s}function Dn(s){return 32767&s}function jr(s,o){let l=function kf(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let oc=!0;function mr(s){const o=oc;return oc=s,o}let fu=0;function _n(s,o){const l=po(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,As(d.data,s),As(o,null),As(d.blueprint,null));const h=Ar(s,o),g=s.injectorIndex;if(Kd(h)){const y=Dn(h),E=jr(h,o),D=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[y+M]|D[y+M]}return o[g+8]=h,g}function As(s,o){s.push(0,0,0,0,0,0,0,0,o)}function po(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ar(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const g=h[1],y=g.type;if(d=2===y?g.declTNode:1===y?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function go(s,o,l){!function Ro(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(wt)&&(d=l[wt]),null==d&&(d=l[wt]=fu++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Hr(s,o,l){if(l&vt.Optional)return s;Ee(o,"NodeInjector")}function pu(s,o,l,d){if(l&vt.Optional&&void 0===d&&(d=null),0==(l&(vt.Self|vt.Host))){const h=s[9],g=ai(void 0);try{return h?h.get(o,d,l&vt.Optional):Dr(o,d,l&vt.Optional)}finally{ai(g)}}return Hr(d,o,l)}function mo(s,o,l,d=vt.Default,h){if(null!==s){const g=function _o(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(wt)?s[wt]:void 0;return"number"==typeof o?o>=0?255&o:gu:o}(l);if("function"==typeof g){if(!ou(o,s,d))return d&vt.Host?Hr(h,l,d):pu(o,l,d,h);try{const y=g(d);if(null!=y||d&vt.Optional)return y;Ee(l)}finally{zd()}}else if("number"==typeof g){let y=null,E=po(s,o),D=-1,M=d&vt.Host?o[16][6]:null;for((-1===E||d&vt.SkipSelf)&&(D=-1===E?Ar(s,o):o[E+8],-1!==D&&ri(d,!1)?(y=o[1],E=Dn(D),o=jr(D,o)):E=-1);-1!==E;){const N=o[1];if(Po(g,E,N.data)){const P=ac(E,o,l,y,d,M);if(P!==as)return P}D=o[E+8],-1!==D&&ri(d,o[1].data[E+8]===M)&&Po(g,E,o)?(y=N,E=Dn(D),o=jr(D,o)):E=-1}}}return pu(o,l,d,h)}const as={};function gu(){return new $r(An(),Te())}function ac(s,o,l,d,h,g){const y=o[1],E=y.data[s+8],N=_r(E,y,l,null==d?to(E)&&oc:d!=y&&0!=(3&E.type),h&vt.Host&&g===E);return null!==N?Gr(o,y,N,E):as}function _r(s,o,l,d,h){const g=s.providerIndexes,y=o.data,E=1048575&g,D=s.directiveStart,N=g>>20,j=h?E+N:s.directiveEnd;for(let Y=d?E:E+N;Y<j;Y++){const be=y[Y];if(Y<D&&l===be||Y>=D&&be.type===l)return Y}if(h){const Y=y[D];if(Y&&hr(Y)&&Y.type===l)return D}return null}function Gr(s,o,l,d){let h=s[l];const g=o.data;if(function Wd(s){return s instanceof _a}(h)){const y=h;y.resolving&&function at(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ce(g[l]));const E=mr(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?ai(y.injectImpl):null;ou(s,d,vt.Default);try{h=s[l]=y.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function cu(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const y=Ya(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&ai(D),mr(E),y.resolving=!1,zd()}}return h}function Po(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ri(s,o){return!(s&vt.Self||s&vt.Host&&o)}class $r{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return mo(this._tNode,this._lView,o,d,l)}}function Jd(s){return In(()=>{const o=s.prototype.constructor,l=o[st]||Fn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[st]||Fn(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Fn(s){return Qe(s)?()=>{const o=Fn(te(s));return o&&o()}:fr(s)}function Ln(s){return function Mr(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Bt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(An(),s)}const va="__parameters__";function Rn(s,o,l){return In(()=>{const d=function zr(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(D,M,N){const P=D.hasOwnProperty(va)?D[va]:Object.defineProperty(D,va,{value:[]})[va];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Hn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=fn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const om=new Hn("AnalyzeForEntryComponents");function Vi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Vi(d,o)):o!==s&&o.push(d)}return o}function xr(s,o){s.forEach(l=>Array.isArray(l)?xr(l,o):o(l))}function yu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ns(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qr(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function ui(s,o,l){let d=bo(s,o);return d>=0?s[1|d]=l:(d=~d,function vu(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Eu(s,o){const l=bo(s,o);if(l>=0)return s[1|l]}function bo(s,o){return function Fo(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<l];if(o===y)return g<<l;y>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const Lo={},wa="__NG_DI_FLAG__",dc="ngTempTokenPath",S=/\n/gm,V="__source",Q=ye({provide:String,useValue:ye});let re;function Oe(s){const o=re;return re=s,o}function ke(s,o=vt.Default){if(void 0===re)throw new Le(203,"");return null===re?Dr(s,void 0,o):re.get(s,o&vt.Optional?null:void 0,o)}function rt(s,o=vt.Default){return(function gi(){return dr}()||ke)(te(s),o)}const Vt=rt;function Rt(s){const o=[];for(let l=0;l<s.length;l++){const d=te(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,"");let h,g=vt.Default;for(let y=0;y<d.length;y++){const E=d[y],D=Gn(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(rt(h,g))}else o.push(rt(d))}return o}function si(s,o){return s[wa]=o,s.prototype[wa]=o,s}function Gn(s){return s[wa]}const Ji=si(Rn("Inject",s=>({token:s})),-1),Or=si(Rn("Optional"),8),Vo=si(Rn("SkipSelf"),4);let jo;function rl(s){var o;return(null===(o=function ih(){if(void 0===jo&&(jo=null,Kt.trustedTypes))try{jo=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return jo}())||void 0===o?void 0:o.createHTML(s))||s}class Ho{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bf extends Ho{getTypeName(){return"HTML"}}class ky extends Ho{getTypeName(){return"Style"}}class Iu extends Ho{getTypeName(){return"Script"}}class Vf extends Ho{getTypeName(){return"URL"}}class Ry extends Ho{getTypeName(){return"ResourceURL"}}function ks(s){return s instanceof Ho?s.changingThisBreaksApplicationSecurity:s}function Go(s,o){const l=sl(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function sl(s){return s instanceof Ho&&s.getTypeName()||null}function Uf(s){return new Bf(s)}function ah(s){return new ky(s)}function hm(s){return new Iu(s)}function fm(s){return new Vf(s)}function lh(s){return new Ry(s)}function pm(s){const o=new Fy(s);return function Ly(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch(s){return!1}}()?new Py(o):o}class Py{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(rl(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Fy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=rl(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=rl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const wo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ol(s){return(s=String(s)).match(wo)||s.match(jf)?s:"unsafe:"+s}function Hf(s){return(s=String(s)).split(",").map(o=>ol(o.trim())).join(", ")}function Zr(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Au(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const gm=Zr("area,br,col,hr,img,wbr"),ch=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uh=Zr("rp,rt"),Gf=Au(gm,Au(ch,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Au(uh,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Au(uh,ch)),$f=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zf=Zr("srcset"),Ca=Au($f,zf,Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),By=Zr("script,style,template");class xu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Gf.hasOwnProperty(l))return this.sanitizedSomething=!0,!By.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),y=g.name,E=y.toLowerCase();if(!Ca.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;$f[E]&&(D=ol(D)),zf[E]&&(D=Hf(D)),this.buf.push(" ",y,'="',Wf(D),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Gf.hasOwnProperty(l)&&!gm.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Wf(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qf=/([^\#-~ |!])/g;function Wf(s){return s.replace(/&/g,"&amp;").replace(Nu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(qf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ou;function ku(s,o){let l=null;try{Ou=Ou||pm(s);let d=o?String(o):"";l=Ou.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Ou.getInertBodyElement(d)}while(d!==g);return rl((new xu).sanitizeChildren(Zf(l)||l))}finally{if(l){const d=Zf(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Zf(s){return"content"in s&&function Kf(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var an=(()=>((an=an||{})[an.NONE=0]="NONE",an[an.HTML=1]="HTML",an[an.STYLE=2]="STYLE",an[an.SCRIPT=3]="SCRIPT",an[an.URL=4]="URL",an[an.RESOURCE_URL=5]="RESOURCE_URL",an))();function pc(s){const o=function Ta(){const s=Te();return s&&s[12]}();return o?o.sanitize(an.URL,s)||"":Go(s,"URL")?ks(s):ol(me(s))}const Jf="__ngContext__";function Qi(s,o){s[Jf]=o}function Qf(s){const o=function ll(s){return s[Jf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function dl(s){return s.ngOriginalError}function Em(s,...o){s.error(...o)}class ji{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function zy(s){return s&&s.ngErrorLogger||Em}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&dl(o);for(;l&&dl(l);)l=dl(l);return l||null}}const qy=/^>|^->|<!--|-->|--!>|<!-$/g,zo=/(<|>)/;const Ky=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function op(s){return s.ownerDocument}function m(s){return s instanceof Function?s():s}var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();let ze;function ot(s,o){return ze(s,o)}function $n(s){const o=s[3];return Tr(o)?o[3]:o}function gc(s){return ap(s[13])}function mc(s){return ap(s[4])}function ap(s){for(;null!==s&&!Tr(s);)s=s[4];return s}function Sa(s,o,l,d,h){if(null!=d){let g,y=!1;Tr(d)?g=d:Br(d)&&(y=!0,d=d[0]);const E=mn(d);0===s&&null!==l?null==h?nv(o,l,E):Rs(o,l,E,h||null,!0):1===s&&null!==l?Rs(o,l,E,h||null,!0):2===s?ov(o,E,y):3===s&&o.destroyNode(E),null!=g&&function hl(s,o,l,d,h){const g=l[7];g!==mn(l)&&Sa(o,s,d,g,h);for(let E=10;E<l.length;E++){const D=l[E];Sm(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function fh(s,o){return Sn(s)?s.createText(o):s.createTextNode(o)}function ph(s,o,l){Sn(s)?s.setValue(o,l):o.textContent=l}function lp(s,o){return s.createComment(function ip(s){return s.replace(qy,o=>o.replace(zo,"\u200b$1\u200b"))}(o))}function gh(s,o,l){if(Sn(s))return s.createElement(o,l);{const d=null!==l?function Zl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Pw(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,lo(h,-1)),l.splice(d,1)}function Xy(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&Pw(h,d),o>0&&(s[l-1][4]=d[4]);const g=Ns(s,10+o);!function Xi(s,o){Sm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ev(s,o){if(!(256&o[2])){const l=o[11];Sn(l)&&l.destroyNode&&Sm(s,o,l,3,null,null),function up(s){let o=s[13];if(!o)return tv(s[1],s);for(;o;){let l=null;if(Br(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Br(o)&&tv(o[1],o),o=o[3];null===o&&(o=s),Br(o)&&tv(o[1],o),l=o&&o[4]}o=l}}(o)}}function tv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Lw(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof _a)){const g=l[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],D=g[y+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Fw(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+1],E="function"==typeof y?y(o):mn(o[y]),D=d[h=l[g+2]],M=l[g+3];"boolean"==typeof M?E.removeEventListener(l[g],D,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),g+=2}else{const y=d[h=l[g+1]];l[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&Sn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Tr(o[3])){l!==o[3]&&Pw(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Cm(s,o,l){return cT(s,o.parent,l)}function cT(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Xt.None||h===Xt.Emulated)return null}return Pi(d,l)}function Rs(s,o,l,d,h){Sn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function nv(s,o,l){Sn(s)?s.appendChild(o,l):o.appendChild(l)}function Bw(s,o,l,d,h){null!==d?Rs(s,o,l,d,h):nv(s,o,l)}function dp(s,o){return Sn(s)?s.parentNode(o):o.parentNode}function Vw(s,o,l){return iv(s,o,l)}function Uw(s,o,l){return 40&s.type?Pi(s,l):null}let rv,iv=Uw;function jw(s,o){iv=s,rv=o}function Tm(s,o,l,d){const h=Cm(s,d,o),g=o[11],E=Vw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Bw(g,h,l[D],E,!1);else Bw(g,h,l,E,!1);void 0!==rv&&rv(g,d,o,l,h)}function _h(s,o){if(null!==o){const l=o.type;if(3&l)return Pi(o,s);if(4&l)return sv(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return _h(s,d);{const h=s[o.index];return Tr(h)?sv(-1,h):mn(h)}}if(32&l)return ot(o,s)()||mn(s[o.index]);{const d=Hw(s,o);return null!==d?Array.isArray(d)?d[0]:_h($n(s[16]),d):_h(s,o.next)}}return null}function Hw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function sv(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return _h(d,h)}return o[7]}function ov(s,o,l){const d=dp(s,o);d&&function uT(s,o,l,d){Sn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}function av(s,o,l,d,h,g,y){for(;null!=l;){const E=d[l.index],D=l.type;if(y&&0===o&&(E&&Qi(mn(E),d),l.flags|=4),64!=(64&l.flags))if(8&D)av(s,o,l.child,d,h,g,!1),Sa(o,s,h,E,g);else if(32&D){const M=ot(l,d);let N;for(;N=M();)Sa(o,s,h,N,g);Sa(o,s,h,E,g)}else 16&D?Gw(s,o,d,l,h,g):Sa(o,s,h,E,g);l=y?l.projectionNext:l.next}}function Sm(s,o,l,d,h,g){av(l,d,s.firstChild,o,h,g,!1)}function Gw(s,o,l,d,h,g){const y=l[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Sa(o,s,h,D[M],g);else av(s,o,D,y[3],h,g,!0)}function Vu(s,o,l){Sn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function lv(s,o,l){Sn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function $w(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const er="ng-template";function cv(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==$w(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Uu(s){return 4===s.type&&s.value!==er}function fT(s,o,l){return o===(4!==s.type||l?s.value:er)}function qo(s,o,l){let d=4;const h=s.attrs||[],g=function Am(s){for(let o=0;o<s.length;o++)if(Bt(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!fT(s,D,l)||""===D&&1===o.length){if(Ia(d))return!1;y=!0}}else{const M=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!cv(s.attrs,M,l)){if(Ia(d))return!1;y=!0}continue}const P=pT(8&d?"class":D,h,Uu(s),l);if(-1===P){if(Ia(d))return!1;y=!0;continue}if(""!==M){let j;j=P>g?"":h[P+1].toLowerCase();const Y=8&d?j:null;if(Y&&-1!==$w(Y,M,0)||2&d&&M!==j){if(Ia(d))return!1;y=!0}}}}else{if(!y&&!Ia(d)&&!Ia(D))return!1;if(y&&Ia(D))continue;y=!1,d=D|1&d}}return Ia(d)||y}function Ia(s){return 0==(1&s)}function pT(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function _c(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function we(s,o,l=!1){for(let d=0;d<o.length;d++)if(qo(s,o[d],l))return!0;return!1}function tn(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function zw(s,o){return s?":not("+o.trim()+")":o}function fl(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const E=s[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Ia(y)&&(o+=zw(g,h),h=""),d=y,g=g||!Ia(d);l++}return""!==h&&(o+=zw(g,h)),o}const He={};function hp(s){Mm(zt(),Te(),Li()+s,tc())}function Mm(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&tl(o,g,l)}else{const g=s.preOrderHooks;null!==g&&sc(o,g,0,l)}fo(l)}function xm(s,o){return s<<17|o<<2}function Ps(s){return s>>17&32767}function dv(s){return 2|s}function zn(s){return(131068&s)>>2}function vh(s,o){return-131069&s|o<<2}function Aa(s){return 1|s}function _p(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const y=s.data[g];su(h),y.contentQueries(2,o[g],g)}}}function Hu(s,o,l,d,h,g,y,E,D,M){const N=o.blueprint.slice();return N[0]=h,N[2]=140|d,ao(N),N[3]=N[15]=s,N[8]=l,N[10]=y||s&&s[10],N[11]=E||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=M||s&&s[9]||null,N[6]=g,N[16]=2==o.type?s[16]:N,N}function bc(s,o,l,d,h){let g=s.data[o];if(null===g)g=Pm(s,o,l,d,h),function nu(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const y=ga();g.injectorIndex=null===y?-1:y.injectorIndex}return gr(g,!0),g}function Pm(s,o,l,d,h){const g=pa(),y=Xc(),D=s.data[o]=function CT(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Gu(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function yp(s,o,l){No(o);try{const d=s.viewQuery;null!==d&&zm(1,d,l);const h=s.template;null!==h&&Fm(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&_p(s,o),s.staticViewQueries&&zm(2,s.viewQuery,l);const g=s.components;null!==g&&function Dv(s,o){for(let l=0;l<o.length;l++)dE(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ko()}}function $u(s,o,l,d){const h=o[2];if(256==(256&h))return;No(o);const g=tc();try{ao(o),function nc(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Fm(s,o,l,2,d);const y=3==(3&h);if(!g)if(y){const M=s.preOrderCheckHooks;null!==M&&tl(o,M,null)}else{const M=s.preOrderHooks;null!==M&&sc(o,M,0,null),ii(o,0)}if(function uE(s){for(let o=gc(s);null!==o;o=mc(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&lo(g,1),h[2]|=1024}}}(o),function Xr(s){for(let o=gc(s);null!==o;o=mc(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Ts(d)&&$u(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&_p(s,o),!g)if(y){const M=s.contentCheckHooks;null!==M&&tl(o,M)}else{const M=s.contentHooks;null!==M&&sc(o,M,1),ii(o,1)}!function Rm(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)fo(~h);else{const g=h,y=l[++d],E=l[++d];rc(y,g),E(2,o[g])}}}finally{fo(-1)}}(s,o);const E=s.components;null!==E&&function Ev(s,o){for(let l=0;l<o.length;l++)Dp(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&zm(2,D,d),!g)if(y){const M=s.viewCheckHooks;null!==M&&tl(o,M)}else{const M=s.viewHooks;null!==M&&sc(o,M,2),ii(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,lo(o[3],-1))}finally{ko()}}function nE(s,o,l,d){const h=o[10],g=!tc(),y=oo(o);try{g&&!y&&h.begin&&h.begin(),y&&yp(s,o,d),$u(s,o,l,d)}finally{g&&!y&&h.end&&h.end()}}function Fm(s,o,l,d,h){const g=Li(),y=2&d;try{fo(-1),y&&o.length>20&&Mm(s,o,20,tc()),l(d,h)}finally{fo(g)}}function Tv(s,o,l){!ec()||(function wp(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||_n(l,o),Qi(d,o);const y=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],M=hr(D);M&&OT(o,l,D);const N=Gr(o,s,E,l);Qi(N,o),null!==y&&Um(0,E-h,N,D,0,y),M&&(Fi(l.index,o)[8]=N)}}(s,o,l,Pi(l,o)),128==(128&l.flags)&&function oE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,y=l.index,E=function iu(){return Et.lFrame.currentDirectiveIndex}();try{fo(y);for(let D=d;D<h;D++){const M=s.data[D],N=o[D];el(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Ov(M,N)}}finally{fo(-1),el(E)}}(s,o,l))}function vp(s,o,l=Pi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],E=-1===y?l(o,s):s[y];s[h++]=E}}}function Lm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Eh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Eh(s,o,l,d,h,g,y,E,D,M){const N=20+d,P=N+h,j=function ir(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:He);return l}(N,P),Y="function"==typeof M?M():M;return j[1]={type:s,blueprint:j,template:l,queries:null,viewQuery:E,declTNode:o,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Y,incompleteFirstPass:!1}}function iE(s,o,l,d){const h=Mp(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&qm(s).push(d,h.length-1))}function Iv(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Qr(s,o,l,d,h,g,y,E){const D=Pi(o,l);let N,M=o.inputs;!E&&null!=M&&(N=M[d])?(Bv(s,l,N,d,h),to(o)&&function Av(s,o){const l=Fi(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function ST(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Sn(g)?g.setProperty(D,d,h):Mn(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function bp(s,o,l,d){let h=!1;if(ec()){const g=function aE(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];we(l,y.selectors,!1)&&(h||(h=[]),go(_n(l,o),s,y.type),hr(y)?(Ep(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==g){h=!0,zu(l,s.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let E=!1,D=!1,M=Gu(s,o,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];l.mergedAttrs=jn(l.mergedAttrs,P.hostAttrs),lE(s,l,o,M,P),NT(M,P,y),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const j=P.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),M++}!function TT(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,y=[];let E=null,D=null;for(let M=o.directiveStart;M<d;M++){const N=h[M],P=N.inputs,j=null===g||Uu(o)?null:cE(P,g);y.push(j),E=Iv(P,M,E),D=Iv(N.outputs,M,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=E,o.outputs=D}(s,l)}y&&function xT(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Le(-301,!1);d.push(o[h],g)}}}(l,d,y)}return l.mergedAttrs=jn(l.mergedAttrs,l.attrs),h}function Nv(s,o,l,d,h,g){const y=g.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function MT(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(d,h,y)}}function Ov(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ep(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function NT(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;hr(o)&&(l[""]=s)}}function zu(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function lE(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=fr(h.type)),y=new _a(g,hr(h),null);s.blueprint[d]=y,l[d]=y,Nv(s,o,0,d,Gu(s,l,h.hostVars,He),h)}function OT(s,o,l){const d=Pi(o,s),h=Lm(l),g=s[10],y=Cp(s,Hu(s,h,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=y}function Vm(s,o,l,d,h,g,y){if(null==g)Sn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==y?me(g):y(g,d||"",h);Sn(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}function Um(s,o,l,d,h,g){const y=g[o];if(null!==y){const E=d.setInput;for(let D=0;D<y.length;){const M=y[D++],N=y[D++],P=y[D++];null!==E?d.setInput(l,P,M,N):l[N]=P}}}function cE(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function kv(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function Dp(s,o){const l=Fi(o,s);if(Ts(l)){const d=l[1];80&l[2]?$u(d,l,d.template,l[8]):l[5]>0&&Dh(l)}}function Dh(s){for(let d=gc(s);null!==d;d=mc(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const y=g[1];$u(y,g,y.template,g[8])}else g[5]>0&&Dh(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Fi(l[d],s);Ts(h)&&h[5]>0&&Dh(h)}}function dE(s,o){const l=Fi(o,s),d=l[1];(function Rv(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),yp(d,l,l[8])}function Cp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Hm(s){for(;s;){s[2]|=64;const o=$n(s);if(Rd(s)&&!o)return s;s=o}return null}function Ip(s,o,l){const d=o[10];d.begin&&d.begin();try{$u(s,o,s.template,l)}catch(h){throw Lv(o,h),h}finally{d.end&&d.end()}}function Gm(s){!function Sp(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Qf(l),h=d[1];nE(h,d,h.template,l)}}(s[8])}function zm(s,o,l){su(0),o(s,l)}const Pv=(()=>Promise.resolve(null))();function Mp(s){return s[7]||(s[7]=[])}function qm(s){return s.cleanup||(s.cleanup=[])}function Fv(s,o,l){return(null===s||hr(s))&&(l=function Ud(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Lv(s,o){const l=s[9],d=l?l.get(ji,null):null;d&&d.handleError(o)}function Bv(s,o,l,d,h){for(let g=0;g<l.length;){const y=l[g++],E=l[g++],D=o[y],M=s.data[y];null!==M.setInput?M.setInput(D,h,d,E):D[E]=h}}function wc(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const gl=new Hn("INJECTOR",-1);class Km{get(o,l=Lo){if(l===Lo){const d=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw d.name="NullInjectorError",d}return l}}const Vv=new Hn("Set Injector scope."),qu={},Ch={};let xp;function Ec(){return void 0===xp&&(xp=new Km),xp}function Uv(s,o=null,l=null,d){const h=fE(s,o,l,d);return h._resolveInjectorDefTypes(),h}function fE(s,o=null,l=null,d){return new Wu(s,l,o||Ec(),d)}class Wu{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&xr(l,E=>this.processProvider(E,o,l)),xr([o],E=>this.processInjectorType(E,[],g)),this.records.set(gl,Zu(void 0,this));const y=this.records.get(Vv);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ge(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Lo,d=vt.Default){this.assertNotDestroyed();const h=Oe(this),g=ai(void 0);try{if(!(d&vt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function pE(s){return"function"==typeof s||"object"==typeof s&&s instanceof Hn}(o)&&Qt(o);E=D&&this.injectableDefInScope(D)?Zu(Wo(o),qu):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&vt.Self?Ec():this.parent).get(o,l=d&vt.Optional&&l===Lo?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[dc]=y[dc]||[]).unshift(ge(o)),h)throw y;return function Ea(s,o,l,d){const h=s[dc];throw o[V]&&h.unshift(o[V]),s.message=function Bo(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ge(o);if(Array.isArray(o))h=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[dc]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{ai(g),Oe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ge(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(o,l,d){if(!(o=te(o)))return!1;let h=Ki(o);const g=null==h&&o.ngModule||void 0,y=void 0===g?o:g,E=-1!==d.indexOf(y);if(void 0!==g&&(h=Ki(g)),null==h)return!1;if(null!=h.imports&&!E){let N;d.push(y);try{xr(h.imports,P=>{this.processInjectorType(P,l,d)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:Y}=N[P];xr(Y,be=>this.processProvider(be,j,Y||bt))}}this.injectorDefTypes.add(y);const D=fr(y)||(()=>new y);this.records.set(y,Zu(D,qu));const M=h.providers;if(null!=M&&!E){const N=o;xr(M,P=>this.processProvider(P,N,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let h=Th(o=te(o))?o:te(o&&o.provide);const g=function Jm(s,o,l){return qn(s)?Zu(void 0,s.useValue):Zu(Np(s),qu)}(o);if(Th(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Zu(void 0,qu,!0),y.factory=()=>Rt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===qu&&(l.value=Ch,l.value=l.factory()),"object"==typeof l.value&&l.value&&function RT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=te(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Wo(s){const o=Qt(s),l=null!==o?o.factory:fr(s);if(null!==l)return l;if(s instanceof Hn)throw new Le(204,!1);if(s instanceof Function)return function Ym(s){const o=s.length;if(o>0)throw qr(o,"?"),new Le(204,!1);const l=function Er(s){const o=s&&(s[ns]||s[ys]);if(o){const l=function Ys(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function Np(s,o,l){let d;if(Th(s)){const h=te(s);return fr(h)||Wo(h)}if(qn(s))d=()=>te(s.useValue);else if(function kT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Rt(s.deps||[]));else if(function Qm(s){return!(!s||!s.useExisting)}(s))d=()=>rt(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function kp(s){return!!s.deps}(s))return fr(h)||Wo(h);d=()=>new h(...Rt(s.deps))}return d}function Zu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function qn(s){return null!==s&&"object"==typeof s&&Q in s}function Th(s){return"function"==typeof s}let Zo=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return Uv({name:""},d,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return Uv({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Lo,s.NULL=new Km,s.\u0275prov=fn({token:s,providedIn:"any",factory:()=>rt(gl)}),s.__NG_ELEMENT_ID__=-1,s})();function CE(s,o){Ss(Qf(s)[1],An())}function zv(s){let o=function Mh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(hr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=n_(s.inputs),y.declaredInputs=n_(s.declaredInputs),y.outputs=n_(s.outputs);const E=h.hostBindings;E&&VT(s,E);const D=h.viewQuery,M=h.contentQueries;if(D&&LT(s,D),M&&BT(s,M),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),hr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(s),E===zv&&(l=!1)}}o=Object.getPrototypeOf(o)}!function xi(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=jn(h.hostAttrs,l=jn(l,h.hostAttrs))}}(d)}function n_(s){return s===Ti?{}:s===bt?[]:s}function LT(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function BT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function VT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Fp=null;function _l(){if(!Fp){const s=Kt.Symbol;if(s&&s.iterator)Fp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Fp=d)}}}return Fp}function Fs(s){return!!Lp(s)&&(Array.isArray(s)||!(s instanceof Map)&&_l()in s)}function Lp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fs(s,o,l){return s[o]=l}function sr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ma(s,o,l,d){const h=sr(s,o,l);return sr(s,o+1,d)||h}function Nh(s,o,l,d){const h=Te();return sr(h,uo(),o)&&(zt(),function Rr(s,o,l,d,h,g){const y=Pi(s,o);Vm(o[11],y,g,s.value,l,d,h)}(Un(),h,s,o,l,d)),Nh}function Ku(s,o,l,d){return sr(s,uo(),l)?o+me(l)+d:He}function Qv(s,o,l,d,h,g,y,E){const D=Te(),M=zt(),N=s+20,P=M.firstCreatePass?function ME(s,o,l,d,h,g,y,E,D){const M=o.consts,N=bc(o,s,4,y||null,pr(M,E));bp(o,l,N,pr(M,D)),Ss(o,N);const P=N.tViews=Eh(2,N,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,M,D,o,l,d,h,g,y):M.data[N];gr(P,!1);const j=D[11].createComment("");Tm(M,D,j,P),Qi(j,D),Cp(D,D[N]=kv(j,D,j,P)),jl(P)&&Tv(M,D,P),null!=y&&vp(D,P,E)}function xE(s){return Vr(function tu(){return Et.lFrame.contextLView}(),20+s)}function Ph(s,o=vt.Default){const l=Te();return null===l?rt(s,o):mo(An(),l,te(s),o)}function Ic(){throw new Error("invalid")}function o_(s,o,l){const d=Te();return sr(d,uo(),o)&&Qr(zt(),Un(),d,s,o,d[11],l,!1),o_}function Xu(s,o,l,d,h){const y=h?"class":"style";Bv(s,l,o.inputs[y],y,d)}function a_(s,o,l,d){const h=Te(),g=zt(),y=20+s,E=h[11],D=h[y]=gh(E,o,function Ty(){return Et.lFrame.currentNamespace}()),M=g.firstCreatePass?function ln(s,o,l,d,h,g,y){const E=o.consts,M=bc(o,s,2,h,pr(E,g));return bp(o,l,M,pr(E,y)),null!==M.attrs&&wc(M,M.attrs,!1),null!==M.mergedAttrs&&wc(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(y,g,h,0,o,l,d):g.data[y];gr(M,!0);const N=M.mergedAttrs;null!==N&&ut(E,D,N);const P=M.classes;null!==P&&lv(E,D,P);const j=M.styles;return null!==j&&Vu(E,D,j),64!=(64&M.flags)&&Tm(g,h,D,M),0===function Xa(){return Et.lFrame.elementDepthCount}()&&Qi(D,h),function Ql(){Et.lFrame.elementDepthCount++}(),jl(M)&&(Tv(g,h,M),function Cv(s,o,l){if(kd(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,l[g],g)}}}(g,M,h)),null!==d&&vp(h,M),a_}function vi(){let s=An();Xc()?eu():(s=s.parent,gr(s,!1));const o=s;!function Xl(){Et.lFrame.elementDepthCount--}();const l=zt();return l.firstCreatePass&&(Ss(l,s),kd(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Zd(s){return 0!=(16&s.flags)}(o)&&Xu(l,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function sm(s){return 0!=(32&s.flags)}(o)&&Xu(l,o,Te(),o.stylesWithoutHost,!1),vi}function Ac(s,o,l,d){return a_(s,o,l,d),vi(),Ac}function Mc(){return Te()}function Gp(s){return!!s&&"function"==typeof s.then}function r0(s){return!!s&&"function"==typeof s.subscribe}const Fh=r0;function s0(s,o,l,d){const h=Te(),g=zt(),y=An();return Lh(g,h,h[11],y,s,o,!!l,d),s0}function Yo(s,o){const l=An(),d=Te(),h=zt();return Lh(h,d,Fv(ma(h.data),l,d),l,s,o,!1),Yo}function Lh(s,o,l,d,h,g,y,E){const D=jl(d),N=s.firstCreatePass&&qm(s),P=o[8],j=Mp(o);let Y=!0;if(3&d.type||E){const We=Pi(d,o),lt=E?E(We):We,Ae=j.length,Dt=E?Yt=>E(mn(Yt[d.index])):d.index;if(Sn(l)){let Yt=null;if(!E&&D&&(Yt=function ed(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===l&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof y&&(g+=2)}return null}(s,o,h,d.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=g,Yt.__ngLastListenerFn__=g,Y=!1;else{g=qe(d,o,P,g,!1);const Cn=l.listen(lt,h,g);j.push(g,Cn),N&&N.push(h,Dt,Ae,Ae+1)}}else g=qe(d,o,P,g,!0),lt.addEventListener(h,g,y),j.push(g),N&&N.push(h,Dt,Ae,y)}else g=qe(d,o,P,g,!1);const be=d.outputs;let Ue;if(Y&&null!==be&&(Ue=be[h])){const We=Ue.length;if(We)for(let lt=0;lt<We;lt+=2){const Hs=o[Ue[lt]][Ue[lt+1]].subscribe(g),Tn=j.length;j.push(g,Hs),N&&N.push(h,d.index,Tn,-(Tn+1))}}}function o0(s,o,l,d){try{return!1!==l(d)}catch(h){return Lv(s,h),!1}}function qe(s,o,l,d,h){return function g(y){if(y===Function)return d;const E=2&s.flags?Fi(s.index,o):o;0==(32&o[2])&&Hm(E);let D=o0(o,0,d,y),M=g.__ngNextListenerFn__;for(;M;)D=o0(o,0,M,y)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function a0(s=1){return function ho(s){return(Et.lFrame.contextLView=function au(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function BE(s,o){let l=null;const d=function ju(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?we(s,g,!0):tn(d,g))return h}else l=h}return l}function xc(s){const o=Te()[16][6];if(!o.projection){const d=o.projection=qr(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const y=s?BE(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:d[y]=g,h[y]=g),g=g.next}}}function Jo(s,o=0,l){const d=Te(),h=zt(),g=bc(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),eu(),64!=(64&g.flags)&&function hT(s,o,l){Gw(o[11],0,o,l,Cm(s,l,o),Vw(l.parent||o[6],l,o))}(h,d,g)}function td(s,o,l){return Qo(s,"",o,"",l),td}function Qo(s,o,l,d,h){const g=Te(),y=Ku(g,o,l,d);return y!==He&&Qr(zt(),Un(),g,s,y,g[11],h,!1),Qo}function h0(s,o,l,d,h){const g=s[l+1],y=null===o;let E=d?Ps(g):zn(g),D=!1;for(;0!==E&&(!1===D||y);){const N=s[E+1];UE(s[E],o)&&(D=!0,s[E+1]=d?Aa(N):dv(N)),E=d?Ps(N):zn(N)}D&&(s[l+1]=d?dv(g):Aa(g))}function UE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&bo(s,o)>=0}const cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function f0(s){return s.substring(cn.key,cn.keyEnd)}function d_(s,o){const l=cn.textEnd;return l===o?-1:(o=cn.keyEnd=function JT(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,cn.key=o,l),rd(s,o,l))}function rd(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function g0(s,o,l){return Xo(s,o,l,!1),g0}function sd(s,o){return Xo(s,o,null,!0),sd}function or(s){!function ea(s,o,l,d){const h=zt(),g=Ur(2);h.firstUpdatePass&&HE(h,null,g,d);const y=Te();if(l!==He&&sr(y,g,l)){const E=h.data[Li()];if(p_(E,d)&&!m0(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=he(D,l||"")),Xu(h,E,y,l,d)}else!function bl(s,o,l,d,h,g,y,E){h===He&&(h=bt);let D=0,M=0,N=0<h.length?h[0]:null,P=0<g.length?g[0]:null;for(;null!==N||null!==P;){const j=D<h.length?h[D+1]:void 0,Y=M<g.length?g[M+1]:void 0;let Ue,be=null;N===P?(D+=2,M+=2,j!==Y&&(be=P,Ue=Y)):null===P||null!==N&&N<P?(D+=2,be=N):(M+=2,be=P,Ue=Y),null!==be&&y0(s,o,l,d,be,Ue,y,E),N=D<h.length?h[D]:null,P=M<g.length?g[M]:null}}(h,E,y,y[11],y[g+1],y[g+1]=function GE(s,o,l){if(null==l||""===l)return bt;const d=[],h=ks(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(ui,ka,s,!0)}function ka(s,o){for(let l=function u_(s){return function Uh(s){cn.key=0,cn.keyEnd=0,cn.value=0,cn.valueEnd=0,cn.textEnd=s.length}(s),d_(s,rd(s,0,cn.textEnd))}(o);l>=0;l=d_(o,l))ui(s,f0(o),!0)}function Xo(s,o,l,d){const h=Te(),g=zt(),y=Ur(2);g.firstUpdatePass&&HE(g,s,y,d),o!==He&&sr(h,y,o)&&y0(g,g.data[Li()],h,h[11],s,h[y+1]=function f_(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ge(ks(s)))),s}(o,l),d,y)}function m0(s,o){return o>=s.expandoStartIndex}function HE(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Li()],y=m0(s,l);p_(g,d)&&null===o&&!y&&(o=!1),o=function XT(s,o,l,d){const h=ma(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=qp(l=Oc(null,s,o,l,d),o.attrs,d),g=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=Oc(h,s,o,l,d),null===g){let D=function eS(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==zn(d))return s[Ps(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=Oc(null,s,o,D[1],d),D=qp(D,o.attrs,d),function tS(s,o,l,d){s[Ps(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function Nc(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=qp(d,s[g].hostAttrs,l);return qp(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function $p(s,o,l,d,h,g){let y=g?o.classBindings:o.styleBindings,E=Ps(y),D=zn(y);s[d]=l;let N,M=!1;if(Array.isArray(l)){const P=l;N=P[1],(null===N||bo(P,N)>0)&&(M=!0)}else N=l;if(h)if(0!==D){const j=Ps(s[E+1]);s[d+1]=xm(j,E),0!==j&&(s[j+1]=vh(s[j+1],d)),s[E+1]=function gT(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=xm(E,0),0!==E&&(s[E+1]=vh(s[E+1],d)),E=d;else s[d+1]=xm(D,0),0===E?E=d:s[D+1]=vh(s[D+1],d),D=d;M&&(s[d+1]=dv(s[d+1])),h0(s,N,d,!0),h0(s,N,d,!1),function VE(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&bo(g,o)>=0&&(l[d+1]=Aa(l[d+1]))}(o,N,s,d,g),y=xm(E,D),g?o.classBindings=y:o.styleBindings=y}(h,g,o,l,y,d)}}function Oc(s,o,l,d,h){let g=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(g=o[E],d=qp(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function qp(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ui(s,y,!!l||o[++g]))}return void 0===s?null:s}function y0(s,o,l,d,h,g,y,E){if(!(3&o.type))return;const D=s.data,M=D[E+1];ad(function tr(s){return 1==(1&s)}(M)?od(D,o,l,h,zn(M),y):void 0)||(ad(g)||function qw(s){return 2==(2&s)}(M)&&(g=od(D,null,l,h,E,y)),function Hi(s,o,l,d,h){const g=Sn(s);if(o)h?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:le.DashCase;if(null==h)g?s.removeStyle(l,d,y):l.style.removeProperty(d);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),y|=le.Important),g?s.setStyle(l,d,h,y):l.style.setProperty(d,h,E?"important":"")}}}(d,y,xo(Li(),l),h,g))}function od(s,o,l,d,h,g){const y=null===o;let E;for(;h>0;){const D=s[h],M=Array.isArray(D),N=M?D[1]:D,P=null===N;let j=l[h+1];j===He&&(j=P?bt:void 0);let Y=P?Eu(j,d):N===d?j:void 0;if(M&&!ad(Y)&&(Y=Eu(D,d)),ad(Y)&&(E=Y,y))return E;const be=s[h+1];h=y?Ps(be):zn(be)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Eu(D,d))}return E}function ad(s){return void 0!==s}function p_(s,o){return 0!=(s.flags&(o?16:32))}function g_(s,o=""){const l=Te(),d=zt(),h=s+20,g=d.firstCreatePass?bc(d,h,1,o,null):d.data[h],y=l[h]=fh(l[11],o);Tm(d,l,y,g),gr(g,!1)}function Wp(s){return wl("",s,""),Wp}function wl(s,o,l){const d=Te(),h=Ku(d,s,o,l);return h!==He&&function pl(s,o,l){const d=xo(o,s);ph(s[11],d,l)}(d,Li(),h),wl}function ud(s,o,l){const d=Te();return sr(d,uo(),o)&&Qr(zt(),Un(),d,s,o,d[11],l,!0),ud}function El(s,o,l){const d=Te();if(sr(d,uo(),o)){const g=zt(),y=Un();Qr(g,y,d,s,o,Fv(ma(g.data),y,d),l,!0)}return El}const kc=void 0;var nD=["en",[["a","p"],["AM","PM"],kc],[["AM","PM"],kc,kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kc,"{1} 'at' {0}",kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tD(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ra={};function T0(s){const o=function wi(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=S0(o);if(l)return l;const d=o.split("-")[0];if(l=S0(d),l)return l;if("en"===d)return nD;throw new Error(`Missing locale data for the locale "${s}".`)}function rn(s){return T0(s)[yt.PluralCase]}function S0(s){return s in Ra||(Ra[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),Ra[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const b_=["zero","one","two","few","many"],Nn="en-US",Dl={marker:"element"},w_={marker:"ICU"};var dn=(()=>((dn=dn||{})[dn.SHIFT=2]="SHIFT",dn[dn.APPEND_EAGERLY=1]="APPEND_EAGERLY",dn[dn.COMMENT=2]="COMMENT",dn))();let E_=Nn;function sD(s,o,l){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Uw(s,0,l):mn(l[h])}function bn(s,o,l,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let y=d,E=null;if(3&o.type||(E=y,y=h),null!==y&&0==(2&o.flags))for(let D=1;D<g.length;D++)Rs(s,y,l[g[D]],E,!1)}}function oD(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];Qp(d)||Xp(d,o)&&null===eg(d)&&D_(d,o.index)}}function Qp(s){return!(64&s.type)}function Xp(s,o){return Qp(o)||s.index>o.index}function eg(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function D_(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(jw(sD,bn),s.insertBeforeIndex=o)}function zh(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function lS(s,o,l){const d=Pm(s,l,64,null,null);return oD(o,d),d}function tg(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function I0(s){return s>>>17}function cD(s){return(131070&s)>>>1}let Cl=0,qh=0;function M0(s,o,l,d){const h=l[11];let y,g=null;for(let E=0;E<o.length;E++){const D=o[E];if("string"==typeof D){const M=o[++E];null===l[M]&&(l[M]=fh(h,D))}else if("number"==typeof D)switch(1&D){case 0:const M=I0(D);let N,P;if(null===g&&(g=M,y=dp(h,d)),M===g?(N=d,P=y):(N=null,P=mn(l[M])),null!==P){const Ue=cD(D);Rs(h,P,l[Ue],N,!1);const lt=zh(s,Ue);if(null!==lt&&"object"==typeof lt){const Ae=tg(lt,l);null!==Ae&&M0(s,lt.create[Ae],l,l[lt.anchorIdx])}}break;case 1:const Y=o[++E],be=o[++E];Vm(h,xo(D>>>1,l),null,null,Y,be,null)}else switch(D){case w_:const M=o[++E],N=o[++E];null===l[N]&&Qi(l[N]=lp(h,M),l);break;case Dl:const P=o[++E],j=o[++E];null===l[j]&&Qi(l[j]=gh(h,P,null),l)}}}function Wh(s,o,l,d,h){for(let g=0;g<l.length;g++){const y=l[g],E=l[++g];if(y&h){let D="";for(let M=g+1;M<=g+E;M++){const N=l[M];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=me(o[d-N]);else{const P=N>>>2;switch(3&N){case 1:const j=l[++M],Y=l[++M],be=s.data[P];"string"==typeof be?Vm(o[11],o[P],null,be,j,D,Y):Qr(s,be,o,j,D,o[11],Y,!1);break;case 0:const Ue=o[P];null!==Ue&&ph(o[11],Ue,D);break;case 2:x0(s,zh(s,P),o,D);break;case 3:ta(s,zh(s,P),d,o)}}}}else{const D=l[g+1];if(D>0&&3==(3&D)){const N=zh(s,D>>>2);o[N.currentCaseLViewIndex]<0&&ta(s,N,d,o)}}g+=E}}function ta(s,o,l,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=Cl;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),Wh(s,d,o.update[h],l,g)}}function x0(s,o,l,d){const h=function ng(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function vr(s,o){const l=rn(o)(parseInt(s,10)),d=b_[l];return void 0!==d?d:"other"}(o,function aS(){return E_}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(tg(o,l)!==h&&(N0(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=l[o.anchorIdx];y&&M0(s,o.create[h],l,y)}}function N0(s,o,l){let d=tg(o,l);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const E=xo(y,l);null!==E&&ov(l[11],E)}else N0(s,zh(s,~y),l)}}}function dD(){const s=[];let l,d,o=-1;function g(E,D){o=0;const M=tg(E,D);d=null!==M?E.remove[M]:bt}function y(){if(o<d.length){const E=d[o++];return E>0?l[E]:(s.push(o,d),g(l[1].data[~E],l),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(E,D){for(l=D;s.length;)s.pop();return g(E.value,D),y}}const Kh=/\ufffd(\d+):?\d*\ufffd/gi,hD=/\ufffd(\d+)\ufffd/,O0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,fD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,gS=/\uE500/g;function dd(s,o,l,d,h,g,y){const E=Gu(s,d,1,null);let D=E<<dn.SHIFT,M=ga();o===M&&(M=null),null===M&&(D|=dn.APPEND_EAGERLY),y&&(D|=dn.COMMENT,function It(s){void 0===ze&&(ze=s())}(dD)),h.push(D,null===g?"":g);const N=Pm(s,E,y?32:1,null===g?"":g,null);oD(l,N);const P=N.index;return gr(N,!1),null!==M&&o!==M&&function lD(s,o){let l=s.insertBeforeIndex;null===l?(jw(sD,bn),l=s.insertBeforeIndex=[null,o]):(function J(s,o,l){s!=o&&Tt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(M,P),N}function _S(s,o,l,d,h,g,y){const E=y.match(Kh),D=dd(s,o,l,g,d,E?null:y,!1);E&&Qh(h,y,D.index,null,0,null)}function Qh(s,o,l,d,h,g){const y=s.length,E=y+1;s.push(null,null);const D=y+2,M=o.split(Kh);let N=0;for(let P=0;P<M.length;P++){const j=M[P];if(1&P){const Y=h+parseInt(j,10);s.push(-1-Y),N|=Wi(Y)}else""!==j&&s.push(j)}return s.push(l<<2|(d?1:0)),d&&s.push(d,g),s[y]=N,s[E]=s.length-D,N}function Wi(s){return 1<<Math.min(s,31)}function k0(s){let o,g,l="",d=0,h=!1;for(;null!==(o=pS.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(l+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return l+=s.substr(d),l}function R0(s,o,l,d,h,g){let y=0;const E={type:h.type,currentCaseLViewIndex:Gu(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function ES(s,o,l){s.push(Wi(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,g),function aD(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,g,E);const D=h.values;for(let M=0;M<D.length;M++){const N=D[M],P=[];for(let j=0;j<N.length;j++){const Y=N[j];if("string"!=typeof Y){const be=P.push(Y)-1;N[j]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}y=bS(s,E,o,l,d,h.cases[M],N.join(""),P)|y}y&&function DS(s,o,l){s.push(o,1,l<<2|3)}(l,y,g)}function C_(s){const o=[],l=[];let d=1,h=0;const g=T_(s=s.replace(O0,function(y,E,D){return d="select"===D?0:1,h=parseInt(E.substr(1),10),""}));for(let y=0;y<g.length;){let E=g[y++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&o.push(E);const D=T_(g[y++]);o.length>l.length&&l.push(D)}return{type:d,mainBinding:h,cases:o,values:l}}function T_(s){if(!s)return[];let o=0;const l=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const E=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const D=s.substring(o,E);O0.test(D)?d.push(C_(D)):d.push(D),o=E+1}}else{if(0==l.length){const D=s.substring(o,E);d.push(D),o=E+1}l.push("{")}}const y=s.substring(o);return d.push(y),d}function bS(s,o,l,d,h,g,y,E){const D=[],M=[],N=[];o.cases.push(g),o.create.push(D),o.remove.push(M),o.update.push(N);const j=pm(Ja()).getInertBodyElement(y),Y=Zf(j)||j;return Y?gD(s,o,l,d,D,M,N,Y,h,E,0):0}function gD(s,o,l,d,h,g,y,E,D,M,N){let P=0,j=E.firstChild;for(;j;){const Y=Gu(s,l,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const be=j,Ue=be.tagName.toLowerCase();if(Gf.hasOwnProperty(Ue)){P0(h,Dl,Ue,D,Y),s.data[Y]=Ue;const Dt=be.attributes;for(let Yt=0;Yt<Dt.length;Yt++){const Cn=Dt.item(Yt),Hs=Cn.name.toLowerCase();Cn.value.match(Kh)?Ca.hasOwnProperty(Hs)&&Qh(y,Cn.value,Y,Cn.name,0,$f[Hs]?ol:zf[Hs]?Hf:null):CS(h,Y,Cn)}P=gD(s,o,l,d,h,g,y,j,Y,M,N+1)|P,mD(g,Y,N)}break;case Node.TEXT_NODE:const We=j.textContent||"",lt=We.match(Kh);P0(h,null,lt?"":We,D,Y),mD(g,Y,N),lt&&(P=Qh(y,We,Y,null,0,null)|P);break;case Node.COMMENT_NODE:const Ae=hD.exec(j.textContent||"");if(Ae){const Yt=M[parseInt(Ae[1],10)];P0(h,w_,"",D,Y),R0(s,l,d,D,Yt,Y),wS(g,Y,N)}}j=j.nextSibling}return P}function mD(s,o,l){0===l&&s.push(o)}function wS(s,o,l){0===l&&(s.push(~o),s.push(o))}function P0(s,o,l,d,h){null!==o&&s.push(o),s.push(l,h,function cS(s,o,l){return s|o<<17|l<<1}(0,d,h))}function CS(s,o,l){s.push(o<<1|1,l.name,l.value)}function F0(s,o,l=-1){const d=zt(),h=Te(),g=20+s,y=pr(d.consts,o),E=ga();d.firstCreatePass&&function Jh(s,o,l,d,h,g){const y=ga(),E=[],D=[],M=[[]];h=function na(s,o){if(function vS(s){return-1===s}(o))return k0(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return k0(s.substring(l,d))}}(h,g);const N=function mS(s){return s.replace(gS," ")}(h).split(fD);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const Y=T_(j);for(let be=0;be<Y.length;be++){let Ue=Y[be];if(0==(1&be)){const We=Ue;""!==We&&_S(s,y,M[0],E,D,l,We)}else{const We=Ue;if("object"!=typeof We)throw new Error(`Unable to parse ICU expression in "${h}" message.`);R0(s,l,D,o,We,dd(s,y,M[0],l,E,"",!0).index)}}}else{const Y=47===j.charCodeAt(0),Ue=(j.charCodeAt(Y?1:0),20+Number.parseInt(j.substring(Y?2:1)));if(Y)M.shift(),gr(ga(),!1);else{const We=lS(s,M[0],Ue);M.unshift([]),gr(We,!0)}}}s.data[d]={create:E,update:D}}(d,null===E?0:E.index,h,g,y,l);const D=d.data[g],N=cT(d,E===h[6]?null:E,h);(function A0(s,o,l,d){const h=s[11];for(let g=0;g<o.length;g++){const y=o[g++],E=o[g],D=(y&dn.COMMENT)===dn.COMMENT,M=(y&dn.APPEND_EAGERLY)===dn.APPEND_EAGERLY,N=y>>>dn.SHIFT;let P=s[N];null===P&&(P=s[N]=D?h.createComment(E):fh(h,E)),M&&null!==l&&Rs(h,l,P,d,!1)}})(h,D.create,N,E&&8&E.type?h[E.index]:null),ic(!0)}function L0(s,o,l){F0(s,o,l),function vD(){ic(!1)}()}function pe(s){return function uS(s){s&&(Cl|=1<<Math.min(qh,31)),qh++}(sr(Te(),uo(),s)),pe}function ig(s){!function ar(s,o,l){if(qh>0){const d=s.data[l];Wh(s,o,Array.isArray(d)?d:d.update,function Ir(){return Et.lFrame.bindingIndex}()-qh-1,Cl)}Cl=0,qh=0}(zt(),Te(),s+20)}function hd(s,o,l,d,h){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)hd(s[g],o,l,d,h);else{const g=zt(),y=Te();let E=Th(s)?s:te(s.provide),D=Np(s);const M=An(),N=1048575&M.providerIndexes,P=M.directiveStart,j=M.providerIndexes>>20;if(Th(s)||!s.multi){const Y=new _a(D,h,Ph),be=Sl(E,o,h?N:N+j,P);-1===be?(go(_n(M,y),g,E),Tl(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Y),y.push(Y)):(l[be]=Y,y[be]=Y)}else{const Y=Sl(E,o,N+j,P),be=Sl(E,o,N,N+j),Ue=Y>=0&&l[Y],We=be>=0&&l[be];if(h&&!We||!h&&!Ue){go(_n(M,y),g,E);const lt=function lr(s,o,l,d,h){const g=new _a(s,l,Ph);return g.multi=[],g.index=o,g.componentProviders=0,wD(g,h,d&&!l),g}(h?B0:ED,l.length,h,d,D);!h&&We&&(l[be].providerFactory=lt),Tl(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(lt),y.push(lt)}else Tl(g,s,Y>-1?Y:be,wD(l[h?be:Y],D,!h&&d));!h&&d&&We&&l[be].componentProviders++}}}function Tl(s,o,l,d){const h=Th(o),g=function Op(s){return!!s.useClass}(o);if(h||g){const D=(g?te(o.useClass):o).prototype.ngOnDestroy;if(D){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=M.indexOf(l);-1===N?M.push(l,[d,D]):M[N+1].push(d,D)}else M.push(l,D)}}}function wD(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Sl(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function ED(s,o,l,d){return S_(this.multi,[])}function B0(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Gr(l,l[1],this.providerFactory.index,d);g=E.slice(0,y),S_(h,g);for(let D=y;D<E.length;D++)g.push(E[D])}else g=[],S_(h,g);return g}function S_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function I_(s,o=[]){return l=>{l.providersResolver=(d,h)=>function OS(s,o,l){const d=zt();if(d.firstCreatePass){const h=hr(s);hd(l,d.data,d.blueprint,h,!0),hd(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class A_{}class DD{resolveComponentFactory(o){throw function Rc(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let fd=(()=>{class s{}return s.NULL=new DD,s})();function pd(){return Eo(An(),Te())}function Eo(s,o){return new Pa(Pi(s,o))}let Pa=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=pd,s})();function rg(s){return s instanceof Pa?s.nativeElement:s}class M_{}let j0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function RS(){const s=Te(),l=Fi(An().index,s);return function CD(s){return s[11]}(Br(l)?l:s)}(),s})(),TD=(()=>{class s{}return s.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null}),s})();class H0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const x_=new H0("13.3.1"),gd={};function Il(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(mn(g)),Tr(g))for(let E=10;E<g.length;E++){const D=g[E],M=D[1].firstChild;null!==M&&Il(D[1],D,M,d)}const y=l.type;if(8&y)Il(s,o,l.child,d);else if(32&y){const E=ot(l,o);let D;for(;D=E();)d.push(D)}else if(16&y){const E=Hw(o,l);if(Array.isArray(E))d.push(...E);else{const D=$n(o[16]);Il(D[1],D,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class sg{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Il(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Tr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Xy(o,d),Ns(l,d))}this._attachedToViewContainer=!1}ev(this._lView[1],this._lView)}onDestroy(o){iE(this._lView[1],this._lView,null,o)}markForCheck(){Hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ip(this._lView[1],this._lView,this.context)}checkNoChanges(){!function $m(s,o,l){co(!0);try{Ip(s,o,l)}finally{co(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dm(s,o){Sm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class SD extends sg{constructor(o){super(o),this._view=o}detectChanges(){Gm(this._view)}checkNoChanges(){!function Ap(s){co(!0);try{Gm(s)}finally{co(!1)}}(this._view)}get context(){return null}}class ID extends fd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=en(o);return new Fa(l,this.ngModule)}}function AD(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Fa extends A_{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function ct(s){return s.map(fl).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return AD(this.componentDef.inputs)}get outputs(){return AD(this.componentDef.outputs)}create(o,l,d,h){const g=(h=h||this.ngModule)?function N_(s,o){return{get:(l,d,h)=>{const g=s.get(l,gd,h);return g!==gd||d===gd?g:o.get(l,d,h)}}}(o,h.injector):o,y=g.get(M_,fa),E=g.get(TD,null),D=y.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=d?function Bm(s,o,l){if(Sn(s))return s.selectRootElement(o,l===Xt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):gh(y.createRenderer(null,this.componentDef),M,function PS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),P=this.componentDef.onPush?576:528,j=function e_(s,o){return{components:[],scheduler:s||Ky,clean:Pv,playerHandler:o||null,flags:0}}(),Y=Eh(0,null,null,1,0,null,null,null,null,null),be=Hu(null,Y,j,P,null,null,y,D,E,g);let Ue,We;No(be);try{const lt=function Ah(s,o,l,d,h,g){const y=l[1];l[20]=s;const D=bc(y,20,2,"#host",null),M=D.mergedAttrs=o.hostAttrs;null!==M&&(wc(D,M,!0),null!==s&&(ut(h,s,M),null!==D.classes&&lv(h,s,D.classes),null!==D.styles&&Vu(h,s,D.styles)));const N=d.createRenderer(s,o),P=Hu(l,Lm(o),null,o.onPush?64:16,l[20],D,d,N,g||null,null);return y.firstCreatePass&&(go(_n(D,l),y,o.type),Ep(y,D),zu(D,l.length,1)),Cp(l,P),l[20]=P}(N,this.componentDef,be,y,D);if(N)if(d)ut(D,N,["ng-version",x_.full]);else{const{attrs:Ae,classes:Dt}=function uv(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!Ia(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ae&&ut(D,N,Ae),Dt&&Dt.length>0&&lv(D,N,Dt.join(" "))}if(We=Qa(Y,20),void 0!==l){const Ae=We.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Yt=l[Dt];Ae.push(null!=Yt?Array.from(Yt):null)}}Ue=function Pp(s,o,l,d,h){const g=l[1],y=function xv(s,o,l){const d=An();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),lE(s,d,o,Gu(s,o,1,null),l));const h=Gr(o,s,d.directiveStart,d);Qi(h,o);const g=Pi(d,o);return g&&Qi(g,o),h}(g,l,o);if(d.components.push(y),s[8]=y,h&&h.forEach(D=>D(y,o)),o.contentQueries){const D=An();o.contentQueries(1,y,D.directiveStart)}const E=An();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(fo(E.index),Nv(l[1],E,0,E.directiveStart,E.directiveEnd,o),Ov(o,y)),y}(lt,this.componentDef,be,j,[CE]),yp(Y,be,null)}finally{ko()}return new LS(this.componentType,Ue,Eo(We,be),be,We)}}class LS extends class V0{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new SD(h),this.componentType=o}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Pc{}class og{}const Xh=new Map;class z0 extends Pc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ID(this);const d=wn(o);this._bootstrapComponents=m(d.bootstrap),this._r3Injector=fE(o,l,[{provide:Pc,useValue:this},{provide:fd,useValue:this.componentFactoryResolver}],ge(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Zo.THROW_IF_NOT_FOUND,d=vt.Default){return o===Zo||o===Pc||o===gl?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class tf extends og{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function O_(s){const o=new Set;!function l(d){const h=wn(d,!0),g=h.id;null!==g&&(function ef(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ge(o)} vs ${ge(o.name)}`)}(g,Xh.get(g),d),Xh.set(g,d));const y=m(h.imports);for(const E of y)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new z0(this.moduleType,o)}}function k_(s,o,l){const d=Ai()+s,h=Te();return h[d]===He?fs(h,d,l?o.call(l):o()):function xh(s,o){return s[o]}(h,d)}function q0(s,o,l,d){return R_(Te(),Ai(),s,o,l,d)}function Al(s,o,l,d,h){return function W0(s,o,l,d,h,g,y){const E=o+l;return Ma(s,E,h,g)?fs(s,E+2,y?d.call(y,h,g):d(h,g)):ra(s,E+2)}(Te(),Ai(),s,o,l,d,h)}function _d(s,o,l,d,h,g){return function ND(s,o,l,d,h,g,y,E){const D=o+l;return function Bp(s,o,l,d,h){const g=Ma(s,o,l,d);return sr(s,o+2,h)||g}(s,D,h,g,y)?fs(s,D+3,E?d.call(E,h,g,y):d(h,g,y)):ra(s,D+3)}(Te(),Ai(),s,o,l,d,h,g)}function ra(s,o){const l=s[o];return l===He?void 0:l}function R_(s,o,l,d,h,g){const y=o+l;return sr(s,y,h)?fs(s,y+1,g?d.call(g,h):d(h)):ra(s,y+1)}function RD(s,o){const l=zt();let d;const h=s+20;l.firstCreatePass?(d=function P_(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=fr(d.type)),y=ai(Ph);try{const E=mr(!1),D=g();return mr(E),function kh(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Te(),h,D),D}finally{ai(y)}}function Z0(s,o,l){const d=s+20,h=Te(),g=Vr(h,d);return function Ml(s,o){return s[1].data[o].pure}(h,d)?R_(h,Ai(),o,g.transform,l,g):g.transform(l)}function F_(s){return o=>{setTimeout(s,void 0,o)}}const La=class FD extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,g,y;let E=o,D=l||(()=>null),M=d;if(o&&"object"==typeof o){const P=o;E=null===(h=P.next)||void 0===h?void 0:h.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),M=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(D=F_(D),E&&(E=F_(E)),M&&(M=F_(M)));const N=super.subscribe({next:E,error:D,complete:M});return o instanceof X.w0&&o.add(N),N}};function LD(){return this._results[_l()]()}class rf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=_l(),d=rf.prototype;d[l]||(d[l]=LD)}get changes(){return this._changes||(this._changes=new La)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Vi(o);(this._changesDetected=!function _u(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let bd=(()=>{class s{}return s.__NG_ELEMENT_ID__=K0,s})();const ag=bd,L_=class extends ag{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Hu(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),yp(l,d,o),new sg(d)}};function K0(){return B_(An(),Te())}function B_(s,o){return 4&s.type?new L_(o,s,Eo(s,o)):null}let sf=(()=>{class s{}return s.__NG_ELEMENT_ID__=BD,s})();function BD(){return VD(An(),Te())}const GS=sf,Y0=class extends GS{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ar(this._hostTNode,this._hostLView);if(Kd(o)){const l=jr(o,this._hostLView),d=Dn(o);return new $r(l[1].data[d+8],l)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=J0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,g){const y=o&&!function ba(s){return"function"==typeof s}(o);let E;if(y)E=l;else{const P=l||{};E=P.index,d=P.injector,h=P.projectableNodes,g=P.ngModuleRef}const D=y?o:new Fa(en(o)),M=d||this.parentInjector;if(!g&&null==D.ngModule){const j=(y?M:this.parentInjector).get(Pc,null);j&&(g=j)}const N=D.create(M,h,void 0,g);return this.insert(N.hostView,E),N}insert(o,l){const d=o._lView,h=d[1];if(function Yl(s){return Tr(s[3])}(d)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=d[3],j=new Y0(P,P[6],P[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(l),y=this._lContainer;!function Qy(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],yu(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function mh(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,d,y,g);const E=sv(g,y),D=d[11],M=dp(D,y[7]);return null!==M&&function cp(s,o,l,d,h,g){d[0]=h,d[6]=o,Sm(s,d,l,1,h,g)}(h,y[6],D,d,M,E),o.attachToViewContainerRef(),yu(lg(y),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=J0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Xy(this._lContainer,l);d&&(Ns(lg(this._lContainer),l),ev(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Xy(this._lContainer,l);return d&&null!=Ns(lg(this._lContainer),l)?new sg(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function J0(s){return s[8]}function lg(s){return s[8]||(s[8]=[])}function VD(s,o){let l;const d=o[s.index];if(Tr(d))l=d;else{let h;if(8&s.type)h=mn(d);else{const g=o[11];h=g.createComment("");const y=Pi(s,o);Rs(g,dp(g,y),h,function dT(s,o){return Sn(s)?s.nextSibling(o):o.nextSibling}(g,y),!1)}o[s.index]=l=kv(d,o,h,s),Cp(o,l)}return new Y0(l,s,o)}class Q0{constructor(o){this.queryList=o,this.matches=null}clone(){return new Q0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const y=l.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Lc(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==ZD(o,l).matches&&this.queries[l].setDirty()}}class wd{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class cg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new cg(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class af{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new af(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,jD(l,g)),this.matchTNodeWithReadOption(o,l,_r(l,o,g,!1,!1))}else d===bd?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,_r(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Pa||h===sf||h===bd&&4&l.type)this.addMatch(l.index,-2);else{const g=_r(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function jD(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function GD(s,o,l,d){return-1===l?function HD(s,o){return 11&s.type?Eo(s,o):4&s.type?B_(s,o):null}(o,s):-2===l?function qS(s,o,l){return l===Pa?Eo(o,s):l===bd?B_(o,s):l===sf?VD(o,s):void 0}(s,o,d):Gr(s,s[1],l,o)}function V_(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,y=l.matches,E=[];for(let D=0;D<y.length;D+=2){const M=y[D];E.push(M<0?null:GD(o,g[M],y[D+1],l.metadata.read))}h.matches=E}return h.matches}function X0(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const y=V_(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(y[E/2]);else{const M=g[E+1],N=o[-D];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&X0(j[1],j,M,d)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const Y=P[j];X0(Y[1],Y,M,d)}}}}}return d}function U_(s){const o=Te(),l=zt(),d=ru();su(d+1);const h=ZD(l,d);if(s.dirty&&oo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?X0(l,o,d,[]):V_(l,o,h,d);s.reset(g,rg),s.notifyOnChanges()}return!0}return!1}function $D(s,o,l){const d=zt();d.firstCreatePass&&(WD(d,new wd(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),qD(d,Te(),o)}function zD(s,o,l,d){const h=zt();if(h.firstCreatePass){const g=An();WD(h,new wd(o,l,d),g.index),function WS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}qD(h,Te(),l)}function j_(){return function cr(s,o){return s[19].queries[o].queryList}(Te(),ru())}function qD(s,o,l){const d=new rf(4==(4&l));iE(s,o,d,d.destroy),null===o[19]&&(o[19]=new Lc),o[19].queries.push(new Q0(d))}function WD(s,o,l){null===s.queries&&(s.queries=new cg),s.queries.track(new af(o,l))}function ZD(s,o){return s.queries.getByIndex(o)}function KD(s,o){return B_(s,o)}function Y_(...s){}const cC=new Hn("Application Initializer");let _g=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Y_,this.reject=Y_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Gp(g))l.push(g);else if(Fh(g)){const y=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(rt(cC,8))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uC=new Hn("AppId",{providedIn:"root",factory:function J_(){return`${yg()}${yg()}${yg()}`}});function yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new Hn("Platform Initializer"),Q_=new Hn("Platform ID"),X_=new Hn("appBootstrapListener");let Dd=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const vg=new Hn("LocaleId",{providedIn:"root",factory:()=>Vt(vg,vt.Optional|vt.SkipSelf)||function jc(){return"undefined"!=typeof $localize&&$localize.locale||Nn}()}),uf=new Hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tI{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let nI=(()=>{class s{compileModuleSync(l){return new tf(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=m(wn(l).declarations).reduce((y,E)=>{const D=en(E);return D&&y.push(new Fa(D)),y},[]);return new tI(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fb=(()=>Promise.resolve(0))();function Eg(s){"undefined"==typeof Zone?fb.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class sa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new La(!1),this.onMicrotaskEmpty=new La(!1),this.onStable=new La(!1),this.onError=new La(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function iI(){let s=Kt.requestAnimationFrame,o=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function fC(s){const o=()=>{!function rI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,gb(s),s.isCheckStableRunning=!0,Dg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),gb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,y,E)=>{try{return mb(s),l.invokeTask(h,g,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),_b(s)}},onInvoke:(l,d,h,g,y,E,D)=>{try{return mb(s),l.invoke(h,g,y,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),_b(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,gb(s),Dg(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,pb,Y_,Y_);try{return g.runTask(y,l,d)}finally{g.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const pb={};function Dg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function gb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function mb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function _b(s){s._nesting--,Dg(s)}class pC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new La,this.onMicrotaskEmpty=new La,this.onStable=new La,this.onError=new La}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let yb=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),Eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(rt(sa))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})(),gC=(()=>{class s{constructor(){this._applications=new Map,vb.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return vb.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();class sI{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function oI(s){vb=s}let js,vb=new sI;const ey=new Hn("AllowMultipleToken");class lI{constructor(o,l){this.name=o,this.token=l}}function Eb(s,o,l=[]){const d=`Platform: ${o}`,h=new Hn(d);return(g=[])=>{let y=_C();if(!y||y.injector.get(ey,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:Vv,useValue:"platform"});!function wb(s){if(js&&!js.destroyed&&!js.injector.get(ey,!1))throw new Le(400,"");js=s.get(ty);const o=s.get(db,null);o&&o.forEach(l=>l())}(Zo.create({providers:E,name:d}))}return function Db(s){const o=_C();if(!o)throw new Le(401,"");return o}()}}function _C(){return js&&!js.destroyed?js:null}let ty=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const E=function uI(s,o){let l;return l="noop"===s?new pC:("zone.js"===s?void 0:s)||new sa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:sa,useValue:E}];return E.run(()=>{const M=Zo.create({providers:D,parent:this.injector,name:l.moduleType.name}),N=l.create(M),P=N.injector.get(ji,null);if(!P)throw new Le(402,"");return E.runOutsideAngular(()=>{const j=E.onError.subscribe({next:Y=>{P.handleError(Y)}});N.onDestroy(()=>{Tb(this._modules,N),j.unsubscribe()})}),function Cb(s,o,l){try{const d=l();return Gp(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(P,E,()=>{const j=N.injector.get(_g);return j.runInitializers(),j.donePromise.then(()=>(function Jp(s){(function _t(s,o){null==s&&Tt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(E_=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(vg,Nn)||Nn),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,d=[]){const h=yC({},d);return function bb(s,o,l){const d=new tf(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Cg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Le(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(rt(Zo))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function yC(s,o){return Array.isArray(o)?o.reduce(yC,s):Object.assign(Object.assign({},s),o)}let Cg=(()=>{class s{constructor(l,d,h,g,y){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new L.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new L.y(M=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{sa.assertNotInAngularZone(),Eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ce.T)(E,D.pipe((0,ne.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Le(405,"");let h;h=l instanceof A_?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function aI(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Pc),E=h.create(Zo.NULL,[],d||h.selector,g),D=E.location.nativeElement,M=E.injector.get(yb,null),N=M&&E.injector.get(gC);return M&&N&&N.registerApplication(D,M),E.onDestroy(()=>{this.detachView(E.hostView),Tb(this.components,E),N&&N.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Tb(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(X_,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(rt(sa),rt(Zo),rt(ji),rt(fd),rt(_g))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Tb(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let iy=!0,Cd=!1;function vC(){return Cd=!0,iy}function Ib(){if(Cd)throw new Error("Cannot enable prod mode after platform setup.");iy=!1}let Ab=(()=>{class s{}return s.__NG_ELEMENT_ID__=dI,s})();function dI(s){return function Mb(s,o,l){if(to(s)&&!l){const d=Fi(s.index,o);return new sg(d,d)}return 47&s.type?new sg(o[16],o):null}(An(),Te(),16==(16&s))}class CC{constructor(){}supports(o){return Fs(o)}create(o){return new TC(o)}}const Lb=(s,o)=>o;class TC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Lb}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const y=!d||l&&l.currentIndex<IC(d,h,g)?l:d,E=IC(y,h,g),D=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{g||(g=[]);const M=E-h,N=D-h;if(M!=N){for(let j=0;j<M;j++){const Y=j<g.length?g[j]:g[j]=0,be=Y+j;N<=be&&be<M&&(g[j]=Y+1)}g[y.previousIndex]=N-M}}E!==D&&o(y,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Fs(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],y=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,g,y,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,E),d=!0),l=l._next}else h=0,function jT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[_l()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new ry(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new SC),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ry{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class SC{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new mI,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IC(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class AC{constructor(){}supports(o){return o instanceof Map||Lp(o)}create(){return new MC}}class MC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Lp(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new Bb(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Bb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vb(){return new Sg([new CC])}let Sg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Vb()),deps:[[s,new Vo,new Or]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Le(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:Vb}),s})();function sy(){return new ff([new AC])}let ff=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||sy()),deps:[[s,new Vo,new Or]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Le(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:sy}),s})();const pf=Eb(null,"core",[{provide:Q_,useValue:"unknown"},{provide:ty,deps:[Zo]},{provide:gC,deps:[]},{provide:Dd,deps:[]}]);let jb=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(rt(Cg))},s.\u0275mod=ee({type:s}),s.\u0275inj=on({}),s})()},3942:(pt,Ie,F)=>{F.d(Ie,{Z:()=>Le});var c=F(2090),X=F(4859),L=F(9681),ce=F(1877);class ne{constructor(me,Ce){this._delegate=me,this.firebase=Ce,(0,L._addComponent)(me,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(me,Ce=L._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(me);return!tt.isInitialized()&&"EXPLICIT"===(null===(at=tt.getComponent())||void 0===at?void 0:at.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:Ce})}_removeServiceInstance(me,Ce=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ce)}_addComponent(me){(0,L._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,L._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const Ge=function ge(Ge){const me={},Ce={__esModule:!0,initializeApp:function Me(Ke,se={}){const J=L.initializeApp(Ke,se);if((0,c.r3)(me,J.name))return me[J.name];const oe=new Ge(J,Ce);return me[J.name]=oe,oe},app:tt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function De(Ke){const se=Ke.name,J=se.replace("-compat","");if(L._registerComponent(Ke)&&"PUBLIC"===Ke.type){const oe=(ve=tt())=>{if("function"!=typeof ve[J])throw ie.create("invalid-app-argument",{appName:se});return ve[J]()};void 0!==Ke.serviceProps&&(0,c.ZB)(oe,Ke.serviceProps),Ce[J]=oe,Ge.prototype[J]=function(...ve){return this._getService.bind(this,se).apply(this,Ke.multipleInstances?ve:[])}}return"PUBLIC"===Ke.type?Ce[J]:null},removeApp:function at(Ke){delete me[Ke]},useAsService:function Ye(Ke,se){return"serverAuth"===se?null:se},modularAPIs:L}};function tt(Ke){if(!(0,c.r3)(me,Ke=Ke||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ke});return me[Ke]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Ee(){return Object.keys(me).map(Ke=>me[Ke])}}),tt.App=Ge,Ce}(ne);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function me(Ce){(0,c.ZB)(Ge,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ge}(),z=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=$;!function Ne(Ge){(0,L.registerVersion)("@firebase/app-compat","0.1.21",Ge)}()},9681:(pt,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ki,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Lr,_apps:()=>Tt,_clearComponents:()=>Qt,_components:()=>yn,_getProvider:()=>_s,_registerComponent:()=>fn,_removeServiceInstance:()=>on,deleteApp:()=>vs,getApp:()=>Yi,getApps:()=>ys,initializeApp:()=>ns,onLog:()=>gi,registerVersion:()=>dr,setLogLevel:()=>ai});var c=F(5861),X=F(4859),L=F(1877),ce=F(2090);class ne{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ye(nt){const xe=nt.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(st)){const wt=st.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(st=>st).join(" ")}}const ie="@firebase/app",he=new L.Yd("@firebase/app"),Zn="[DEFAULT]",_t={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,yn=new Map;function vn(nt,xe){try{nt.container.addComponent(xe)}catch(st){he.debug(`Component ${xe.name} failed to register with FirebaseApp ${nt.name}`,st)}}function Lr(nt,xe){nt.container.addOrOverwriteComponent(xe)}function fn(nt){const xe=nt.name;if(yn.has(xe))return he.debug(`There were multiple attempts to register component ${xe}.`),!1;yn.set(xe,nt);for(const st of Tt.values())vn(st,nt);return!0}function _s(nt,xe){const st=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),nt.container.getProvider(xe)}function on(nt,xe,st=Zn){_s(nt,xe).clearInstance(st)}function Qt(){yn.clear()}const Er=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ys{constructor(xe,st,wt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Ki="9.6.10";function ns(nt,xe={}){"object"!=typeof xe&&(xe={name:xe});const st=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},xe),wt=st.name;if("string"!=typeof wt||!wt)throw Er.create("bad-app-name",{appName:String(wt)});const Wt=Tt.get(wt);if(Wt){if((0,ce.vZ)(nt,Wt.options)&&(0,ce.vZ)(st,Wt.config))return Wt;throw Er.create("duplicate-app",{appName:wt})}const $t=new X.H0(wt);for(const U of yn.values())$t.addComponent(U);const G=new Ys(nt,st,$t);return Tt.set(wt,G),G}function Yi(nt=Zn){const xe=Tt.get(nt);if(!xe)throw Er.create("no-app",{appName:nt});return xe}function ys(){return Array.from(Tt.values())}function vs(nt){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(nt){const xe=nt.name;Tt.has(xe)&&(Tt.delete(xe),yield Promise.all(nt.container.getProviders().map(st=>st.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function dr(nt,xe,st){var wt;let Wt=null!==(wt=_t[nt])&&void 0!==wt?wt:nt;st&&(Wt+=`-${st}`);const $t=Wt.match(/\s|\//),G=xe.match(/\s|\//);if($t||G){const U=[`Unable to register library "${Wt}" with version "${xe}":`];return $t&&U.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),$t&&G&&U.push("and"),G&&U.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void he.warn(U.join(" "))}fn(new X.wA(`${Wt}-version`,()=>({library:Wt,version:xe}),"VERSION"))}function gi(nt,xe){if(null!==nt&&"function"!=typeof nt)throw Er.create("invalid-log-argument");(0,L.Am)(nt,xe)}function ai(nt){(0,L.Ub)(nt)}const In="firebase-heartbeat-store";let mi=null;function Js(){return mi||(mi=(0,ce.X3)("firebase-heartbeat-database",1,(nt,xe)=>{0===xe&&nt.createObjectStore(In)}).catch(nt=>{throw Er.create("storage-open",{originalErrorMessage:nt.message})})),mi}function Xt(){return(Xt=(0,c.Z)(function*(nt){try{return(yield Js()).transaction(In).objectStore(In).get(Ci(nt))}catch(xe){throw Er.create("storage-get",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function ft(nt,xe){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(nt,xe){try{const wt=(yield Js()).transaction(In,"readwrite");return yield wt.objectStore(In).put(xe,Ci(nt)),wt.complete}catch(st){throw Er.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function Ci(nt){return`${nt.name}!${nt.options.appId}`}class To{constructor(xe){this.container=xe,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new bt(st),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const wt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Ni();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!xe._heartbeatsCache.heartbeats.some($t=>$t.date===Wt))return xe._heartbeatsCache.heartbeats.push({date:Wt,agent:wt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter($t=>{const G=new Date($t.date).valueOf();return Date.now()-G<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const st=Ni(),{heartbeatsToSend:wt,unsentEntries:Wt}=function Ti(nt,xe=1024){const st=[];let wt=nt.slice();for(const Wt of nt){const $t=st.find(G=>G.agent===Wt.agent);if($t){if($t.dates.push(Wt.date),Oi(st)>xe){$t.dates.pop();break}}else if(st.push({agent:Wt.agent,dates:[Wt.date]}),Oi(st)>xe){st.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:st,unsentEntries:wt}}(xe._heartbeatsCache.heartbeats),$t=(0,ce.L)(JSON.stringify({version:2,heartbeats:wt}));return xe._heartbeatsCache.lastSentHeartbeatDate=st,Wt.length>0?(xe._heartbeatsCache.heartbeats=Wt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),$t})()}}function Ni(){return(new Date).toISOString().substring(0,10)}class bt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function qa(nt){return Xt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var st=this;return(0,c.Z)(function*(){var wt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return ft(st.app,{lastSentHeartbeatDate:null!==(wt=xe.lastSentHeartbeatDate)&&void 0!==wt?wt:$t.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var st=this;return(0,c.Z)(function*(){var wt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return ft(st.app,{lastSentHeartbeatDate:null!==(wt=xe.lastSentHeartbeatDate)&&void 0!==wt?wt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...xe.heartbeats]})}})()}}function Oi(nt){return(0,ce.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function qt(nt){fn(new X.wA("platform-logger",xe=>new ne(xe),"PRIVATE")),fn(new X.wA("heartbeat",xe=>new To(xe),"PRIVATE")),dr(ie,"0.7.20",nt),dr(ie,"0.7.20","esm2017"),dr("fire-js","")}("")},4859:(pt,Ie,F)=>{F.d(Ie,{H0:()=>ge,wA:()=>L});var c=F(5861),X=F(2090);class L{constructor($,z,te){this.name=$,this.instanceFactory=z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ce="[DEFAULT]";class ne{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const te=new X.BH;if(this.instancesDeferred.set(z,te),this.isInitialized(z)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:z});Qe&&te.resolve(Qe)}catch(Qe){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Qe=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ne){if(Qe)return null;throw Ne}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(z){}for(const[z,te]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(z);try{const Ne=this.getOrInitializeService({instanceIdentifier:Qe});te.resolve(Ne)}catch(Ne){}}}}clearInstance($=ce){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ce){return this.instances.has($)}getOptions($=ce){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:te,options:z});for(const[Ne,Le]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ne)&&Le.resolve(Qe);return Qe}onInit($,z){var te;const Qe=this.normalizeInstanceIdentifier(z),Ne=null!==(te=this.onInitCallbacks.get(Qe))&&void 0!==te?te:new Set;Ne.add($),this.onInitCallbacks.set(Qe,Ne);const Le=this.instances.get(Qe);return Le&&$(Le,Qe),()=>{Ne.delete($)}}invokeOnInitCallbacks($,z){const te=this.onInitCallbacks.get(z);if(te)for(const Qe of te)try{Qe($,z)}catch(Ne){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===ce?void 0:he),options:z}),this.instances.set($,te),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(Qe){}var he;return te||null}normalizeInstanceIdentifier($=ce){return this.component?this.component.multipleInstances?$:ce:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new ne($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ie,F)=>{F.d(Ie,{Am:()=>he,Ub:()=>ge,Yd:()=>ie,in:()=>X});const c=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const L={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ce=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ye=($,z,...te)=>{if(z<$.logLevel)return;const Qe=(new Date).toISOString(),Ne=ne[z];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ne](`[${Qe}]  ${$.name}:`,...te)};class ie{constructor(z){this.name=z,this._logLevel=ce,this._logHandler=ye,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in X))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...z),this._logHandler(this,X.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...z),this._logHandler(this,X.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,X.INFO,...z),this._logHandler(this,X.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,X.WARN,...z),this._logHandler(this,X.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...z),this._logHandler(this,X.ERROR,...z)}}function ge($){c.forEach(z=>{z.setLogLevel($)})}function he($,z){for(const te of c){let Qe=null;z&&z.level&&(Qe=L[z.level]),te.userLogHandler=null===$?null:(Ne,Le,...Ge)=>{const me=Ge.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(at){return null}}).filter(Ce=>Ce).join(" ");Le>=(null!=Qe?Qe:Ne.logLevel)&&$({level:X[Le].toLowerCase(),message:me,args:Ge,type:Ne.name})}}}},5861:(pt,Ie,F)=>{function c(L,ce,ne,ye,ie,ge,he){try{var $=L[ge](he),z=$.value}catch(te){return void ne(te)}$.done?ce(z):Promise.resolve(z).then(ye,ie)}function X(L){return function(){var ce=this,ne=arguments;return new Promise(function(ye,ie){var ge=L.apply(ce,ne);function he(z){c(ge,ye,ie,he,$,"next",z)}function $(z){c(ge,ye,ie,he,$,"throw",z)}he(void 0)})}}F.d(Ie,{Z:()=>X})}},pt=>{pt(pt.s=6942)}]);