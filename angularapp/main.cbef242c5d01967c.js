(self.webpackChunkTP_SalaDeJuegos=self.webpackChunkTP_SalaDeJuegos||[]).push([[179],{2011:(wt,xe,V)=>{"use strict";V.d(xe,{Dh:()=>_e,GT:()=>Te,cc:()=>Le,hO:()=>Je,on:()=>Y,pX:()=>ae,xv:()=>me});var c=V(5e3),ne=V(127),B=V(5813);wt=V.hmd(wt);const fe=["ngOnDestroy"],ae=(Ne,ht,lt,Pe={})=>new Proxy(Ne,{get:(Ie,Me)=>lt.runOutsideAngular(()=>{var Xe;if(Ne[Me])return(null===(Xe=null==Pe?void 0:Pe.spy)||void 0===Xe?void 0:Xe.get)&&Pe.spy.get(Me,Ne[Me]),Ne[Me];if(fe.indexOf(Me)>-1)return()=>{};const Ke=ht.toPromise().then(H=>{const ie=H&&H[Me];return"function"==typeof ie?ie.bind(H):ie&&ie.then?ie.then(ce=>lt.run(()=>ce)):lt.run(()=>ie)});return new Proxy(()=>{},{get:(H,ie)=>Ke[ie],apply:(H,ie,ce)=>Ke.then(we=>{var ue;const Se=we&&we(...ce);return(null===(ue=null==Pe?void 0:Pe.spy)||void 0===ue?void 0:ue.apply)&&Pe.spy.apply(Me,ce,Se),Se})})})}),Te=(Ne,ht)=>{ht.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(Pe=>{Object.defineProperty(Ne.prototype,Pe,Object.getOwnPropertyDescriptor(lt.prototype||lt,Pe))})})};class le{constructor(ht){return ht}}const _e=new c.OlP("angularfire2.app.options"),me=new c.OlP("angularfire2.app.name");function Y(Ne,ht,lt){const Ie="object"==typeof lt&&lt||{};Ie.name=Ie.name||"string"==typeof lt&&lt||"[DEFAULT]";const Xe=ne.Z.apps.filter(Ke=>Ke&&Ke.name===Ie.name)[0]||ht.runOutsideAngular(()=>ne.Z.initializeApp(Ne,Ie));try{JSON.stringify(Ne)!==JSON.stringify(Xe.options)&&J("error",`${Xe.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new le(Xe)}const J=(Ne,...ht)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ne](...ht)},oe={provide:le,useFactory:Y,deps:[_e,c.R0b,[new c.FiY,me]]};let Je=(()=>{class Ne{constructor(lt){ne.Z.registerVersion("angularfire",B.q4.full,"core"),ne.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ne.Z.registerVersion("angular",c.q4F.full,lt.toString())}static initializeApp(lt,Pe){return{ngModule:Ne,providers:[{provide:_e,useValue:lt},{provide:me,useValue:Pe}]}}}return Ne.\u0275fac=function(lt){return new(lt||Ne)(c.LFG(c.Lbi))},Ne.\u0275mod=c.oAB({type:Ne}),Ne.\u0275inj=c.cJS({providers:[oe]}),Ne})();function Le(Ne,ht,lt,Pe,Ie){const[,Me,Xe]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Ne)||[];if(Me)return function Ge(Ne,ht){try{return Ne.toString()===ht.toString()}catch(lt){return Ne===ht}}(Ie,Xe)||(be("error",`${ht} was already initialized on the ${lt} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Ie,was:Xe})),Me;{const Ke=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Ke,Ie]),Ke}}const We=!!wt.hot,be=(Ne,...ht)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ne](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(wt,xe,V)=>{"use strict";V.d(xe,{q4:()=>Xu,iC:()=>rd,HU:()=>ou,vb:()=>vh,JM:()=>Ko});var c=V(5e3),ne=V(5867),B=V(5861),fe=V(9681),ae=V(2090),Te=V(4859),le=V(1877);const _e="@firebase/installations",J="w:0.5.7",oe="FIS_v2",Ne=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(S){return S instanceof ae.ZR&&S.code.includes("request-failed")}function lt({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Pe(S){return{token:S.token,requestStatus:2,expiresIn:ce(S.expiresIn),creationTime:Date.now()}}function Ie(S,M){return Me.apply(this,arguments)}function Me(){return(Me=(0,B.Z)(function*(S,M){const $=(yield M.json()).error;return Ne.create("request-failed",{requestName:S,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Xe({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Ke(S,{refreshToken:M}){const P=Xe(S);return P.append("Authorization",function we(S){return`${oe} ${S}`}(M)),P}function H(S){return ie.apply(this,arguments)}function ie(){return(ie=(0,B.Z)(function*(S){const M=yield S();return M.status>=500&&M.status<600?S():M})).apply(this,arguments)}function ce(S){return Number(S.replace("s","000"))}function ue(S,M){return Se.apply(this,arguments)}function Se(){return(Se=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:M},{fid:P}){const $=lt(S),re=Xe(S),de=M.getImmediate({optional:!0});if(de){const Gt=yield de.getHeartbeatsHeader();Gt&&re.append("x-firebase-client",Gt)}const Ve={method:"POST",headers:re,body:JSON.stringify({fid:P,authVersion:oe,appId:S.appId,sdkVersion:J})},pt=yield H(()=>fetch($,Ve));if(pt.ok){const Gt=yield pt.json();return{fid:Gt.fid||P,registrationStatus:2,refreshToken:Gt.refreshToken,authToken:Pe(Gt.authToken)}}throw yield Ie("Create Installation",pt)})).apply(this,arguments)}function pe(S){return new Promise(M=>{setTimeout(M,S)})}const hn=/^[cdef][\w-]{21}$/;function Et(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const P=function It(S){return function Vt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return hn.test(P)?P:""}catch(S){return""}}function rn(S){return`${S.appName}!${S.appId}`}const ln=new Map;function Lr(S,M){const P=rn(S);cn(P,M),function an(S,M){const P=function Qi(){return!si&&"BroadcastChannel"in self&&(si=new BroadcastChannel("[Firebase] FID Change"),si.onmessage=S=>{cn(S.data.key,S.data.fid)}),si}();P&&P.postMessage({key:S,fid:M}),function Os(){0===ln.size&&si&&(si.close(),si=null)}()}(P,M)}function cn(S,M){const P=ln.get(S);if(P)for(const $ of P)$(M)}let si=null;const mi="firebase-installations-store";let cs=null;function Xi(){return cs||(cs=(0,ae.X3)("firebase-installations-database",1,(S,M)=>{0===M&&S.createObjectStore(mi)})),cs}function ot(S,M){return $n.apply(this,arguments)}function $n(){return($n=(0,B.Z)(function*(S,M){const P=rn(S),re=(yield Xi()).transaction(mi,"readwrite"),de=re.objectStore(mi),Be=yield de.get(P);return yield de.put(M,P),yield re.complete,(!Be||Be.fid!==M.fid)&&Lr(S,M.fid),M})).apply(this,arguments)}function _i(S){return bn.apply(this,arguments)}function bn(){return(bn=(0,B.Z)(function*(S){const M=rn(S),$=(yield Xi()).transaction(mi,"readwrite");yield $.objectStore(mi).delete(M),yield $.complete})).apply(this,arguments)}function er(S,M){return ks.apply(this,arguments)}function ks(){return(ks=(0,B.Z)(function*(S,M){const P=rn(S),re=(yield Xi()).transaction(mi,"readwrite"),de=re.objectStore(mi),Be=yield de.get(P),Ve=M(Be);return void 0===Ve?yield de.delete(P):yield de.put(Ve,P),yield re.complete,Ve&&(!Be||Be.fid!==Ve.fid)&&Lr(S,Ve.fid),Ve})).apply(this,arguments)}function kn(S){return xt.apply(this,arguments)}function xt(){return(xt=(0,B.Z)(function*(S){let M;const P=yield er(S.appConfig,$=>{const re=yi($),de=Sr(S,re);return M=de.registrationPromise,de.installationEntry});return""===P.fid?{installationEntry:yield M}:{installationEntry:P,registrationPromise:M}})).apply(this,arguments)}function yi(S){return Ft(S||{fid:Et(),registrationStatus:0})}function Sr(S,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Ne.create("app-offline"))};const P={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},$=function en(S,M){return tt.apply(this,arguments)}(S,P);return{installationEntry:P,registrationPromise:$}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:mt(S)}:{installationEntry:M}}function tt(){return(tt=(0,B.Z)(function*(S,M){try{const P=yield ue(S,M);return ot(S.appConfig,P)}catch(P){throw ht(P)&&409===P.customData.serverCode?yield _i(S.appConfig):yield ot(S.appConfig,{fid:M.fid,registrationStatus:0}),P}})).apply(this,arguments)}function mt(S){return vi.apply(this,arguments)}function vi(){return(vi=(0,B.Z)(function*(S){let M=yield cr(S.appConfig);for(;1===M.registrationStatus;)yield pe(100),M=yield cr(S.appConfig);if(0===M.registrationStatus){const{installationEntry:P,registrationPromise:$}=yield kn(S);return $||P}return M})).apply(this,arguments)}function cr(S){return er(S,M=>{if(!M)throw Ne.create("installation-not-found");return Ft(M)})}function Ft(S){return function io(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Si(S,M){return bi.apply(this,arguments)}function bi(){return(bi=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:M},P){const $=Dt(S,P),re=Ke(S,P),de=M.getImmediate({optional:!0});if(de){const Gt=yield de.getHeartbeatsHeader();Gt&&re.append("x-firebase-client",Gt)}const Ve={method:"POST",headers:re,body:JSON.stringify({installation:{sdkVersion:J,appId:S.appId}})},pt=yield H(()=>fetch($,Ve));if(pt.ok)return Pe(yield pt.json());throw yield Ie("Generate Auth Token",pt)})).apply(this,arguments)}function Dt(S,{fid:M}){return`${lt(S)}/${M}/authTokens:generate`}function Vi(S){return tn.apply(this,arguments)}function tn(){return(tn=(0,B.Z)(function*(S,M=!1){let P;const $=yield er(S.appConfig,de=>{if(!nn(de))throw Ne.create("not-registered");const Be=de.authToken;if(!M&&K(Be))return de;if(1===Be.requestStatus)return P=ut(S,M),de;{if(!navigator.onLine)throw Ne.create("app-offline");const Ve=Q(de);return P=At(S,Ve),Ve}});return P?yield P:$.authToken})).apply(this,arguments)}function ut(S,M){return he.apply(this,arguments)}function he(){return(he=(0,B.Z)(function*(S,M){let P=yield ft(S.appConfig);for(;1===P.authToken.requestStatus;)yield pe(100),P=yield ft(S.appConfig);const $=P.authToken;return 0===$.requestStatus?Vi(S,M):$})).apply(this,arguments)}function ft(S){return er(S,M=>{if(!nn(M))throw Ne.create("not-registered");return function ye(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function At(S,M){return on.apply(this,arguments)}function on(){return(on=(0,B.Z)(function*(S,M){try{const P=yield Si(S,M),$=Object.assign(Object.assign({},M),{authToken:P});return yield ot(S.appConfig,$),P}catch(P){if(!ht(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const $=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield ot(S.appConfig,$)}else yield _i(S.appConfig);throw P}})).apply(this,arguments)}function nn(S){return void 0!==S&&2===S.registrationStatus}function K(S){return 2===S.requestStatus&&!function z(S){const M=Date.now();return M<S.creationTime||S.creationTime+S.expiresIn<M+36e5}(S)}function Q(S){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:M})}function Ze(){return(Ze=(0,B.Z)(function*(S){const M=S,{installationEntry:P,registrationPromise:$}=yield kn(M);return $?$.catch(console.error):Vi(M).catch(console.error),P.fid})).apply(this,arguments)}function un(){return(un=(0,B.Z)(function*(S,M=!1){const P=S;return yield Ui(P),(yield Vi(P,M)).token})).apply(this,arguments)}function Ui(S){return dn.apply(this,arguments)}function dn(){return(dn=(0,B.Z)(function*(S){const{registrationPromise:M}=yield kn(S);M&&(yield M)})).apply(this,arguments)}function pi(S){return Ne.create("missing-app-config-values",{valueName:S})}const oa="installations",$e=S=>{const M=S.getProvider("app").getImmediate(),P=function us(S){if(!S||!S.options)throw pi("App Configuration");if(!S.name)throw pi("App Name");const M=["projectId","apiKey","appId"];for(const P of M)if(!S.options[P])throw pi(P);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(M);return{app:M,appConfig:P,heartbeatServiceProvider:(0,fe._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Jt=S=>{const M=S.getProvider("app").getImmediate(),P=(0,fe._getProvider)(M,oa).getImmediate();return{getId:()=>function se(S){return Ze.apply(this,arguments)}(P),getToken:re=>function kt(S){return un.apply(this,arguments)}(P,re)}};(function Mn(){(0,fe._registerComponent)(new Te.wA(oa,$e,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("installations-internal",Jt,"PRIVATE"))})(),(0,fe.registerVersion)(_e,"0.5.7"),(0,fe.registerVersion)(_e,"0.5.7","esm2017");const Ii="@firebase/remote-config",zn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $c{constructor(M,P,$,re){this.client=M,this.storage=P,this.storageCache=$,this.logger=re}isCachedDataFresh(M,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-P,re=$<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${re}.`),re}fetch(M){var P=this;return(0,B.Z)(function*(){const[$,re]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(re&&P.isCachedDataFresh(M.cacheMaxAgeMillis,$))return re;M.eTag=re&&re.eTag;const de=yield P.client.fetch(M),Be=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Be.push(P.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Be),de})()}}function oo(S=navigator){return S.languages&&S.languages[0]||S.language}class fs{constructor(M,P,$,re,de,Be){this.firebaseInstallations=M,this.sdkVersion=P,this.namespace=$,this.projectId=re,this.apiKey=de,this.appId=Be}fetch(M){var P=this;return(0,B.Z)(function*(){const[$,re]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},pt={sdk_version:P.sdkVersion,app_instance_id:$,app_instance_id_token:re,app_id:P.appId,language_code:oo()},Gt={method:"POST",headers:Ve,body:JSON.stringify(pt)},Qt=fetch(Be,Gt),zt=new Promise((is,Ds)=>{M.signal.addEventListener(()=>{const Sa=new Error("The operation was aborted.");Sa.name="AbortError",Ds(Sa)})});let Ei;try{yield Promise.race([Qt,zt]),Ei=yield Qt}catch(is){let Ds="fetch-client-network";throw"AbortError"===is.name&&(Ds="fetch-timeout"),zn.create(Ds,{originalErrorMessage:is.message})}let ui=Ei.status;const pl=Ei.headers.get("ETag")||void 0;let Ta,xr;if(200===Ei.status){let is;try{is=yield Ei.json()}catch(Ds){throw zn.create("fetch-client-parse",{originalErrorMessage:Ds.message})}Ta=is.entries,xr=is.state}if("INSTANCE_STATE_UNSPECIFIED"===xr?ui=500:"NO_CHANGE"===xr?ui=304:("NO_TEMPLATE"===xr||"EMPTY_CONFIG"===xr)&&(Ta={}),304!==ui&&200!==ui)throw zn.create("fetch-status",{httpStatus:ui});return{status:ui,eTag:pl,config:Ta}})()}}class zu{constructor(M,P){this.client=M,this.storage=P}fetch(M){var P=this;return(0,B.Z)(function*(){const $=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(M,$)})()}attemptFetch(M,{throttleEndTimeMillis:P,backoffCount:$}){var re=this;return(0,B.Z)(function*(){yield function ai(S,M){return new Promise((P,$)=>{const re=Math.max(M-Date.now(),0),de=setTimeout(P,re);S.addEventListener(()=>{clearTimeout(de),$(zn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,P);try{const de=yield re.client.fetch(M);return yield re.storage.deleteThrottleMetadata(),de}catch(de){if(!function Bl(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}(de))throw de;const Be={throttleEndTimeMillis:Date.now()+(0,ae.$s)($),backoffCount:$+1};return yield re.storage.setThrottleMetadata(Be),re.attemptFetch(M,Be)}})()}}class Ka{constructor(M,P,$,re,de){this.app=M,this._client=P,this._storageCache=$,this._storage=re,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vl(S,M){const P=S.target.error||void 0;return zn.create(M,{originalErrorMessage:P&&P.message})}const Ls="app_namespace_store";class Fo{constructor(M,P,$,re=function ph(){return new Promise((S,M)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=$=>{M(Vl($,"storage-open"))},P.onsuccess=$=>{S($.target.result)},P.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(P){M(zn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=M,this.appName=P,this.namespace=$,this.openDbPromise=re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var P=this;return(0,B.Z)(function*(){const $=yield P.openDbPromise;return new Promise((re,de)=>{const Ve=$.transaction([Ls],"readonly").objectStore(Ls),pt=P.createCompositeKey(M);try{const Gt=Ve.get(pt);Gt.onerror=Qt=>{de(Vl(Qt,"storage-get"))},Gt.onsuccess=Qt=>{const zt=Qt.target.result;re(zt?zt.value:void 0)}}catch(Gt){de(zn.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(M,P){var $=this;return(0,B.Z)(function*(){const re=yield $.openDbPromise;return new Promise((de,Be)=>{const pt=re.transaction([Ls],"readwrite").objectStore(Ls),Gt=$.createCompositeKey(M);try{const Qt=pt.put({compositeKey:Gt,value:P});Qt.onerror=zt=>{Be(Vl(zt,"storage-set"))},Qt.onsuccess=()=>{de()}}catch(Qt){Be(zn.create("storage-set",{originalErrorMessage:Qt&&Qt.message}))}})})()}delete(M){var P=this;return(0,B.Z)(function*(){const $=yield P.openDbPromise;return new Promise((re,de)=>{const Ve=$.transaction([Ls],"readwrite").objectStore(Ls),pt=P.createCompositeKey(M);try{const Gt=Ve.delete(pt);Gt.onerror=Qt=>{de(Vl(Qt,"storage-delete"))},Gt.onsuccess=()=>{re()}}catch(Gt){de(zn.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Ul{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,B.Z)(function*(){const P=M.storage.getLastFetchStatus(),$=M.storage.getLastSuccessfulFetchTimestampMillis(),re=M.storage.getActiveConfig(),de=yield P;de&&(M.lastFetchStatus=de);const Be=yield $;Be&&(M.lastSuccessfulFetchTimestampMillis=Be);const Ve=yield re;Ve&&(M.activeConfig=Ve)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function ao(){return qu.apply(this,arguments)}function qu(){return(qu=(0,B.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(S){return!1}})).apply(this,arguments)}!function Lo(){(0,fe._registerComponent)(new Te.wA("remote-config",function S(M,{instanceIdentifier:P}){const $=M.getProvider("app").getImmediate(),re=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,ae.hl)())throw zn.create("indexed-db-unavailable");const{projectId:de,apiKey:Be,appId:Ve}=$.options;if(!de)throw zn.create("registration-project-id");if(!Be)throw zn.create("registration-api-key");if(!Ve)throw zn.create("registration-app-id");const pt=new Fo(Ve,$.name,P=P||"firebase"),Gt=new Ul(pt),Qt=new le.Yd(Ii);Qt.logLevel=le.in.ERROR;const zt=new fs(re,fe.SDK_VERSION,P,de,Be,Ve),Ei=new zu(zt,pt),ui=new $c(Ei,pt,Gt,Qt),pl=new Ka($,ui,Gt,pt,Qt);return function Qn(S){const M=(0,ae.m9)(S);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(pl),pl},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Ii,"0.3.6"),(0,fe.registerVersion)(Ii,"0.3.6","esm2017")}();const jl="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lo="google.c.a.c_id",ca="google.c.a.c_l",qc="google.c.a.ts",gh="google.c.a.e";var Vs=(()=>{return(S=Vs||(Vs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Vs;var S})();function hr(S){const M=new Uint8Array(S);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ja(S){const P=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(P),re=new Uint8Array($.length);for(let de=0;de<$.length;++de)re[de]=$.charCodeAt(de);return re}const Qa="fcm_token_details_db",Zn="fcm_token_object_Store";function Wu(S){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Qa))return null;let M=null;return(yield(0,ae.X3)(Qa,5,function(){var $=(0,B.Z)(function*(re,de,Be,Ve){var pt;if(de<2||!re.objectStoreNames.contains(Zn))return;const Gt=Ve.objectStore(Zn),Qt=yield Gt.index("fcmSenderId").get(S);if(yield Gt.clear(),Qt)if(2===de){const zt=Qt;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;M={token:zt.fcmToken,createTime:null!==(pt=zt.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:hr(zt.vapidKey)}}}else if(3===de){const zt=Qt;M={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:hr(zt.auth),p256dh:hr(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:hr(zt.vapidKey)}}}else if(4===de){const zt=Qt;M={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:hr(zt.auth),p256dh:hr(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:hr(zt.vapidKey)}}}});return function(re,de,Be,Ve){return $.apply(this,arguments)}}())).close(),yield(0,ae.Lj)(Qa),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Wc(M)?M:null}),Xa.apply(this,arguments)}function Wc(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:M}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const gs="firebase-messaging-store";let ua=null;function Hl(){return ua||(ua=(0,ae.X3)("firebase-messaging-database",1,(S,M)=>{0===M&&S.createObjectStore(gs)})),ua}function xn(S){return Us.apply(this,arguments)}function Us(){return(Us=(0,B.Z)(function*(S){const M=Ur(S),$=yield(yield Hl()).transaction(gs).objectStore(gs).get(M);if($)return $;{const re=yield Wu(S.appConfig.senderId);if(re)return yield ms(S,re),re}})).apply(this,arguments)}function ms(S,M){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,B.Z)(function*(S,M){const P=Ur(S),re=(yield Hl()).transaction(gs,"readwrite");return yield re.objectStore(gs).put(M,P),yield re.complete,M})).apply(this,arguments)}function Zc(S){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*(S){const M=Ur(S),$=(yield Hl()).transaction(gs,"readwrite");yield $.objectStore(gs).delete(M),yield $.complete})).apply(this,arguments)}function Ur({appConfig:S}){return S.appId}const Kn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function da(S,M){return jr.apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(S,M){const P=yield Hs(S),$=Mt(M),re={method:"POST",headers:P,body:JSON.stringify($)};let de;try{de=yield(yield fetch(fr(S.appConfig),re)).json()}catch(Be){throw Kn.create("token-subscribe-failed",{errorInfo:Be})}if(de.error)throw Kn.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Kn.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Ai(S,M){return js.apply(this,arguments)}function js(){return(js=(0,B.Z)(function*(S,M){const P=yield Hs(S),$=Mt(M.subscriptionOptions),re={method:"PATCH",headers:P,body:JSON.stringify($)};let de;try{de=yield(yield fetch(`${fr(S.appConfig)}/${M.token}`,re)).json()}catch(Be){throw Kn.create("token-update-failed",{errorInfo:Be})}if(de.error)throw Kn.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Kn.create("token-update-no-token");return de.token})).apply(this,arguments)}function Hr(S,M){return ha.apply(this,arguments)}function ha(){return(ha=(0,B.Z)(function*(S,M){const $={method:"DELETE",headers:yield Hs(S)};try{const de=yield(yield fetch(`${fr(S.appConfig)}/${M}`,$)).json();if(de.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(re){throw Kn.create("token-unsubscribe-failed",{errorInfo:re})}})).apply(this,arguments)}function fr({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Hs(S){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,B.Z)(function*({appConfig:S,installations:M}){const P=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Mt({p256dh:S,auth:M,endpoint:P,vapidKey:$}){const re={web:{endpoint:P,auth:M,p256dh:S}};return $!==dr&&(re.web.applicationPubKey=$),re}const nl=6048e5;function fa(S){return pa.apply(this,arguments)}function pa(){return(pa=(0,B.Z)(function*(S){const M=yield zl(S.swRegistration,S.vapidKey),P={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:M.endpoint,auth:hr(M.getKey("auth")),p256dh:hr(M.getKey("p256dh"))},$=yield xn(S.firebaseDependencies);if($){if(Vo($.subscriptionOptions,P))return Date.now()>=$.createTime+nl?Gl(S,{token:$.token,createTime:Date.now(),subscriptionOptions:P}):$.token;try{yield Hr(S.firebaseDependencies,$.token)}catch(re){console.warn(re)}return ke(S.firebaseDependencies,P)}return ke(S.firebaseDependencies,P)})).apply(this,arguments)}function il(S){return uo.apply(this,arguments)}function uo(){return(uo=(0,B.Z)(function*(S){const M=yield xn(S.firebaseDependencies);M&&(yield Hr(S.firebaseDependencies,M.token),yield Zc(S.firebaseDependencies));const P=yield S.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Gl(S,M){return $l.apply(this,arguments)}function $l(){return($l=(0,B.Z)(function*(S,M){try{const P=yield Ai(S.firebaseDependencies,M),$=Object.assign(Object.assign({},M),{token:P,createTime:Date.now()});return yield ms(S.firebaseDependencies,$),P}catch(P){throw yield il(S),P}})).apply(this,arguments)}function ke(S,M){return $t.apply(this,arguments)}function $t(){return($t=(0,B.Z)(function*(S,M){const $={token:yield da(S,M),createTime:Date.now(),subscriptionOptions:M};return yield ms(S,$),$.token})).apply(this,arguments)}function zl(S,M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,B.Z)(function*(S,M){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ja(M)})})).apply(this,arguments)}function Vo(S,M){return M.vapidKey===S.vapidKey&&M.endpoint===S.endpoint&&M.auth===S.auth&&M.p256dh===S.p256dh}function ho(S){const M={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function tr(S,M){if(!M.notification)return;S.notification={};const P=M.notification.title;P&&(S.notification.title=P);const $=M.notification.body;$&&(S.notification.body=$);const re=M.notification.image;re&&(S.notification.image=re)}(M,S),function rl(S,M){!M.data||(S.data=M.data)}(M,S),function ql(S,M){if(!M.fcmOptions)return;S.fcmOptions={};const P=M.fcmOptions.link;P&&(S.fcmOptions.link=P);const $=M.fcmOptions.analytics_label;$&&(S.fcmOptions.analyticsLabel=$)}(M,S),M}function Kc(S){return"object"==typeof S&&!!S&&lo in S}function Wl(S,M){const P=[];for(let $=0;$<S.length;$++)P.push(S.charAt($)),$<M.length&&P.push(M.charAt($));return P.join("")}function $s(S){return Kn.create("missing-app-config-values",{valueName:S})}Wl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mi{constructor(M,P,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const re=function sl(S){if(!S||!S.options)throw $s("App Configuration Object");if(!S.name)throw $s("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:P}=S;for(const $ of M)if(!P[$])throw $s($);return{appName:S.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:re,installations:P,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Mr(S){return ol.apply(this,arguments)}function ol(){return(ol=(0,B.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(jl,{scope:Bs}),S.swRegistration.update().catch(()=>{})}catch(M){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function zs(S,M){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,B.Z)(function*(S,M){if(!M&&!S.swRegistration&&(yield Mr(S)),M||!S.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");S.swRegistration=M}})).apply(this,arguments)}function Zl(S,M){return ga.apply(this,arguments)}function ga(){return(ga=(0,B.Z)(function*(S,M){M?S.vapidKey=M:S.vapidKey||(S.vapidKey=dr)})).apply(this,arguments)}function al(){return(al=(0,B.Z)(function*(S,M){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield Zl(S,null==M?void 0:M.vapidKey),yield zs(S,null==M?void 0:M.serviceWorkerRegistration),fa(S)})).apply(this,arguments)}function ma(S,M,P){return jo.apply(this,arguments)}function jo(){return(jo=(0,B.Z)(function*(S,M,P){const $=Kl(M);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:P[lo],message_name:P[ca],message_time:P[qc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kl(S){switch(S){case Vs.NOTIFICATION_CLICKED:return"notification_open";case Vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yc(){return(Yc=(0,B.Z)(function*(S,M){const P=M.data;if(!P.isFirebaseMessaging)return;S.onMessageHandler&&P.messageType===Vs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ho(P)):S.onMessageHandler.next(ho(P)));const $=P.data;Kc($)&&"1"===$[gh]&&(yield ma(S,P.messageType,$))})).apply(this,arguments)}const _a="@firebase/messaging",Yl=S=>{const M=new Mi(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function ll(S,M){return Yc.apply(this,arguments)}(M,P)),M},_s=S=>{const M=S.getProvider("messaging").getImmediate();return{getToken:$=>function Uo(S,M){return al.apply(this,arguments)}(M,$)}};function Qc(){return fo.apply(this,arguments)}function fo(){return(fo=(0,B.Z)(function*(){try{yield(0,ae.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jc(){(0,fe._registerComponent)(new Te.wA("messaging",Yl,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("messaging-internal",_s,"PRIVATE")),(0,fe.registerVersion)(_a,"0.9.11"),(0,fe.registerVersion)(_a,"0.9.11","esm2017")}();const Ql="analytics",Hf="firebase_id",ya="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ul="https://www.googletagmanager.com/gtag/js",li=new le.Yd("@firebase/analytics");function Xl(S){return Promise.all(S.map(M=>M.catch(P=>P)))}function eu(S,M){const P=document.createElement("script");P.src=`${ul}?l=${S}&id=${M}`,P.async=!0,document.head.appendChild(P)}function Ho(S,M,P,$,re,de){return tu.apply(this,arguments)}function tu(){return(tu=(0,B.Z)(function*(S,M,P,$,re,de){const Be=$[re];try{if(Be)yield M[Be];else{const pt=(yield Xl(P)).find(Gt=>Gt.measurementId===re);pt&&(yield M[pt.appId])}}catch(Ve){li.error(Ve)}S("config",re,de)})).apply(this,arguments)}function va(S,M,P,$,re){return $i.apply(this,arguments)}function $i(){return($i=(0,B.Z)(function*(S,M,P,$,re){try{let de=[];if(re&&re.send_to){let Be=re.send_to;Array.isArray(Be)||(Be=[Be]);const Ve=yield Xl(P);for(const pt of Be){const Gt=Ve.find(zt=>zt.measurementId===pt),Qt=Gt&&M[Gt.appId];if(!Qt){de=[];break}de.push(Qt)}}0===de.length&&(de=Object.values(M)),yield Promise.all(de),S("event",$,re||{})}catch(de){li.error(de)}})).apply(this,arguments)}function mh(){const S=window.document.getElementsByTagName("script");for(const M of Object.values(S))if(M.src&&M.src.includes(ul))return M;return null}const Bn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),E=new class Sn{constructor(M={},P=1e3){this.throttleMetadata=M,this.intervalMillis=P}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,P){this.throttleMetadata[M]=P}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function D(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function k(S){return G.apply(this,arguments)}function G(){return(G=(0,B.Z)(function*(S){var M;const{appId:P,apiKey:$}=S,re={method:"GET",headers:D($)},de=ya.replace("{app-id}",P),Be=yield fetch(de,re);if(200!==Be.status&&304!==Be.status){let Ve="";try{const pt=yield Be.json();(null===(M=pt.error)||void 0===M?void 0:M.message)&&(Ve=pt.error.message)}catch(pt){}throw Bn.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:Ve})}return Be.json()})).apply(this,arguments)}function Re(S){return at.apply(this,arguments)}function at(){return(at=(0,B.Z)(function*(S,M=E,P){const{appId:$,apiKey:re,measurementId:de}=S.options;if(!$)throw Bn.create("no-app-id");if(!re){if(de)return{measurementId:de,appId:$};throw Bn.create("no-api-key")}const Be=M.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new ba;return setTimeout((0,B.Z)(function*(){Ve.abort()}),void 0!==P?P:6e4),Ln({appId:$,apiKey:re,measurementId:de},Be,Ve,M)})).apply(this,arguments)}function Ln(S,M,P){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,B.Z)(function*(S,{throttleEndTimeMillis:M,backoffCount:P},$,re=E){const{appId:de,measurementId:Be}=S;try{yield it($,M)}catch(Ve){if(Be)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:de,measurementId:Be};throw Ve}try{const Ve=yield k(S);return re.deleteThrottleMetadata(de),Ve}catch(Ve){if(!po(Ve)){if(re.deleteThrottleMetadata(de),Be)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:de,measurementId:Be};throw Ve}const pt=503===Number(Ve.customData.httpStatus)?(0,ae.$s)(P,re.intervalMillis,30):(0,ae.$s)(P,re.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+pt,backoffCount:P+1};return re.setThrottleMetadata(de,Gt),li.debug(`Calling attemptFetch again in ${pt} millis`),Ln(S,Gt,$,re)}})).apply(this,arguments)}function it(S,M){return new Promise((P,$)=>{const re=Math.max(M-Date.now(),0),de=setTimeout(P,re);S.addEventListener(()=>{clearTimeout(de),$(Bn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function po(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}class ba{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function Zu(){return wa.apply(this,arguments)}function wa(){return(wa=(0,B.Z)(function*(){if(!(0,ae.hl)())return li.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(S){return li.warn(Bn.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(S,M,P,$,re,de,Be){var Ve;const pt=Re(S);pt.then(ui=>{P[ui.measurementId]=ui.appId,S.options.measurementId&&ui.measurementId!==S.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${ui.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ui=>li.error(ui)),M.push(pt);const Gt=Zu().then(ui=>{if(ui)return $.getId()}),[Qt,zt]=yield Promise.all([pt,Gt]);mh()||eu(de,Qt.measurementId),re("js",new Date);const Ei=null!==(Ve=null==Be?void 0:Be.config)&&void 0!==Ve?Ve:{};return Ei.origin="firebase",Ei.update=!0,null!=zt&&(Ei[Hf]=zt),re("config",Qt.measurementId,Ei),Qt.measurementId})).apply(this,arguments)}class Go{constructor(M){this.app=M}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},$o=[];const es={};let zo,Zs,vs="dataLayer",Yu=!1;function bs(S,M,P){!function zr(){const S=[];if((0,ae.ru)()&&S.push("This is a browser extension environment."),(0,ae.zI)()||S.push("Cookies are not available."),S.length>0){const M=S.map(($,re)=>`(${re+1}) ${$}`).join(" "),P=Bn.create("invalid-analytics-context",{errorInfo:M});li.warn(P.message)}}();const $=S.options.appId;if(!$)throw Bn.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Bn.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[$])throw Bn.create("already-exists",{id:$});if(!Yu){!function ys(S){let M=[];Array.isArray(window[S])?M=window[S]:window[S]=M}(vs);const{wrappedGtag:de,gtagCore:Be}=function nu(S,M,P,$,re){let de=function(...Be){window[$].push(arguments)};return window[re]&&"function"==typeof window[re]&&(de=window[re]),window[re]=function ec(S,M,P,$){function de(){return(de=(0,B.Z)(function*(Be,Ve,pt){try{"event"===Be?yield va(S,M,P,Ve,pt):"config"===Be?yield Ho(S,M,P,$,Ve,pt):S("set",Ve)}catch(Gt){li.error(Gt)}})).apply(this,arguments)}return function re(Be,Ve,pt){return de.apply(this,arguments)}}(de,S,M,P),{gtagCore:de,wrappedGtag:window[re]}}(Xr,$o,es,vs,"gtag");Zs=de,zo=Be,Yu=!0}return Xr[$]=function Nn(S,M,P,$,re,de,Be){return go.apply(this,arguments)}(S,$o,es,M,zo,vs,P),new Go(S)}function Ca(){return(Ca=(0,B.Z)(function*(S,M,P,$,re){if(re&&re.global)S("event",P,$);else{const de=yield M;S("event",P,Object.assign(Object.assign({},$),{send_to:de}))}})).apply(this,arguments)}function Jn(){return mo.apply(this,arguments)}function mo(){return(mo=(0,B.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(S){return!1}})).apply(this,arguments)}const Wo="@firebase/analytics";!function Gf(){(0,fe._registerComponent)(new Te.wA(Ql,(M,{options:P})=>bs(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,fe._registerComponent)(new Te.wA("analytics-internal",function S(M){try{const P=M.getProvider(Ql).getImmediate();return{logEvent:($,re,de)=>function um(S,M,P,$){S=(0,ae.m9)(S),function qo(S,M,P,$,re){return Ca.apply(this,arguments)}(Zs,Xr[S.app.options.appId],M,P,$).catch(re=>li.error(re))}(P,$,re,de)}}catch(P){throw Bn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,fe.registerVersion)(Wo,"0.7.7"),(0,fe.registerVersion)(Wo,"0.7.7","esm2017")}();var Zo=V(4408),ru=V(7565);const Ju=new class ni extends ru.v{}(class _o extends Zo.o{constructor(M,P){super(M,P),this.scheduler=M,this.work=P}schedule(M,P=0){return P>0?super.schedule(M,P):(this.delay=P,this.state=M,this.scheduler.flush(this),this)}execute(M,P){return P>0||this.closed?super.execute(M,P):this._execute(M,P)}requestAsyncId(M,P,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(M,P,$):M.flush(this)}});var dm=V(4986),Qu=V(8505),gr=V(9468),ts=V(5363);const Xu=new c.GfV("7.3.0"),yo="__angularfire_symbol__analyticsIsSupportedValue",Es="__angularfire_symbol__analyticsIsSupported",Ks="__angularfire_symbol__remoteConfigIsSupportedValue",tc="__angularfire_symbol__remoteConfigIsSupported",ed="__angularfire_symbol__messagingIsSupportedValue",td="__angularfire_symbol__messagingIsSupported";function Ko(S,M,P){if(M){if(1===M.length)return M[0];const de=M.filter(Be=>Be.app===P);if(1===de.length)return de[0]}return P.container.getProvider(S).getImmediate({optional:!0})}globalThis[Es]||(globalThis[Es]=Jn().then(S=>globalThis[yo]=S).catch(()=>globalThis[yo]=!1)),globalThis[td]||(globalThis[td]=Qc().then(S=>globalThis[ed]=S).catch(()=>globalThis[ed]=!1)),globalThis[tc]||(globalThis[tc]=ao().then(S=>globalThis[Ks]=S).catch(()=>globalThis[Ks]=!1));const vh=(S,M)=>{const P=M?[M]:(0,ne.C6)(),$=[];return P.forEach(re=>{re.container.getProvider(S).instances.forEach(Be=>{$.includes(Be)||$.push(Be)})}),$};function Ea(){}class su{constructor(M,P=Ju){this.zone=M,this.delegate=P}now(){return this.delegate.now()}schedule(M,P,$){const re=this.zone;return this.delegate.schedule(function(Be){re.runGuarded(()=>{M.apply(this,[Be])})},P,$)}}class Ys{constructor(M){this.zone=M,this.task=null}call(M,P){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ea,{},Ea,Ea)),P.pipe((0,Qu.b)({next:$,complete:$,error:$})).subscribe(M).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class S{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new su(Zone.current)),this.insideAngular=P.run(()=>new su(Zone.current,dm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(P){return new(P||S)(c.LFG(c.R0b))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Js(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function rd(S){return Js(),function Da(S){return function(P){return(P=P.lift(new Ys(S.ngZone))).pipe((0,gr.R)(S.outsideAngular),(0,ts.Q)(S.insideAngular))}}(Js())(S)}},2090:(wt,xe,V)=>{"use strict";V.d(xe,{$s:()=>io,BH:()=>Le,G6:()=>H,L:()=>me,LL:()=>Vt,Lj:()=>on,Mn:()=>Xe,Sg:()=>Ge,UG:()=>Ne,US:()=>le,X3:()=>At,ZB:()=>oe,ZR:()=>pe,b$:()=>Pe,d:()=>Ie,eu:()=>ce,hl:()=>ie,jU:()=>ht,m9:()=>Dt,ne:()=>ot,pd:()=>cs,r3:()=>cn,ru:()=>lt,tV:()=>Y,uI:()=>be,vZ:()=>Os,w1:()=>Me,xO:()=>Tr,xb:()=>si,z$:()=>We,zI:()=>we,zd:()=>mi});var c=V(5861);const ae=function(K){const z=[];let Q=0;for(let ye=0;ye<K.length;ye++){let se=K.charCodeAt(ye);se<128?z[Q++]=se:se<2048?(z[Q++]=se>>6|192,z[Q++]=63&se|128):55296==(64512&se)&&ye+1<K.length&&56320==(64512&K.charCodeAt(ye+1))?(se=65536+((1023&se)<<10)+(1023&K.charCodeAt(++ye)),z[Q++]=se>>18|240,z[Q++]=se>>12&63|128,z[Q++]=se>>6&63|128,z[Q++]=63&se|128):(z[Q++]=se>>12|224,z[Q++]=se>>6&63|128,z[Q++]=63&se|128)}return z},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let se=0;se<K.length;se+=3){const Ze=K[se],kt=se+1<K.length,un=kt?K[se+1]:0,Ui=se+2<K.length,dn=Ui?K[se+2]:0;let An=(15&un)<<2|dn>>6,wi=63&dn;Ui||(wi=64,kt||(An=64)),ye.push(Q[Ze>>2],Q[(3&Ze)<<4|un>>4],Q[An],Q[wi])}return ye.join("")},encodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(K):this.encodeByteArray(ae(K),z)},decodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(K):function(K){const z=[];let Q=0,ye=0;for(;Q<K.length;){const se=K[Q++];if(se<128)z[ye++]=String.fromCharCode(se);else if(se>191&&se<224){const Ze=K[Q++];z[ye++]=String.fromCharCode((31&se)<<6|63&Ze)}else if(se>239&&se<365){const Ui=((7&se)<<18|(63&K[Q++])<<12|(63&K[Q++])<<6|63&K[Q++])-65536;z[ye++]=String.fromCharCode(55296+(Ui>>10)),z[ye++]=String.fromCharCode(56320+(1023&Ui))}else{const Ze=K[Q++],kt=K[Q++];z[ye++]=String.fromCharCode((15&se)<<12|(63&Ze)<<6|63&kt)}}return z.join("")}(this.decodeStringToByteArray(K,z))},decodeStringToByteArray(K,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let se=0;se<K.length;){const Ze=Q[K.charAt(se++)],un=se<K.length?Q[K.charAt(se)]:0;++se;const dn=se<K.length?Q[K.charAt(se)]:64;++se;const Zt=se<K.length?Q[K.charAt(se)]:64;if(++se,null==Ze||null==un||null==dn||null==Zt)throw Error();ye.push(Ze<<2|un>>4),64!==dn&&(ye.push(un<<4&240|dn>>2),64!==Zt&&ye.push(dn<<6&192|Zt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},me=function(K){return function(K){const z=ae(K);return le.encodeByteArray(z,!0)}(K).replace(/\./g,"")},Y=function(K){try{return le.decodeString(K,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function oe(K,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!Je(Q)||(K[Q]=oe(K[Q],z[Q]));return K}function Je(K){return"__proto__"!==K}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,ye)=>{Q?this.reject(Q):this.resolve(ye),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,ye))}}}function Ge(K,z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=z||"demo-project",se=K.iat||0,Ze=K.sub||K.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:se,exp:se+3600,auth_time:se,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},K);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(kt)),""].join(".")}function We(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function ht(){return"object"==typeof self&&self.self===self}function lt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return We().indexOf("Electron/")>=0}function Me(){const K=We();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Xe(){return We().indexOf("MSAppHost/")>=0}function H(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function ce(){return new Promise((K,z)=>{try{let Q=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ye);se.onsuccess=()=>{se.result.close(),Q||self.indexedDB.deleteDatabase(ye),K(!0)},se.onupgradeneeded=()=>{Q=!1},se.onerror=()=>{var Ze;z((null===(Ze=se.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(Q){z(Q)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor(z,Q,ye){super(Q),this.code=z,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(z,Q,ye){this.service=z,this.serviceName=Q,this.errors=ye}create(z,...Q){const ye=Q[0]||{},se=`${this.service}/${z}`,Ze=this.errors[z],kt=Ze?function hn(K,z){return K.replace(Gn,(Q,ye)=>{const se=z[ye];return null!=se?String(se):`<${ye}?>`})}(Ze,ye):"Error";return new pe(se,`${this.serviceName}: ${kt} (${se}).`,ye)}}const Gn=/\{\$([^}]+)}/g;function cn(K,z){return Object.prototype.hasOwnProperty.call(K,z)}function si(K){for(const z in K)if(Object.prototype.hasOwnProperty.call(K,z))return!1;return!0}function Os(K,z){if(K===z)return!0;const Q=Object.keys(K),ye=Object.keys(z);for(const se of Q){if(!ye.includes(se))return!1;const Ze=K[se],kt=z[se];if(Ti(Ze)&&Ti(kt)){if(!Os(Ze,kt))return!1}else if(Ze!==kt)return!1}for(const se of ye)if(!Q.includes(se))return!1;return!0}function Ti(K){return null!==K&&"object"==typeof K}function Tr(K){const z=[];for(const[Q,ye]of Object.entries(K))Array.isArray(ye)?ye.forEach(se=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(se))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(ye));return z.length?"&"+z.join("&"):""}function mi(K){const z={};return K.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[se,Ze]=ye.split("=");z[decodeURIComponent(se)]=decodeURIComponent(Ze)}}),z}function cs(K){const z=K.indexOf("?");if(!z)return"";const Q=K.indexOf("#",z);return K.substring(z,Q>0?Q:void 0)}function ot(K,z){const Q=new $n(K,z);return Q.subscribe.bind(Q)}class $n{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(ye=>{this.error(ye)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,ye){let se;if(void 0===z&&void 0===Q&&void 0===ye)throw new Error("Missing Observer.");se=function bn(K,z){if("object"!=typeof K||null===K)return!1;for(const Q of z)if(Q in K&&"function"==typeof K[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:ye},void 0===se.next&&(se.next=er),void 0===se.error&&(se.error=er),void 0===se.complete&&(se.complete=er);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(kt){}}),this.observers.push(se),Ze}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function er(){}function io(K,z=1e3,Q=2){const ye=z*Math.pow(Q,K),se=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+se)}function Dt(K){return K&&K._delegate?K._delegate:K}function Vi(K,z){return new Promise((Q,ye)=>{K.onsuccess=se=>{Q(se.target.result)},K.onerror=se=>{var Ze;ye(`${z}: ${null===(Ze=se.target.error)||void 0===Ze?void 0:Ze.message}`)}})}class tn{constructor(z){this._db=z,this.objectStoreNames=this._db.objectStoreNames}transaction(z,Q){return new ut(this._db.transaction.call(this._db,z,Q))}createObjectStore(z,Q){return new he(this._db.createObjectStore(z,Q))}close(){this._db.close()}}class ut{constructor(z){this._transaction=z,this.complete=new Promise((Q,ye)=>{this._transaction.oncomplete=function(){Q()},this._transaction.onerror=()=>{ye(this._transaction.error)},this._transaction.onabort=()=>{ye(this._transaction.error)}})}objectStore(z){return new he(this._transaction.objectStore(z))}}class he{constructor(z){this._store=z}index(z){return new ft(this._store.index(z))}createIndex(z,Q,ye){return new ft(this._store.createIndex(z,Q,ye))}get(z){return Vi(this._store.get(z),"Error reading from IndexedDB")}put(z,Q){return Vi(this._store.put(z,Q),"Error writing to IndexedDB")}delete(z){return Vi(this._store.delete(z),"Error deleting from IndexedDB")}clear(){return Vi(this._store.clear(),"Error clearing IndexedDB object store")}}class ft{constructor(z){this._index=z}get(z){return Vi(this._index.get(z),"Error reading from IndexedDB")}}function At(K,z,Q){return new Promise((ye,se)=>{try{const Ze=indexedDB.open(K,z);Ze.onsuccess=kt=>{ye(new tn(kt.target.result))},Ze.onerror=kt=>{var un;se(`Error opening indexedDB: ${null===(un=kt.target.error)||void 0===un?void 0:un.message}`)},Ze.onupgradeneeded=kt=>{Q(new tn(Ze.result),kt.oldVersion,kt.newVersion,new ut(Ze.transaction))}}catch(Ze){se(`Error opening indexedDB: ${Ze.message}`)}})}function on(K){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(K){return new Promise((z,Q)=>{try{const ye=indexedDB.deleteDatabase(K);ye.onsuccess=()=>{z()},ye.onerror=se=>{var Ze;Q(`Error deleting indexedDB database "${K}": ${null===(Ze=se.target.error)||void 0===Ze?void 0:Ze.message}`)}}catch(ye){Q(`Error deleting indexedDB database "${K}": ${ye.message}`)}})})).apply(this,arguments)}},7716:(wt,xe,V)=>{"use strict";var c=V(5e3);let ne=null;function B(){return ne}const le=new c.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function me(){return(0,c.LFG)(J)}()},providedIn:"platform"}),n})();const Y=new c.OlP("Location Initialized");let J=(()=>{class n extends _e{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){oe()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){oe()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Je(){return new J((0,c.LFG)(le))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ge(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(n){const t=(0,c.LFG)(le).location;return new lt((0,c.LFG)(_e),t&&t.origin||"")}()},providedIn:"root"}),n})();const ht=new c.OlP("appBaseHref");let lt=(()=>{class n extends be{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const u=this.prepareExternalUrl(r+We(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){const u=this.prepareExternalUrl(r+We(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_e),c.LFG(ht,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let u=this.prepareExternalUrl(r+We(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){let u=this.prepareExternalUrl(r+We(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_e),c.LFG(ht,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ge(Ke(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+We(i))}normalize(e){return n.stripTrailingSlash(function Xe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=Le,n.stripTrailingSlash=Ge,n.\u0275fac=function(e){return new(e||n)(c.LFG(be),c.LFG(_e))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Me(){return new Ie((0,c.LFG)(be),(0,c.LFG)(_e))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}function so(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}let Jr=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ps{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ps(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ds(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ds(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ds(n,t){n.context.$implicit=t.item}let Qn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Wa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Wa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function Wa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let $c=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,a]=e.split(".");null!=(i=null!=i&&a?`${i}${a}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Bl{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class zu{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const ps=new zu,hh=new Bl;let Ka=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return ps;if((0,c.F4k)(e))return hh;throw function ai(n,t){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Vs="browser";function Zn(n){return"server"===n}let el=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new tl((0,c.LFG)(le),window)}),n})();class tl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ua(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=gs(this.window.history)||gs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function gs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xn{}class ms extends class Us extends class Te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ne||(ne=n)}(new ms)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Zc(){return Cn=Cn||document.querySelector("base"),Cn?Cn.getAttribute("href"):null}();return null==e?null:function Ur(n){co=co||document.createElement("a"),co.setAttribute("href",n);const t=co.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return so(document.cookie,t)}}let co,Cn=null;const Hi=new c.OlP("TRANSITION_ID"),da=[{provide:c.ip1,useFactory:function Kn(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=B(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Hi,le,c.zs3],multi:!0}];class jr{static init(){(0,c.VLi)(new jr)}addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ai=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const js=new c.OlP("EventManagerPlugins");let Hr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(js),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=B().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let fr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n extends fr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gs))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Gs(n){B().remove(n)}const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nl=/%COMP%/g;function ke(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ke(n,r,e):(r=r.replace(nl,n),e.push(r))}return e}function $t(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Vo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new rl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new ql(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ke(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hr),c.LFG(Hs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Mt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=Mt[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Mt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$t(i)):this.eventManager.addEventListener(t,e,$t(i))}}class rl extends Vo{constructor(t,e,i,r){super(t),this.component=i;const a=ke(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function Gl(n){return"_ngcontent-%COMP%".replace(nl,n)}(r+"-"+i.id),this.hostAttr=function $l(n){return"_nghost-%COMP%".replace(nl,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ql extends Vo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ke(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kc=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wl=["alt","control","meta","shift"],$s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ol=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Wl.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function zs(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Mi.hasOwnProperty(t)&&(t=Mi[t]))}return $s[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Wl.forEach(a=>{a!=r&&Mr[a](e)&&(i+=a+".")}),i+=r,i}static eventCallback(e,i,r){return a=>{n.getEventFullKey(a)===e&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const al=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Vs},{provide:c.g9A,useValue:function Gr(){ms.makeCurrent(),jr.init()},multi:!0},{provide:le,useFactory:function ga(){return(0,c.RDi)(document),document},deps:[]}]),ma=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Zl(){return new c.qLn},deps:[]},{provide:js,useClass:Kc,multi:!0,deps:[le,c.R0b,c.Lbi]},{provide:js,useClass:ol,multi:!0,deps:[le]},{provide:Fn,useClass:Fn,deps:[Hr,Hs,c.AFp]},{provide:c.FYo,useExisting:Fn},{provide:fr,useExisting:Hs},{provide:Hs,useClass:Hs,deps:[le]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Hr,useClass:Hr,deps:[js,c.R0b]},{provide:xn,useClass:Ai,deps:[]}];let jo=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Hi,useExisting:c.AFp},da]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ma,imports:[Wn,c.hGG]}),n})();"undefined"!=typeof window&&window;let $i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(nu),i},providedIn:"root"}),n})(),nu=(()=>{class n extends $i{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ec(n){return new nu(n.get(le))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Xn=V(8996),Bn=V(3269);function yt(...n){const t=(0,Bn.yG)(n);return(0,Xn.D)(n,t)}var qt=V(7579);class Sn extends qt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var E=V(8306);const{isArray:D}=Array,{getPrototypeOf:k,prototype:G,keys:Re}=Object;function at(n){if(1===n.length){const t=n[0];if(D(t))return{args:t,keys:null};if(function Ln(n){return n&&"object"==typeof n&&k(n)===G}(t)){const e=Re(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Vn=V(4671),it=V(4004);const{isArray:po}=Array;function Zu(n){return(0,it.U)(t=>function ba(n,t){return po(t)?n(...t):n(t)}(n,t))}function wa(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Nn=V(5403),go=V(9672);function $o(n,t,e){n?(0,go.f)(e,n,t):t()}var es=V(576);function vs(n,t){const e=(0,es.m)(n)?n:()=>n,i=r=>r.error(e());return new E.y(t?r=>t.schedule(i,0,r):i)}const zo=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zs=V(8189);function iu(...n){return function Yu(){return(0,Zs.J)(1)}()((0,Xn.D)(n,(0,Bn.yG)(n)))}var zr=V(8421);function bs(n){return new E.y(t=>{(0,zr.Xf)(n()).subscribe(t)})}var qo=V(515),Ca=V(727),Ci=V(4482);function ws(){return(0,Ci.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Nn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class _h extends E.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ci.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ca.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Nn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ca.w0.EMPTY)}return t}refCount(){return ws()(this)}}function ei(n,t){return(0,Ci.e)((e,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();e.subscribe((0,Nn.x)(i,_=>{null==r||r.unsubscribe();let b=0;const I=a++;(0,zr.Xf)(n(_,I)).subscribe(r=(0,Nn.x)(i,x=>i.next(t?t(_,x,I,b++):x),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var ti=V(5698);function nr(...n){const t=(0,Bn.yG)(n);return(0,Ci.e)((e,i)=>{(t?iu(n,e,t):iu(n,e)).subscribe(i)})}function dl(n,t,e,i,r){return(a,u)=>{let f=e,_=t,b=0;a.subscribe((0,Nn.x)(u,I=>{const x=b++;_=f?n(_,I,x):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function pr(n,t){return(0,Ci.e)(dl(n,t,arguments.length>=2,!0))}function Un(n,t){return(0,Ci.e)((e,i)=>{let r=0;e.subscribe((0,Nn.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}function Cs(n){return(0,Ci.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,Nn.x)(e,void 0,void 0,u=>{a=(0,zr.Xf)(n(u,Cs(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}var Jn=V(5577);function mo(n,t){return(0,es.m)(t)?(0,Jn.z)(n,t,1):(0,Jn.z)(n,1)}function yh(n){return n<=0?()=>qo.E:(0,Ci.e)((t,e)=>{let i=[];t.subscribe((0,Nn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ci(n=lm){return(0,Ci.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function lm(){return new zo}function cm(n){return(0,Ci.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Wo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Un((r,a)=>n(r,a,i)):Vn.y,(0,ti.q)(1),e?cm(t):ci(()=>new zo))}var xi=V(8505);function Gf(n){return(0,Ci.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Zo{constructor(t,e){this.id=t,this.url=e}}class _o extends Zo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ru extends Zo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ni extends Zo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ju extends Zo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hl extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dm extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qu extends Zo{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gr extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Es{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ed{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class td{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class nd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ni(n){return new nd(n)}const id="ngNavigationCancelingError";function Ko(n){const t=Error("NavigationCancelingError: "+n);return t[id]=!0,t}function Ea(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ys(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!ou(n[r],t[r]))return!1;return!0}function ou(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function Js(n){return Array.prototype.concat.apply([],n)}function bh(n){return n.length>0?n[n.length-1]:null}function Oi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ns(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):yt(n)}const Da={exact:function M(n,t,e){if(!Qt(n.segments,t.segments)||!de(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!M(n.children[i],t.children[i],e))return!1;return!0},subset:$},fl={exact:function S(n,t){return Ys(n,t)},subset:function P(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ou(n[e],t[e]))},ignored:()=>!0};function au(n,t,e){return Da[e.paths](n.root,t.root,e.matrixParams)&&fl[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $(n,t,e){return re(n,t,t.segments,e)}function re(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Qt(r,e)||t.hasChildren()||!de(r,e,i))}if(n.segments.length===e.length){if(!Qt(n.segments,e)||!de(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!$(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Qt(n.segments,r)&&de(n.segments,r,i)&&n.children[sn])&&re(n.children[sn],t,a,i)}}function de(n,t,e){return t.every((i,r)=>fl[e](n[r].parameters,i.parameters))}class Be{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return pl.serialize(this)}}class Ve{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ta(this)}}class pt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ni(this.parameters)),this._parameterMap}toString(){return nc(this)}}function Qt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Ei{}class ui{parse(t){const e=new Ch(t);return new Be(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${xr(t.root,!0)}`,i=function Fy(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ds(e)}=${Ds(r)}`).join("&"):`${Ds(e)}=${Ds(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Sa(n){return encodeURI(n)}(t.fragment)}`:""}`}}const pl=new ui;function Ta(n){return n.segments.map(t=>nc(t)).join("/")}function xr(n,t){if(!n.hasChildren())return Ta(n);if(t){const e=n.children[sn]?xr(n.children[sn],!1):"",i=[];return Oi(n.children,(r,a)=>{a!==sn&&i.push(`${a}:${xr(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function zt(n,t){let e=[];return Oi(n.children,(i,r)=>{r===sn&&(e=e.concat(t(i,r)))}),Oi(n.children,(i,r)=>{r!==sn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===sn?[xr(n.children[sn],!1)]:[`${r}:${xr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${Ta(n)}/${e[0]}`:`${Ta(n)}/(${e.join("//")})`}}function is(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ds(n){return is(n).replace(/%3B/gi,";")}function wh(n){return is(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(n){return decodeURIComponent(n)}function od(n){return sd(n.replace(/\+/g,"%20"))}function nc(n){return`${wh(n.path)}${function hm(n){return Object.keys(n).map(t=>`;${wh(t)}=${wh(n[t])}`).join("")}(n.parameters)}`}const Ly=/^[^\/()?;=#]+/;function vo(n){const t=n.match(Ly);return t?t[0]:""}const ad=/^[^=?&#]+/,Vy=/^[^&#]+/;class Ch{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new Ve(t,e)),i}parseSegment(){const t=vo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new pt(sd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vo(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=vo(this.remaining);r&&(i=r,this.capture(i))}t[sd(e)]=sd(i)}parseQueryParam(t){const e=function By(n){const t=n.match(ad);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function fm(n){const t=n.match(Vy);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=od(e),a=od(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vo(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=sn);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[sn]:new Ve([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Uy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$f(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$f(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=zf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return zf(t,this._root).map(e=>e.value)}}function $f(n,t){if(n===t.value)return t;for(const e of t.children){const i=$f(n,e);if(i)return i}return null}function zf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=zf(n,e);if(i.length)return i.unshift(t),i}return[]}class Ia{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Aa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Eh extends Uy{constructor(t,e){super(t),this.snapshot=e,Th(this,t)}toString(){return this.snapshot.toString()}}function ic(n,t){const e=function jy(n,t){const u=new lu([],{},{},"",{},sn,t,null,n.root,-1,{});return new qf("",new Ia(u,[]))}(n,t),i=new Sn([new pt("",{})]),r=new Sn({}),a=new Sn({}),u=new Sn({}),f=new Sn(""),_=new gl(i,r,u,f,a,sn,t,e.root);return _.snapshot=e.root,new Eh(new Ia(_,[]),e)}class gl{constructor(t,e,i,r,a,u,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(t=>Ni(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(t=>Ni(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Dh(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class lu{constructor(t,e,i,r,a,u,f,_,b,I,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qf extends Uy{constructor(t,e){super(e),this.url=t,Th(this,e)}toString(){return Sh(this._root)}}function Th(n,t){t.value._routerState=n,t.children.forEach(e=>Th(n,e))}function Sh(n){const t=n.children.length>0?` { ${n.children.map(Sh).join(", ")} } `:"";return`${n.value}${t}`}function Ma(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ys(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ys(t.params,e.params)||n.params.next(e.params),function su(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ys(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ys(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wf(n,t){const e=Ys(n.params,t.params)&&function Gt(n,t){return Qt(n,t)&&n.every((e,i)=>Ys(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Wf(n.parent,t.parent))}function ld(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Zf(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ld(n,i,r);return ld(n,i)})}(n,t,e);return new Ia(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>ld(n,f)),u}}const i=function $y(n){return new gl(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>ld(n,a));return new Ia(i,r)}}function xa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rc(n){return"object"==typeof n&&null!=n&&n.outlets}function Kf(n,t,e,i,r){let a={};if(i&&Oi(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===t)return new Be(e,a,r);const u=Ih(n,t,e);return new Be(u,a,r)}function Ih(n,t,e){const i={};return Oi(n.children,(r,a)=>{i[a]=r===t?e:Ih(r,t,e)}),new Ve(n.segments,i)}class pm{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&xa(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(rc);if(r&&r!==bh(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ah{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Wy(n,t,e){if(n||(n=new Ve([],{})),0===n.segments.length&&n.hasChildren())return Yo(n,t,e);const i=function Nw(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const u=n.segments[r],f=e[i];if(rc(f))break;const _=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ts(_,b,u))return a;i+=2}else{if(!Ts(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Ve(n.segments.slice(0,i.pathIndex),{});return a.children[sn]=new Ve(n.segments.slice(i.pathIndex),n.children),Yo(a,0,r)}return i.match&&0===r.length?new Ve(n.segments,{}):i.match&&!n.hasChildren()?Yf(n,t,e):i.match?Yo(n,0,r):Yf(n,t,e)}function Yo(n,t,e){if(0===e.length)return new Ve(n.segments,{});{const i=function qy(n){return rc(n[0])?n[0].outlets:{[sn]:n}}(e),r={};return Oi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Wy(n.children[u],t,a))}),Oi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Ve(n.segments,r)}}function Yf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(rc(a)){const _=sc(a.outlets);return new Ve(i,_)}if(0===r&&xa(e[0])){i.push(new pt(n.segments[t].path,Jf(e[0]))),r++;continue}const u=rc(a)?a.outlets[sn]:`${a}`,f=r<e.length-1?e[r+1]:null;u&&f&&xa(f)?(i.push(new pt(u,Jf(f))),r+=2):(i.push(new pt(u,{})),r++)}return new Ve(i,{})}function sc(n){const t={};return Oi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Yf(new Ve([],{}),0,e))}),t}function Jf(n){const t={};return Oi(n,(e,i)=>t[i]=`${e}`),t}function Ts(n,t,e){return n==e.path&&Ys(t,e.parameters)}class _m{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ma(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Aa(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Oi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Aa(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Aa(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Aa(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new ed(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Ks(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(Ma(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Ma(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function Mh(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class xh{constructor(t,e){this.routes=t,this.module=e}}function oc(n){return"function"==typeof n}function cu(n){return n instanceof Be}const ud=Symbol("INITIAL_VALUE");function ml(){return ei(n=>function Go(...n){const t=(0,Bn.yG)(n),e=(0,Bn.jO)(n),{args:i,keys:r}=at(n);if(0===i.length)return(0,Xn.D)([],t);const a=new E.y(function Xr(n,t,e=Vn.y){return i=>{$o(t,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)$o(t,()=>{const b=(0,Xn.D)(n[_],t);let I=!1;b.subscribe((0,Nn.x)(i,x=>{a[_]=x,I||(I=!0,f--),f||i.next(e(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>wa(r,u):Vn.y));return e?a.pipe(Zu(e)):a}(n.map(t=>t.pipe((0,ti.q)(1),nr(ud)))).pipe(pr((t,e)=>{let i=!1;return e.reduce((r,a,u)=>r!==ud?r:(a===ud&&(i=!0),i||!1!==a&&u!==e.length-1&&!cu(a)?r:a),t)},ud),Un(t=>t!==ud),(0,it.U)(t=>cu(t)?t:!0===t),(0,ti.q)(1)))}class Zy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dd,this.attachRef=null}}class dd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Zy,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let hd=(()=>{class n{constructor(e,i,r,a,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||sn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new tp(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class tp{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gl?this.route:t===dd?this.childContexts:this.parent.get(t,e)}}let np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[hd],encapsulation:2}),n})();function fd(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];pd(i,ip(t,i))}}function pd(n,t){n.children&&fd(n.children,t)}function ip(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function rp(n){const t=n.children&&n.children.map(rp),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=np),e}function Dn(n){return n.outlet||sn}function sp(n,t){const e=n.filter(i=>Dn(i)===t);return e.push(...n.filter(i=>Dn(i)!==t)),e}const vm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uu(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},vm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Ea)(e,n,t);if(!a)return Object.assign({},vm);const u={};Oi(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function gd(n,t,e,i,r="corrected"){if(e.length>0&&function Yy(n,t,e){return e.some(i=>Oh(n,t,i)&&Dn(i)!==sn)}(n,e,i)){const u=new Ve(t,function Nh(n,t,e,i){const r={};r[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Dn(a)!==sn){const u=new Ve([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Dn(a)]=u}return r}(n,t,i,new Ve(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function bm(n,t,e){return e.some(i=>Oh(n,t,i))}(n,e,i)){const u=new Ve(n.segments,function Ky(n,t,e,i,r,a){const u={};for(const f of i)if(Oh(n,e,f)&&!r[Dn(f)]){const _=new Ve([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[Dn(f)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Ve(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Oh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jy(n,t,e,i){return!!(Dn(n)===i||i!==sn&&Oh(t,e,n))&&("**"===n.path||uu(t,n,e).matched)}function Qy(n,t,e){return 0===t.length&&!n.children[e]}class _l{constructor(t){this.segmentGroup=t||null}}class mr{constructor(t){this.urlTree=t}}function Na(n){return vs(new _l(n))}function md(n){return vs(new mr(n))}class ap{constructor(t,e,i,r,a){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=gd(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ve(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,sn).pipe((0,it.U)(a=>this.createUrlTree(lc(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cs(a=>{if(a instanceof mr)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof _l?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,sn).pipe((0,it.U)(r=>this.createUrlTree(lc(r),t.queryParams,t.fragment))).pipe(Cs(r=>{throw r instanceof _l?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Ve([],{[sn]:t}):t;return new Be(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,it.U)(a=>new Ve([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Xn.D)(r).pipe(mo(a=>{const u=i.children[a],f=sp(e,a);return this.expandSegmentGroup(t,f,u,a).pipe((0,it.U)(_=>({segment:_,outlet:a})))}),pr((a,u)=>(a[u.outlet]=u.segment,a),{}),function um(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Un((r,a)=>n(r,a,i)):Vn.y,yh(1),e?cm(t):ci(()=>new zo))}())}expandSegment(t,e,i,r,a,u){return(0,Xn.D)(i).pipe(mo(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,a,u).pipe(Cs(b=>{if(b instanceof _l)return yt(null);throw b}))),Wo(f=>!!f),Cs((f,_)=>{if(f instanceof zo||"EmptyError"===f.name)return Qy(e,r,a)?yt(new Ve([],{})):Na(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,a,u,f){return Jy(r,e,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u):Na(e):Na(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?md(a):this.lineralizeSegments(i,a).pipe((0,Jn.z)(u=>{const f=new Ve(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=uu(e,r,a);if(!f)return Na(e);const x=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?md(x):this.lineralizeSegments(r,x).pipe((0,Jn.z)(F=>this.expandSegment(t,e,i,F.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?yt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,it.U)(x=>(i._loadedConfig=x,new Ve(r,{})))):yt(new Ve(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=uu(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Jn.z)(I=>{const x=I.module,F=I.routes,{segmentGroup:U,slicedSegments:q}=gd(e,f,_,F),ee=new Ve(U.segments,U.children);if(0===q.length&&ee.hasChildren())return this.expandChildren(x,F,ee).pipe((0,it.U)(dt=>new Ve(f,dt)));if(0===F.length&&0===q.length)return yt(new Ve(f,{}));const De=Dn(i)===a;return this.expandSegment(x,ee,F,q,De?sn:a,!0).pipe((0,it.U)(Oe=>new Ve(f.concat(Oe.segments),Oe.children)))})):Na(e)}getChildConfig(t,e,i){return e.children?yt(new xh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?yt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Jn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,it.U)(a=>(e._loadedConfig=a,a))):function Nr(n){return vs(Ko(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):yt(new xh([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?yt(r.map(u=>{const f=t.get(u);let _;if(function Qf(n){return n&&oc(n.canLoad)}(f))_=f.canLoad(e,i);else{if(!oc(f))throw new Error("Invalid CanLoad guard");_=f(e,i)}return ns(_)})).pipe(ml(),(0,xi.b)(u=>{if(!cu(u))return;const f=Ko(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,it.U)(u=>!0===u)):yt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return yt(i);if(r.numberOfChildren>1||!r.children[sn])return vs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new Be(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Oi(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=e[f]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let u={};return Oi(e.children,(f,_)=>{u[_]=this.createSegmentGroup(t,f,i,r)}),new Ve(a,u)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function lc(n){const t={};for(const i of Object.keys(n.children)){const a=lc(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function Ss(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new Ve(n.segments.concat(t.segments),t.children)}return n}(new Ve(n.segments,t))}class wm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cc{constructor(t,e){this.component=t,this.route=e}}function cp(n,t,e){const i=n._root;return rs(i,t?t._root:null,e,[i.value])}function _d(n,t,e){const i=function Xy(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function rs(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Aa(t);return n.children.forEach(u=>{(function Em(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function ev(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Qt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Qt(n.url,t.url)||!Ys(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wf(n,t)||!Ys(n.queryParams,t.queryParams);default:return!Wf(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new wm(i)):(a.data=u.data,a._resolvedData=u._resolvedData),rs(n,t,a.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new cc(f.outlet.component,u))}else u&&uc(t,f,r),r.canActivateChecks.push(new wm(i)),rs(n,null,a.component?f?f.children:null:e,i,r)})(u,a[u.value.outlet],e,i.concat([u.value]),r),delete a[u.value.outlet]}),Oi(a,(u,f)=>uc(u,e.getContext(f),r)),r}function uc(n,t,e){const i=Aa(n),r=n.value;Oi(i,(a,u)=>{uc(a,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new cc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class hp{}function fp(n){return new E.y(t=>t.error(n))}class pp{constructor(t,e,i,r,a,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const t=gd(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,sn);if(null===e)return null;const i=new lu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ia(i,e),a=new qf(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,i=Hy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const a of Object.keys(e.children)){const u=e.children[a],f=sp(t,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=gp(i);return function rv(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const a of t){const u=this.processSegmentAgainstRoute(a,e,i,r);if(null!==u)return u}return Qy(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Jy(t,e,i,r))return null;let a,u=[],f=[];if("**"===t.path){const U=i.length>0?bh(i).parameters:{};a=new lu(i,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),Dn(t),t.component,t,p(e),m(e)+i.length,N(t))}else{const U=uu(e,t,i);if(!U.matched)return null;u=U.consumedSegments,f=U.remainingSegments,a=new lu(u,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),Dn(t),t.component,t,p(e),m(e)+u.length,N(t))}const _=function sv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:I}=gd(e,u,f,_.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);if(0===I.length&&b.hasChildren()){const U=this.processChildren(_,b);return null===U?null:[new Ia(a,U)]}if(0===_.length&&0===I.length)return[new Ia(a,[])];const x=Dn(t)===r,F=this.processSegment(_,b,I,x?sn:r);return null===F?null:[new Ia(a,F)]}}function ov(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function gp(n){const t=[],e=new Set;for(const i of n){if(!ov(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=gp(i.children);t.push(new Ia(i.value,r))}return t.filter(i=>!e.has(i))}function p(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function m(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function w(n){return n.data||{}}function N(n){return n.resolve||{}}function _t(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function St(n){return ei(t=>{const e=n(t);return e?(0,Xn.D)(e).pipe((0,it.U)(()=>t)):yt(t)})}class vd extends class Xs{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const du=new c.OlP("ROUTES");class hu{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,it.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=a.create(t);return new xh(Js(u.injector.get(du,void 0,c.XFs.Self|c.XFs.Optional)).map(rp),u)}),Cs(a=>{throw e._loader$=void 0,a}));return e._loader$=new _h(r,()=>new qt.x).pipe(ws()),e._loader$}loadModuleFactory(t){return ns(t()).pipe((0,Jn.z)(e=>e instanceof c.YKP?yt(e):(0,Xn.D)(this.compiler.compileModuleAsync(e))))}}class av{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yl(n){throw n}function kh(n,t,e){return t.parse("/")}function Rh(n,t){return yt(null)}const _p={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ph={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class n{constructor(e,i,r,a,u,f,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.x,this.errorHandler=yl,this.malformedUriErrorHandler=kh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rh,afterPreactivation:Rh},this.urlHandlingStrategy=new av,this.routeReuseStrategy=new vd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const x=u.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function rd(){return new Be(new Ve([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hu(u,f,F=>this.triggerEvent(new Xu(F)),F=>this.triggerEvent(new yo(F))),this.routerState=ic(this.currentUrlTree,this.rootComponentType),this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Un(r=>0!==r.id),(0,it.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ei(r=>{let a=!1,u=!1;return yt(r).pipe((0,xi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ei(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Tm(f.source)&&(this.browserUrlTree=f.extractedUrl),yt(f).pipe(ei(x=>{const F=this.transitions.getValue();return i.next(new _o(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?qo.E:Promise.resolve(x)}),function lp(n,t,e,i){return ei(r=>function ac(n,t,e,i,r){return new ap(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,it.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xi.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function L(n,t,e,i,r){return(0,Jn.z)(a=>function iv(n,t,e,i,r="emptyOnly",a="legacy"){try{const u=new pp(n,t,e,i,r,a).recognize();return null===u?fp(new hp):yt(u)}catch(u){return fp(u)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),i,r).pipe((0,it.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xi.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(U,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new hl(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:U,source:q,restoredState:ee,extras:De}=f,je=new _o(F,this.serializeUrl(U),q,ee);i.next(je);const Oe=ic(U,this.rootComponentType).snapshot;return yt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:U,extras:Object.assign(Object.assign({},De),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),qo.E}),St(f=>{const{targetSnapshot:_,id:b,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:U}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!U})}),(0,xi.b)(f=>{const _=new dm(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,it.U)(f=>Object.assign(Object.assign({},f),{guards:cp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function tv(n,t){return(0,Jn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?yt(Object.assign(Object.assign({},e),{guardsResult:!0})):function Dm(n,t,e,i){return(0,Xn.D)(n).pipe((0,Jn.z)(r=>function yd(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?yt(a.map(f=>{const _=_d(f,t,r);let b;if(function Ow(n){return n&&oc(n.canDeactivate)}(_))b=ns(_.canDeactivate(n,t,e,i));else{if(!oc(_))throw new Error("Invalid CanDeactivate guard");b=ns(_(n,t,e,i))}return b.pipe(Wo())})).pipe(ml()):yt(!0)}(r.component,r.route,e,t,i)),Wo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Jn.z)(f=>f&&function ym(n){return"boolean"==typeof n}(f)?function _r(n,t,e,i){return(0,Xn.D)(t).pipe(mo(r=>iu(function dp(n,t){return null!==n&&t&&t(new Es(n)),yt(!0)}(r.route.parent,i),function up(n,t){return null!==n&&t&&t(new tc(n)),yt(!0)}(r.route,i),function Oa(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function Cm(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>bs(()=>yt(u.guards.map(_=>{const b=_d(_,u.node,e);let I;if(function ep(n){return n&&oc(n.canActivateChild)}(b))I=ns(b.canActivateChild(i,n));else{if(!oc(b))throw new Error("Invalid CanActivateChild guard");I=ns(b(i,n))}return I.pipe(Wo())})).pipe(ml())));return yt(a).pipe(ml())}(n,r.path,e),function nv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return yt(!0);const r=i.map(a=>bs(()=>{const u=_d(a,t,e);let f;if(function Xf(n){return n&&oc(n.canActivate)}(u))f=ns(u.canActivate(t,n));else{if(!oc(u))throw new Error("Invalid CanActivate guard");f=ns(u(t,n))}return f.pipe(Wo())}));return yt(r).pipe(ml())}(n,r.route,e))),Wo(r=>!0!==r,!0))}(i,a,n,t):yt(f)),(0,it.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,xi.b)(f=>{if(cu(f.guardsResult)){const b=Ko(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new Qu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Un(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),St(f=>{if(f.guards.canActivateChecks.length)return yt(f).pipe((0,xi.b)(_=>{const b=new gr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),ei(_=>{let b=!1;return yt(_).pipe(function X(n,t){return(0,Jn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return yt(e);let a=0;return(0,Xn.D)(r).pipe(mo(u=>function ge(n,t,e,i){return function Ye(n,t,e,i){const r=_t(n);if(0===r.length)return yt({});const a={};return(0,Xn.D)(r).pipe((0,Jn.z)(u=>function Lt(n,t,e,i){const r=_d(n,t,i);return ns(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,xi.b)(f=>{a[u]=f}))),yh(1),(0,Jn.z)(()=>_t(a).length===r.length?yt(a):qo.E))}(n._resolve,n,t,i).pipe((0,it.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Hy(n,e).resolve),null)))}(u.route,i,n,t)),(0,xi.b)(()=>a++),yh(1),(0,Jn.z)(u=>a===r.length?yt(e):qo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,xi.b)(_=>{const b=new ts(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),St(f=>{const{targetSnapshot:_,id:b,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:U}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!U})}),(0,it.U)(f=>{const _=function Gy(n,t,e){const i=ld(n,t._root,e?e._root:void 0);return new Eh(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,xi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,it.U)(i=>(new _m(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,xi.b)({next(){a=!0},complete(){a=!0}}),Gf(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Cs(f=>{if(u=!0,function vh(n){return n&&n[id]}(f)){const _=cu(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new ni(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tm(r.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Ju(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return qo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){fd(e),this.config=e.map(rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function bo(n,t,e,i,r){if(0===e.length)return Kf(t.root,t.root,t.root,i,r);const a=function gm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pm(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Oi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new pm(e,t,i)}(e);if(a.toRoot())return Kf(t.root,t.root,new Ve([],{}),i,r);const u=function mm(n,t,e){if(n.isAbsolute)return new Ah(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new Ah(a,a===t.root,0)}const i=xa(n.commands[0])?0:1;return function zy(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Ah(i,!1,r-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,t,n),f=u.processChildren?Yo(u.segmentGroup,u.index,a.commands):Wy(u.segmentGroup,u.index,a.commands);return Kf(t.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,e,x,null!=I?I:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=cu(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function yp(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},_p):!1===i?Object.assign({},Ph):i,cu(e))return au(this.currentUrlTree,e,r);const a=this.parseUrl(e);return au(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ru(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,I,x;u?(b=u.resolve,I=u.reject,x=u.promise):x=new Promise((q,ee)=>{b=q,I=ee});const F=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),U=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):U=0,this.setTransition({id:F,targetPageId:U,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:b,reject:I,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(q=>Promise.reject(q))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new ni(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Tm(n){return"imperative"!==n}let vp=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new qt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Or),c.Y36(gl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Fh(n){return""===n||!!n}class uv{}class Rw{preload(t,e){return yt(null)}}let Pw=(()=>{class n{constructor(e,i,r,a){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=new hu(r,i,_=>e.triggerEvent(new Xu(_)),_=>e.triggerEvent(new yo(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Un(e=>e instanceof ru),mo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children));return(0,Xn.D)(r).pipe((0,Zs.J)(),(0,it.U)(a=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?yt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Jn.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Or),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(uv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Sm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ru&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof td&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new td(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=new c.OlP("ROUTER_CONFIGURATION"),hv=new c.OlP("ROUTER_FORROOT_GUARD"),Fw=[Ie,{provide:Ei,useClass:ui},{provide:Or,useFactory:function pv(n,t,e,i,r,a,u={},f,_){const b=new Or(null,n,t,e,i,r,Js(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function Vw(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(I=>{var x,F;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[Ei,dd,Ie,c.zs3,c.Sil,du,wo,[class mp{},new c.FiY],[class di{},new c.FiY]]},dd,{provide:gl,useFactory:function Im(n){return n.routerState.root},deps:[Or]},Pw,Rw,class dv{preload(t,e){return e().pipe(Cs(()=>yt(null)))}},{provide:wo,useValue:{enableTracing:!1}}];function aT(){return new c.PXZ("Router",Or)}let bp=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Fw,fv(e),{provide:hv,useFactory:Bw,deps:[[Or,new c.FiY,new c.tp0]]},{provide:wo,useValue:i||{}},{provide:be,useFactory:Lw,deps:[_e,[new c.tBr(ht),new c.FiY],wo]},{provide:Sm,useFactory:lT,deps:[Or,el,wo]},{provide:uv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Rw},{provide:c.PXZ,multi:!0,useFactory:aT},[Lh,{provide:c.ip1,multi:!0,useFactory:Uw,deps:[Lh]},{provide:mv,useFactory:gv,deps:[Lh]},{provide:c.tb,multi:!0,useExisting:mv}]]}}static forChild(e){return{ngModule:n,providers:[fv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hv,8),c.LFG(Or,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function lT(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Sm(n,t,e)}function Lw(n,t,e={}){return e.useHash?new Pe(n,t):new lt(n,t)}function Bw(n){return"guarded"}function fv(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:du,multi:!0,useValue:n}]}let Lh=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qt.x}appInitializer(){return this.injector.get(Y,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Or),u=this.injector.get(wo);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(wo),r=this.injector.get(Pw),a=this.injector.get(Sm),u=this.injector.get(Or),f=this.injector.get(c.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Uw(n){return n.appInitializer.bind(n)}function gv(n){return n.bootstrapListener.bind(n)}const mv=new c.OlP("Router Initializer");let cT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:47,vars:0,consts:[["id","about",1,"section","about-section","gray-bg"],[1,"container"],[1,"row","align-items-center","flex-row-reverse"],[1,"col-lg-6"],[1,"about-text","go-to"],[1,"dark-color"],[1,"theme-color","lead"],[1,"row","about-list"],[1,"col-md-6"],[1,"media"],[1,"about-avatar"],["src","../../../assets/imagenes/quiensoy.png",1,"img-circle"]],template:function(e,i){1&e&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),c._uU(6,"About Me"),c.qZA(),c.TgZ(7,"h6",6),c._uU(8,"A FullStack developer in SEIDOR S.A"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"I work developing both web and desktop business applications that communicate and work with SAP B1. I have also worked developing Angular and Ionic applications"),c.qZA(),c.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"label"),c._uU(15,"Birthday"),c.qZA(),c.TgZ(16,"p"),c._uU(17,"15th april 1999"),c.qZA()(),c.TgZ(18,"div",9)(19,"label"),c._uU(20,"Age"),c.qZA(),c.TgZ(21,"p"),c._uU(22,"23 Yr"),c.qZA()(),c.TgZ(23,"div",9)(24,"label"),c._uU(25,"Argentina"),c.qZA(),c.TgZ(26,"p"),c._uU(27,"Bs. As."),c.qZA()()(),c.TgZ(28,"div",8)(29,"div",9)(30,"label"),c._uU(31,"E-mail"),c.qZA(),c.TgZ(32,"p"),c._uU(33,"rodrigodisconsi@gmail.com"),c.qZA()(),c.TgZ(34,"div",9)(35,"label"),c._uU(36,"Github"),c.qZA(),c.TgZ(37,"p"),c._uU(38,"Link de github"),c.qZA()(),c.TgZ(39,"div",9)(40,"label"),c._uU(41,"FullStack"),c.qZA(),c.TgZ(42,"p"),c._uU(43,"Angular, .NET Core, SQL, etc"),c.qZA()()()()()(),c.TgZ(44,"div",3)(45,"div",10),c._UZ(46,"img",11),c.qZA()()()()())},styles:[".section[_ngcontent-%COMP%]{padding:100px 0;position:relative}img[_ngcontent-%COMP%]{max-width:100%}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}.about-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:45px;font-weight:700;margin:0 0 6px}@media (max-width: 767px){.about-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:35px}}.about-text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px}@media (max-width: 767px){.about-text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px}}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;max-width:450px}.about-list[_ngcontent-%COMP%]{padding-top:10px}.about-list[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{padding:5px 0}.about-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ecd139d9;font-weight:600;width:88px;font-size:25px;margin:0;position:relative}.about-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;text-align:center}@media (max-width: 991px){.about-avatar[_ngcontent-%COMP%]{margin-top:30px}}.theme-color[_ngcontent-%COMP%], .dark-color[_ngcontent-%COMP%]{color:#ecd139d9}.img-circle[_ngcontent-%COMP%]{border-radius:50%;margin-top:-3vh!important}"]}),n})(),jw=(()=>{class n{constructor(){this.animar=!1}ngOnInit(){}click(e){console.info(e),e.target.classList.add("is-animated")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-hangman"]],decls:9,vars:0,consts:[[1,"waviy","is-animated"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[2,"--i","4"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"P"),c.qZA(),c.TgZ(3,"span",2),c._uU(4,"L"),c.qZA(),c.TgZ(5,"span",3),c._uU(6,"A"),c.qZA(),c.TgZ(7,"span",4),c._uU(8,"Y"),c.qZA()())},styles:[".waviy[_ngcontent-%COMP%]{position:relative}.waviy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block;font-family:Tahoma;font-weight:700;font-size:40px;color:#ffb300;text-transform:uppercase}.waviy.is-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation:flip 2s infinite;animation-delay:calc(.2s * var(--i))}@keyframes flip{0%,80%{transform:rotateY(360deg)}}"]}),n})(),uT=(()=>{class n{constructor(){this.cardAmount=30}ngOnInit(){this.initCards()}initCards(){for(let r=1;r<this.cardAmount;r++){var e=-43+Math.ceil(3*Math.random()),i=document.querySelector(`.card:nth-child(${r})`);i&&(i.style.transform=`rotateX(60deg) rotateY(0deg) rotateZ(${e}deg) translateZ(${3*r}px)`)}}click(e){console.info(e);var i=e.target.classList;i.contains("down")?(i.remove("down"),i.remove("back"),i.add("opened")):i.contains("opened")&&(i.add("is-removed"),i.remove("opened"))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-higherorlower"]],decls:11,vars:0,consts:[[1,"cards"],[1,"card","down","back",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(2,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(3,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(4,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(5,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(6,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(7,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(8,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(9,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA(),c.TgZ(10,"div",1),c.NdJ("click",function(a){return i.click(a)}),c.qZA()())},styles:[".card.back[_ngcontent-%COMP%]{background-color:#4169e1;border:.125in solid #fff;background-position:center center;background-size:.5in;background-color:#c5e3ff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='88' viewBox='0 0 88 88'%3E%3Cg fill='%234169e1' fill-opacity='1'%3E%3Cpath fill-rule='evenodd' d='M29.42 29.41c.36-.36.58-.85.58-1.4V0h-4v26H0v4h28c.55 0 1.05-.22 1.41-.58h.01zm0 29.18c.36.36.58.86.58 1.4V88h-4V62H0v-4h28c.56 0 1.05.22 1.41.58zm29.16 0c-.36.36-.58.85-.58 1.4V88h4V62h26v-4H60c-.55 0-1.05.22-1.41.58h-.01zM62 26V0h-4v28c0 .55.22 1.05.58 1.41.37.37.86.59 1.41.59H88v-4H62zM18 36c0-1.1.9-2 2-2h10a2 2 0 1 1 0 4H20a2 2 0 0 1-2-2zm0 16c0-1.1.9-2 2-2h10a2 2 0 1 1 0 4H20a2 2 0 0 1-2-2zm16-26a2 2 0 0 1 2-2 2 2 0 0 1 2 2v4a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-4zm16 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v4a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-4zM34 58a2 2 0 0 1 2-2 2 2 0 0 1 2 2v4a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-4zm16 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v4a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-4zM34 78a2 2 0 0 1 2-2 2 2 0 0 1 2 2v6a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-6zm16 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v6a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-6zM34 4a2 2 0 0 1 2-2 2 2 0 0 1 2 2v6a2 2 0 0 1-2 2 2 2 0 0 1-2-2V4zm16 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v6a2 2 0 0 1-2 2 2 2 0 0 1-2-2V4zm-8 82a2 2 0 1 1 4 0v2h-4v-2zm0-68a2 2 0 1 1 4 0v10a2 2 0 1 1-4 0V18zM66 4a2 2 0 1 1 4 0v8a2 2 0 1 1-4 0V4zm0 72a2 2 0 1 1 4 0v8a2 2 0 1 1-4 0v-8zm-48 0a2 2 0 1 1 4 0v8a2 2 0 1 1-4 0v-8zm0-72a2 2 0 1 1 4 0v8a2 2 0 1 1-4 0V4zm24-4h4v2a2 2 0 1 1-4 0V0zm0 60a2 2 0 1 1 4 0v10a2 2 0 1 1-4 0V60zm14-24c0-1.1.9-2 2-2h10a2 2 0 1 1 0 4H58a2 2 0 0 1-2-2zm0 16c0-1.1.9-2 2-2h10a2 2 0 1 1 0 4H58a2 2 0 0 1-2-2zm-28-6a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm8 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm16 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM36 20a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm16 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm-8-8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 68a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm16-34a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm16-12a2 2 0 1 0 0 4 6 6 0 1 1 0 12 2 2 0 1 0 0 4 10 10 0 1 0 0-20zm-64 0a2 2 0 1 1 0 4 6 6 0 1 0 0 12 2 2 0 1 1 0 4 10 10 0 1 1 0-20zm56-12a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 48a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm-48 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0-48a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm24 32a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-4a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm36-36a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM10 44c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4h-8a2 2 0 0 1-2-2zm56 0c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4h-8a2 2 0 0 1-2-2zm8 24c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4h-8a2 2 0 0 1-2-2zM3 68c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4H5a2 2 0 0 1-2-2zm0-48c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4H5a2 2 0 0 1-2-2zm71 0c0-1.1.9-2 2-2h8a2 2 0 1 1 0 4h-8a2 2 0 0 1-2-2zm6 66a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM8 86a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0-68A6 6 0 1 1 8 2a6 6 0 0 1 0 12zm0-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm36 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4z'/%3E%3C/g%3E%3C/svg%3E\")}.card[_ngcontent-%COMP%]{left:44%;top:15%;transform:rotateX(60deg) rotateY(0) rotate(-45deg) translateY(0);position:absolute;width:200px;height:300px;border-radius:10px;transition:all .7s;border:1px solid #ccc;cursor:pointer;box-shadow:-10px 40px 20px 2px #0000}.card.opened[_ngcontent-%COMP%]{background-image:none;transform:scale(1.5) rotateX(0) rotateY(180deg) rotate(0) translateY(0)!important;box-shadow:0 10px 24px #0003;z-index:2}.card.is-removed[_ngcontent-%COMP%]{transform:translateY(100%)!important}"]}),n})();const Hw={classic:"Cl\xe1sico",no_walls:"Sin paredes",obstacles:"Con obstaculos"};let RM=(()=>{class n{constructor(){this.ngxSnake="ngx_snake"}store(e){localStorage.setItem(this.ngxSnake,JSON.stringify({best_score:e}))}retrieve(){let e=this.parse();return e||(this.store(0),e=this.parse()),e.best_score}parse(){let e=localStorage.getItem(this.ngxSnake);if(e)return JSON.parse(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Bh=V(4986),qr=V(5813);function Mm(){return(0,Ci.e)((n,t)=>{let e,i=!1;n.subscribe((0,Nn.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}function Vh(n,t=Vn.y){return n=null!=n?n:dT,(0,Ci.e)((e,i)=>{let r,a=!0;e.subscribe((0,Nn.x)(i,u=>{const f=t(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function dT(n,t){return n===t}var vt,zi=V(2011),Gw=(V(4087),V(3942)),Ae=V(5861),bd=V(9681),xm=V(4859),pu=V(1877),pn=V(2090),hT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hc={},Kt=Kt||{},Yt=hT||self;function wp(){}function Nm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function gu(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Om="closure_uid_"+(1e9*Math.random()>>>0),fT=0;function yv(n,t,e){return n.call.apply(n.bind,arguments)}function fc(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function yr(n,t,e){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yv:fc).apply(null,arguments)}function Cp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function wd(){this.s=this.s,this.o=this.o}var FM={};wd.prototype.s=!1,wd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ka(n){return Object.prototype.hasOwnProperty.call(n,Om)&&n[Om]||(n[Om]=++fT)}(this);delete FM[n]}},wd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ep=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Dp=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function km(n){return Array.prototype.concat.apply([],arguments)}function Tp(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bv(n){return/^[\s\xa0]*$/.test(n)}var As,zw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Is(n,t){return-1!=n.indexOf(t)}function wv(n,t){return n<t?-1:n>t?1:0}e:{var Cv=Yt.navigator;if(Cv){var pT=Cv.userAgent;if(pT){As=pT;break e}}As=""}function Ev(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function gT(n){const t={};for(const e in n)t[e]=n[e];return t}var Dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tv(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<Dv.length;a++)e=Dv[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Sv(n){return Sv[" "](n),n}Sv[" "]=wp;var Av,n,LM=Is(As,"Opera"),Sp=Is(As,"Trident")||Is(As,"MSIE"),mT=Is(As,"Edge"),qw=mT||Sp,_T=Is(As,"Gecko")&&!(Is(As.toLowerCase(),"webkit")&&!Is(As,"Edge"))&&!(Is(As,"Trident")||Is(As,"MSIE"))&&!Is(As,"Edge"),BM=Is(As.toLowerCase(),"webkit")&&!Is(As,"Edge");function yT(){var n=Yt.document;return n?n.documentMode:void 0}e:{var Ww="",Zw=(n=As,_T?/rv:([^\);]+)(\)|;)/.exec(n):mT?/Edge\/([\d\.]+)/.exec(n):Sp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BM?/WebKit\/(\S+)/.exec(n):LM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zw&&(Ww=Zw?Zw[1]:""),Sp){var vl=yT();if(null!=vl&&vl>parseFloat(Ww)){Av=String(vl);break e}}Av=Ww}var Mv={};var Kw=Yt.document&&Sp&&(yT()||parseInt(Av,10))||void 0,xv=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",wp,t),Yt.removeEventListener("test",wp,t)}catch(e){}return n}();function ss(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Jo(n,t){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_T){e:{try{Sv(t.nodeName);var r=!0;break e}catch(a){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Yw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jo.Z.h.call(this)}}ss.prototype.h=function(){this.defaultPrevented=!0},vr(Jo,ss);var Yw={2:"touch",3:"pen",4:"mouse"};Jo.prototype.h=function(){Jo.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ip="closure_listenable_"+(1e6*Math.random()|0),Nv=0;function bT(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Nv,this.ca=this.fa=!1}function Ap(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Fm(n){this.src=n,this.g={},this.h=0}function Ov(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=Ep(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Ap(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Cd(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}Fm.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Cd(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new bT(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var mu="closure_lm_"+(1e6*Math.random()|0),Mp={};function Ed(n,t,e,i,r){if(i&&i.once)return Jw(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ed(n,t[a],e,i,r);return null}return e=Pv(e),n&&n[Ip]?n.N(t,e,gu(i)?!!i.capture:!!i,r):Uh(n,t,e,!1,i,r)}function Uh(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var u=gu(r)?!!r.capture:!!r,f=Vm(n);if(f||(n[mu]=f=new Fm(n)),(e=f.add(t,e,i,u,a)).proxy)return e;if(i=function jh(){var t=Rv;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)xv||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Bm(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Jw(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jw(n,t[a],e,i,r);return null}return e=Pv(e),n&&n[Ip]?n.O(t,e,gu(i)?!!i.capture:!!i,r):Uh(n,t,e,!0,i,r)}function kv(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)kv(n,t[a],e,i,r);else i=gu(i)?!!i.capture:!!i,e=Pv(e),n&&n[Ip]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Cd(a=n.g[t],e,i,r))&&(Ap(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=Vm(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Cd(t,e,i,r)),(e=-1<n?t[n]:null)&&Lm(e))}function Lm(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Ip])Ov(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Bm(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Vm(t))?(Ov(e,n),0==e.h&&(e.src=null,t[mu]=null)):Ap(n)}}}function Bm(n){return n in Mp?Mp[n]:Mp[n]="on"+n}function Rv(n,t){if(n.ca)n=!0;else{t=new Jo(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Lm(n),n=e.call(i,t)}return n}function Vm(n){return(n=n[mu])instanceof Fm?n:null}var Hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pv(n){return"function"==typeof n?n:(n[Hh]||(n[Hh]=function(t){return n.handleEvent(t)}),n[Hh])}function br(){wd.call(this),this.i=new Fm(this),this.P=this,this.I=null}function os(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ss(t,n);else if(t instanceof ss)t.target=t.target||n;else{var r=t;Tv(t=new ss(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];r=xp(u,i,!0,t)&&r}if(r=xp(u=t.g=n,i,!0,t)&&r,r=xp(u,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=xp(u=t.g=e[a],i,!1,t)&&r}function xp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var f=u.listener,_=u.ia||u.src;u.fa&&Ov(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}vr(br,wd),br.prototype[Ip]=!0,br.prototype.removeEventListener=function(n,t,e,i){kv(this,n,t,e,i)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Ap(e[i]);delete n.g[t],n.h--}}this.I=null},br.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},br.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Um=Yt.JSON.stringify;function wT(){var n=Bv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Lv,Xw=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new CT,n=>n.reset());class CT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Co(n){Yt.setTimeout(()=>{throw n},0)}function Fv(n,t){Lv||function VM(){var n=Yt.Promise.resolve(void 0);Lv=function(){n.then(UM)}}(),e1||(Lv(),e1=!0),Bv.add(n,t)}var e1=!1,Bv=new class Qw{constructor(){this.h=this.g=null}add(t,e){const i=Xw.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function UM(){for(var n;n=wT();){try{n.h.call(n.g)}catch(e){Co(e)}var t=Xw;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}e1=!1}function jm(n,t){br.call(this),this.h=n||1,this.g=t||Yt,this.j=yr(this.kb,this),this.l=Date.now()}function Np(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hm(n,t,e){if("function"==typeof n)e&&(n=yr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function t1(n){n.g=Hm(()=>{n.g=null,n.i&&(n.i=!1,t1(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vr(jm,br),(vt=jm.prototype).da=!1,vt.S=null,vt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),os(this,"tick"),this.da&&(Np(this),this.start()))}},vt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){jm.Z.M.call(this),Np(this),delete this.g};class ET extends wd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:t1(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Op(n){wd.call(this),this.h=n,this.g={}}vr(Op,wd);var Vv=[];function n1(n,t,e,i){Array.isArray(e)||(e&&(Vv[0]=e.toString()),e=Vv);for(var r=0;r<e.length;r++){var a=Ed(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Uv(n){Ev(n.g,function(t,e){this.g.hasOwnProperty(e)&&Lm(t)},n),n.g={}}function Gm(){this.g=!0}function Dd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function bl(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Um(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}Op.prototype.M=function(){Op.Z.M.call(this),Uv(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gm.prototype.Aa=function(){this.g=!1},Gm.prototype.info=function(){};var pc={},s1=null;function $m(){return s1=s1||new br}function ST(n){ss.call(this,pc.Ma,n)}function Gh(n){const t=$m();os(t,new ST(t,n))}function o1(n,t){ss.call(this,pc.STAT_EVENT,n),this.stat=t}function Ms(n){const t=$m();os(t,new o1(t,n))}function a1(n,t){ss.call(this,pc.Na,n),this.size=t}function Td(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}pc.Ma="serverreachability",vr(ST,ss),pc.STAT_EVENT="statevent",vr(o1,ss),pc.Na="timingevent",vr(a1,ss);var zm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},l1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $h(){}function c1(){}$h.prototype.h=null;var jv,Sd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kp(){ss.call(this,"d")}function Wm(){ss.call(this,"c")}function Zm(){}function Id(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Op(this),this.P=AT,this.W=new jm(n=qw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IT}function IT(){this.i=null,this.g="",this.h=!1}vr(kp,ss),vr(Wm,ss),vr(Zm,$h),Zm.prototype.g=function(){return new XMLHttpRequest},Zm.prototype.i=function(){return{}},jv=new Zm;var AT=45e3,Km={},Rp={};function Ym(n,t,e){n.K=1,n.v=e_(mc(t)),n.s=e,n.U=!0,Hv(n,null)}function Hv(n,t){n.F=Date.now(),Pp(n),n.A=mc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),m1(e.h,"t",i),n.C=0,e=n.l.H,n.h=new IT,n.g=s0(n.l,e?t:null,!n.s),0<n.O&&(n.L=new ET(yr(n.Ia,n,n.g),n.O)),n1(n.V,n.g,"readystatechange",n.gb),t=n.H?gT(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Gh(1),function DT(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var x=I.split("_");u=2<=x.length&&"type"==x[1]?u+(I+"=")+b+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Gv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wl(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=Jm(n,e),r==Rp){4==t&&(n.o=4,Ms(14),i=!1),Dd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Km){n.o=4,Ms(15),Dd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Dd(n.j,n.m,r,null),Fp(n,r)}Gv(n)&&r!=Rp&&r!=Km&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ms(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Cu(t),t.L=!0,Ms(11))):(Dd(n.j,n.m,e,"[Invalid Chunked Response]"),_u(n),Ad(n))}function Jm(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Rp:(e=Number(t.substring(e,i)),isNaN(e)?Km:(i+=1)+e>t.length?Rp:(t=t.substr(i,e),n.C=i+e,t))}function Pp(n){n.Y=Date.now()+n.P,u1(n,n.P)}function u1(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Td(yr(n.eb,n),t)}function $v(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Ad(n){0==n.l.G||n.I||e0(n.l,n)}function _u(n){$v(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Np(n.W),Uv(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Fp(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||jp(e.i,n)))if(e.I=n.N,!n.J&&jp(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Td(yr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;qp(e),Od(e)}wu(e),Ms(18)}if(1>=RT(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else Eu(e,11)}else if((n.J||e.g==n)&&qp(e),!bv(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const I=b[3];null!=I&&(e.ma=I,e.h.info("VER="+e.ma));const x=b[4];null!=x&&(e.za=x,e.h.info("SVER="+e.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(e.K=i=1.5*F,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const U=n.g;if(U){const q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.i;!a.g&&(Is(q,"spdy")||Is(q,"quic")||Is(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Kv(a,a.h),a.h=null))}if(i.D){const ee=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,gi(i.F,i.D,ee))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=r0(i,i.H?i.la:null,i.W),u.J){Yv(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&($v(f),Pp(f)),i.g=u}else Pd(i);0<e.l.length&&wc(e)}else"stop"!=b[0]&&"close"!=b[0]||Eu(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Eu(e,7):bc(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Gh(4)}catch(b){}}function zv(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Nm(n)||"string"==typeof n)Dp(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Nm(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function Lp(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Nm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function yu(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof yu)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Qm(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];vu(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)vu(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function vu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(vt=Id.prototype).setTimeout=function(n){this.P=n},vt.gb=function(n){n=n.target;const t=this.L;t&&3==yc(n)?t.l():this.Ia(n)},vt.Ia=function(n){try{if(n==this.g)e:{const I=yc(this.g);var t=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||qw||this.g&&(this.h.h||this.g.ga()||C1(this.g)))){this.I||4!=I||7==t||Gh(8==t||0>=x?3:2),$v(this);var e=this.g.ba();this.N=e;t:if(Gv(this)){var i=C1(this.g);n="";var r=i.length,a=4==yc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_u(this),Ad(this);var u="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function r1(n,t,e,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bv(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Ms(12),_u(this),Ad(this);break e}Dd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fp(this,e)}this.U?(wl(this,I,u),qw&&this.i&&3==I&&(n1(this.V,this.W,"tick",this.fb),this.W.start())):(Dd(this.j,this.m,u,null),Fp(this,u)),4==I&&_u(this),this.i&&!this.I&&(4==I?e0(this.l,this):(this.i=!1,Pp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Ms(12)):(this.o=0,Ms(13)),_u(this),Ad(this)}}}catch(I){}},vt.fb=function(){if(this.g){var n=yc(this.g),t=this.g.ga();this.C<t.length&&($v(this),wl(this,n,t),this.i&&4!=n&&Pp(this))}},vt.cancel=function(){this.I=!0,_u(this)},vt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function TT(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Gh(3),Ms(17)),_u(this),this.o=2,Ad(this)):u1(this,this.Y-n)},(vt=yu.prototype).R=function(){Qm(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},vt.T=function(){return Qm(this),this.g.concat()},vt.get=function(n,t){return vu(this.h,n)?this.h[n]:t},vt.set=function(n,t){vu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},vt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var qv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gc(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof gc){this.g=void 0!==t?t:n.g,Xm(this,n.j),this.s=n.s,Bp(this,n.i),_c(this,n.m),this.l=n.l,t=n.h;var e=new qh;e.i=t.i,t.g&&(e.g=new yu(t.g),e.h=t.h),Wv(this,e),this.o=n.o}else n&&(e=String(n).match(qv))?(this.g=!!t,Xm(this,e[1]||"",!0),this.s=Vp(e[2]||""),Bp(this,e[3]||"",!0),_c(this,e[4]),this.l=Vp(e[5]||"",!0),Wv(this,e[6]||"",!0),this.o=Vp(e[7]||"")):(this.g=!!t,this.h=new qh(null,this.g))}function mc(n){return new gc(n)}function Xm(n,t,e){n.j=e?Vp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Bp(n,t,e){n.i=e?Vp(t,!0):t}function _c(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Wv(n,t,e){t instanceof qh?(n.h=t,function jM(n,t){t&&!n.j&&(bu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(p1(this,i),m1(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Up(t,h1)),n.h=new qh(t,n.g))}function gi(n,t,e){n.h.set(t,e)}function e_(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Up(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,NT),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Up(t,Qo,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Up(t,Qo,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Up(e,"/"==e.charAt(0)?d1:Zv,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Up(e,f1)),n.join("")};var Qo=/[#\/\?@]/g,Zv=/[#\?:]/g,d1=/[#\?]/g,h1=/[#\?@]/g,f1=/#/g;function qh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function bu(n){n.g||(n.g=new yu,n.h=0,n.i&&function MT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function p1(n,t){bu(n),t=Md(n,t),vu(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,vu((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Qm(n)))}function g1(n,t){return bu(n),t=Md(n,t),vu(n.g.h,t)}function m1(n,t,e){p1(n,t),0<e.length&&(n.i=null,n.g.set(Md(n,t),Tp(e)),n.h+=e.length)}function Md(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function y1(n){this.l=n||OT,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ea&&Yt.g.Ea()&&Yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=qh.prototype).add=function(n,t){bu(this),this.i=null,n=Md(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},vt.forEach=function(n,t){bu(this),this.g.forEach(function(e,i){Dp(e,function(r){n.call(t,r,i,this)},this)},this)},vt.T=function(){bu(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},vt.R=function(n){bu(this);var t=[];if("string"==typeof n)g1(this,n)&&(t=km(t,this.g.get(Md(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=km(t,n[e])}return t},vt.set=function(n,t){return bu(this),this.i=null,g1(this,n=Md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},vt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var OT=10;function kT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function RT(n){return n.h?1:n.g?n.g.size:0}function jp(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Kv(n,t){n.g?n.g.add(t):n.h=t}function Yv(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Jv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Tp(n.i)}function v1(){}function Ra(){this.g=new v1}function HM(n,t,e){const i=e||"";try{zv(n,function(r,a){let u=r;gu(r)&&(u=Um(r)),t.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Hp(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(a){}}function Wh(n){this.l=n.$b||null,this.j=n.ib||!1}function Gp(n,t){br.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}y1.prototype.cancel=function(){if(this.i=Jv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},v1.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},v1.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},vr(Wh,$h),Wh.prototype.g=function(){return new Gp(this.l,this.j)},Wh.prototype.i=function(n){return function(){return n}}({}),vr(Gp,br);var Qv=0;function PT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Zh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xd(n)}function xd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=Gp.prototype).open=function(n,t){if(this.readyState!=Qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,xd(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Yt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=Qv},vt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},vt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Zh(this):xd(this),3==this.readyState&&PT(this)}},vt.Ua=function(n){this.g&&(this.response=this.responseText=n,Zh(this))},vt.Ta=function(n){this.g&&(this.response=n,Zh(this))},vt.ha=function(){this.g&&Zh(this)},vt.setRequestHeader=function(n,t){this.v.append(n,t)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FT=Yt.JSON.parse;function ki(n){br.call(this),this.headers=new yu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=b1,this.K=this.L=!1}vr(ki,br);var b1="",LT=/^https?$/i,BT=["POST","PUT"];function UT(n){return"content-type"==n.toLowerCase()}function w1(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,$p(n),t_(n)}function $p(n){n.D||(n.D=!0,os(n,"complete"),os(n,"error"))}function Nd(n){if(n.h&&void 0!==Kt&&(!n.C[1]||4!=yc(n)||2!=n.ba()))if(n.v&&4==yc(n))Hm(n.Fa,0,n);else if(os(n,"readystatechange"),4==yc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(qv)[1]||null;if(!r&&Yt.self&&Yt.self.location){var a=Yt.self.location.protocol;r=a.substr(0,a.length-1)}i=!LT.test(r?r.toLowerCase():"")}e=i}if(e)os(n,"complete"),os(n,"success");else{n.m=6;try{var u=2<yc(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",$p(n)}}finally{t_(n)}}}function t_(n,t){if(n.g){Kh(n);const e=n.g,i=n.C[0]?wp:null;n.g=null,n.C=null,t||os(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Kh(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function yc(n){return n.g?n.g.readyState:0}function C1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case b1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xo(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function Xv(n){let t="";return Ev(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function vc(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Wr(n){this.za=0,this.l=[],this.h=new Gm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vc("baseRetryDelayMs",5e3,n),this.$a=vc("retryDelaySeedMs",1e4,n),this.Ya=vc("forwardChannelMaxRetries",2,n),this.ra=vc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new y1(n&&n.concurrentRequestLimit),this.Ca=new Ra,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function bc(n){if(Eo(n),3==n.G){var t=n.V++,e=mc(n.F);gi(e,"SID",n.J),gi(e,"RID",t),gi(e,"TYPE","terminate"),Cl(n,e),(t=new Id(n,n.h,t,void 0)).K=2,t.v=e_(mc(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(e=Yt.navigator.sendBeacon(t.v.toString(),"")),!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=s0(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pp(t)}n0(n)}function Od(n){n.g&&(Cu(n),n.g.cancel(),n.g=null)}function Eo(n){Od(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),qp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function zp(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&wc(n)}function wc(n){kT(n.i)||n.m||(n.m=!0,Fv(n.Ha,n),n.C=0)}function kd(n,t){var e;e=t?t.m:n.V++;const i=mc(n.F);gi(i,"SID",n.J),gi(i,"RID",e),gi(i,"AID",n.U),Cl(n,i),n.o&&n.s&&Xo(i,n.o,n.s),e=new Id(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=Rd(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Kv(n.i,e),Ym(e,i,t)}function Cl(n,t){n.j&&zv({},function(e,i){gi(t,i,e)})}function Rd(n,t,e){e=Math.min(n.l.length,e);var i=n.j?yr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<e;_++){let b=r[_].h;const I=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{HM(I,u,"req"+b+"_")}catch(x){i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function Pd(n){n.g||n.u||(n.Y=1,Fv(n.Ga,n),n.A=0)}function wu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Td(yr(n.Ga,n),t0(n,n.A)),n.A++,0))}function Cu(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Fd(n){n.g=new Id(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=mc(n.oa);gi(t,"RID","rpc"),gi(t,"SID",n.J),gi(t,"CI",n.N?"0":"1"),gi(t,"AID",n.U),Cl(n,t),gi(t,"TYPE","xmlhttp"),n.o&&n.s&&Xo(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=e_(mc(t)),e.s=null,e.U=!0,Hv(e,n)}function qp(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function e0(n,t){var e=null;if(n.g==t){qp(n),Cu(n),n.g=null;var i=2}else{if(!jp(n.i,t))return;e=t.D,Yv(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;os(i=$m(),new a1(i,e,t,r)),wc(n)}else Pd(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function Yh(n,t){return!(RT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Td(yr(n.Ha,n,t),t0(n,n.C)),n.C++,0)))}(n,t)||2==i&&wu(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Eu(n,5);break;case 4:Eu(n,10);break;case 3:Eu(n,6);break;default:Eu(n,2)}}function t0(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Eu(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=yr(n.jb,n);e||(e=new gc("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||Xm(e,"https"),e_(e)),function GM(n,t){const e=new Gm;if(Yt.Image){const i=new Image;i.onload=Cp(Hp,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Cp(Hp,e,i,"TestLoadImage: error",!1,t),i.onabort=Cp(Hp,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Cp(Hp,e,i,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ms(2);n.G=0,n.j&&n.j.va(t),n0(n),Eo(n)}function n0(n){n.G=0,n.I=-1,n.j&&((0!=Jv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Tp(n.l),n.l.length=0),n.j.ua())}function r0(n,t,e){let i=function zh(n){return n instanceof gc?mc(n):new gc(n,void 0)}(e);if(""!=i.i)t&&Bp(i,t+"."+i.i),_c(i,i.m);else{const r=Yt.location;i=function xT(n,t,e,i){var r=new gc(null,void 0);return n&&Xm(r,n),t&&Bp(r,t),e&&_c(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Ev(n.aa,function(r,a){gi(i,a,r)}),e=n.sa,(t=n.D)&&e&&gi(i,t,e),gi(i,"VER",n.ma),Cl(n,i),i}function s0(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ki(e&&n.Ba&&!n.qa?new Wh({ib:!0}):n.qa)).L=n.H,t}function o0(){}function Wp(){if(Sp&&!(10<=Number(Kw)))throw Error("Environmental error: no available transport.")}function Do(n,t){br.call(this),this.g=new Wr(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!bv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ld(this)}function a0(n){kp.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function E1(){Wm.call(this),this.status=1}function Ld(n){this.g=n}(vt=ki.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jv.g(),this.C=function qm(n){return n.h||(n.h=n.i())}(this.u?this.u:jv),this.g.onreadystatechange=yr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void w1(this,a)}n=e||"";const r=new yu(this.headers);i&&zv(i,function(a,u){r.set(u,a)}),i=function vv(n){e:{var t=UT;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Yt.FormData&&n instanceof Yt.FormData,!(0<=Ep(BT,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kh(this),0<this.B&&((this.K=function VT(n){return Sp&&function vT(){return function Iv(n){var t=Mv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=zw(String(Av)).split("."),e=zw("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",a=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=wv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||wv(0==r[2].length,0==a[2].length)||wv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.pa,this)):this.A=Hm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){w1(this,a)}},vt.pa=function(){void 0!==Kt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,os(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,os(this,"complete"),os(this,"abort"),t_(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t_(this,!0)),ki.Z.M.call(this)},vt.Fa=function(){this.s||(this.F||this.v||this.l?Nd(this):this.cb())},vt.cb=function(){Nd(this)},vt.ba=function(){try{return 2<yc(this)?this.g.status:-1}catch(n){return-1}},vt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},vt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),FT(t)}},vt.Da=function(){return this.m},vt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=Wr.prototype).ma=8,vt.G=1,vt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},vt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Id(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=gT(a),Tv(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Rd(this,r,t),gi(e=mc(this.F),"RID",n),gi(e,"CVER",22),this.D&&gi(e,"X-HTTP-Session-Id",this.D),Cl(this,e),this.o&&a&&Xo(e,this.o,a),Kv(this.i,r),this.Ra&&gi(e,"TYPE","init"),this.ja?(gi(e,"$req",t),gi(e,"SID","null"),r.$=!0,Ym(r,e,null)):Ym(r,e,t),this.G=2}}else 3==this.G&&(n?kd(this,n):0==this.l.length||kT(this.i)||kd(this))},vt.Ga=function(){if(this.u=null,Fd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Td(yr(this.bb,this),n)}},vt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ms(10),Od(this),Fd(this))},vt.ab=function(){null!=this.v&&(this.v=null,Od(this),wu(this),Ms(19))},vt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ms(2)):(this.h.info("Failed to ping google.com"),Ms(1))},(vt=o0.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Oa=function(){},Wp.prototype.g=function(n,t){return new Do(n,t)},vr(Do,br),Do.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Fv(yr(n.hb,n,t))),Ms(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=r0(n,null,n.W),wc(n)},Do.prototype.close=function(){bc(this.g)},Do.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,zp(this.g,t)}else this.v?((t={}).__data__=Um(n),zp(this.g,t)):zp(this.g,n)},Do.prototype.M=function(){this.g.j=null,delete this.j,bc(this.g),delete this.g,Do.Z.M.call(this)},vr(a0,kp),vr(E1,Wm),vr(Ld,o0),Ld.prototype.xa=function(){os(this.g,"a")},Ld.prototype.wa=function(n){os(this.g,new a0(n))},Ld.prototype.va=function(n){os(this.g,new E1(n))},Ld.prototype.ua=function(){os(this.g,"b")},Wp.prototype.createWebChannel=Wp.prototype.g,Do.prototype.send=Do.prototype.u,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,zm.NO_ERROR=0,zm.TIMEOUT=8,zm.HTTP_ERROR=6,l1.COMPLETE="complete",c1.EventType=Sd,Sd.OPEN="a",Sd.CLOSE="b",Sd.ERROR="c",Sd.MESSAGE="d",br.prototype.listen=br.prototype.N,ki.prototype.listenOnce=ki.prototype.O,ki.prototype.getLastError=ki.prototype.La,ki.prototype.getLastErrorCode=ki.prototype.Da,ki.prototype.getStatus=ki.prototype.ba,ki.prototype.getResponseJson=ki.prototype.Qa,ki.prototype.getResponseText=ki.prototype.ga,ki.prototype.send=ki.prototype.ea;var D1=hc.createWebChannelTransport=function(){return new Wp},jT=hc.getStatEventTarget=function(){return $m()},l0=hc.ErrorCode=zm,T1=hc.EventType=l1,HT=hc.Event=pc,c0=hc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GT=hc.FetchXmlHttpFactory=Wh,n_=hc.WebChannel=c1,$M=hc.XhrIo=ki;const S1="@firebase/firestore";class wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let Du="9.6.10";const Tu=new pu.Yd("@firebase/firestore");function I1(){return Tu.logLevel}function qe(n,...t){if(Tu.logLevel<=pu.in.DEBUG){const e=t.map(A1);Tu.debug(`Firestore (${Du}): ${n}`,...e)}}function rr(n,...t){if(Tu.logLevel<=pu.in.ERROR){const e=t.map(A1);Tu.error(`Firestore (${Du}): ${n}`,...e)}}function Jh(n,...t){if(Tu.logLevel<=pu.in.WARN){const e=t.map(A1);Tu.warn(`Firestore (${Du}): ${n}`,...e)}}function A1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function bt(n="Unexpected state"){const t=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function Ut(n,t){n||bt()}function st(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends pn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class M1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(wr.UNAUTHENTICATED))}shutdown(){}}class zT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qT{constructor(t){this.t=t,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;t.enqueueRetryable((0,Ae.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new M1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new wr(t)}}class WT{constructor(t,e,i){this.type="FirstParty",this.user=wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZT{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new WT(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O1{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=a=>{null!=a.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.p=e.token,new N1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class eo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function k1(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}eo.A=-1;class i_{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=k1(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function _n(n,t){return n<t?-1:n>t?1:0}function Su(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function R1(n){return n+"\0"}class sr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return sr.fromMillis(Date.now())}static fromDate(t){return sr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new sr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new sr(0,0))}static max(){return new Rt(new sr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function u0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function r_(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Zp{constructor(t,e,i){void 0===e?e=0:e>t.length&&bt(),void 0===i?i=t.length-e:i>t.length-e&&bt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Zp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Zp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),u=e.get(r);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yn extends Zp{construct(t,e,i){return new yn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const s_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Zp{construct(t,e,i){return new or(t,e,i)}static isValidIdentifier(t){return s_.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ue(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Ue(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ue(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Ue(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new or(e)}static emptyPath(){return new or([])}}class Kp{constructor(t){this.fields=t,t.sort(or.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Su(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Wi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Wi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new Wi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const d0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=d0.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Di(n.seconds),nanos:Di(n.nanos)}}function Di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dc(n){return"string"==typeof n?Wi.fromBase64String(n):Wi.fromUint8Array(n)}function o_(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function h0(n){const t=n.mapValue.fields.__previous_value__;return o_(t)?h0(t):t}function Bd(n){const t=Ec(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(t.seconds,t.nanos)}class f0{constructor(t,e,i,r,a,u,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Tc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}function Iu(n){return null==n}function Qh(n){return 0===n&&1/n==-1/0}function a_(n){return"number"==typeof n&&Number.isInteger(n)&&!Qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(yn.fromString(t))}static fromName(t){return new Qe(yn.fromString(t).popFirst(5))}static empty(){return new Qe(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new yn(t.slice()))}}const P1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},p0={nullValue:"NULL_VALUE"};function Au(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?o_(n)?4:_0(n)?9:10:bt()}function ea(n,t){if(n===t)return!0;const e=Au(n);if(e!==Au(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bd(n).isEqual(Bd(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Ec(i.timestampValue),u=Ec(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Dc(n.bytesValue).isEqual(Dc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Di(i.geoPointValue.latitude)===Di(r.geoPointValue.latitude)&&Di(i.geoPointValue.longitude)===Di(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Di(i.integerValue)===Di(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Di(i.doubleValue),u=Di(r.doubleValue);return a===u?Qh(a)===Qh(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return Su(n.arrayValue.values||[],t.arrayValue.values||[],ea);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(u0(a)!==u0(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ea(a[f],u[f])))return!1;return!0}(n,t);default:return bt()}var r}function Mu(n,t){return void 0!==(n.values||[]).find(e=>ea(e,t))}function Sc(n,t){if(n===t)return 0;const e=Au(n),i=Au(t);if(e!==i)return _n(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,t.booleanValue);case 2:return function(r,a){const u=Di(r.integerValue||r.doubleValue),f=Di(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return g0(n.timestampValue,t.timestampValue);case 4:return g0(Bd(n),Bd(t));case 5:return _n(n.stringValue,t.stringValue);case 6:return function(r,a){const u=Dc(r),f=Dc(a);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=_n(u[_],f[_]);if(0!==b)return b}return _n(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const u=_n(Di(r.latitude),Di(a.latitude));return 0!==u?u:_n(Di(r.longitude),Di(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Sc(u[_],f[_]);if(b)return b}return _n(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const x=_n(f[I],b[I]);if(0!==x)return x;const F=Sc(u[f[I]],_[b[I]]);if(0!==F)return F}return _n(f.length,b.length)}(n.mapValue,t.mapValue);default:throw bt()}}function g0(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return _n(n,t);const e=Ec(n),i=Ec(t),r=_n(e.seconds,i.seconds);return 0!==r?r:_n(e.nanos,i.nanos)}function Vd(n){return l_(n)}function l_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ec(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dc(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=l_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${l_(i.fields[f])}`;return a+"}"}(n.mapValue):bt();var t}function Ud(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function c_(n){return!!n&&"integerValue"in n}function Xh(n){return!!n&&"arrayValue"in n}function m0(n){return!!n&&"nullValue"in n}function YT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function u_(n){return!!n&&"mapValue"in n}function Yp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Cc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Yp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Yp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function F1(n,t){return void 0===n?t:void 0===t||Sc(n,t)>0?n:t}function ar(n,t){return void 0===n?t:void 0===t||Sc(n,t)<0?n:t}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!u_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yp(e)}setAll(t){let e=or.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=Yp(u):r.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());u_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ea(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];u_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Cc(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Zr(Yp(this.value))}}function L1(n){const t=[];return Cc(n.fields,(e,i)=>{const r=new or([e]);if(u_(i)){const a=L1(i.mapValue).fields;if(0===a.length)t.push(r);else for(const u of a)t.push(r.child(u))}else t.push(r)}),new Kp(t)}class hi{constructor(t,e,i,r,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(t){return new hi(t,0,Rt.min(),Rt.min(),Zr.empty(),0)}static newFoundDocument(t,e,i){return new hi(t,1,e,Rt.min(),i,0)}static newNoDocument(t,e){return new hi(t,2,e,Rt.min(),Zr.empty(),0)}static newUnknownDocument(t,e){return new hi(t,3,e,Rt.min(),Zr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function y0(n){return n.fields.find(t=>2===t.kind)}function jd(n){return n.fields.filter(t=>2!==t.kind)}Jp.UNKNOWN_ID=-1;class Qp{constructor(t,e){this.fieldPath=t,this.kind=e}}class El{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new El(0,Dl.min())}}function B1(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new sr(e+1,0):new sr(e,i));return new Dl(r,Qe.empty(),t)}function JT(n){return new Dl(n.readTime,n.key,-1)}class Dl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Dl(Rt.min(),Qe.empty(),-1)}static max(){return new Dl(Rt.max(),Qe.empty(),-1)}}function QT(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Qe.comparator(n.documentKey,t.documentKey),0!==e?e:_n(n.largestBatchId,t.largestBatchId))}class V1{constructor(t,e=null,i=[],r=[],a=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function XT(n,t=null,e=[],i=[],r=null,a=null,u=null){return new V1(n,t,e,i,r,a,u)}function Ic(n){const t=st(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Vd(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Iu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Vd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Vd(i)).join(",")),t.P=e}return t.P}function to(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!rS(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ea(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!j1(n.startAt,t.startAt)&&j1(n.endAt,t.endAt)}function d_(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Xp(n,t){return n.filters.filter(e=>e instanceof ii&&e.field.isEqual(t))}class ii extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new Pa(t,e,i):"array-contains"===e?new eS(t,i):"in"===e?new tS(t,i):"not-in"===e?new nS(t,i):"array-contains-any"===e?new iS(t,i):new ii(t,e,i)}static V(t,e,i){return"in"===e?new Fa(t,i):new U1(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Sc(e,this.value)):null!==e&&Au(this.value)===Au(e)&&this.v(Sc(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pa extends ii{constructor(t,e,i){super(t,e,i),this.key=Qe.fromName(i.referenceValue)}matches(t){const e=Qe.comparator(t.key,this.key);return this.v(e)}}class Fa extends ii{constructor(t,e){super(t,"in",e),this.keys=b0(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class U1 extends ii{constructor(t,e){super(t,"not-in",e),this.keys=b0(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function b0(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class eS extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xh(e)&&Mu(e.arrayValue,this.value)}}class tS extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Mu(this.value.arrayValue,e)}}class nS extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Mu(this.value.arrayValue,e)}}class iS extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mu(this.value.arrayValue,i))}}class Tl{constructor(t,e){this.position=t,this.inclusive=e}}class Sl{constructor(t,e="asc"){this.field=t,this.dir=e}}function rS(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function w0(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],u=n.position[r];if(i=a.field.isKeyField()?Qe.comparator(Qe.fromName(u.referenceValue),e.key):Sc(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function j1(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ea(n.position[e],t.position[e]))return!1;return!0}class Il{constructor(t,e=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function C0(n,t,e,i,r,a,u,f){return new Il(n,t,e,i,r,a,u,f)}function Ac(n){return new Il(n)}function h_(n){return!Iu(n.limit)&&"F"===n.limitType}function eg(n){return!Iu(n.limit)&&"L"===n.limitType}function f_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tg(n){for(const t of n.filters)if(t.S())return t.field;return null}function ef(n){return null!==n.collectionGroup}function Hd(n){const t=st(n);if(null===t.D){t.D=[];const e=tg(t),i=f_(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Sl(e)),t.D.push(new Sl(or.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.D.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Sl(or.keyField(),a))}}}return t.D}function To(n){const t=st(n);if(!t.C)if("F"===t.limitType)t.C=XT(t.path,t.collectionGroup,Hd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Hd(t))e.push(new Sl(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new Tl(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Tl(t.startAt.position,!t.startAt.inclusive):null;t.C=XT(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function E0(n,t,e){return new Il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function tf(n,t){return to(To(n),To(t))&&n.limitType===t.limitType}function D0(n){return`${Ic(To(n))}|lt:${n.limitType}`}function p_(n){return`Query(target=${function v0(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Vd(i.value)}`;var i}).join(", ")}]`),Iu(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Vd(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Vd(e)).join(",")),`Target(${t})`}(To(n))}; limitType=${n.limitType})`}function g_(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,u){const f=w0(r,a,u);return r.inclusive?f<=0:f<0}(e.startAt,Hd(e),i)||e.endAt&&!function(r,a,u){const f=w0(r,a,u);return r.inclusive?f>=0:f>0}(e.endAt,Hd(e),i)));var e,i}function T0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function H1(n){return(t,e)=>{let i=!1;for(const r of Hd(n)){const a=sS(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function sS(n,t,e){const i=n.field.isKeyField()?Qe.comparator(t.key,e.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Sc(f,_):bt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}function G1(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function $1(n){return{integerValue:""+n}}function z1(n,t){return a_(t)?$1(t):G1(n,t)}class m_{constructor(){this._=void 0}}function oS(n,t,e){return n instanceof nf?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof Gd?W1(n,t):n instanceof $d?Z1(n,t):function(i,r){const a=q1(i,r),u=K1(a)+K1(i.k);return c_(a)&&c_(i.k)?$1(u):G1(i.M,u)}(n,t)}function aS(n,t,e){return n instanceof Gd?W1(n,t):n instanceof $d?Z1(n,t):e}function q1(n,t){return n instanceof rf?c_(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class nf extends m_{}class Gd extends m_{constructor(t){super(),this.elements=t}}function W1(n,t){const e=Y1(t);for(const i of n.elements)e.some(r=>ea(r,i))||e.push(i);return{arrayValue:{values:e}}}class $d extends m_{constructor(t){super(),this.elements=t}}function Z1(n,t){let e=Y1(t);for(const i of n.elements)e=e.filter(r=>!ea(r,i));return{arrayValue:{values:e}}}class rf extends m_{constructor(t,e){super(),this.M=t,this.k=e}}function K1(n){return Di(n.integerValue||n.doubleValue)}function Y1(n){return Xh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ng{constructor(t,e){this.field=t,this.transform=e}}class Q1{constructor(t,e){this.version=t,this.transformResults=e}}class Zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ig(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class rg{}function X1(n,t,e){n instanceof zd?function(i,r,a){const u=i.value.clone(),f=nC(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof So?function(i,r,a){if(!ig(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=nC(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(tC(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function __(n,t,e){var r;n instanceof zd?function(i,r,a){if(!ig(i.precondition,r))return;const u=i.value.clone(),f=qd(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(y_(r),u).setHasLocalMutations()}(n,t,e):n instanceof So?function(i,r,a){if(!ig(i.precondition,r))return;const u=qd(i.fieldTransforms,a,r),f=r.data;f.setAll(tC(i)),f.setAll(u),r.convertToFoundDocument(y_(r),f).setHasLocalMutations()}(n,t,e):ig(n.precondition,r=t)&&r.convertToNoDocument(Rt.min())}function eC(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=q1(i.transform,r||null);null!=a&&(null==e&&(e=Zr.empty()),e.set(i.field,a))}return e||null}function S0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Su(e,i,(r,a)=>function J1(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gd&&i instanceof Gd||e instanceof $d&&i instanceof $d?Su(e.elements,i.elements,ea):e instanceof rf&&i instanceof rf?ea(e.k,i.k):e instanceof nf&&i instanceof nf);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function y_(n){return n.isFoundDocument()?n.version:Rt.min()}class zd extends rg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class So extends rg{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function tC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function nC(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],u=a.transform,f=t.data.field(a.field);i.set(a.field,aS(u,f,e[r]))}return i}function qd(n,t,e){const i=new Map;for(const r of n){const a=r.transform,u=e.data.field(r.field);i.set(r.field,oS(a,u,t))}return i}class v_ extends rg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class sg extends rg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class WM{constructor(t){this.count=t}}var Ki,En;function lS(n){switch(n){default:return bt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function Bt(n){if(void 0===n)return rr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Ki.OK:return ve.OK;case Ki.CANCELLED:return ve.CANCELLED;case Ki.UNKNOWN:return ve.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return ve.INTERNAL;case Ki.UNAVAILABLE:return ve.UNAVAILABLE;case Ki.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ki.NOT_FOUND:return ve.NOT_FOUND;case Ki.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ki.ABORTED:return ve.ABORTED;case Ki.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ki.DATA_LOSS:return ve.DATA_LOSS;default:return bt()}}(En=Ki||(Ki={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class xu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Cc(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return r_(this.inner)}size(){return this.innerSize}}class Yi{constructor(t,e){this.comparator=t,this.root=e||lr.EMPTY}insert(t,e){return new Yi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(t){return new Yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new b_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new b_(this.root,t,this.comparator,!1)}getReverseIterator(){return new b_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new b_(this.root,t,this.comparator,!0)}}class b_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class lr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=null!=i?i:lr.RED,this.left=null!=r?r:lr.EMPTY,this.right=null!=a?a:lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new lr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new lr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fi{constructor(t){this.comparator=t,this.data=new Yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(t){return new og(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof fi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fi(this.comparator);return e.data=t,e}}class og{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mc(n){return n.hasNext()?n.getNext():void 0}const Ri=new Yi(Qe.comparator);function La(){return Ri}const iC=new Yi(Qe.comparator);function I0(){return iC}function ag(){return new xu(n=>n.toString(),(n,t)=>n.isEqual(t))}const rC=new Yi(Qe.comparator),sC=new fi(Qe.comparator);function Pn(...n){let t=sC;for(const e of n)t=t.add(e);return t}const oC=new fi(_n);function w_(){return oC}class lg{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,cg.createSynthesizedTargetChangeForCurrentChange(t,e)),new lg(Rt.min(),i,w_(),La(),Pn())}}class cg{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new cg(Wi.EMPTY_BYTE_STRING,e,Pn(),Pn(),Pn())}}class Nu{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class aC{constructor(t,e){this.targetId=t,this.$=e}}class lC{constructor(t,e,i=Wi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class cC{constructor(){this.B=0,this.L=M0(),this.U=Wi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=Pn(),e=Pn(),i=Pn();return this.L.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new cg(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=M0()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class C_{constructor(t){this.nt=t,this.st=new Map,this.it=La(),this.rt=A0(),this.ot=new fi(_n)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:bt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const a=r.target;if(d_(a))if(0===i){const u=new Qe(a.path);this.ct(e,u,hi.newNoDocument(u,Rt.min()))}else Ut(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&d_(f.target)){const _=new Qe(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,hi.newNoDocument(_,t))}a.j&&(e.set(u,a.H()),a.J())}});let i=Pn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.it.forEach((a,u)=>u.setReadTime(t));const r=new lg(t,e,this.ot,this.it,i);return this.it=La(),this.rt=A0(),this.ot=new fi(_n),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new cC,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new fi(_n),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||qe("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new cC),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function A0(){return new Yi(Qe.comparator)}function M0(){return new Yi(Qe.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ug{constructor(t,e){this.databaseId=t,this.N=e}}function xc(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dC(n,t){return n.N?t.toBase64():t.toUint8Array()}function uS(n,t){return xc(n,t.toTimestamp())}function kr(n){return Ut(!!n),Rt.fromTimestamp(function(t){const e=Ec(t);return new sr(e.seconds,e.nanos)}(n))}function E_(n,t){return(e=n,new yn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function x0(n){const t=yn.fromString(n);return Ut(k0(t)),t}function sf(n,t){return E_(n.databaseId,t.path)}function Al(n,t){const e=x0(t);if(e.get(1)!==n.databaseId.projectId)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Qe(dS(e))}function D_(n,t){return E_(n.databaseId,t)}function hC(n){const t=x0(n);return 4===t.length?yn.emptyPath():dS(t)}function dg(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dS(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hS(n,t,e){return{name:sf(n,t),fields:e.value.mapValue.fields}}function fS(n,t,e){const i=Al(n,t.name),r=kr(t.updateTime),a=new Zr({mapValue:{fields:t.fields}}),u=hi.newFoundDocument(i,r,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Ou(n,t){let e;if(t instanceof zd)e={update:hS(n,t.key,t.value)};else if(t instanceof v_)e={delete:sf(n,t.key)};else if(t instanceof So)e={update:hS(n,t.key,t.data),updateMask:vS(t.fieldMask)};else{if(!(t instanceof sg))return bt();e={verify:sf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof nf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $d)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof rf)return{fieldPath:a.field.canonicalString(),increment:u.k};throw bt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:uS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),e;var r}function N0(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Zi.updateTime(kr(r.updateTime)):void 0!==r.exists?Zi.exists(r.exists):Zi.none():Zi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),f=new nf):"appendMissingElements"in u?f=new Gd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new $d(u.removeAllFromArray.values||[]):"increment"in u?f=new rf(a,u.increment):bt();const _=or.fromServerFormat(u.fieldPath);return new ng(_,f)}(n,r)):[];var r;if(t.update){const r=Al(n,t.update.name),a=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Kp((t.updateMask.fieldPaths||[]).map(b=>or.fromServerFormat(b)));return new So(r,a,u,e,i)}return new zd(r,a,e,i)}if(t.delete){const r=Al(n,t.delete);return new v_(r,e)}if(t.verify){const r=Al(n,t.verify);return new sg(r,e)}return bt()}function O0(n,t){return{documents:[D_(n,t.path)]}}function af(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=D_(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=D_(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(I=>function(x){if("=="===x.op){if(YT(x.value))return{unaryFilter:{field:Wd(x.field),op:"IS_NAN"}};if(m0(x.value))return{unaryFilter:{field:Wd(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(YT(x.value))return{unaryFilter:{field:Wd(x.field),op:"IS_NOT_NAN"}};if(m0(x.value))return{unaryFilter:{field:Wd(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wd(x.field),op:_S(x.op),value:x.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Wd((I=b).field),direction:mS(I.dir)};var I})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(b=t.limit,n.N||Iu(b)?b:{value:b});var b,f,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function pC(n){let t=hC(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const I=e.from[0];I.allDescendants?r=I.collectionId:t=t.child(I.collectionId)}let a=[];e.where&&(a=gC(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(I=>{return new Sl(lf((x=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;e.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,Iu(x)?null:x}(e.limit));let _=null;var I;e.startAt&&(_=new Tl((I=e.startAt).values||[],!!I.before));let b=null;return e.endAt&&(b=function(I){return new Tl(I.values||[],!I.before)}(e.endAt)),C0(t,r,u,a,f,"F",_,b)}function gC(n){return n?void 0!==n.unaryFilter?[cf(n)]:void 0!==n.fieldFilter?[yS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>gC(t)).reduce((t,e)=>t.concat(e)):bt():[]}function mS(n){return uC[n]}function _S(n){return cS[n]}function Wd(n){return{fieldPath:n.canonicalString()}}function lf(n){return or.fromServerFormat(n.fieldPath)}function yS(n){return ii.create(lf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function cf(n){switch(n.unaryFilter.op){case"IS_NAN":const t=lf(n.unaryFilter.field);return ii.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=lf(n.unaryFilter.field);return ii.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lf(n.unaryFilter.field);return ii.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=lf(n.unaryFilter.field);return ii.create(r,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function vS(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function k0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=_C(t)),t=mC(n.get(e),t);return _C(t)}function mC(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function _C(n){return n+"\x01\x01"}function ta(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&bt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:bt()}a=u+2}return new yn(i)}const yC=["userId","batchId"];function uf(n,t){return[n,Rr(t)]}function vC(n,t,e){return[n,Rr(t),e]}const bC={},wC=["prefixPath","collectionGroup","readTime","documentId"],bS=["prefixPath","collectionGroup","documentId"],wS=["collectionGroup","readTime","prefixPath","documentId"],CS=["canonicalId","targetId"],R0=["targetId","path"],ES=["path","targetId"],CC=["collectionId","parent"],DS=["indexId","uid"],TS=["uid","sequenceNumber"],SS=["indexId","uid","arrayValue","directionalValue","documentKey"],IS=["indexId","uid","documentKey"],AS=["userId","collectionPath","documentId"],MS=["userId","collectionPath","largestBatchId"],xS=["userId","collectionGroup","largestBatchId"],EC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DC=[...EC,"documentOverlays"],P0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TC=[...P0,"indexConfiguration","indexState","indexEntries"],SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ee((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ee?e:Ee.resolve(e)}catch(e){return Ee.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ee.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ee.reject(e)}static resolve(t){return new Ee((e,i)=>{e(t)})}static reject(t){return new Ee((e,i)=>{i(t)})}static waitFor(t){return new Ee((e,i)=>{let r=0,a=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&e()},_=>i(_))}),u=!0,a===r&&e()})}static or(t){let e=Ee.resolve(!1);for(const i of t)e=e.next(r=>r?Ee.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}}class S_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new qi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new Zd(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=hg(i.target.error);this.At.reject(new Zd(t,r))}}static open(t,e,i,r){try{return new S_(e,t.transaction(r,i))}catch(a){throw new Zd(e,a)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(qe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new L0(e)}}class Ba{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Ba.Vt((0,pn.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return qe("SimpleDb","Removing database:",t),Kd(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,pn.hl)())return!1;if(Ba.St())return!0;const t=(0,pn.z$)(),e=Ba.Vt(t),i=0<e&&e<10,r=Ba.Dt(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Ae.Z)(function*(){return e.db||(qe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Zd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Ue(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ue(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Zd(t,f))},a.onupgradeneeded=u=>{qe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{qe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,Ae.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.Nt(t);const _=S_.open(a.db,t,u?"readonly":"readwrite",i),b=r(_).next(I=>(_.bt(),I)).catch(I=>(_.abort(I),Ee.reject(I))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(qe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F0{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Kd(this.Ft.delete())}}class Zd extends Ue{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ku(n){return"IndexedDbTransactionError"===n.name}class L0{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(qe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Kd(i)}add(t){return qe("SimpleDb","ADD",this.store.name,t,t),Kd(this.store.add(t))}get(t){return Kd(this.store.get(t)).next(e=>(void 0===e&&(e=null),qe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return qe("SimpleDb","DELETE",this.store.name,t),Kd(this.store.delete(t))}count(){return qe("SimpleDb","COUNT",this.store.name),Kd(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.Gt(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new Ee((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ee((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(a,u,f)=>f.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new Ee((i,r)=>{e.onerror=a=>{const u=hg(a.target.error);r(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Gt(t,e){const i=[];return new Ee((r,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new F0(f),b=e(f.primaryKey,f.value,_);if(b instanceof Ee){const I=b.catch(x=>(_.done(),Ee.reject(x)));i.push(I)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>Ee.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Kd(n){return new Ee((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=hg(i.target.error);e(r)}})}let IC=!1;function hg(n){const t=Ba.Vt((0,pn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IC||(IC=!0,setTimeout(()=>{throw i},0)),i}}return n}class AC extends T_{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Cr(n,t){const e=st(n);return Ba.xt(e.Ht,t)}class B0{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&X1(a,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&__(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&__(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pn())}isEqual(t){return this.batchId===t.batchId&&Su(this.mutations,t.mutations,(e,i)=>S0(e,i))&&Su(this.baseMutations,t.baseMutations,(e,i)=>S0(e,i))}}class I_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=rC;const a=t.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new I_(t,e,i,r)}}class V0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nc{constructor(t,e,i,r,a=Rt.min(),u=Rt.min(),f=Wi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new Nc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class NS{constructor(t){this.Jt=t}}function fg(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:A_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:sf(r=n.Jt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:xc(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:na(t.version)};else{if(!t.isUnknownDocument())return bt();i.unknownDocument={path:e.path.toArray(),version:na(t.version)}}var r,a;return i}function A_(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function na(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Va(n){const t=new sr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function df(n,t){const e=(t.baseMutations||[]).map(a=>N0(n.Jt,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>N0(n.Jt,a)),r=sr.fromMillis(t.localWriteTimeMs);return new B0(t.batchId,r,e,i)}function M_(n){const t=Va(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Va(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=To(Ac(hC(r.documents[0])))):i=To(pC(n.query)),new Nc(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Wi.fromBase64String(n.resumeToken))}function U0(n,t){const e=na(t.snapshotVersion),i=na(t.lastLimboFreeSnapshotVersion);let r;r=d_(t.target)?O0(n.Jt,t.target):af(n.Jt,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ic(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function j0(n){const t=pC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?E0(t,t.limit,"L"):t}function H0(n,t){return new V0(t.largestBatchId,N0(n.Jt,t.overlayMutation))}function MC(n,t){const e=t.path.lastSegment();return[n,Rr(t.path.popLast()),e]}class kS{getBundleMetadata(t,e){return G0(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Va(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return G0(t).put({bundleId:(i=e).id,createTime:na(kr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return $0(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:j0(r.bundledQuery),readTime:Va(r.readTime)};var r})}saveNamedQuery(t,e){return $0(t).put({name:(i=e).name,readTime:na(kr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function G0(n){return Cr(n,"bundles")}function $0(n){return Cr(n,"namedQueries")}class pg{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new pg(t,e.uid||"")}getOverlay(t,e){return Ru(t).get(MC(this.userId,e)).next(i=>i?H0(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((a,u)=>{const f=new V0(e,u);r.push(this.Xt(t,f))}),Ee.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Rr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Ru(t).Qt("collectionPathOverlayIndex",f))}),Ee.waitFor(a)}getOverlaysForCollection(t,e,i){const r=ag(),a=Rr(e),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ru(t).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=H0(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=ag();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ru(t).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const x=H0(this.M,b);a.size()<r||x.largestBatchId===u?(a.set(x.getKey(),x),u=x.largestBatchId):I.done()}).next(()=>a)}Xt(t,e){return Ru(t).put(function(i,r,a){const[u,f,_]=MC(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ou(i.Jt,a.mutation)}}(this.M,this.userId,e))}}function Ru(n){return Cr(n,"documentOverlays")}class Ml{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Di(t.integerValue));else if("doubleValue"in t){const i=Di(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Qh(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Dc(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?_0(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):bt()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Qe.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function RS(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function z0(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=RS(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}Ml.fe=new Ml;class xC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=z0(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=z0(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class PS{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class FS{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class hf{constructor(){this.De=new xC,this.Ce=new PS(this.De),this.xe=new FS(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Pu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pu(this.indexId,this.documentKey,this.arrayValue,i)}}function ff(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=NC(n.arrayValue,t.arrayValue),0!==e?e:(e=NC(n.directionalValue,t.directionalValue),0!==e?e:Qe.comparator(n.documentKey,t.documentKey)))}function NC(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class LS{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=y0(t);if(void 0!==e&&!this.Be(e))return!1;const i=jd(t);let r=0,a=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class pf{constructor(){this.qe=new x_}addToCollectionParentIndex(t,e){return this.qe.add(e),Ee.resolve()}getCollectionParents(t,e){return Ee.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ee.resolve()}deleteFieldIndex(t,e){return Ee.resolve()}getDocumentsMatchingTarget(t,e){return Ee.resolve(null)}getFieldIndex(t,e){return Ee.resolve(null)}getFieldIndexes(t,e){return Ee.resolve([])}getNextCollectionGroupToUpdate(t){return Ee.resolve(null)}updateCollectionGroup(t,e,i){return Ee.resolve()}updateIndexEntries(t,e){return Ee.resolve()}}class x_{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new fi(yn.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new fi(yn.comparator)).toArray()}}const Oc=new Uint8Array(0);class KM{constructor(t){this.user=t,this.Ge=new x_,this.Ke=new xu(e=>Ic(e),(e,i)=>to(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const a={collectionId:i,parent:Rr(r)};return q0(t).put(a)}return Ee.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[R1(e),""],!1,!0);return q0(t).qt(r).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(ta(u.parent))}return i})}addFieldIndex(t,e){const i=W0(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=W0(t),r=mg(t),a=gg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=gg(t);let r=!0;const a=new Map;return Ee.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Pn();return Ee.forEach(a,(f,_)=>{var b;qe("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${Ic(e)}`);const I=function(Oe,dt){const He=y0(dt);if(void 0===He)return null;for(const rt of Xp(Oe,He.fieldPath))switch(rt.op){case"array-contains-any":return rt.value.arrayValue.values||[];case"array-contains":return[rt.value]}return null}(_,f),x=function(Oe,dt){const He=new Map;for(const rt of jd(dt))for(const et of Xp(Oe,rt.fieldPath))switch(et.op){case"==":case"in":He.set(rt.fieldPath.canonicalString(),et.value);break;case"not-in":case"!=":return He.set(rt.fieldPath.canonicalString(),et.value),Array.from(He.values())}return null}(_,f),F=function(Oe,dt){const He=[];let rt=!0;for(const Pt of jd(dt)){let jt,In=!0;for(const Xt of Xp(Oe,Pt.fieldPath)){let Wt,Li=!0;switch(Xt.op){case"<":case"<=":Wt="nullValue"in(et=Xt.value)?p0:"booleanValue"in et?{booleanValue:!1}:"integerValue"in et||"doubleValue"in et?{doubleValue:NaN}:"timestampValue"in et?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in et?{stringValue:""}:"bytesValue"in et?{bytesValue:""}:"referenceValue"in et?Ud(Tc.empty(),Qe.empty()):"geoPointValue"in et?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in et?{arrayValue:{}}:"mapValue"in et?{mapValue:{}}:bt();break;case"==":case"in":case">=":Wt=Xt.value;break;case">":Wt=Xt.value,Li=!1;break;case"!=":case"not-in":Wt=p0}F1(jt,Wt)===Wt&&(jt=Wt,In=Li)}if(null!==Oe.startAt)for(let Xt=0;Xt<Oe.orderBy.length;++Xt)if(Oe.orderBy[Xt].field.isEqual(Pt.fieldPath)){const Wt=Oe.startAt.position[Xt];F1(jt,Wt)===Wt&&(jt=Wt,In=Oe.startAt.inclusive);break}if(void 0===jt)return null;He.push(jt),rt&&(rt=In)}var et;return new Tl(He,rt)}(_,f),U=function(Oe,dt){const He=[];let rt=!0;for(const Pt of jd(dt)){let jt,In=!0;for(const Xt of Xp(Oe,Pt.fieldPath)){let Wt,Li=!0;switch(Xt.op){case">=":case">":Wt="nullValue"in(et=Xt.value)?{booleanValue:!1}:"booleanValue"in et?{doubleValue:NaN}:"integerValue"in et||"doubleValue"in et?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in et?{stringValue:""}:"stringValue"in et?{bytesValue:""}:"bytesValue"in et?Ud(Tc.empty(),Qe.empty()):"referenceValue"in et?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in et?{arrayValue:{}}:"arrayValue"in et?{mapValue:{}}:"mapValue"in et?P1:bt(),Li=!1;break;case"==":case"in":case"<=":Wt=Xt.value;break;case"<":Wt=Xt.value,Li=!1;break;case"!=":case"not-in":Wt=P1}ar(jt,Wt)===Wt&&(jt=Wt,In=Li)}if(null!==Oe.endAt)for(let Xt=0;Xt<Oe.orderBy.length;++Xt)if(Oe.orderBy[Xt].field.isEqual(Pt.fieldPath)){const Wt=Oe.endAt.position[Xt];ar(jt,Wt)===Wt&&(jt=Wt,In=Oe.endAt.inclusive);break}if(void 0===jt)return null;He.push(jt),rt&&(rt=In)}var et;return new Tl(He,rt)}(_,f),q=this.je(f,_,F),ee=this.je(f,_,U),De=this.We(f,_,x),je=this.ze(f.indexId,I,q,!!F&&F.inclusive,ee,!!U&&U.inclusive,De);return Ee.forEach(je,Oe=>i.Kt(Oe,e.limit).next(dt=>{dt.forEach(He=>{u=u.add(new Qe(ta(He.documentKey)))})}))}).next(()=>u)}return Ee.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,a,u,f){const _=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=a?a.length:1),b=_/(null!=e?e.length:1),I=[];for(let x=0;x<_;++x){const F=e?this.He(e[x/b]):Oc,U=i?this.Je(t,F,i[x%b],r):this.Ye(t),q=a?this.Xe(t,F,a[x%b],u):this.Ye(t+1);I.push(...this.createRange(U,q,f.map(ee=>this.Je(t,F,ee,!0))))}return I}Je(t,e,i,r){const a=new Pu(t,Qe.empty(),e,i);return r?a:a.ke()}Xe(t,e,i,r){const a=new Pu(t,Qe.empty(),e,i);return r?a.ke():a}Ye(t){return new Pu(t,Qe.empty(),Oc,Oc)}getFieldIndex(t,e){const i=new LS(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{const u=a.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new hf;for(const r of jd(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const u=i.Ne(r.kind);Ml.fe.Zt(a,u)}return i.Se()}He(t){const e=new hf;return Ml.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new hf);let a=0;for(const u of jd(t)){const f=i[a++];for(const _ of r)if(this.tn(e,u.fieldPath)&&Xh(f))r=this.en(r,u,f);else{const b=_.Ne(u.kind);Ml.fe.Zt(f,b)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new hf;_.seed(f.Se()),Ml.fe.Zt(u,_.Ne(e.kind)),a.push(_)}return a}tn(t,e){return!!t.filters.find(i=>i instanceof ii&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=W0(t),r=mg(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(a=>{const u=[];return Ee.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,I){const x=I?new El(I.sequenceNumber,new Dl(Va(I.readTime),new Qe(ta(I.documentKey)),I.largestBatchId)):El.empty(),F=b.fields.map(([U,q])=>new Qp(or.fromServerFormat(U),q));return new Jp(b.indexId,b.collectionGroup,F,x)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:_n(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=W0(t),a=mg(t);return this.sn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>Ee.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:na((F=i).readTime),documentKey:Rr(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(t,e){const i=new Map;return Ee.forEach(e,(r,a)=>{const u=i.get(r.collectionGroup);return(u?Ee.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),Ee.forEach(f,_=>this.rn(t,r,_).next(b=>{const I=this.on(a,_);return b.isEqual(I)?Ee.resolve():this.un(t,a,b,I)}))))})}an(t,e,i){return gg(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Rr(e.key.path)})}cn(t,e,i){return gg(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Rr(e.key.path)])}rn(t,e,i){const r=gg(t);let a=new fi(ff);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Rr(e.path)])},(u,f)=>{a=a.add(new Pu(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>a)}on(t,e){let i=new fi(ff);const r=this.Ze(e,t);if(null==r)return i;const a=y0(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Xh(u))for(const f of u.arrayValue.values||[])i=i.add(new Pu(e.indexId,t.key,this.He(f),r))}else i=i.add(new Pu(e.indexId,t.key,Oc,r));return i}un(t,e,i,r){qe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,f,_,b,I){const x=u.getIterator(),F=f.getIterator();let U=Mc(x),q=Mc(F);for(;U||q;){let ee=!1,De=!1;if(U&&q){const je=_(U,q);je<0?De=!0:je>0&&(ee=!0)}else null!=U?De=!0:ee=!0;ee?(b(q),q=Mc(F)):De?(I(U),U=Mc(x)):(U=Mc(x),q=Mc(F))}}(i,r,ff,u=>{a.push(this.an(t,e,u))},u=>{a.push(this.cn(t,e,u))}),Ee.waitFor(a)}sn(t){let e=1;return mg(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>ff(u,f)).filter((u,f,_)=>!f||0!==ff(u,_[f-1]));const r=[];r.push(t);for(const u of i){const f=ff(u,t),_=ff(u,e);if(0===f)r[0]=t.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return a}}function q0(n){return Cr(n,"collectionParents")}function gg(n){return Cr(n,"indexEntries")}function W0(n){return Cr(n,"indexConfiguration")}function mg(n){return Cr(n,"indexState")}const BS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new xs(t,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function N_(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let f=0;const _=i.Wt({range:u},(I,x,F)=>(f++,F.delete()));a.push(_.next(()=>{Ut(1===f)}));const b=[];for(const I of e.mutations){const x=vC(t,I.key.path,e.batchId);a.push(r.delete(x)),b.push(I.key)}return Ee.waitFor(a).next(()=>b)}function _g(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw bt();t=n.noDocument}return JSON.stringify(t).length}xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(41943040,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);class O_{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Ut(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new O_(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kc(t).Wt({index:"userMutationsIndex",range:i},(r,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=gf(t),u=kc(t);return u.add({}).next(f=>{Ut("number"==typeof f);const _=new B0(f,e,i,r),b=function(F,U,q){const ee=q.baseMutations.map(je=>Ou(F.Jt,je)),De=q.mutations.map(je=>Ou(F.Jt,je));return{userId:U,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ee,mutations:De}}(this.M,this.userId,_),I=[];let x=new fi((F,U)=>_n(F.canonicalString(),U.canonicalString()));for(const F of r){const U=vC(this.userId,F.key.path,f);x=x.add(F.key.path.popLast()),I.push(u.put(b)),I.push(a.put(U,bC))}return x.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),Ee.waitFor(I).next(()=>_)})}lookupMutationBatch(t,e){return kc(t).get(e).next(i=>i?(Ut(i.userId===this.userId),df(this.M,i)):null)}ln(t,e){return this.hn[e]?Ee.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return kc(t).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ut(f.batchId>=i),a=df(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return kc(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kc(t).qt("userMutationsIndex",e).next(i=>i.map(r=>df(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=uf(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return gf(t).Wt({range:r},(u,f,_)=>{const[b,I,x]=u,F=ta(I);if(b===this.userId&&e.path.isEqual(F))return kc(t).get(x).next(U=>{if(!U)throw bt();Ut(U.userId===this.userId),a.push(df(this.M,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fi(_n);const r=[];return e.forEach(a=>{const u=uf(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=gf(t).Wt({range:f},(b,I,x)=>{const[F,U,q]=b,ee=ta(U);F===this.userId&&a.path.isEqual(ee)?i=i.add(q):x.done()});r.push(_)}),Ee.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=uf(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new fi(_n);return gf(t).Wt({range:u},(_,b,I)=>{const[x,F,U]=_,q=ta(F);x===this.userId&&i.isPrefixOf(q)?q.length===r&&(f=f.add(U)):I.done()}).next(()=>this.fn(t,f))}fn(t,e){const i=[],r=[];return e.forEach(a=>{r.push(kc(t).get(a).next(u=>{if(null===u)throw bt();Ut(u.userId===this.userId),i.push(df(this.M,u))}))}),Ee.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return N_(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),Ee.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ee.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gf(t).Wt({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=ta(a[1]);r.push(_)}else f.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return Z0(t,this.userId,e)}_n(t){return OC(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z0(n,t,e){const i=uf(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return gf(n).Wt({range:a,jt:!0},(f,_,b)=>{const[I,x,F]=f;I===t&&x===r&&(u=!0),b.done()}).next(()=>u)}function kc(n){return Cr(n,"mutations")}function gf(n){return Cr(n,"documentMutations")}function OC(n){return Cr(n,"mutationQueues")}class Yd{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new Yd(0)}static gn(){return new Yd(-1)}}class VS{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new Yd(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>Rt.fromTimestamp(new sr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>mf(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return mf(t).Wt((u,f)=>{const _=M_(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(t,_)))}).next(()=>Ee.waitFor(a)).next(()=>r)}forEachTarget(t,e){return mf(t).Wt((i,r)=>{const a=M_(r);e(a)})}yn(t){return kC(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}pn(t,e){return kC(t).put("targetGlobalKey",e)}In(t,e){return mf(t).put(U0(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ic(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return mf(t).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=M_(f);to(e,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=ia(t);return e.forEach(u=>{const f=Rr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,u))}),Ee.waitFor(r)}removeMatchingKeys(t,e,i){const r=ia(t);return Ee.forEach(e,a=>{const u=Rr(a.path);return Ee.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=ia(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ia(t);let a=Pn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const b=ta(u[1]),I=new Qe(b);a=a.add(I)}).next(()=>a)}containsKey(t,e){const i=Rr(e.path),r=IDBKeyRange.bound([i],[R1(i)],!1,!0);let a=0;return ia(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(t,e){return mf(t).get(e).next(i=>i?M_(i):null)}}function mf(n){return Cr(n,"targets")}function kC(n){return Cr(n,"targetGlobal")}function ia(n){return Cr(n,"targetDocuments")}function Fu(n){return k_.apply(this,arguments)}function k_(){return k_=(0,Ae.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==SC)throw n;qe("LocalStore","Unexpectedly lost primary lease")}),k_.apply(this,arguments)}function K0([n,t],[e,i]){const r=_n(n,e);return 0===r?_n(t,i):r}class RC{constructor(t){this.En=t,this.buffer=new fi(K0),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();K0(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PC{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;qe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ae.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){ku(r)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Fu(r)}yield e.vn(t)}))}}class FC{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ee.resolve(eo.A);const i=new RC(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(BS)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BS):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,a,u,f,_,b;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,u=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(t,i,e))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(b=Date.now(),I1()<=pu.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class US{constructor(t,e){this.db=t,this.garbageCollector=new FC(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return yg(t,i)}removeReference(t,e,i){return yg(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return yg(t,e)}Mn(t,e){return function(i,r){let a=!1;return OC(i).zt(u=>Z0(i,u,r).next(f=>(f&&(a=!0),Ee.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.kn(t,(u,f)=>{if(f<=e){const _=this.Mn(t,u).next(b=>{if(!b)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Rt.min()),ia(t).delete([0,Rr(u.path)])))});r.push(_)}}).next(()=>Ee.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return yg(t,e)}kn(t,e){const i=ia(t);let r,a=eo.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==eo.A&&e(new Qe(ta(r)),a),a=b,r=_):a=eo.A}).next(()=>{a!==eo.A&&e(new Qe(ta(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function yg(n,t){return ia(n).put((i=n.currentSequenceNumber,{targetId:0,path:Rr(t.path),sequenceNumber:i}));var i}class LC{constructor(){this.changes=new xu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ee.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jS{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ua(t).put(i)}removeEntry(t,e,i){return Ua(t).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],A_(a),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=hi.newInvalidDocument(e);return Ua(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vg(e))},(r,a)=>{i=this.Fn(e,a)}).next(()=>i)}$n(t,e){let i={size:0,document:hi.newInvalidDocument(e)};return Ua(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vg(e))},(r,a)=>{i={document:this.Fn(e,a),size:_g(a)}}).next(()=>i)}getEntries(t,e){let i=La();return this.Bn(t,e,(r,a)=>{const u=this.Fn(r,a);i=i.insert(r,u)}).next(()=>i)}Ln(t,e){let i=La(),r=new Yi(Qe.comparator);return this.Bn(t,e,(a,u)=>{const f=this.Fn(a,u);i=i.insert(a,f),r=r.insert(a,_g(u))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return Ee.resolve();let r=new fi(ja);e.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(vg(r.first()),vg(r.last())),u=r.getIterator();let f=u.getNext();return Ua(t).Wt({index:"documentKeyIndex",range:a},(_,b,I)=>{const x=Qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&ja(f,x)<0;)i(f,null),f=u.getNext();f&&f.isEqual(x)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?I.Ut(vg(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),A_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(t).qt(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=La();for(const _ of u){const b=this.Fn(Qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(t,e,i,r){let a=La();const u=R_(e,i),f=R_(e,Dl.max());return Ua(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,I)=>{const x=this.Fn(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(t){return new HS(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return BC(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}On(t,e){return BC(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function OS(n,t){let e;if(t.document)e=fS(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Qe.fromSegments(t.noDocument.path),r=Va(t.noDocument.readTime);e=hi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return bt();{const i=Qe.fromSegments(t.unknownDocument.path),r=Va(t.unknownDocument.version);e=hi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new sr(i[0],i[1]);return Rt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return hi.newInvalidDocument(t)}}class HS extends LC{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new xu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new fi((a,u)=>_n(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(e.push(this.qn.removeEntry(t,a,f.readTime)),u.isValidDocument()){const _=fg(this.qn.M,u);r=r.add(a.path.popLast()),i+=_g(_)-f.size,e.push(this.qn.addEntry(t,a,_))}else if(i-=f.size,this.trackRemovals){const _=fg(this.qn.M,u.convertToNoDocument(Rt.min()));e.push(this.qn.addEntry(t,a,_))}}),r.forEach(a=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.qn.updateMetadata(t,i)),Ee.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function BC(n){return Cr(n,"remoteDocumentGlobal")}function Ua(n){return Cr(n,"remoteDocumentsV14")}function vg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function R_(n,t){const e=t.documentKey.path.toArray();return[n,A_(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ja(n,t){const e=n.path.length-t.path.length;return 0!==e?e:Qe.comparator(n,t)}class GS{constructor(t){this.M=t}kt(t,e,i,r){const a=new S_("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yC,{unique:!0}),f.createObjectStore("documentMutations"),bg(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=Ee.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),bg(t)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yC,{unique:!0});const I=_.store("mutations"),x=b.map(F=>I.put(F));return Ee.waitFor(x)})}(t,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Kn(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(a)))),i<7&&r>=7&&(u=u.next(()=>this.jn(a))),i<8&&r>=8&&(u=u.next(()=>this.Wn(t,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.zn(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:AS});_.createIndex("collectionPathOverlayIndex",MS,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",xS,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:wC});_.createIndex("documentKeyIndex",bS),_.createIndex("collectionGroupIndex",wS)}(t)).next(()=>this.Hn(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:DS}).createIndex("sequenceNumberIndex",TS,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:SS}).createIndex("documentKeyIndex",IS,{unique:!1})}(t)})),u}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=_g(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>Ee.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>Ee.forEach(f,_=>{Ut(_.userId===a.userId);const b=df(this.M,_);return N_(t,a.userId,b).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Wt((u,f)=>{const _=new yn(u),b=[0,Rr(_)];a.push(e.get(b).next(I=>I?Ee.resolve():e.put({targetId:0,path:Rr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ee.waitFor(a))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:CC});const i=e.store("collectionParents"),r=new x_,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Rr(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new yn(u);return a(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const I=ta(f);return a(I.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const a=M_(r),u=U0(this.M,a);return e.put(u)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((a,u)=>{const f=e.store("remoteDocumentsV14"),_=(b=u,b.document?new Qe(yn.fromString(b.document.name).popFirst(5)):b.noDocument?Qe.fromSegments(b.noDocument.path):b.unknownDocument?Qe.fromSegments(b.unknownDocument.path):bt()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>Ee.waitFor(r))}}function bg(n){n.createObjectStore("targetDocuments",{keyPath:R0}).createIndex("documentTargetsIndex",ES,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CS,{unique:!0}),n.createObjectStore("targetGlobal")}const Jd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Y0{constructor(t,e,i,r,a,u,f,_,b,I,x=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=a,this.window=u,this.document=f,this.Yn=b,this.Xn=I,this.Zn=x,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!Y0.vt())throw new Ue(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new US(this,r),this.cs=e+"main",this.M=new NS(_),this.hs=new Ba(this.cs,this.Zn,new GS(this.M)),this.ls=new VS(this.referenceDelegate,this.M),this.fs=new jS(this.M),this.ds=new kS,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===I&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(ve.FAILED_PRECONDITION,Jd);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new eo(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,Ae.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,Ae.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,Ae.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>P_(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(ku(t))return qe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return wg(t).get("owner").next(e=>Ee.resolve(this.bs(e)))}Ps(t){return P_(t).delete(this.clientId)}Vs(){var t=this;return(0,Ae.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Cr(i,"clientMetadata");return r.qt().next(a=>{const u=t.Ss(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return Ee.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?Ee.resolve(!0):wg(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Ue(ve.FAILED_PRECONDITION,Jd);return!1}}return!(!this.networkEnabled||!this.inForeground)||P_(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&qe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ae.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new AC(e,eo.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>P_(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return O_.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new KM(t)}getDocumentOverlayCache(t){return pg.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){qe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=14===(u=this.Zn)?TC:13===u?P0:12===u?DC:11===u?EC:void bt();var u;let f;return this.hs.runTransaction(t,r,a,_=>(f=new AC(_,this.ts?this.ts.next():eo.A),"readwrite-primary"===e?this.Ts(f).next(b=>!!b||this.Es(f)).next(b=>{if(!b)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ue(ve.FAILED_PRECONDITION,SC);return i(f)}).next(b=>this.Rs(f).next(()=>b)):this.Fs(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(t){return wg(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ue(ve.FAILED_PRECONDITION,Jd)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wg(t).put("owner",e)}static vt(){return Ba.vt()}As(t){const e=wg(t);return e.get("owner").next(i=>this.bs(i)?(qe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ee.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,pn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return qe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function wg(n){return Cr(n,"owner")}function P_(n){return Cr(n,"clientMetadata")}function _f(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class F_{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const a of e)a.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return Qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):ef(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new Qe(e)).next(i=>{let r=I0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let a=I0();return this.indexManager.getCollectionParents(t,r).next(u=>Ee.forEach(u,f=>{const _=(b=e,I=f.child(r),new Il(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.Ws(t,_,i).next(b=>{b.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(a=>{for(const u of a)for(const f of u.mutations){const _=f.key;let b=r.get(_);null==b&&(b=hi.newInvalidDocument(_),r=r.insert(_,b)),__(f,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((a,u)=>{g_(e,u)||(r=r.remove(a))}),r))}}class J0{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=Pn(),r=Pn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new J0(t,e.fromCache,i,r)}}class VC{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(Rt.min())?this.Zs(t,e):this.Xs.qs(t,r).next(a=>{const u=this.ti(e,a);return(h_(e)||eg(e))&&this.ei(e.limitType,u,r,i)?this.Zs(t,e):(I1()<=pu.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),p_(e)),this.Xs.Ks(t,e,B1(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ti(t,e){let i=new fi(H1(t));return e.forEach((r,a)=>{g_(t,a)&&(i=i.add(a))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Zs(t,e){return I1()<=pu.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",p_(e)),this.Xs.Ks(t,e,Dl.min())}}class UC{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new Yi(_n),this.ii=new xu(a=>Ic(a),to),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new F_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function Q0(n,t,e,i){return new UC(n,t,e,i)}function L_(n,t){return B_.apply(this,arguments)}function B_(){return B_=(0,Ae.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(a=>(r=a,e.ui(t),e.$s.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Pn();for(const b of r){u.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return e.ai.qs(i,_).next(b=>({ci:b,removedBatchIds:u,addedBatchIds:f}))})})}),B_.apply(this,arguments)}function $S(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const I=_.batch,x=I.keys();let F=Ee.resolve();return x.forEach(U=>{F=F.next(()=>b.getEntry(f,U)).next(q=>{const ee=_.docVersions.get(U);Ut(null!==ee),q.version.compareTo(ee)<0&&(I.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),b.addEntry(q)))})}),F.next(()=>u.$s.removeMutationBatch(f,I))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function jC(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function YM(n,t){const e=st(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const f=[];t.targetChanges.forEach((b,I)=>{const x=r.get(I);if(!x)return;f.push(e.ls.removeMatchingKeys(a,b.removedDocuments,I).next(()=>e.ls.addMatchingKeys(a,b.addedDocuments,I)));let F=x.withSequenceNumber(a.currentSequenceNumber);var U,q,ee;t.targetMismatches.has(I)?F=F.withResumeToken(Wi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,i)),r=r.insert(I,F),q=F,ee=b,(0===(U=x).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(e.ls.updateTargetData(a,F))});let _=La();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(V_(a,u,t.documentUpdates).next(b=>{_=b})),!i.isEqual(Rt.min())){const b=e.ls.getLastRemoteSnapshotVersion(a).next(I=>e.ls.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return Ee.waitFor(f).next(()=>u.apply(a)).next(()=>e.ai.Gs(a,_)).next(()=>_)}).then(a=>(e.si=r,a))}function V_(n,t,e){let i=Pn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let a=La();return e.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(u,f.readTime),a=a.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(f),a=a.insert(u,f)):qe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),a})}function X0(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function Qd(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(a=>a?(r=a,Ee.resolve(r)):e.ls.allocateTargetId(i).next(u=>(r=new Nc(t,u,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function Lu(n,t,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Ae.Z)(function*(n,t,e){const i=st(n),r=i.si.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ku(u))throw u;qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),Cg.apply(this,arguments)}function U_(n,t,e){const i=st(n);let r=Rt.min(),a=Pn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const I=st(f),x=I.ii.get(b);return void 0!==x?Ee.resolve(I.si.get(x)):I.ls.getTargetData(_,b)}(i,u,To(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.ni.Ks(u,t,e?r:Rt.min(),e?a:Pn())).next(f=>($C(i,T0(t),f),{documents:f,hi:a})))}function HC(n,t){const e=st(n),i=st(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,t).next(u=>u?u.target:null))}function GC(n,t){const e=st(n),i=e.ri.get(t)||Rt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,B1(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($C(e,t,r),r))}function $C(n,t,e){let i=Rt.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ri.set(t,i)}function Eg(){return Eg=(0,Ae.Z)(function*(n,t,e,i){const r=st(n);let a=Pn(),u=La();for(const b of e){const I=t.li(b.metadata.name);b.document&&(a=a.add(I));const x=t.fi(b);x.setReadTime(t.di(b.metadata.readTime)),u=u.insert(I,x)}const f=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield Qd(r,(b=i,To(Ac(yn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>V_(b,f,u).next(I=>(f.apply(b),I)).next(I=>r.ls.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.ls.addMatchingKeys(b,a,_.targetId)).next(()=>r.ai.Gs(b,I)).next(()=>I)))}),Eg.apply(this,arguments)}function qC(n,t){return j_.apply(this,arguments)}function j_(){return j_=(0,Ae.Z)(function*(n,t,e=Pn()){const i=yield Qd(n,To(j0(t.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=kr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.ds.saveNamedQuery(a,t);const f=i.withResumeToken(Wi.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(f.targetId,f),r.ls.updateTargetData(a,f).next(()=>r.ls.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.ls.addMatchingKeys(a,e,i.targetId)).next(()=>r.ds.saveNamedQuery(a,t))})}),j_.apply(this,arguments)}class WC{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return Ee.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:kr(i.createTime)}),Ee.resolve()}getNamedQuery(t,e){return Ee.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:j0(i.bundledQuery),readTime:kr(i.readTime)}),Ee.resolve();var i}}class ZC{constructor(){this.overlays=new Yi(Qe.comparator),this.mi=new Map}getOverlay(t,e){return Ee.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.Xt(t,e,a)}),Ee.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(i)),Ee.resolve()}getOverlaysForCollection(t,e,i){const r=ag(),a=e.length+1,u=new Qe(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Ee.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Yi((b,I)=>b-I);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let I=a.get(b.largestBatchId);null===I&&(I=ag(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=ag(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=r)););return Ee.resolve(f)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new V0(e,i));let a=this.mi.get(e);void 0===a&&(a=Pn(),this.mi.set(e,a)),this.mi.set(e,a.add(i.key))}}class eb{constructor(){this.gi=new fi(Er.yi),this.pi=new fi(Er.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new Er(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new Er(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new Qe(new yn([])),i=new Er(e,t),r=new Er(e,t+1),a=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),a.push(u.key)}),a}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new Qe(new yn([])),i=new Er(e,t),r=new Er(e,t+1);let a=Pn();return this.pi.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new Er(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Er{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return Qe.comparator(t.key,e.key)||_n(t.Vi,e.Vi)}static Ii(t,e){return _n(t.Vi,e.Vi)||Qe.comparator(t.key,e.key)}}class KC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new fi(Er.yi)}checkEmpty(t){return Ee.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const a=this.vi;this.vi++;const u=new B0(a,e,i,r);this.$s.push(u);for(const f of r)this.Si=this.Si.add(new Er(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Ee.resolve(u)}lookupMutationBatch(t,e){return Ee.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),a=r<0?0:r;return Ee.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return Ee.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Er(e,0),r=new Er(e,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([i,r],u=>{const f=this.Di(u.Vi);a.push(f)}),Ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fi(_n);return e.forEach(r=>{const a=new Er(r,0),u=new Er(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,u],f=>{i=i.add(f.Vi)})}),Ee.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Qe.isDocumentKey(a)||(a=a.child(""));const u=new Er(new Qe(a),0);let f=new fi(_n);return this.Si.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.Vi)),!0)},u),Ee.resolve(this.xi(f))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return Ee.forEach(e.mutations,r=>{const a=new Er(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new Er(e,0),r=this.Si.firstAfterOrEqual(i);return Ee.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ee.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class zS{constructor(t){this.ki=t,this.docs=new Yi(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,u=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ee.resolve(i?i.document.mutableCopy():hi.newInvalidDocument(e))}getEntries(t,e){let i=La();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():hi.newInvalidDocument(r))}),Ee.resolve(i)}getAllFromCollection(t,e,i){let r=La();const a=new Qe(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||QT(JT(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return Ee.resolve(r)}getAllFromCollectionGroup(t,e,i,r){bt()}Mi(t,e){return Ee.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new YC(this)}getSize(t){return Ee.resolve(this.size)}}class YC extends LC{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),Ee.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class JC{constructor(t){this.persistence=t,this.Oi=new xu(e=>Ic(e),to),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new eb,this.targetCount=0,this.Bi=Yd.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),Ee.resolve()}getLastRemoteSnapshotVersion(t){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ee.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),Ee.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new Yd(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,Ee.resolve()}updateTargetData(t,e){return this.In(e),Ee.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Oi.delete(u),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),Ee.waitFor(a).next(()=>r)}getTargetCount(t){return Ee.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return Ee.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),Ee.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(u=>{a.push(r.markPotentiallyOrphaned(t,u))}),Ee.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),Ee.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return Ee.resolve(i)}containsKey(t,e){return Ee.resolve(this.$i.containsKey(e))}}class Ns{constructor(t,e){this.Li={},this.overlays={},this.ts=new eo(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new JC(this),this.indexManager=new pf,this.fs=new zS(i=>this.referenceDelegate.Ui(i)),this.M=new NS(e),this.ds=new WC(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ZC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new KC(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){qe("MemoryPersistence","Starting transaction:",t);const r=new yf(this.ts.next());return this.referenceDelegate.qi(),i(r).next(a=>this.referenceDelegate.Gi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ki(t,e){return Ee.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class yf extends T_{constructor(t){super(),this.currentSequenceNumber=t}}class tb{constructor(t){this.persistence=t,this.Qi=new eb,this.ji=null}static Wi(t){return new tb(t)}get zi(){if(this.ji)return this.ji;throw bt()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),Ee.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),Ee.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),Ee.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.zi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.zi,i=>{const r=Qe.fromPath(i);return this.Hi(t,r).next(a=>{a||e.removeEntry(r,Rt.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return Ee.or([()=>Ee.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function QC(n,t){return`firestore_clients_${n}_${t}`}function qS(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Xd(n,t){return`firestore_targets_${n}_${t}`}class H_{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Ue(r.error.code,r.error.message))),u?new H_(t,e,r.state,a):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eh{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ue(i.error.code,i.error.message))),a?new eh(t,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class G_{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=w_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=a_(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new G_(t,a):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $_{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $_(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class nb{constructor(){this.activeTargetIds=w_()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ib{constructor(t,e,i,r,a){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Yi(_n),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=QC(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new nb),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ae.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const a=t.getItem(QC(t.persistenceKey,r));if(a){const u=G_.Ji(r,a);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Xd(this.persistenceKey,t));if(i){const r=eh.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Xd(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return qe("SharedClientState","READ",t,e),e}setItem(t,e){qe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){qe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ae.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(a){let u=eo.A;if(null!=a)try{const f=JSON.parse(a);Ut("number"==typeof f),u=f}catch(f){rr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==eo.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Nr(a)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new H_(this.currentUser,t,e,i),a=qS(this.persistenceKey,this.currentUser,t);this.setItem(a,r.Yi())}pr(t){const e=qS(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=Xd(this.persistenceKey,t),a=new eh(t,e,i);this.setItem(r,a.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return G_.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return H_.Ji(new wr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return eh.Ji(r,e)}wr(t){return $_.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,Ae.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);qe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),a=this.gr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=w_();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class z_{constructor(){this.Fr=new nb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new nb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XC{Br(t){}shutdown(){}}class rb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const q_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sb{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class JM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,a){const u=this.oo(t,e);qe("RestConnection","Sending: ",u,i);const f={};return this.uo(f,r,a),this.ao(t,u,f,i).then(_=>(qe("RestConnection","Received: ",_),_),_=>{throw Jh("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}co(t,e,i,r,a){return this.ro(t,e,i,r,a)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Du,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}oo(t,e){return`${this.so}/v1/${e}:${q_[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((a,u)=>{const f=new $M;f.listenOnce(T1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case l0.NO_ERROR:const b=f.getResponseJson();qe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case l0.TIMEOUT:qe("Connection",'RPC "'+t+'" timed out'),u(new Ue(ve.DEADLINE_EXCEEDED,"Request time out"));break;case l0.HTTP_ERROR:const I=f.getStatus();if(qe("Connection",'RPC "'+t+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const F=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(q)>=0?q:ve.UNKNOWN}(x.status);u(new Ue(F,x.message))}else u(new Ue(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ue(ve.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{qe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);f.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=D1(),u=jT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new GT({})),this.uo(f.initMessageHeaders,e,i),(0,pn.uI)()||(0,pn.b$)()||(0,pn.d)()||(0,pn.w1)()||(0,pn.Mn)()||(0,pn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");qe("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let I=!1,x=!1;const F=new sb({jr:q=>{x?qe("Connection","Not sending because WebChannel is closed:",q):(I||(qe("Connection","Opening WebChannel transport."),b.open(),I=!0),qe("Connection","WebChannel sending:",q),b.send(q))},Wr:()=>b.close()}),U=(q,ee,De)=>{q.listen(ee,je=>{try{De(je)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return U(b,n_.EventType.OPEN,()=>{x||qe("Connection","WebChannel transport opened.")}),U(b,n_.EventType.CLOSE,()=>{x||(x=!0,qe("Connection","WebChannel transport closed"),F.eo())}),U(b,n_.EventType.ERROR,q=>{x||(x=!0,Jh("Connection","WebChannel transport errored:",q),F.eo(new Ue(ve.UNAVAILABLE,"The operation could not be completed")))}),U(b,n_.EventType.MESSAGE,q=>{var ee;if(!x){const De=q.data[0];Ut(!!De);const je=De,Oe=je.error||(null===(ee=je[0])||void 0===ee?void 0:ee.error);if(Oe){qe("Connection","WebChannel received error:",Oe);const dt=Oe.status;let He=function(et){const Pt=Ki[et];if(void 0!==Pt)return Bt(Pt)}(dt),rt=Oe.message;void 0===He&&(He=ve.INTERNAL,rt="Unknown error status: "+dt+" with message "+Oe.message),x=!0,F.eo(new Ue(He,rt)),b.close()}else qe("Connection","WebChannel received:",De),F.no(De)}}),U(u,HT.STAT_EVENT,q=>{q.stat===c0.PROXY?qe("Connection","Detected buffering proxy"):q.stat===c0.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function ob(){return"undefined"!=typeof window?window:null}function W_(){return"undefined"!=typeof document?document:null}function vf(n){return new ug(n,!0)}class bf{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ab{constructor(t,e,i,r,a,u,f,_){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new bf(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ae.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,Ae.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,Ae.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ue(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,Ae.Z)(function*(){t.state=0,t.start()}))}qo(t){return qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WS extends ab{constructor(t,e,i,r,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=a}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function fC(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:bt(),r=t.targetChange.targetIds||[],a=function(_,b){return _.N?(Ut(void 0===b||"string"==typeof b),Wi.fromBase64String(b||"")):(Ut(void 0===b||b instanceof Uint8Array),Wi.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(_){const b=void 0===_.code?ve.UNKNOWN:Bt(_.code);return new Ue(b,_.message||"")}(u);e=new lC(i,r,a,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Al(n,i.document.name),a=kr(i.document.updateTime),u=new Zr({mapValue:{fields:i.document.fields}}),f=hi.newFoundDocument(r,a,u);e=new Nu(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Al(n,i.document),a=i.readTime?kr(i.readTime):Rt.min(),u=hi.newNoDocument(r,a);e=new Nu([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Al(n,i.document);e=new Nu([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return bt();{const i=t.filter,a=new WM(i.count||0);e=new aC(i.targetId,a)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Rt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?kr(a.readTime):Rt.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=dg(this.M),e.addTarget=function(r,a){let u;const f=a.target;return u=d_(f)?{documents:O0(r,f)}:{query:af(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=dC(r,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(u.readTime=xc(r,a.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function gS(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=dg(this.M),e.removeTarget=t,this.Oo(e)}}class lb extends ab{constructor(t,e,i,r,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function pS(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let a=kr(i.updateTime?i.updateTime:r);return a.isEqual(Rt.min())&&(a=kr(r)),new Q1(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=kr(t.commitTime);return this.listener.Jo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=dg(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ou(this.M,i))};this.Oo(e)}}class cb extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(ve.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.co(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(ve.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class QM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(rr(e),this.su=!1):qe("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class ZS{constructor(t,e,i,r,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{i.enqueueAndForget((0,Ae.Z)(function*(){var _;Rc(u)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ae.Z)(function*(b){const I=st(b);I.lu.add(4),yield th(I),I._u.set("Unknown"),I.lu.delete(4),yield Dg(I)}),function(b){return _.apply(this,arguments)})(u))}))}),this._u=new QM(i,r)}}function Dg(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ae.Z)(function*(n){if(Rc(n))for(const t of n.fu)yield t(!0)}),Z_.apply(this,arguments)}function th(n){return ub.apply(this,arguments)}function ub(){return ub=(0,Ae.Z)(function*(n){for(const t of n.fu)yield t(!1)}),ub.apply(this,arguments)}function Tg(n,t){const e=st(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),hb(e)?K_(e):Cf(e).Co()&&db(e,t))}function wf(n,t){const e=st(n),i=Cf(e);e.hu.delete(t),i.Co()&&eE(e,t),0===e.hu.size&&(i.Co()?i.ko():Rc(e)&&e._u.set("Unknown"))}function db(n,t){n.wu.Z(t.targetId),Cf(n).Qo(t)}function eE(n,t){n.wu.Z(t),Cf(n).jo(t)}function K_(n){n.wu=new C_({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),Cf(n).start(),n._u.iu()}function hb(n){return Rc(n)&&!Cf(n).Do()&&n.hu.size>0}function Rc(n){return 0===st(n).lu.size}function fb(n){n.wu=void 0}function tE(n){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Ae.Z)(function*(n){n.hu.forEach((t,e)=>{db(n,t)})}),Y_.apply(this,arguments)}function KS(n,t){return pb.apply(this,arguments)}function pb(){return pb=(0,Ae.Z)(function*(n,t){fb(n),hb(n)?(n._u.uu(t),K_(n)):n._u.set("Unknown")}),pb.apply(this,arguments)}function XM(n,t,e){return J_.apply(this,arguments)}function J_(){return J_=(0,Ae.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof lC&&2===t.state&&t.cause)try{yield(i=(0,Ae.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield gb(n,i)}else if(t instanceof Nu?n.wu.ut(t):t instanceof aC?n.wu._t(t):n.wu.ht(t),!e.isEqual(Rt.min()))try{const i=yield jC(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.hu.get(_);b&&r.hu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(Wi.EMPTY_BYTE_STRING,_.snapshotVersion)),eE(r,f);const b=new Nc(_.target,f,1,_.sequenceNumber);db(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){qe("RemoteStore","Failed to raise snapshot:",i),yield gb(n,i)}var i}),J_.apply(this,arguments)}function gb(n,t,e){return nE.apply(this,arguments)}function nE(){return nE=(0,Ae.Z)(function*(n,t,e){if(!ku(t))throw t;n.lu.add(1),yield th(n),n._u.set("Offline"),e||(e=()=>jC(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield Dg(n)}))}),nE.apply(this,arguments)}function YS(n,t){return t().catch(e=>gb(n,e,t))}function Sg(n){return iE.apply(this,arguments)}function iE(){return iE=(0,Ae.Z)(function*(n){const t=st(n),e=xl(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;ex(t);)try{const r=yield X0(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,tx(t,r)}catch(r){yield gb(t,r)}JS(t)&&Ig(t)}),iE.apply(this,arguments)}function ex(n){return Rc(n)&&n.cu.length<10}function tx(n,t){n.cu.push(t);const e=xl(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function JS(n){return Rc(n)&&!xl(n).Do()&&n.cu.length>0}function Ig(n){xl(n).start()}function nx(n){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,Ae.Z)(function*(n){xl(n).Xo()}),Q_.apply(this,arguments)}function mb(n){return X_.apply(this,arguments)}function X_(){return X_=(0,Ae.Z)(function*(n){const t=xl(n);for(const e of n.cu)t.Ho(e.mutations)}),X_.apply(this,arguments)}function rE(n,t,e){return sE.apply(this,arguments)}function sE(){return sE=(0,Ae.Z)(function*(n,t,e){const i=n.cu.shift(),r=I_.from(i,t,e);yield YS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Sg(n)}),sE.apply(this,arguments)}function _b(n,t){return ey.apply(this,arguments)}function ey(){return ey=(0,Ae.Z)(function*(n,t){var e;t&&xl(n).zo&&(yield(e=(0,Ae.Z)(function*(i,r){if(lS(a=r.code)&&a!==ve.ABORTED){const u=i.cu.shift();xl(i).No(),yield YS(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Sg(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),JS(n)&&Ig(n)}),ey.apply(this,arguments)}function yb(n,t){return ty.apply(this,arguments)}function ty(){return ty=(0,Ae.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const i=Rc(e);e.lu.add(3),yield th(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield Dg(e)}),ty.apply(this,arguments)}function oE(n,t){return ny.apply(this,arguments)}function ny(){return ny=(0,Ae.Z)(function*(n,t){const e=st(n);t?(e.lu.delete(2),yield Dg(e)):t||(e.lu.add(2),yield th(e),e._u.set("Unknown"))}),ny.apply(this,arguments)}function Cf(n){return n.mu||(n.mu=function(t,e,i){const r=st(t);return r.tu(),new WS(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:tE.bind(null,n),Jr:KS.bind(null,n),Ko:XM.bind(null,n)}),n.fu.push(function(){var t=(0,Ae.Z)(function*(e){e?(n.mu.No(),hb(n)?K_(n):n._u.set("Unknown")):(yield n.mu.stop(),fb(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function xl(n){return n.gu||(n.gu=function(t,e,i){const r=st(t);return r.tu(),new lb(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:nx.bind(null,n),Jr:_b.bind(null,n),Yo:mb.bind(null,n),Jo:rE.bind(null,n)}),n.fu.push(function(){var t=(0,Ae.Z)(function*(e){e?(n.gu.No(),yield Sg(n)):(yield n.gu.stop(),n.cu.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class vb{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,a){const u=Date.now()+i,f=new vb(t,e,u,r,a);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,t){if(rr("AsyncQueue",`${t}: ${n}`),ku(n))return new Ue(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class Mg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Qe.comparator(e.key,i.key):(e,i)=>Qe.comparator(e.key,i.key),this.keyedMap=I0(),this.sortedSet=new Yi(this.comparator)}static emptySet(t){return new Mg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Mg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Mg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class QS{constructor(){this.yu=new Yi(Qe.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):bt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ef{constructor(t,e,i,r,a,u,f,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Ef(t,e,Mg.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class XS{constructor(){this.Iu=void 0,this.listeners=[]}}class eI{constructor(){this.queries=new xu(t=>D0(t),tf),this.onlineState="Unknown",this.Tu=new Set}}function aE(n,t){return bb.apply(this,arguments)}function bb(){return bb=(0,Ae.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new XS),r)try{a.Iu=yield e.onListen(i)}catch(u){const f=Ag(u,`Initialization of query '${p_(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,a),a.listeners.push(t),t.Eu(e.onlineState),a.Iu&&t.Au(a.Iu)&&Ng(e)}),bb.apply(this,arguments)}function xg(n,t){return wb.apply(this,arguments)}function wb(){return wb=(0,Ae.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),wb.apply(this,arguments)}function Ha(n,t){const e=st(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.Au(r)&&(i=!0);u.Iu=r}}i&&Ng(e)}function tI(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function Ng(n){n.Tu.forEach(t=>{t.next()})}class Cb{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ef(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Ef.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class nI{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class iy{constructor(t){this.M=t}li(t){return Al(this.M,t)}fi(t){return t.metadata.exists?fS(this.M,t.document,!1):hi.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return kr(t)}}class lE{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Eb(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=yn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new iy(this.M);for(const r of t)if(r.metadata.queries){const a=i.li(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||Pn()).add(a);e.set(u,f)}}return e}complete(){var t=this;return(0,Ae.Z)(function*(){const e=yield function zC(n,t,e,i){return Eg.apply(this,arguments)}(t.localStore,new iy(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield qC(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function Eb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cE{constructor(t){this.key=t}}class Db{constructor(t){this.key=t}}class Tb{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Pn(),this.mutatedKeys=Pn(),this.Lu=H1(t),this.Uu=new Mg(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new QS,r=e?e.Uu:this.Uu;let a=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=h_(this.query)&&r.size===this.query.limit?r.last():null,b=eg(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((I,x)=>{const F=r.get(I),U=g_(this.query,x)?x:null,q=!!F&&this.mutatedKeys.has(F.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let De=!1;F&&U?F.data.isEqual(U.data)?q!==ee&&(i.track({type:3,doc:U}),De=!0):this.Qu(F,U)||(i.track({type:2,doc:U}),De=!0,(_&&this.Lu(U,_)>0||b&&this.Lu(U,b)<0)&&(f=!0)):!F&&U?(i.track({type:0,doc:U}),De=!0):F&&!U&&(i.track({type:1,doc:F}),De=!0,(_||b)&&(f=!0)),De&&(U?(u=u.add(U),a=ee?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),h_(this.query)||eg(this.query))for(;u.size>this.query.limit;){const I=h_(this.query)?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Uu:u,Ku:i,ei:f,mutatedKeys:a}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const a=t.Ku.pu();a.sort((b,I)=>function(x,F){const U=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return U(x)-U(F)}(b.type,I.type)||this.Lu(b.doc,I.doc)),this.ju(i);const u=e?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new Ef(this.query,t.Uu,r,a,t.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new QS,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Pn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new Db(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new cE(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=Pn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return Ef.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class iI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rI{constructor(t){this.key=t,this.Xu=!1}}class Sb{constructor(t,e,i,r,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new xu(f=>D0(f),tf),this.ea=new Map,this.na=new Set,this.sa=new Yi(Qe.comparator),this.ia=new Map,this.ra=new eb,this.oa={},this.ua=new Map,this.aa=Yd.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function Ga(n,t){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,Ae.Z)(function*(n,t){const e=bE(n);let i,r;const a=e.ta.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield Qd(e.localStore,To(t));e.isPrimaryClient&&Tg(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uE(e,t,i,"current"===f)}return r}),Ib.apply(this,arguments)}function uE(n,t,e,i){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,Ae.Z)(function*(n,t,e,i){n.ha=(I,x,F)=>{return(U=(0,Ae.Z)(function*(q,ee,De,je){let Oe=ee.view.Gu(De);Oe.ei&&(Oe=yield U_(q.localStore,ee.query,!1).then(({documents:rt})=>ee.view.Gu(rt,Oe)));const dt=je&&je.targetChanges.get(ee.targetId),He=ee.view.applyChanges(Oe,q.isPrimaryClient,dt);return _E(q,ee.targetId,He.zu),He.snapshot}),function(q,ee,De,je){return U.apply(this,arguments)})(n,I,x,F);var U};const r=yield U_(n.localStore,t,!0),a=new Tb(t,r.hi),u=a.Gu(r.documents),f=cg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);_E(n,e,_.zu);const b=new iI(t,e,a);return n.ta.set(t,b),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),_.snapshot}),Ab.apply(this,arguments)}function dE(n,t){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,Ae.Z)(function*(n,t){const e=st(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(a=>!tf(a,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Lu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),wf(e.remoteStore,i.targetId),Df(e,i.targetId)}).catch(Fu))):(Df(e,i.targetId),yield Lu(e.localStore,i.targetId,!0))}),Mb.apply(this,arguments)}function ry(){return ry=(0,Ae.Z)(function*(n,t,e){const i=wE(n);try{const r=yield function(a,u){const f=st(a),_=sr.now(),b=u.reduce((x,F)=>x.add(F.key),Pn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.ai.qs(x,b).next(F=>{I=F;const U=[];for(const q of u){const ee=eC(q,I.get(q.key));null!=ee&&U.push(new So(q.key,ee,L1(ee.value.mapValue),Zi.exists(!0)))}return f.$s.addMutationBatch(x,_,U,u)})).then(x=>(x.applyToLocalDocumentSet(I),{batchId:x.batchId,changes:I}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.oa[a.currentUser.toKey()];_||(_=new Yi(_n)),_=_.insert(u,f),a.oa[a.currentUser.toKey()]=_}(i,r.batchId,e),yield Pc(i,r.changes),yield Sg(i.remoteStore)}catch(r){const a=Ag(r,"Failed to persist write");e.reject(a)}}),ry.apply(this,arguments)}function hE(n,t){return fE.apply(this,arguments)}function fE(){return fE=(0,Ae.Z)(function*(n,t){const e=st(n);try{const i=yield YM(e.localStore,t);t.targetChanges.forEach((r,a)=>{const u=e.ia.get(a);u&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?Ut(u.Xu):r.removedDocuments.size>0&&(Ut(u.Xu),u.Xu=!1))}),yield Pc(e,i,t)}catch(i){yield Fu(i)}}),fE.apply(this,arguments)}function xb(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((a,u)=>{const f=u.view.Eu(t);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=st(a);f.onlineState=u;let _=!1;f.queries.forEach((b,I)=>{for(const x of I.listeners)x.Eu(u)&&(_=!0)}),_&&Ng(f)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function pE(n,t,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,Ae.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),a=r&&r.key;if(a){let u=new Yi(Qe.comparator);u=u.insert(a,hi.newNoDocument(a,Rt.min()));const f=Pn().add(a),_=new lg(Rt.min(),new Map,new fi(_n),u,f);yield hE(i,_),i.sa=i.sa.remove(a),i.ia.delete(t),ly(i)}else yield Lu(i.localStore,t,!1).then(()=>Df(i,t,e)).catch(Fu)}),Nb.apply(this,arguments)}function oI(n,t){return sy.apply(this,arguments)}function sy(){return sy=(0,Ae.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield $S(e.localStore,t);ay(e,i,null),oy(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Pc(e,r)}catch(r){yield Fu(r)}}),sy.apply(this,arguments)}function Ob(n,t,e){return Og.apply(this,arguments)}function Og(){return Og=(0,Ae.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(a,u){const f=st(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.$s.lookupMutationBatch(_,u).next(I=>(Ut(null!==I),b=I.keys(),f.$s.removeMutationBatch(_,I))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,b))})}(i.localStore,t);ay(i,t,e),oy(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Pc(i,r)}catch(r){yield Fu(r)}}),Og.apply(this,arguments)}function kb(){return kb=(0,Ae.Z)(function*(n,t){const e=st(n);Rc(e.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=st(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=Ag(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),kb.apply(this,arguments)}function oy(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function ay(n,t,e){const i=st(n);let r=i.oa[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function Df(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||mE(n,i)})}function mE(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(wf(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),ly(n))}function _E(n,t,e){for(const i of e)i instanceof cE?(n.ra.addReference(i.key,t),ix(n,i)):i instanceof Db?(qe("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||mE(n,i.key)):bt()}function ix(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||(qe("SyncEngine","New document in limbo: "+e),n.na.add(i),ly(n))}function ly(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new Qe(yn.fromString(t)),i=n.aa.next();n.ia.set(i,new rI(e)),n.sa=n.sa.insert(e,i),Tg(n.remoteStore,new Nc(To(Ac(e.path)),i,2,eo.A))}}function Pc(n,t,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,Ae.Z)(function*(n,t,e){const i=st(n),r=[],a=[],u=[];var f;i.ta.isEmpty()||(i.ta.forEach((f,_)=>{u.push(i.ha(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const I=J0.Js(_.targetId,b);a.push(I)}}))}),yield Promise.all(u),i.Zu.Ko(r),yield(f=(0,Ae.Z)(function*(_,b){const I=st(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ee.forEach(b,F=>Ee.forEach(F.zs,U=>I.persistence.referenceDelegate.addReference(x,F.targetId,U)).next(()=>Ee.forEach(F.Hs,U=>I.persistence.referenceDelegate.removeReference(x,F.targetId,U)))))}catch(x){if(!ku(x))throw x;qe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const F=x.targetId;if(!x.fromCache){const U=I.si.get(F),ee=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);I.si=I.si.insert(F,ee)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),Rb.apply(this,arguments)}function aI(n,t){return yE.apply(this,arguments)}function yE(){return yE=(0,Ae.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){qe("SyncEngine","User change. New user:",t.toKey());const i=yield L_(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(u=>{u.forEach(f=>{f.reject(new Ue(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Pc(e,i.ci)}var r}),yE.apply(this,arguments)}function rx(n,t){const e=st(n),i=e.ia.get(t);if(i&&i.Xu)return Pn().add(i.key);{let r=Pn();const a=e.ea.get(t);if(!a)return r;for(const u of a){const f=e.ta.get(u);r=r.unionWith(f.view.qu)}return r}}function sx(n,t){return vE.apply(this,arguments)}function vE(){return vE=(0,Ae.Z)(function*(n,t){const e=st(n),i=yield U_(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&_E(e,t.targetId,r.zu),r}),vE.apply(this,arguments)}function ox(n,t){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,Ae.Z)(function*(n,t){const e=st(n);return GC(e.localStore,t).then(i=>Pc(e,i))}),Pb.apply(this,arguments)}function cy(n,t,e,i){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,Ae.Z)(function*(n,t,e,i){const r=st(n),a=yield function(u,f){const _=st(u),b=st(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.ln(I,f).next(x=>x?_.ai.qs(I,x):Ee.resolve(null)))}(r.localStore,t);var f;null!==a?("pending"===e?yield Sg(r.remoteStore):"acknowledged"===e||"rejected"===e?(ay(r,t,i||null),oy(r,t),f=t,st(st(r.localStore).$s).dn(f)):bt(),yield Pc(r,a)):qe("SyncEngine","Cannot apply mutation batch with id: "+t)}),Fb.apply(this,arguments)}function uy(){return uy=(0,Ae.Z)(function*(n,t){const e=st(n);if(bE(e),wE(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Bu(e,i.toArray());e.ca=!0,yield oE(e.remoteStore,!0);for(const a of r)Tg(e.remoteStore,a)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Df(e,u),Lu(e.localStore,u,!0))),wf(e.remoteStore,u)}),yield r,yield Bu(e,i),function(a){const u=st(a);u.ia.forEach((f,_)=>{wf(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new Yi(Qe.comparator)}(e),e.ca=!1,yield oE(e.remoteStore,!1)}}),uy.apply(this,arguments)}function Bu(n,t,e){return dy.apply(this,arguments)}function dy(){return dy=(0,Ae.Z)(function*(n,t,e){const i=st(n),r=[],a=[];for(const u of t){let f;const _=i.ea.get(u);if(_&&0!==_.length){f=yield Qd(i.localStore,To(_[0]));for(const b of _){const I=i.ta.get(b),x=yield sx(i,I);x.snapshot&&a.push(x.snapshot)}}else{const b=yield HC(i.localStore,u);f=yield Qd(i.localStore,b),yield uE(i,hy(b),u,!1)}r.push(f)}return i.Zu.Ko(a),r}),dy.apply(this,arguments)}function hy(n){return C0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Lb(n){const t=st(n);return st(st(t.localStore).persistence).Os()}function cI(n,t,e,i){return kg.apply(this,arguments)}function kg(){return kg=(0,Ae.Z)(function*(n,t,e,i){const r=st(n);if(r.ca)return void qe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ea.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield GC(r.localStore,T0(a[0])),f=lg.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Pc(r,u,f);break}case"rejected":yield Lu(r.localStore,t,!0),Df(r,t,i);break;default:bt()}}),kg.apply(this,arguments)}function Bb(n,t,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Ae.Z)(function*(n,t,e){const i=bE(n);if(i.ca){for(const r of t){if(i.ea.has(r)){qe("SyncEngine","Adding an already active target "+r);continue}const a=yield HC(i.localStore,r),u=yield Qd(i.localStore,a);yield uE(i,hy(a),u.targetId,!1),Tg(i.remoteStore,u)}for(const r of e)i.ea.has(r)&&(yield Lu(i.localStore,r,!1).then(()=>{wf(i.remoteStore,r),Df(i,r)}).catch(Fu))}}),Tf.apply(this,arguments)}function bE(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pE.bind(null,t),t.Zu.Ko=Ha.bind(null,t.eventManager),t.Zu.la=tI.bind(null,t.eventManager),t}function wE(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ob.bind(null,t),t}class uI{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ae.Z)(function*(){e.M=vf(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return Q0(this.persistence,new VC,t.initialUser,this.M)}_a(t){return new Ns(tb.Wi,this.M)}da(t){return new z_}terminate(){var t=this;return(0,Ae.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Vb extends uI{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ae.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield wE(i.ga.syncEngine),yield Sg(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return Q0(this.persistence,new VC,t.initialUser,this.M)}wa(t){return new PC(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=_f(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new Y0(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,ob(),W_(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new z_}}class dI extends Vb{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ae.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof ib&&(i.sharedClientState.syncEngine={kr:cy.bind(null,r),Mr:cI.bind(null,r),Or:Bb.bind(null,r),Os:Lb.bind(null,r),Nr:ox.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var a=(0,Ae.Z)(function*(u){yield function lI(n,t){return uy.apply(this,arguments)}(i.ga.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}da(t){const e=ob();if(!ib.vt(e))throw new Ue(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=_f(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ib(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ub{initialize(t,e){var i=this;return(0,Ae.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>xb(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,i.syncEngine),yield oE(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new eI}createDatastore(t){const e=vf(t.databaseInfo.databaseId),i=new JM(t.databaseInfo);return new cb(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=f=>xb(this.syncEngine,f,0),u=rb.vt()?new rb:new XC,new ZS(e,i,r,a,u);var e,i,r,a,u}createSyncEngine(t,e){return function(i,r,a,u,f,_,b){const I=new Sb(i,r,a,u,f,_);return b&&(I.ca=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ae.Z)(function*(e){const i=st(e);qe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield th(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function CE(n,t=10240){let e=0;return{read:()=>(0,Ae.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fy{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class EE{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new qi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,Ae.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,Ae.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,Ae.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const a=yield t.ba(r);return new nI(JSON.parse(a),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,Ae.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,Ae.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,Ae.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class DE{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ue(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ae.Z)(function*(a,u){const f=st(a),_=dg(f.M)+"/documents",b={documents:u.map(U=>sf(f.M,U))},I=yield f.co("BatchGetDocuments",_,b),x=new Map;I.forEach(U=>{const q=function ZM(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=Al(e,i.found.name),a=kr(i.found.updateTime),u=new Zr({mapValue:{fields:i.found.fields}});return hi.newFoundDocument(r,a,u)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Al(e,i.missing),a=kr(i.readTime);return hi.newNoDocument(r,a)}(n,t):bt()}(f.M,U);x.set(q.key.toString(),q)});const F=[];return u.forEach(U=>{const q=x.get(U.toString());Ut(!!q),F.push(q)}),F}),function(a,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new v_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Qe.fromPath(r);t.mutations.push(new sg(a,t.precondition(a)))}),yield(i=(0,Ae.Z)(function*(r,a){const u=st(r),f=dg(u.M)+"/documents",_={writes:a.map(b=>Ou(u.M,b))};yield u.ro("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw bt();e=Rt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ue(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zi.updateTime(e):Zi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new Ue(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(e)}return Zi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class TE{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new bf(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,Ae.Z)(function*(){const e=new DE(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Ca(a)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!Iu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!lS(e)}return!1}}class hI{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=wr.UNAUTHENTICATED,this.clientId=i_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ae.Z)(function*(f){qe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(qe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ae.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ag(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function SE(n,t){return py.apply(this,arguments)}function py(){return py=(0,Ae.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ae.Z)(function*(a){i.isEqual(a)||(yield L_(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),py.apply(this,arguments)}function gy(n,t){return IE.apply(this,arguments)}function IE(){return IE=(0,Ae.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield my(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>yb(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>yb(t.remoteStore,a)),n.onlineComponents=t}),IE.apply(this,arguments)}function my(n){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Ae.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield SE(n,new uI)),n.offlineComponents}),Rg.apply(this,arguments)}function _y(n){return jb.apply(this,arguments)}function jb(){return jb=(0,Ae.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield gy(n,new Ub)),n.onlineComponents}),jb.apply(this,arguments)}function fI(n){return my(n).then(t=>t.persistence)}function AE(n){return my(n).then(t=>t.localStore)}function pI(n){return _y(n).then(t=>t.remoteStore)}function Hb(n){return _y(n).then(t=>t.syncEngine)}function Sf(n){return ME.apply(this,arguments)}function ME(){return ME=(0,Ae.Z)(function*(n){const t=yield _y(n),e=t.eventManager;return e.onListen=Ga.bind(null,t.syncEngine),e.onUnlisten=dE.bind(null,t.syncEngine),e}),ME.apply(this,arguments)}function gI(n,t,e={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,a,u,f,_){const b=new fy({next:x=>{a.enqueueAndForget(()=>xg(r,I));const F=x.docs.has(u);!F&&x.fromCache?_.reject(new Ue(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&f&&"server"===f.source?_.reject(new Ue(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Cb(Ac(u.path),b,{includeMetadataChanges:!0,Du:!0});return aE(r,I)}(yield Sf(n),n.asyncQueue,t,e,i)})),i.promise}function _I(n,t,e={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,a,u,f,_){const b=new fy({next:x=>{a.enqueueAndForget(()=>xg(r,I)),x.fromCache&&"server"===f.source?_.reject(new Ue(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Cb(u,b,{includeMetadataChanges:!0,Du:!0});return aE(r,I)}(yield Sf(n),n.asyncQueue,t,e,i)})),i.promise}const o=new Map;function l(n,t,e){if(!e)throw new Ue(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function d(n,t,e,i){if(!0===t&&!0===i)throw new Ue(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function h(n){if(!Qe.isDocumentKey(n))throw new Ue(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g(n){if(Qe.isDocumentKey(n))throw new Ue(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":bt()}function C(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ue(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=v(n);throw new Ue(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function T(n,t){if(t<=0)throw new Ue(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class O{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ue(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ue(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,d("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class R{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O({}),this._settingsFrozen=!1,t instanceof Tc?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ue(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ue(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ue(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new x1;switch(e.type){case"gapi":const i=e.client;return Ut(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZT(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ue(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=o.get(t);e&&(qe("ComponentProvider","Removing Datastore"),o.delete(t),e.terminate())}(this),Promise.resolve()}}class W{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ce(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new W(this.firestore,t,this._key)}}class te{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new te(this.firestore,t,this._query)}}class Ce extends te{constructor(t,e,i){super(t,e,Ac(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new W(this.firestore,null,new Qe(t))}withConverter(t){return new Ce(this.firestore,t,this._path)}}function ze(n,t,...e){if(n=(0,pn.m9)(n),l("collection","path",t),n instanceof R){const i=yn.fromString(t,...e);return g(i),new Ce(n,null,i)}{if(!(n instanceof W||n instanceof Ce))throw new Ue(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return g(i),new Ce(n.firestore,null,i)}}function gt(n,t,...e){if(n=(0,pn.m9)(n),1===arguments.length&&(t=i_.R()),l("doc","path",t),n instanceof R){const i=yn.fromString(t,...e);return h(i),new W(n,null,new Qe(i))}{if(!(n instanceof W||n instanceof Ce))throw new Ue(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return h(i),new W(n.firestore,n instanceof Ce?n.converter:null,new Qe(i))}}function Fe(n,t){return n=(0,pn.m9)(n),t=(0,pn.m9)(t),(n instanceof W||n instanceof Ce)&&(t instanceof W||t instanceof Ce)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Ot(n,t){return n=(0,pn.m9)(n),t=(0,pn.m9)(t),n instanceof te&&t instanceof te&&n.firestore===t.firestore&&tf(n._query,t._query)&&n.converter===t.converter}class vn{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new bf(this,"async_queue_retry"),this.Ua=()=>{const e=W_();e&&qe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=W_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=W_();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new qi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,Ae.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!ku(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,rr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=vb.createAndSchedule(this,t,e,i,a=>this.Qa(a));return this.Oa.push(r),r}qa(){this.Fa&&bt()}verifyOperationInProgress(){}ja(){var t=this;return(0,Ae.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function On(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Io{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ri extends R{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new vn,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yy(this),this._firestoreClient.terminate()}}function Pi(n){return n._firestoreClient||yy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yy(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new f0(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new hI(n._authCredentials,n._appCheckCredentials,n._queue,i)}function vy(n,t,e){const i=new qi;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield SE(n,e),yield gy(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===ve.FAILED_PRECONDITION||a.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function px(n){if(n._initialized||n._terminated)throw new Ue(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ih{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ue(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vu(Wi.fromBase64String(t))}catch(e){throw new Ue(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vu(Wi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Pg{constructor(t){this._methodName=t}}class OE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}}const nF=/^__.*__$/;class iF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new So(t,this.data,this.fieldMask,e,this.fieldTransforms):new zd(t,this.data,e,this.fieldTransforms)}}class gx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new So(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function mx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class kE{constructor(t,e,i,r,a,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new kE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return FE(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(mx(this.Ya)&&nF.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class rF{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||vf(t)}uc(t,e,i,r=!1){return new kE({Ya:t,methodName:e,oc:i,path:or.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Fg(n){const t=n._freezeSettings(),e=vf(n._databaseId);return new rF(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RE(n,t,e,i,r,a={}){const u=n.uc(a.merge||a.mergeFields?2:0,t,e,r);wI("Data must be an object, but it was:",u,i);const f=vx(i,u);let _,b;if(a.merge)_=new Kp(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const F=CI(t,x,e);if(!u.contains(F))throw new Ue(ve.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);wx(I,F)||I.push(F)}_=new Kp(I),b=u.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,b=u.fieldTransforms;return new iF(new Zr(f),_,b)}class qb extends Pg{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qb}}function _x(n,t,e){return new kE({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class yI extends Pg{_toFieldTransform(t){return new ng(t.path,new nf)}isEqual(t){return t instanceof yI}}class sF extends Pg{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=_x(this,t,!0),i=this.ac.map(a=>Lg(a,e)),r=new Gd(i);return new ng(t.path,r)}isEqual(t){return this===t}}class oF extends Pg{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=_x(this,t,!0),i=this.ac.map(a=>Lg(a,e)),r=new $d(i);return new ng(t.path,r)}isEqual(t){return this===t}}class aF extends Pg{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new rf(t.M,z1(t.M,this.cc));return new ng(t.path,e)}isEqual(t){return this===t}}function vI(n,t,e,i){const r=n.uc(1,t,e);wI("Data must be an object, but it was:",r,i);const a=[],u=Zr.empty();Cc(i,(_,b)=>{const I=PE(t,_,e);b=(0,pn.m9)(b);const x=r.nc(I);if(b instanceof qb)a.push(I);else{const F=Lg(b,x);null!=F&&(a.push(I),u.set(I,F))}});const f=new Kp(a);return new gx(u,f,r.fieldTransforms)}function bI(n,t,e,i,r,a){const u=n.uc(1,t,e),f=[CI(t,i,e)],_=[r];if(a.length%2!=0)throw new Ue(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(CI(t,a[F])),_.push(a[F+1]);const b=[],I=Zr.empty();for(let F=f.length-1;F>=0;--F)if(!wx(b,f[F])){const U=f[F];let q=_[F];q=(0,pn.m9)(q);const ee=u.nc(U);if(q instanceof qb)b.push(U);else{const De=Lg(q,ee);null!=De&&(b.push(U),I.set(U,De))}}const x=new Kp(b);return new gx(I,x,u.fieldTransforms)}function yx(n,t,e,i=!1){return Lg(e,n.uc(i?4:3,t))}function Lg(n,t){if(bx(n=(0,pn.m9)(n)))return wI("Unsupported field value:",t,n),vx(n,t);if(n instanceof Pg)return function(e,i){if(!mx(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const u of e){let f=Lg(u,i.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,pn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return z1(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=sr.fromDate(e);return{timestampValue:xc(i.M,r)}}if(e instanceof sr){const r=new sr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xc(i.M,r)}}if(e instanceof OE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vu)return{bytesValue:dC(i.M,e._byteString)};if(e instanceof W){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:E_(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${v(e)}`)}(n,t)}function vx(n,t){const e={};return r_(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cc(n,(i,r)=>{const a=Lg(r,t.Za(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function bx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof OE||n instanceof Vu||n instanceof W||n instanceof Pg)}function wI(n,t,e){if(!bx(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=v(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function CI(n,t,e){if((t=(0,pn.m9)(t))instanceof ih)return t._internalPath;if("string"==typeof t)return PE(n,t);throw FE("Field path arguments must be of type string or ",n,!1,void 0,e)}const lF=new RegExp("[~\\*/\\[\\]]");function PE(n,t,e){if(t.search(lF)>=0)throw FE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ih(...t.split("."))._internalPath}catch(i){throw FE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function FE(n,t,e,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ue(ve.INVALID_ARGUMENT,f+n+_)}function wx(n,t){return n.some(e=>e.isEqual(t))}class Wb{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new W(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(LE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class cF extends Wb{data(){return super.data()}}function LE(n,t){return"string"==typeof t?PE(n,t):t instanceof ih?t._internalPath:t._delegate._internalPath}class Bg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rh extends Wb{constructor(t,e,i,r,a,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(LE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Zb extends rh{data(t={}){return super.data(t)}}class If{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Zb(this._firestore,this._userDataWriter,i.key,i,new Bg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Zb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Zb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:uF(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function Cx(n,t){return n instanceof rh&&t instanceof rh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof If&&t instanceof If&&n._firestore===t._firestore&&Ot(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function Ex(n){if(eg(n)&&0===n.explicitOrderBy.length)throw new Ue(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}function Af(n,...t){for(const e of t)n=e._apply(n);return n}class dF extends Kb{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=Fg(t.firestore),i=function(r,a,u,f,_,b,I){let x;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Mx(I,b);const U=[];for(const q of I)U.push(Ax(f,r,q));x={arrayValue:{values:U}}}else x=Ax(f,r,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Mx(I,b),x=yx(u,"where",I,"in"===b||"not-in"===b);const F=ii.create(_,b,x);return function(U,q){if(q.S()){const De=tg(U);if(null!==De&&!De.isEqual(q.field))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${q.field.toString()}'`);const je=f_(U);null!==je&&xx(0,q.field,je)}const ee=function(De,je){for(const Oe of De.filters)if(je.indexOf(Oe.op)>=0)return Oe.op;return null}(U,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ee)throw new Ue(ve.INVALID_ARGUMENT,ee===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,F),F}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new te(t.firestore,t.converter,function(r,a){const u=r.filters.concat([a]);return new Il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class fF extends Kb{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Sl(r,a);return function(f,_){if(null===f_(f)){const b=tg(f);null!==b&&xx(0,b,_.field)}}(i,u),u}(t._query,this.hc,this.dc);return new te(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Il(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Dx extends Kb{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new te(t.firestore,t.converter,E0(t._query,this._c,this.wc))}}class Tx extends Kb{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=Ix(t,this.type,this.mc,this.gc);return new te(t.firestore,t.converter,(r=e,new Il((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Sx extends Kb{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=Ix(t,this.type,this.mc,this.gc);return new te(t.firestore,t.converter,(r=e,new Il((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Ix(n,t,e,i){if(e[0]=(0,pn.m9)(e[0]),e[0]instanceof Wb)return function(r,a,u,f,_){if(!f)throw new Ue(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const I of Hd(r))if(I.field.isKeyField())b.push(Ud(a,f.key));else{const x=f.data.field(I.field);if(o_(x))throw new Ue(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=I.field.canonicalString();throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(x)}return new Tl(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Fg(n.firestore);return function(a,u,f,_,b,I){const x=a.explicitOrderBy;if(b.length>x.length)throw new Ue(ve.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<b.length;U++){const q=b[U];if(x[U].field.isKeyField()){if("string"!=typeof q)throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!ef(a)&&-1!==q.indexOf("/"))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const ee=a.path.child(yn.fromString(q));if(!Qe.isDocumentKey(ee))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const De=new Qe(ee);F.push(Ud(u,De))}else{const ee=yx(f,_,q);F.push(ee)}}return new Tl(F,I)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Ax(n,t,e){if("string"==typeof(e=(0,pn.m9)(e))){if(""===e)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ef(t)&&-1!==e.indexOf("/"))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(yn.fromString(e));if(!Qe.isDocumentKey(i))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ud(n,new Qe(i))}if(e instanceof W)return Ud(n,e._key);throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v(e)}.`)}function Mx(n,t){if(!Array.isArray(n)||0===n.length)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function xx(n,t,e){if(!e.isEqual(t))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class EI{convertValue(t,e="none"){switch(Au(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Di(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw bt()}}convertObject(t,e){const i={};return Cc(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new OE(Di(t.latitude),Di(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=h0(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Bd(t));default:return null}}convertTimestamp(t){const e=Ec(t);return new sr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yn.fromString(t);Ut(k0(i));const r=new Tc(i.get(1),i.get(3)),a=new Qe(i.popFirst(5));return r.isEqual(e)||rr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function BE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class wF extends EI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new W(this.firestore,null,e)}}class Nx{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Fg(t)}set(t,e,i){this._verifyNotCommitted();const r=Mf(t,this._firestore),a=BE(r.converter,e,i),u=RE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Zi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Mf(t,this._firestore);let u;return u="string"==typeof(e=(0,pn.m9)(e))||e instanceof ih?bI(this._dataReader,"WriteBatch.update",a._key,e,i,r):vI(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,Zi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Mf(t,this._firestore);return this._mutations=this._mutations.concat(new v_(e._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mf(n,t){if((n=(0,pn.m9)(n)).firestore!==t)throw new Ue(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vg extends EI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new W(this.firestore,null,e)}}function Ox(n,t,e){n=C(n,W);const i=C(n.firestore,ri),r=BE(n.converter,t,e);return by(i,[RE(Fg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Zi.none())])}function kx(n,t,e,...i){n=C(n,W);const r=C(n.firestore,ri),a=Fg(r);let u;return u="string"==typeof(t=(0,pn.m9)(t))||t instanceof ih?bI(a,"updateDoc",n._key,t,e,i):vI(a,"updateDoc",n._key,t),by(r,[u.toMutation(n._key,Zi.exists(!0))])}function Rx(n,...t){var e,i,r;n=(0,pn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||On(t[u])||(a=t[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(On(t[u])){const x=t[u];t[u]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[u+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[u+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let _,b,I;if(n instanceof W)b=C(n.firestore,ri),I=Ac(n._key.path),_={next:x=>{t[u]&&t[u](DI(b,n,x))},error:t[u+1],complete:t[u+2]};else{const x=C(n,te);b=C(x.firestore,ri),I=x._query;const F=new Vg(b);_={next:U=>{t[u]&&t[u](new If(b,F,x,U))},error:t[u+1],complete:t[u+2]},Ex(n._query)}return function(x,F,U,q){const ee=new fy(q),De=new Cb(F,ee,U);return x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return aE(yield Sf(x),De)})),()=>{ee.pa(),x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return xg(yield Sf(x),De)}))}}(Pi(b),I,f,_)}function by(n,t){return function(e,i){const r=new qi;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function sI(n,t,e){return ry.apply(this,arguments)}(yield Hb(e),i,r)})),r.promise}(Pi(n),t)}function DI(n,t,e){const i=e.docs.get(t._key),r=new Vg(n);return new rh(n,r,t._key,i,new Bg(e.hasPendingWrites,e.fromCache),t.converter)}class NF extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Fg(t)}get(t){const e=Mf(t,this._firestore),i=new wF(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return bt();const a=r[0];if(a.isFoundDocument())return new Wb(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new Wb(this._firestore,i,e._key,null,e.converter);throw bt()})}set(t,e,i){const r=Mf(t,this._firestore),a=BE(r.converter,e,i),u=RE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const a=Mf(t,this._firestore);let u;return u="string"==typeof(e=(0,pn.m9)(e))||e instanceof ih?bI(this._dataReader,"Transaction.update",a._key,e,i,r):vI(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=Mf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Mf(t,this._firestore),i=new Vg(this._firestore);return super.get(t).then(r=>new rh(this._firestore,i,e._key,r._document,new Bg(!1,!1),e.converter))}}function TI(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Fx(){if("undefined"==typeof Uint8Array)throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function Lx(){if(!function KT(){return"undefined"!=typeof atob}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Du=bd.SDK_VERSION,(0,bd._registerComponent)(new xm.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),a=new ri(r,new qT(e.getProvider("auth-internal")),new O1(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC")),(0,bd.registerVersion)(S1,"3.4.7",n),(0,bd.registerVersion)(S1,"3.4.7","esm2017")}();class Yb{constructor(t){this._delegate=t}static fromBase64String(t){return Lx(),new Yb(Vu.fromBase64String(t))}static fromUint8Array(t){return Fx(),new Yb(Vu.fromUint8Array(t))}toBase64(){return Lx(),this._delegate.toBase64()}toUint8Array(){return Fx(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SI(n){return function UF(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class jF{enableIndexedDbPersistence(t,e){return function Gb(n,t){px(n=C(n,ri));const e=Pi(n),i=n._freezeSettings(),r=new Ub;return vy(e,r,new Vb(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function $b(n){px(n=C(n,ri));const t=Pi(n),e=n._freezeSettings(),i=new Ub;return vy(t,i,new dI(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function zb(n){if(n._initialized&&!n._terminated)throw new Ue(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new qi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(e=(0,Ae.Z)(function*(i){if(!Ba.vt())return Promise.resolve();const r=i+"main";yield Ba.delete(r)}),function(i){return e.apply(this,arguments)})(_f(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Bx{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Jh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function j(n,t,e,i={}){var r;const a=(n=C(n,R))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Jh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=wr.MOCK_USER;else{u=(0,pn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ue(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wr(_)}n._authCredentials=new zT(new M1(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function QP(n){return function lx(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const t=yield fI(n),e=yield pI(n);return t.setNetworkEnabled(!0),function(i){const r=st(i);return r.lu.delete(0),Dg(r)}(e)}))}(Pi(n=C(n,ri)))}(this._delegate)}disableNetwork(){return function XP(n){return function cx(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const t=yield fI(n),e=yield pI(n);return t.setNetworkEnabled(!1),(i=(0,Ae.Z)(function*(r){const a=st(r);a.lu.add(0),yield th(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Pi(n=C(n,ri)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,d("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function JP(n){return function(t){const e=new qi;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function gE(n,t){return kb.apply(this,arguments)}(yield Hb(t),e)})),e.promise}(Pi(n=C(n,ri)))}(this._delegate)}onSnapshotsInSync(t){return function xF(n,t){return function dx(n,t){const e=new fy(t);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return i=yield Sf(n),r=e,st(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return i=yield Sf(n),r=e,void st(i).Tu.delete(r);var i,r}))}}(Pi(n=C(n,ri)),On(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new wy(this,ze(this._delegate,t))}catch(e){throw Ao(e,"collection()","Firestore.collection()")}}doc(t){try{return new Nl(this,gt(this._delegate,t))}catch(e){throw Ao(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Mo(this,function nt(n,t){if(n=C(n,R),l("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new te(n,null,(e=t,new Il(yn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ao(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function OF(n,t){return function hx(n,t){const e=new qi;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const i=yield(r=n,_y(r).then(a=>a.datastore));var r;new TE(n.asyncQueue,i,t,e).run()})),e.promise}(Pi(n=C(n,ri)),e=>t(new NF(n,e)))}(this._delegate,e=>t(new Vx(this,e)))}batch(){return Pi(this._delegate),new Ux(new Nx(this._delegate,t=>by(this._delegate,t)))}loadBundle(t){return function eF(n,t){const e=Pi(n=C(n,ri)),i=new Io;return function fx(n,t,e,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return CE(_,b);if(_ instanceof ArrayBuffer)return CE(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new EE(_,u);var _}(e,vf(t));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function ax(n,t,e){const i=st(n);var r;(r=(0,Ae.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(F,U){const q=st(F),ee=kr(U.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",De=>q.ds.getBundleMetadata(De,U.id)).then(De=>!!De&&De.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Eb(_));const b=new lE(_,a.localStore,u.M);let I=yield u.fa();for(;I;){const F=yield b.Nu(I);F&&f._updateProgress(F),I=yield u.fa()}const x=yield b.complete();return yield Pc(a,x.Ou,void 0),yield function(F,U){const q=st(F);return q.persistence.runTransaction("Save bundle","readwrite",ee=>q.ds.saveBundleMetadata(ee,U))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Mu)}catch(_){return Jh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,u,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Hb(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function tF(n,t){return function s(n,t){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(e,i){const r=st(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.ds.getNamedQuery(a,i))}(yield AE(n),t)}))}(Pi(n=C(n,ri)),t).then(e=>e?new te(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Mo(this,e):null)}}class VE extends EI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yb(new Vu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Nl.forKey(e,this.firestore,null)}}class Vx{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}get(t){const e=jg(t);return this._delegate.get(e).then(i=>new Jb(this._firestore,new rh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=jg(t);return i?(TI("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=jg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=jg(t);return this._delegate.delete(e),this}}class Ux{constructor(t){this._delegate=t}set(t,e,i){const r=jg(t);return i?(TI("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=jg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=jg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ug{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Zb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qb(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ug.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new Ug(t,new VE(t),e),r.set(e,a)),a}}Ug.INSTANCES=new WeakMap;class Nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Nl(e,new W(e._delegate,i,new Qe(t)))}static forKey(t,e,i){return new Nl(e,new W(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new wy(this.firestore,ze(this._delegate,t))}catch(e){throw Ao(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,pn.m9)(t))instanceof W&&Fe(this._delegate,t)}set(t,e){e=TI("DocumentReference.set",e);try{return e?Ox(this._delegate,t,e):Ox(this._delegate,t)}catch(i){throw Ao(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?kx(this._delegate,t):kx(this._delegate,t,e,...i)}catch(r){throw Ao(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AF(n){return by(C(n.firestore,ri),[new v_(n._key,Zi.none())])}(this._delegate)}onSnapshot(...t){const e=jx(t),i=Hx(t,r=>new Jb(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Rx(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function EF(n){n=C(n,W);const t=C(n.firestore,ri),e=Pi(t),i=new Vg(t);return function ux(n,t){const e=new qi;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(i=(0,Ae.Z)(function*(r,a,u){try{const f=yield function(_,b){const I=st(_);return I.persistence.runTransaction("read document","readonly",x=>I.ai.Bs(x,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ue(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ag(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield AE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new rh(t,i,n._key,r,new Bg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function DF(n){n=C(n,W);const t=C(n.firestore,ri);return gI(Pi(t),n._key,{source:"server"}).then(e=>DI(t,n,e))}(this._delegate):function CF(n){n=C(n,W);const t=C(n.firestore,ri);return gI(Pi(t),n._key).then(e=>DI(t,n,e))}(this._delegate),e.then(i=>new Jb(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Nl(this.firestore,this._delegate.withConverter(t?Ug.getInstance(this.firestore,t):null))}}function Ao(n,t,e){return n.message=n.message.replace(t,e),n}function jx(n){for(const t of n)if("object"==typeof t&&!SI(t))return t;return{}}function Hx(n,t){var e,i;let r;return r=SI(n[0])?n[0]:SI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Cx(this._delegate,t._delegate)}}class Qb extends Jb{data(t){const e=this._delegate.data(t);return function $T(n,t){n||bt()}(void 0!==e),e}}class Mo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}where(t,e,i){try{return new Mo(this.firestore,Af(this._delegate,function hF(n,t,e){const i=t,r=LE("where",n);return new dF(r,i,e)}(t,e,i)))}catch(r){throw Ao(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Mo(this.firestore,Af(this._delegate,function pF(n,t="asc"){const e=t,i=LE("orderBy",n);return new fF(i,e)}(t,e)))}catch(i){throw Ao(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Mo(this.firestore,Af(this._delegate,function gF(n){return T("limit",n),new Dx("limit",n,"F")}(t)))}catch(e){throw Ao(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Mo(this.firestore,Af(this._delegate,function mF(n){return T("limitToLast",n),new Dx("limitToLast",n,"L")}(t)))}catch(e){throw Ao(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Mo(this.firestore,Af(this._delegate,function _F(...n){return new Tx("startAt",n,!0)}(...t)))}catch(e){throw Ao(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Mo(this.firestore,Af(this._delegate,function yF(...n){return new Tx("startAfter",n,!1)}(...t)))}catch(e){throw Ao(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Mo(this.firestore,Af(this._delegate,function vF(...n){return new Sx("endBefore",n,!1)}(...t)))}catch(e){throw Ao(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Mo(this.firestore,Af(this._delegate,function bF(...n){return new Sx("endAt",n,!0)}(...t)))}catch(e){throw Ao(e,"endAt()","Query.endAt()")}}isEqual(t){return Ot(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function SF(n){n=C(n,te);const t=C(n.firestore,ri),e=Pi(t),i=new Vg(t);return function mI(n,t){const e=new qi;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(i=(0,Ae.Z)(function*(r,a,u){try{const f=yield U_(r,a,!0),_=new Tb(a,f.hi),b=_.Gu(f.documents),I=_.applyChanges(b,!1);u.resolve(I.snapshot)}catch(f){const _=Ag(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield AE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new If(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function IF(n){n=C(n,te);const t=C(n.firestore,ri),e=Pi(t),i=new Vg(t);return _I(e,n._query,{source:"server"}).then(r=>new If(t,i,n,r))}(this._delegate):function TF(n){n=C(n,te);const t=C(n.firestore,ri),e=Pi(t),i=new Vg(t);return Ex(n._query),_I(e,n._query).then(r=>new If(t,i,n,r))}(this._delegate),e.then(i=>new II(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=jx(t),i=Hx(t,r=>new II(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Rx(this._delegate,e,i)}withConverter(t){return new Mo(this.firestore,this._delegate.withConverter(t?Ug.getInstance(this.firestore,t):null))}}class GF{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class II{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new GF(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qb(this._firestore,i))})}isEqual(t){return Cx(this._delegate,t._delegate)}}class wy extends Mo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Nl(this.firestore,t):null}doc(t){try{return new Nl(this.firestore,void 0===t?gt(this._delegate):gt(this._delegate,t))}catch(e){throw Ao(e,"doc()","CollectionReference.doc()")}}add(t){return function MF(n,t){const e=C(n.firestore,ri),i=gt(n),r=BE(n.converter,t);return by(e,[RE(Fg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Nl(this.firestore,e))}isEqual(t){return Fe(this._delegate,t._delegate)}withConverter(t){return new wy(this.firestore,this._delegate.withConverter(t?Ug.getInstance(this.firestore,t):null))}}function jg(n){return C(n,W)}class AI{constructor(...t){this._delegate=new ih(...t)}static documentId(){return new AI(or.keyField().canonicalString())}isEqual(t){return(t=(0,pn.m9)(t))instanceof ih&&this._delegate._internalPath.isEqual(t._internalPath)}}class Hg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function RF(){return new yI("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Hg(t)}static delete(){const t=function kF(){return new qb("deleteField")}();return t._methodName="FieldValue.delete",new Hg(t)}static arrayUnion(...t){const e=function PF(...n){return new sF("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Hg(e)}static arrayRemove(...t){const e=function FF(...n){return new oF("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Hg(e)}static increment(t){const e=function LF(n){return new aF("increment",n)}(t);return e._methodName="FieldValue.increment",new Hg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const $F={Firestore:Bx,GeoPoint:OE,Timestamp:sr,Blob:Yb,Transaction:Vx,WriteBatch:Ux,DocumentReference:Nl,DocumentSnapshot:Jb,Query:Mo,QueryDocumentSnapshot:Qb,QuerySnapshot:II,CollectionReference:wy,FieldPath:AI,FieldValue:Hg,setLogLevel:function HF(n){!function zM(n){Tu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function qF(n){(function zF(n,t){n.INTERNAL.registerComponent(new xm.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},$F)))})(n,(t,e)=>new Bx(t,e,new jF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Gw.Z);var Gx=V(6451),UE=V(5363),WF=V(6063);class ZF extends qt.x{constructor(t=1/0,e=1/0,i=WF.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;e||(i.push(t),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!t.closed;u+=i?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=e.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var $x=V(3099);function zx(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,$x.B)({connector:()=>new ZF(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function qx(n,t){return(0,es.m)(t)?ei(()=>n,t):ei(()=>n)}var MI=V(9468);V(5867);const Zx=new Map,XF={activated:!1,tokenObservers:[]},e2={initialized:!1,enabled:!1};function as(n){return Zx.get(n)||XF}function Fc(n,t){Zx.set(n,t)}function HE(){return e2}class o2{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ae.Z)(function*(){e.stop();try{e.pending=new pn.BH,yield function a2(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new pn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const xo=new pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yx(n){if(!as(n).activated)throw xo.create("use-before-activation",{appName:n.name})}function kI(n,t){return RI.apply(this,arguments)}function RI(){return RI=(0,Ae.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,a)}catch(x){throw xo.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==u.status)throw xo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(x){throw xo.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),I=Date.now();return{token:f.attestationToken,expireTimeMillis:I+b,issuedAtTimeMillis:I}}),RI.apply(this,arguments)}function h2(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Xb="firebase-app-check-store";let zE=null;function Qx(){return zE||(zE=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(xo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Xb,{keyPath:"compositeKey"})}}catch(e){t(xo.create("storage-open",{originalErrorMessage:e.message}))}}),zE)}function PI(){return PI=(0,Ae.Z)(function*(n,t){const i=(yield Qx()).transaction(Xb,"readwrite"),a=i.objectStore(Xb).put({compositeKey:n,value:t});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(xo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),PI.apply(this,arguments)}const ew=new pu.Yd("@firebase/app-check");function nN(n,t){return(0,pn.hl)()?function m2(n,t){return function Xx(n,t){return PI.apply(this,arguments)}(function tN(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ew.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function iN(){return HE().enabled}function rN(){return VI.apply(this,arguments)}function VI(){return VI=(0,Ae.Z)(function*(){const n=HE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VI.apply(this,arguments)}const C2={error:"UNKNOWN_ERROR"};function E2(n){return pn.US.encodeString(JSON.stringify(n),!1)}function qE(n){return UI.apply(this,arguments)}function UI(){return UI=(0,Ae.Z)(function*(n,t=!1){const e=n.app;Yx(e);const i=as(e);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&WE(_)&&(r=_)}if(!t&&r&&WE(r))return{token:r.token};let f,u=!1;if(iN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=kI(h2(e,yield rN()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield nN(e,_),Fc(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ew.warn(_.message):ew.error(_),a=_}return r?(f={token:r.token},Fc(e,Object.assign(Object.assign({},i),{token:r})),yield nN(e,r)):f=T2(a),u&&oN(e,f),f}),UI.apply(this,arguments)}function HI(n,t){const e=as(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Fc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function sN(n){const{app:t}=n,e=as(t);let i=e.tokenRefresher;i||(i=function D2(n){const{app:t}=n;return new o2((0,Ae.Z)(function*(){let i;if(i=as(t).token?yield qE(n,!0):yield qE(n),i.error)throw i.error}),()=>!0,()=>{const e=as(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Fc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function oN(n,t){const e=as(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function WE(n){return n.expireTimeMillis-Date.now()>0}function T2(n){return{token:E2(C2),error:n}}class S2{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=as(this.app);for(const e of t)HI(this.app,e.next);return Promise.resolve()}}const pN="app-check-internal";!function U2(){(0,bd._registerComponent)(new xm.wA("app-check",n=>function I2(n,t){return new S2(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(pN).initialize()})),(0,bd._registerComponent)(new xm.wA(pN,n=>function A2(n){return{getToken:t=>qE(n,t),addTokenListener:t=>function jI(n,t,e,i){const{app:r}=n,a=as(r),u={next:e,error:i,type:t};if(Fc(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&WE(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),sN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>sN(n))}(n,"INTERNAL",t),removeTokenListener:t=>HI(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bd.registerVersion)("@firebase/app-check","0.5.5")}();class qI{constructor(){return(0,qr.vb)("app-check")}}"undefined"!=typeof window&&window;var mN=V(127);const _N=new c.OlP("angularfire2.auth.use-emulator"),yN=new c.OlP("angularfire2.auth.settings"),vN=new c.OlP("angularfire2.auth.tenant-id"),bN=new c.OlP("angularfire2.auth.langugage-code"),wN=new c.OlP("angularfire2.auth.use-device-language"),CN=new c.OlP("angularfire.auth.persistence"),EN=(n,t,e,i,r,a,u,f)=>(0,zi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,I]of Object.entries(u))_.settings[b]=I;return f&&_.setPersistence(f),_},[e,i,r,a,u,f]);let KE=(()=>{class n{constructor(e,i,r,a,u,f,_,b,I,x,F,U){const q=new qt.x,ee=yt(void 0).pipe((0,UE.Q)(u.outsideAngular),ei(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4087)))),(0,it.U)(()=>(0,zi.on)(e,a,i)),(0,it.U)(De=>EN(De,a,f,b,I,x,_,F)),zx({bufferSize:1,refCount:!1}));if(Zn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{ee.pipe(Wo()).subscribe();const je=ee.pipe(ei(He=>He.getRedirectResult().then(rt=>rt,()=>null)),qr.iC,zx({bufferSize:1,refCount:!1})),Oe=ee.pipe(ei(He=>new E.y(rt=>({unsubscribe:a.runOutsideAngular(()=>He.onAuthStateChanged(et=>rt.next(et),et=>rt.error(et),()=>rt.complete()))})))),dt=ee.pipe(ei(He=>new E.y(rt=>({unsubscribe:a.runOutsideAngular(()=>He.onIdTokenChanged(et=>rt.next(et),et=>rt.error(et),()=>rt.complete()))}))));this.authState=je.pipe(qx(Oe),(0,MI.R)(u.outsideAngular),(0,UE.Q)(u.insideAngular)),this.user=je.pipe(qx(dt),(0,MI.R)(u.outsideAngular),(0,UE.Q)(u.insideAngular)),this.idToken=this.user.pipe(ei(He=>He?(0,Xn.D)(He.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(ei(He=>He?(0,Xn.D)(He.getIdTokenResult()):yt(null))),this.credential=(0,Gx.T)(je,q,this.authState.pipe(Un(He=>!He))).pipe((0,it.U)(He=>(null==He?void 0:He.user)?He:null),(0,MI.R)(u.outsideAngular),(0,UE.Q)(u.insideAngular))}return(0,zi.pX)(this,ee,a,{spy:{apply:(De,je,Oe)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&Oe.then(dt=>q.next(dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi.Dh),c.LFG(zi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(qr.HU),c.LFG(_N,8),c.LFG(yN,8),c.LFG(vN,8),c.LFG(bN,8),c.LFG(wN,8),c.LFG(CN,8),c.LFG(qI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),q2=(()=>{class n{constructor(){mN.Z.registerVersion("angularfire",qr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[KE]}),n})();function DN(n,t){return function W2(n,t=Bh.z){return new E.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function ZI(n,t){return DN(n,t).pipe((0,it.U)(e=>({payload:e,type:"query"})))}function YE(n,t){return ZI(n,t).pipe(nr(void 0),Mm(),(0,it.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function TN(n,t,e){return YE(n,e).pipe(pr((i,r)=>function K2(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Y2(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return KI(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return KI(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return KI(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),Vh(),(0,it.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function KI(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function SN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=YE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,it.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(nr(void 0),Mm(),Un(([i,r])=>r.length>0||!i),(0,it.U)(([i,r])=>r),qr.iC)}auditTrail(t){return this.stateChanges(t).pipe(pr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=SN(t);return TN(this.query,e,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(t={}){return ZI(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),qr.iC)}get(t){return(0,Xn.D)(this.query.get(t)).pipe(qr.iC)}add(t){return this.ref.add(t)}doc(t){return new AN(this.ref.doc(t),this.afs)}}class AN{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=MN(i,e);return new IN(r,a,this.afs)}snapshotChanges(){return function Z2(n,t){return DN(n,t).pipe(nr(void 0),Mm(),(0,it.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,it.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Xn.D)(this.ref.get(t)).pipe(qr.iC)}}class J2{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YE(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Un(e=>e.length>0),qr.iC):YE(this.query,this.afs.schedulers.outsideAngular).pipe(qr.iC)}auditTrail(t){return this.stateChanges(t).pipe(pr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=SN(t);return TN(this.query,e,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(t={}){return ZI(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),qr.iC)}get(t){return(0,Xn.D)(this.query.get(t)).pipe(qr.iC)}}const Q2=new c.OlP("angularfire2.enableFirestorePersistence"),X2=new c.OlP("angularfire2.firestore.persistenceSettings"),eL=new c.OlP("angularfire2.firestore.settings"),tL=new c.OlP("angularfire2.firestore.use-emulator");function MN(n,t=(e=>e)){return{query:t(n),ref:n}}let nL=(()=>{class n{constructor(e,i,r,a,u,f,_,b,I,x,F,U,q,ee,De,je,Oe){this.schedulers=_;const dt=(0,zi.on)(e,f,i),He=I;x&&EN(dt,f,F,q,ee,De,U,je),[this.firestore,this.persistenceEnabled$]=(0,zi.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const rt=f.runOutsideAngular(()=>dt.firestore());if(a&&rt.settings(a),He&&rt.useEmulator(...He),r&&!Zn(u)){const et=()=>{try{return(0,Xn.D)(rt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Pt){return"undefined"!=typeof console&&console.warn(Pt),yt(!1)}};return[rt,f.runOutsideAngular(et)]}return[rt,yt(!1)]},[a,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=MN(r,i),f=this.schedulers.ngZone.run(()=>a);return new IN(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),a=this.firestore.collectionGroup(e);return new J2(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi.Dh),c.LFG(zi.xv,8),c.LFG(Q2,8),c.LFG(eL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(qr.HU),c.LFG(X2,8),c.LFG(tL,8),c.LFG(KE,8),c.LFG(_N,8),c.LFG(yN,8),c.LFG(vN,8),c.LFG(bN,8),c.LFG(wN,8),c.LFG(CN,8),c.LFG(qI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tw=(()=>{class n{constructor(e){this.fauth=e,this.username=new Sn(""),this.loggedIn=new Sn(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}logout(){return this.fauth.signOut()}register(e,i){return this.fauth.createUserWithEmailAndPassword(e,i)}login(e,i){return this.fauth.signInWithEmailAndPassword(e,i)}loginGoogle(){var e=this;return(0,Ae.Z)(function*(){return e.fauth.signInWithPopup(new mN.Z.auth.GoogleAuthProvider)})()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(KE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iL=(()=>{class n{constructor(e,i){this.afs=e,this.auth=i}setResult(e){return this.afs.collection("resultados").add({usuario:this.auth.user,juego:e.juego,puntaje:e.puntaje,fecha:Date.now()})}get(e){return this.afs.collection(e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(nL),c.LFG(tw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rL=function(n){return{"background-color":n}};function sL(n,t){if(1&n&&c._UZ(0,"div",11),2&n){const e=t.index,i=c.oxw().index,r=c.oxw();c.Q6J("ngStyle",c.VKq(1,rL,r.setColors(i,e)))}}function oL(n,t){if(1&n&&(c.TgZ(0,"div",9),c.YNc(1,sL,1,3,"div",10),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("ngForOf",e)}}function aL(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",15),c.NdJ("click",function(){const a=c.CHM(e).$implicit;return c.oxw(2).newGame(a)}),c._uU(1),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw(2);c.xp6(1),c.Oqu(i.all_modes[e])}}function lL(n,t){if(1&n&&(c.TgZ(0,"div",12)(1,"span",13),c._uU(2,"SELECCIONA UN MODO"),c.qZA(),c.YNc(3,aL,2,1,"div",14),c.qZA()),2&n){const e=c.oxw();c.xp6(3),c.Q6J("ngForOf",e.getKeys(e.all_modes))}}const cL=function(n){return{"new-best-score":n}},uL=function(n){return{"disable-clicks":n}};let dL=(()=>{class n{constructor(e,i){this.bestScoreService=e,this.juegoService=i,this.interval=0,this.tempDirection=0,this.default_mode="classic",this.isGameOver=!1,this.all_modes=Hw,this.getKeys=Object.keys,this.board=[],this.obstacles=[],this.score=0,this.showMenuChecker=!1,this.gameStarted=!1,this.newBestScore=!1,this.best_score=this.bestScoreService.retrieve(),this.snake={direction:37,parts:[{x:-1,y:-1}]},this.fruit={x:-1,y:-1},this.setBoard()}ngOnInit(){}handleKeyboardEvents(e){37===e.keyCode&&39!==this.snake.direction?this.tempDirection=37:38===e.keyCode&&40!==this.snake.direction?this.tempDirection=38:39===e.keyCode&&37!==this.snake.direction?this.tempDirection=39:40===e.keyCode&&38!==this.snake.direction&&(this.tempDirection=40)}setColors(e,i){return this.isGameOver?"#D24D57":this.fruit.x===i&&this.fruit.y===e?"#EC644B":this.snake.parts[0].x===i&&this.snake.parts[0].y===e?"#336E7B":!0===this.board[e][i]?"#C8F7C5":"obstacles"===this.default_mode&&this.checkObstacles(i,e)?"#383522":"#86B5BD"}updatePositions(){let e=this.repositionHead(),i=this;if("classic"===this.default_mode&&this.boardCollision(e))return this.gameOver();if("no_walls"===this.default_mode)this.noWallsTransition(e);else if("obstacles"===this.default_mode&&(this.noWallsTransition(e),this.obstacleCollision(e)))return this.gameOver();if(this.selfCollision(e))return this.gameOver();this.fruitCollision(e)&&this.eatFruit();let r=this.snake.parts.pop();r&&(this.board[null==r?void 0:r.y][r.x]=!1),this.snake.parts.unshift(e),this.board[e.y][e.x]=!0,this.snake.direction=this.tempDirection,setTimeout(()=>{i.updatePositions()},this.interval)}repositionHead(){let e=Object.assign({},this.snake.parts[0]);return 37===this.tempDirection?e.x-=1:39===this.tempDirection?e.x+=1:38===this.tempDirection?e.y-=1:40===this.tempDirection&&(e.y+=1),e}noWallsTransition(e){18===e.x?e.x=0:-1===e.x&&(e.x=17),18===e.y?e.y=0:-1===e.y&&(e.y=17)}addObstacles(){let e=this.randomNumber(),i=this.randomNumber();if(!0===this.board[i][e]||8===i)return this.addObstacles();this.obstacles.push({x:e,y:i})}checkObstacles(e,i){let r=!1;return this.obstacles.forEach(a=>{a.x===e&&a.y===i&&(r=!0)}),r}obstacleCollision(e){return this.checkObstacles(e.x,e.y)}boardCollision(e){return 18===e.x||-1===e.x||18===e.y||-1===e.y}selfCollision(e){return!0===this.board[e.y][e.x]}fruitCollision(e){return e.x===this.fruit.x&&e.y===this.fruit.y}resetFruit(){let e=this.randomNumber(),i=this.randomNumber();if(!0===this.board[i][e]||this.checkObstacles(e,i))return this.resetFruit();this.fruit={x:e,y:i}}eatFruit(){this.score++;let e=Object.assign({},this.snake.parts[this.snake.parts.length-1]);this.snake.parts.push(e),this.resetFruit(),this.score%5==0&&(this.interval-=15)}gameOver(){this.isGameOver=!0,this.gameStarted=!1;let e=this;this.score>this.best_score&&(this.bestScoreService.store(this.score),this.best_score=this.score,this.newBestScore=!0),this.setBoard(),setTimeout(()=>{e.isGameOver=!1},500),this.juegoService.setResult({juego:"Snake",puntaje:this.score}).then(i=>{console.log(i)}).catch(i=>{console.log("Error ->",i)})}randomNumber(){return Math.floor(18*Math.random())}setBoard(){this.board=[];for(let e=0;e<18;e++){this.board[e]=[];for(let i=0;i<18;i++)this.board[e][i]=!1}}showMenu(){this.showMenuChecker=!this.showMenuChecker}newGame(e){this.default_mode=e||"classic",this.showMenuChecker=!1,this.newBestScore=!1,this.gameStarted=!0,this.score=0,this.tempDirection=37,this.isGameOver=!1,this.interval=150,this.snake={direction:37,parts:[]};for(let i=0;i<3;i++)this.snake.parts.push({x:8+i,y:8});if("obstacles"===e){this.obstacles=[];let i=1;do{this.addObstacles()}while(i++<9)}this.resetFruit(),this.updatePositions()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(RM),c.Y36(iL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-snake"]],hostBindings:function(e,i){1&e&&c.NdJ("keydown",function(a){return i.handleKeyboardEvents(a)},!1,c.evT)},decls:12,vars:9,consts:[[1,"main-container"],[1,"game-container"],[1,"game-header"],[1,"logo"],[1,"score-block"],[1,"score",3,"ngClass"],["class","row",4,"ngFor","ngForOf"],[1,"start-button",3,"ngClass","click"],["class","new-game-menu",4,"ngIf"],[1,"row"],["class","column",3,"ngStyle",4,"ngFor","ngForOf"],[1,"column",3,"ngStyle"],[1,"new-game-menu"],[1,"new-game-menu-label"],["class","start-button new-game-button",3,"click",4,"ngFor","ngForOf"],[1,"start-button","new-game-button",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),c._uU(4,"Snake"),c.qZA(),c.TgZ(5,"div",4)(6,"h3",5),c._uU(7),c.qZA()()(),c.YNc(8,oL,2,1,"div",6),c.TgZ(9,"div",7),c.NdJ("click",function(){return i.showMenu()}),c._uU(10,"Comenzar Juego"),c.qZA(),c.YNc(11,lL,4,1,"div",8),c.qZA()()),2&e&&(c.xp6(6),c.Q6J("ngClass",c.VKq(5,cL,i.newBestScore)),c.xp6(1),c.hij("Puntaje: ",i.score,""),c.xp6(1),c.Q6J("ngForOf",i.board),c.xp6(1),c.Q6J("ngClass",c.VKq(7,uL,i.gameStarted)),c.xp6(2),c.Q6J("ngIf",i.showMenuChecker))},directives:[Jr,qn,$c,Qn],styles:[".game-header[_ngcontent-%COMP%]{color:#fff;padding:5px 15px 5px 0;position:relative}.game-header[_ngcontent-%COMP%] > .score-block[_ngcontent-%COMP%]{display:inline-block}.score-block[_ngcontent-%COMP%] > .score[_ngcontent-%COMP%]{position:absolute;right:8px;top:-5px}.score-block[_ngcontent-%COMP%] > .best-score[_ngcontent-%COMP%]{position:absolute;right:8px;margin-top:5px;font-size:12px}.game-header[_ngcontent-%COMP%] > .logo[_ngcontent-%COMP%]{display:inline-block;padding-left:15px}.game-container[_ngcontent-%COMP%]{width:468px;position:relative;display:block;margin:auto;background-color:#47565a;box-shadow:0 19px 38px #0000004d,0 15px 12px #00000038;border-radius:5px}.row[_ngcontent-%COMP%]{height:26px;margin-left:2vh}.column[_ngcontent-%COMP%]{border:1px solid rgba(97,131,138,.1);width:24px;height:24px;display:inline-block}.start-button[_ngcontent-%COMP%]{padding:15px;text-align:center;background-color:#47565a;color:#fff;border-radius:5px}.start-button[_ngcontent-%COMP%]:hover{opacity:.65;cursor:pointer}.start-button.new-game-button[_ngcontent-%COMP%]{margin:0 105px 4px}.disable-clicks[_ngcontent-%COMP%]{pointer-events:none}.new-game-menu[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;bottom:0;padding:40% 0;text-align:center;background:rgba(0,0,0,.15)}.new-game-menu-label[_ngcontent-%COMP%]{font-size:1.17em;margin-bottom:13px;display:block;color:#fff}.new-best-score[_ngcontent-%COMP%]{animation:glow .5s infinite alternate}@keyframes glow{to{text-shadow:0 0 15px #ffff00}}@media screen and (max-width: 480px){.game-container[_ngcontent-%COMP%]{width:100%}.column[_ngcontent-%COMP%]{width:5.55%;height:0;padding-bottom:5.06%;box-sizing:border-box}.row[_ngcontent-%COMP%]{display:flex;height:0;padding-bottom:5.5%}.new-game-menu[_ngcontent-%COMP%]{width:100%;top:8px;padding-top:30%;font-size:80%}.start-button.new-game-button[_ngcontent-%COMP%]{margin:0 15% 1%}@-moz-document url-prefix(){.column{min-height:5.5vw}}}.score[_ngcontent-%COMP%]{margin-top:.5vh}.main-container[_ngcontent-%COMP%]{background:linear-gradient(to right,#232526,#414345);height:80%;padding-top:5vh;margin-top:-2.5vh;padding-bottom:0!important;margin-bottom:0!important}"]}),n})();var hL=V(5226),JE=V.n(hL),Uu=(()=>(function(n){n[n.Geografia=22]="Geografia",n[n.Art=25]="Art",n[n.Nat=17]="Nat",n[n.Sports=21]="Sports",n[n.History=23]="History",n[n.Entertainment=15]="Entertainment",n[n.Comodin=0]="Comodin"}(Uu||(Uu={})),Uu))();class xN{}class NN{}class sh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),a=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fL{encodeKey(t){return ON(t)}encodeValue(t){return ON(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gL=/%(\d[a-f0-9])/gi,mL={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ON(n){return encodeURIComponent(n).replace(gL,(t,e)=>{var i;return null!==(i=mL[e])&&void 0!==i?i:t})}function kN(n){return`${n}`}class xf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fL,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pL(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],_=e.get(u)||[];_.push(f),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kN(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _L{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function RN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function PN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function FN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class nw{constructor(t,e,i,r){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function yL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new sh),this.context||(this.context=new _L),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new xf,this.urlWithParams=e}serializeBody(){return null===this.body?null:RN(this.body)||PN(this.body)||FN(this.body)||function vL(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FN(this.body)?null:PN(this.body)?this.body.type||null:RN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,a=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,I=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((F,U)=>F.set(U,t.setHeaders[U]),b)),t.setParams&&(I=Object.keys(t.setParams).reduce((F,U)=>F.set(U,t.setParams[U]),I)),new nw(i,r,u,{params:I,headers:b,context:x,reportProgress:_,responseType:a,withCredentials:f})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class YI{constructor(t,e=200,i="OK"){this.headers=t.headers||new sh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class JI extends YI{constructor(t={}){super(t),this.type=Pr.ResponseHeader}clone(t={}){return new JI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class QE extends YI{constructor(t={}){super(t),this.type=Pr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new QE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class LN extends YI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function QI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let XE=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let a;if(e instanceof nw)a=e;else{let _,b;_=r.headers instanceof sh?r.headers:new sh(r.headers),r.params&&(b=r.params instanceof xf?r.params:new xf({fromObject:r.params})),a=new nw(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=yt(a).pipe(mo(_=>this.handler.handle(_)));if(e instanceof nw||"events"===r.observe)return u;const f=u.pipe(Un(_=>_ instanceof QE));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,it.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,it.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new xf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,QI(r,i))}post(e,i,r={}){return this.request("POST",e,QI(r,i))}put(e,i,r={}){return this.request("PUT",e,QI(r,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class BN{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const VN=new c.OlP("HTTP_INTERCEPTORS");let bL=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wL=/^\)\]\}',?\n/;let UN=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((U,q)=>r.setRequestHeader(U,q.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const U=e.detectContentTypeHeader();null!==U&&r.setRequestHeader("Content-Type",U)}if(e.responseType){const U=e.responseType.toLowerCase();r.responseType="json"!==U?U:"text"}const a=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const U=r.statusText||"OK",q=new sh(r.getAllResponseHeaders()),ee=function CL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new JI({headers:q,status:r.status,statusText:U,url:ee}),u},_=()=>{let{headers:U,status:q,statusText:ee,url:De}=f(),je=null;204!==q&&(je=void 0===r.response?r.responseText:r.response),0===q&&(q=je?200:0);let Oe=q>=200&&q<300;if("json"===e.responseType&&"string"==typeof je){const dt=je;je=je.replace(wL,"");try{je=""!==je?JSON.parse(je):null}catch(He){je=dt,Oe&&(Oe=!1,je={error:He,text:je})}}Oe?(i.next(new QE({body:je,headers:U,status:q,statusText:ee,url:De||void 0})),i.complete()):i.error(new LN({error:je,headers:U,status:q,statusText:ee,url:De||void 0}))},b=U=>{const{url:q}=f(),ee=new LN({error:U,status:r.status||0,statusText:r.statusText||"Unknown Error",url:q||void 0});i.error(ee)};let I=!1;const x=U=>{I||(i.next(f()),I=!0);let q={type:Pr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(q.total=U.total),"text"===e.responseType&&!!r.responseText&&(q.partialText=r.responseText),i.next(q)},F=U=>{let q={type:Pr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(q.total=U.total),i.next(q)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",x),null!==a&&r.upload&&r.upload.addEventListener("progress",F)),r.send(a),i.next({type:Pr.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",x),null!==a&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const XI=new c.OlP("XSRF_COOKIE_NAME"),eA=new c.OlP("XSRF_HEADER_NAME");class jN{}let EL=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=so(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(c.Lbi),c.LFG(XI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),tA=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(jN),c.LFG(eA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),DL=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(VN,[]);this.chain=i.reduceRight((r,a)=>new BN(r,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(NN),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),TL=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:tA,useClass:bL}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:XI,useValue:e.cookieName}:[],e.headerName?{provide:eA,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tA,{provide:VN,useExisting:tA,multi:!0},{provide:jN,useClass:EL},{provide:XI,useValue:"XSRF-TOKEN"},{provide:eA,useValue:"X-XSRF-TOKEN"}]}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[XE,{provide:xN,useClass:DL},UN,{provide:NN,useExisting:UN}],imports:[[TL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),IL=(()=>{class n{constructor(e){this.http=e,this.URLPreguntas="https://opentdb.com/api.php?amount=1&difficulty=medium&type=boolean&category="}GetPreguntas(e){let i=this.URLPreguntas;return"0"==e?i=i.replace("&category=",""):i+=e,console.log(i),this.http.get(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(XE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AL=["ruleta"],ML=["audio"];let xL=(()=>{class n{constructor(e){this.service=e,this.jugo=!1,this.respuestasCorrectas=0}girar(){if(!this.jugo){let e=7200*Math.random();this.calcular(e),this.jugo=!0,this.audio.nativeElement.play()}}test(e){let i=e.question.replace("&quot;","'");i=i.replace("&#039;","'"),JE().fire({title:e.category,text:i,icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",cancelButtonColor:"#7066e0",reverseButtons:!1,allowOutsideClick:!1}).then(r=>{r.isConfirmed&&"True"==e.correct_answer||r.dismiss===JE().DismissReason.cancel&&"False"==e.correct_answer?(JE().fire("Correct!",":)","success"),this.respuestasCorrectas++):(JE().fire("Incorrect!",":(","error"),this.respuestasCorrectas>0&&(this.respuestasCorrectas=0)),this.jugo=!1})}getTrivia(e){this.service.GetPreguntas(e.toString()).subscribe(i=>{this.test(i.results[0])})}calcular(e){this.valor=e/360,this.valor=360*(this.valor-parseInt(this.valor.toString().split(".")[0])),console.log(this.valor),this.ruleta.nativeElement.style.transform=`rotate(${e}deg)`,setTimeout(()=>{this.valor>334||this.valor<=26?this.getTrivia(Uu.History):this.valor>26&&this.valor<=78?this.getTrivia(Uu.Nat):this.valor>78&&this.valor<=130?this.getTrivia(Uu.Geografia):this.valor>130&&this.valor<=182?this.getTrivia(Uu.Comodin):this.valor>182&&this.valor<=234?this.getTrivia(Uu.Entertainment):this.valor>234&&this.valor<=286?this.getTrivia(Uu.Art):this.valor>286&&this.valor<=334&&this.getTrivia(Uu.Sports)},5e3)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(IL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-trivia"]],viewQuery:function(e,i){if(1&e&&(c.Gf(AL,5),c.Gf(ML,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.ruleta=r.first),c.iGM(r=c.CRH())&&(i.audio=r.first)}},decls:15,vars:1,consts:[[2,"position","absolute","top","1","right","0"],[1,"container"],[1,"row","text-center"],[1,"col-md-12","mt-5"],[1,"vara"],["src","../../../../assets/imagenes/ruleta.png",1,"img-fluid","cursor"],["ruleta",""],[1,"container","large-font","mt-5"],["type","button",1,"button","button--orange",3,"click"],["src","../../../../assets/audio/sonido_ruleta.mp3"],["audio",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"h2"),c._uU(2),c.qZA()(),c.TgZ(3,"div",1)(4,"div",2)(5,"div",3),c._UZ(6,"div",4)(7,"img",5,6),c.qZA()(),c.TgZ(9,"div",7)(10,"button",8),c.NdJ("click",function(){return i.girar()}),c._uU(11," Play "),c.qZA()()(),c.TgZ(12,"div"),c._UZ(13,"audio",9,10),c.qZA()),2&e&&(c.xp6(2),c.hij("Correct answer: ",i.respuestasCorrectas,""))},styles:[".vara[_ngcontent-%COMP%]{height:70px;width:15px;background-color:#aaa;margin:auto;position:relative;top:10px;border-radius:0 0 8px 8px;border:1px solid #000;border-top:5px solid #000;z-index:1000}img[_ngcontent-%COMP%]{z-index:100;transition:all 5s}#premio[_ngcontent-%COMP%]{color:#fff;position:absolute;font-weight:700;font-size:25px;padding:20px}.cursor[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;margin:10px}.container__text[_ngcontent-%COMP%]{font-size:12px;margin-top:10px}.button[_ngcontent-%COMP%]{border:0;border-radius:.15em .15em .125em .125em;color:#fff;cursor:pointer;font-family:Tahoma;font-weight:700;letter-spacing:.02em;padding:.7em 1em;text-shadow:0 1px 3px rgba(0,0,0,.1);transition:background .1s,padding .1s,margin .1s,box-shadow .1s,color .1s,text-shadow .1s}.button--orange[_ngcontent-%COMP%]{background:#FFB300;box-shadow:inset 0 -.12em #e6a100}.button--orange[_ngcontent-%COMP%]:active{background:#e6a100;box-shadow:inset 0 .05em #cc8f00}.button[_ngcontent-%COMP%]:active{color:#ffffffe6;margin-top:.05em;padding-bottom:.65em;text-shadow:none}.button[_ngcontent-%COMP%]:focus{outline:0}.large-font[_ngcontent-%COMP%]{font-size:36px}"]}),n})();const NL=function(){return["/Trivia"]},OL=function(){return["/HigherOrLower"]},kL=function(){return["/Snake"]};let RL=(()=>{class n{constructor(){this.mensaje="",this.logged=!1}ngOnInit(){}testing(){console.log("ASD")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:55,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-xs-12","col-sm-6","col-md-4"],["ontouchstart","this.classList.toggle('hover');",1,"image-flip"],[1,"mainflip"],[1,"frontside"],[1,"card"],[1,"card-body","text-center","mt-4"],[1,"h1"],["src","../../../assets/imagenes/Preguntados.png",1,"img-fluid"],[1,"backside"],[1,"card-body"],["src","'../../../../../assets/imagenes/playbutton.gif",1,"test",2,"cursor","pointer",3,"routerLink"],["src","../../../assets/imagenes/HigherOrLower.png",1,"img-fluid"],["src","../../../assets/imagenes/snake.gif",1,"img-fluid"],["src","../../../assets/imagenes/HangMan.png",1,"img-fluid"],["src","'../../../../../assets/imagenes/playbutton.gif",1,"test",2,"cursor","pointer"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),c._uU(9,"Preguntados"),c.qZA(),c._UZ(10,"img",9),c.qZA()()(),c.TgZ(11,"div",10)(12,"div",6)(13,"div",11),c._UZ(14,"img",12),c.qZA()()()()()(),c.TgZ(15,"div",2)(16,"div",3)(17,"div",4)(18,"div",5)(19,"div",6)(20,"div",7)(21,"h1",8),c._uU(22,"H or L"),c.qZA(),c._UZ(23,"img",13),c.qZA()()(),c.TgZ(24,"div",10)(25,"div",6)(26,"div",11),c._UZ(27,"img",12),c.qZA()()()()()(),c.TgZ(28,"div",2)(29,"div",3)(30,"div",4)(31,"div",5)(32,"div",6)(33,"div",7)(34,"h1",8),c._uU(35,"Snake Game"),c.qZA(),c._UZ(36,"img",14),c.qZA()()(),c.TgZ(37,"div",10)(38,"div",6)(39,"div",11),c._UZ(40,"img",12),c.qZA()()()()()(),c._UZ(41,"div",2),c.TgZ(42,"div",2)(43,"div",3)(44,"div",4)(45,"div",5)(46,"div",6)(47,"div",7)(48,"h1",8),c._uU(49,"HangMan"),c.qZA(),c._UZ(50,"img",15),c.qZA()()(),c.TgZ(51,"div",10)(52,"div",6)(53,"div",11),c._UZ(54,"img",16),c.qZA()()()()()()()()),2&e&&(c.xp6(14),c.Q6J("routerLink",c.DdM(3,NL)),c.xp6(13),c.Q6J("routerLink",c.DdM(4,OL)),c.xp6(13),c.Q6J("routerLink",c.DdM(5,kL)))},directives:[vp],styles:[".image-flip[_ngcontent-%COMP%]:hover   .backside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .backside[_ngcontent-%COMP%]{transform:rotateY(0);border-radius:.25rem}.image-flip[_ngcontent-%COMP%]:hover   .frontside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .frontside[_ngcontent-%COMP%]{transform:rotateY(180deg)}.mainflip[_ngcontent-%COMP%]{-webkit-transition:1s;-webkit-transform-style:preserve-3d;-ms-transition:1s;-moz-transition:1s;-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d;position:relative}.backside[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:transparent;transform:rotateY(-180deg)}.frontside[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transition:1s;-webkit-transform-style:preserve-3d;-moz-transition:1s;-moz-transform-style:preserve-3d;-o-transition:1s;-o-transform-style:preserve-3d;-ms-transition:1s;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-height:312px;background-color:transparent}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:10%}.test[_ngcontent-%COMP%]{width:80%;align-self:center;margin-top:12vh}.card[_ngcontent-%COMP%]{border:0}"]}),n})();function HN(...n){const t=(0,Bn.jO)(n),{args:e,keys:i}=at(n),r=new E.y(a=>{const{length:u}=e;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let I=0;I<u;I++){let x=!1;(0,zr.Xf)(e[I]).subscribe((0,Nn.x)(a,F=>{x||(x=!0,b--),f[I]=F},()=>_--,void 0,()=>{(!_||!x)&&(b||a.next(i?wa(i,f):f),a.complete())}))}});return t?r.pipe(Zu(t)):r}let GN=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Gg=(()=>{class n extends GN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ol=new c.OlP("NgValueAccessor"),FL={provide:Ol,useExisting:(0,c.Gpc)(()=>iw),multi:!0},BL=new c.OlP("CompositionEventMode");let iw=(()=>{class n extends GN{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LL(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(BL,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([FL]),c.qOj]}),n})();function Nf(n){return null==n||0===n.length}function zN(n){return null!=n&&"number"==typeof n.length}const no=new c.OlP("NgValidators"),Of=new c.OlP("NgAsyncValidators"),VL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oh{static min(t){return function qN(n){return t=>{if(Nf(t.value)||Nf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function WN(n){return t=>{if(Nf(t.value)||Nf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return ZN(t)}static requiredTrue(t){return function KN(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function YN(n){return Nf(n.value)||VL.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function JN(n){return t=>Nf(t.value)||!zN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function QN(n){return t=>zN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function XN(n){if(!n)return eD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return sO(t)}static composeAsync(t){return oO(t)}}function ZN(n){return Nf(n.value)?{required:!0}:null}function eD(n){return null}function eO(n){return null!=n}function tO(n){const t=(0,c.QGY)(n)?(0,Xn.D)(n):n;return(0,c.CqO)(t),t}function nO(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function iO(n,t){return t.map(e=>e(n))}function rO(n){return n.map(t=>function UL(n){return!n.validate}(t)?t:e=>t.validate(e))}function sO(n){if(!n)return null;const t=n.filter(eO);return 0==t.length?null:function(e){return nO(iO(e,t))}}function nA(n){return null!=n?sO(rO(n)):null}function oO(n){if(!n)return null;const t=n.filter(eO);return 0==t.length?null:function(e){return HN(iO(e,t).map(tO)).pipe((0,it.U)(nO))}}function iA(n){return null!=n?oO(rO(n)):null}function aO(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lO(n){return n._rawValidators}function cO(n){return n._rawAsyncValidators}function rA(n){return n?Array.isArray(n)?n:[n]:[]}function tD(n,t){return Array.isArray(n)?n.includes(t):n===t}function uO(n,t){const e=rA(t);return rA(n).forEach(r=>{tD(e,r)||e.push(r)}),e}function dO(n,t){return rA(t).filter(e=>!tD(n,e))}class hO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=iA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kf extends hO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class No extends hO{get formDirective(){return null}get path(){return null}}class fO{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let sA=(()=>{class n extends fO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(kf,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),oA=(()=>{class n extends fO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(No,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function rw(n,t){cA(n,t),t.valueAccessor.writeValue(n.value),function ZL(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gO(n,t)})}(n,t),function YL(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function KL(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gO(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function WL(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function rD(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),oD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cA(n,t){const e=lO(n);null!==t.validator?n.setValidators(aO(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=cO(n);null!==t.asyncValidator?n.setAsyncValidators(aO(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sD(t._rawValidators,r),sD(t._rawAsyncValidators,r)}function oD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=lO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=cO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return sD(t._rawValidators,i),sD(t._rawAsyncValidators,i),e}function gO(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const sw="VALID",aD="INVALID",Cy="PENDING",ow="DISABLED";function pA(n){return(lD(n)?n.validators:n)||null}function vO(n){return Array.isArray(n)?nA(n):n||null}function gA(n,t){return(lD(t)?t.asyncValidators:n)||null}function bO(n){return Array.isArray(n)?iA(n):n||null}function lD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const mA=n=>n instanceof yA,cD=n=>n instanceof uD,wO=n=>n instanceof TO;function CO(n){return mA(n)?n.value:n.getRawValue()}function EO(n,t){const e=cD(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function DO(n,t){cD(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class _A{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=vO(this._rawValidators),this._composedAsyncValidatorFn=bO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sw}get invalid(){return this.status===aD}get pending(){return this.status==Cy}get disabled(){return this.status===ow}get enabled(){return this.status!==ow}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=vO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bO(t)}addValidators(t){this.setValidators(uO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dO(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dO(t,this._rawAsyncValidators))}hasValidator(t){return tD(this._rawValidators,t)}hasAsyncValidator(t){return tD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ow,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sw||this.status===Cy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ow:sw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cy,this._hasOwnPendingAsyncValidator=!0;const e=tO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function eB(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=cD(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:wO(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ow:this.errors?aD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cy)?Cy:this._anyControlsHaveStatus(aD)?aD:sw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yA extends _A{constructor(t=null,e,i){super(pA(e),gA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lD(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class uD extends _A{constructor(t,e,i){super(pA(e),gA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){DO(this,t),Object.keys(t).forEach(i=>{EO(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=CO(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class TO extends _A{constructor(t,e,i){super(pA(e),gA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){DO(this,t),t.forEach((i,r)=>{EO(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>CO(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let bA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const wA=new c.OlP("NgModelWithFormControlWarning"),cB={provide:No,useExisting:(0,c.Gpc)(()=>lw)};let lw=(()=>{class n extends No{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return rw(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){rD(e.control||null,e,!1),hA(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function yO(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(rD(i||null,e),mA(r)&&(rw(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function mO(n,t){cA(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function JL(n,t){return oD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cA(this.form,this),this._oldForm&&oD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(no,10),c.Y36(Of,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([cB]),c.qOj,c.TTD]}),n})();const hB={provide:kf,useExisting:(0,c.Gpc)(()=>dD)};let dD=(()=>{class n extends kf{constructor(e,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function dA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===iw?e=a:function XL(n){return Object.getPrototypeOf(n.constructor)===Gg}(a)?i=a:r=a}),r||i||e||null}(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function uA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function iD(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(No,13),c.Y36(no,10),c.Y36(Of,10),c.Y36(Ol,10),c.Y36(wA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([hB]),c.qOj,c.TTD]}),n})(),$g=(()=>{class n{constructor(){this._validator=eD}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):eD,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const CB={provide:no,useExisting:(0,c.Gpc)(()=>hD),multi:!0};let hD=(()=>{class n extends $g{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function vB(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>ZN}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([CB]),c.qOj]}),n})(),WO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[NO]]}),n})(),ZO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[WO]}),n})(),KO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wA,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[WO]}),n})(),YO=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let f,a=null,u=null;return null!=i&&(function AB(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new uD(r,{asyncValidators:u,updateOn:f,validators:a})}control(e,i,r){return new yA(e,i,r)}array(e,i,r){const a=e.map(u=>this._createControl(u));return new TO(a,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return mA(e)||cD(e)||wO(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:KO}),n})();function MB(n,t){1&n&&c._UZ(0,"div",15)}const JO=function(n,t){return{"is-invalid":n,"is-valid":t}};let xB=(()=>{class n{constructor(e,i,r){this.router=e,this.formBuilder=i,this.auth=r,this.cargando=!1,this.hide=!1,this.usuario="",this.error=!1,this.errorMsj=new Sn(""),this.loginForm=this.formBuilder.group({username:["",[oh.required,oh.email]],password:["",[oh.required,oh.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.username,this.loginForm.value.password).then(e=>{e&&(this.auth.user=e.user,this.auth.username.next(e.user.displayName),this.auth.loggedIn.next(!0),this.router.navigate([""]),this.cargando=!1)}).catch(e=>{this.errorMsj.next(e.message),this.error=!0,this.cargando=!1,console.info("ERROR ->",e)})}getErrorMessage(e){let i="";return this.f[e].hasError("required")?i="Empty.":this.f[e].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[e].hasError("email")&&(i="Not valid email."),i}isNotValidField(e){return(this.f[e].touched||this.f[e].dirty)&&!this.f[e].valid}completarLogin(){this.loginForm.setValue({username:"usuario@gmail.com",password:"123456"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Or),c.Y36(YO),c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:16,consts:[[1,"card-front"],[1,"center-wrap"],[1,"section","text-center"],[1,"mb-4","pb-3"],["autocomplete","disabled",3,"formGroup"],[1,"form-group"],["formControlName","username","placeholder","Your email","type","text","id","validationSuccess","required","","autocomplete","disabled",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback",2,"font-size","small"],[1,"form-group","mt-2"],["formControlName","password","type","password","name","logpass","placeholder","Your Password","id","logpass","autocomplete","disabled",1,"form-control","form-style",3,"ngClass"],["class","is-invalid mt-4",4,"ngIf"],[1,"invalid-feedback",2,"font-size","medium"],[1,"btn","mt-4",3,"disabled","click"],[1,"mb-0","mt-4","text-center"],[1,"link",3,"click"],[1,"is-invalid","mt-4"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),c._uU(4,"Log In"),c.qZA(),c.TgZ(5,"form",4)(6,"div",5),c._UZ(7,"input",6),c.TgZ(8,"div",7),c._uU(9),c.qZA()(),c.TgZ(10,"div",8),c._UZ(11,"input",9),c.TgZ(12,"div",7),c._uU(13),c.qZA()(),c.YNc(14,MB,1,0,"div",10),c.TgZ(15,"div",11),c._uU(16),c.ALo(17,"async"),c.qZA(),c.TgZ(18,"button",12),c.NdJ("click",function(){return i.onLogin()}),c._uU(19,"Sign In"),c.qZA(),c.TgZ(20,"p",13)(21,"a",14),c.NdJ("click",function(){return i.completarLogin()}),c._uU(22,"Autocomplete"),c.qZA()()()()()()),2&e&&(c.xp6(5),c.Q6J("formGroup",i.loginForm),c.xp6(2),c.Q6J("ngClass",c.WLB(10,JO,i.isNotValidField("username"),!i.isNotValidField("username")&&i.f.username.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("username")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(13,JO,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("password")," "),c.xp6(1),c.Q6J("ngIf",i.error),c.xp6(2),c.hij(" ",c.lcZ(17,8,i.errorMsj)," "),c.xp6(2),c.Q6J("disabled",i.loginForm.invalid))},directives:[bA,oA,lw,iw,sA,dD,hD,Jr,Qn],pipes:[Ka],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})();const SA=function(n,t){return{"is-invalid":n,"is-valid":t}};let NB=(()=>{class n{constructor(e,i,r){this.router=e,this.formBuilder=i,this.auth=r,this.cargando=!1,this.hide=!0,this.mensaje="",this.error=!1,this.errorMsj="",this.regisForm=this.formBuilder.group({email:["",[oh.required,oh.email]],username:["",oh.required],password:["",[oh.required,oh.minLength(6)]]})}ngOnInit(){}get f(){return this.regisForm.controls}onRegistrar(){this.error=!1,this.cargando=!0,this.auth.register(this.regisForm.value.email,this.regisForm.value.password).then(e=>{e&&e.user.updateProfile({displayName:this.regisForm.value.username}).then(()=>{this.auth.user=e.user,this.auth.loggedIn.next(!0),localStorage.setItem("nickname",this.auth.user.displayName),this.router.navigate([""]),this.cargando=!1})}).catch(e=>{this.errorMsj=e.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",e)})}getErrorMessage(e){let i="";return this.f[e].hasError("required")?i="Empty.":this.f[e].hasError("minlength")?i="M\xednimo de car\xe1cteres 6":this.f[e].hasError("email")&&(i="Not valid email."),i}isNotValidField(e){return(this.f[e].touched||1==this.f[e].dirty)&&!this.f[e].valid}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Or),c.Y36(YO),c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:17,consts:[[1,"center-wrap"],[1,"section","text-center"],[1,"mb-4","pb-3"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","username","name","logname","placeholder","Your Full Name","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback",2,"font-size","small"],[1,"form-group","mt-2"],["type","email","formControlName","email","name","logemail","placeholder","Your Email","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"input-icon","uil","uil-at"],["type","password","formControlName","password","name","logpass","placeholder","Your Password","autocomplete","off",1,"form-control","form-style",3,"ngClass"],[1,"input-icon","uil","uil-lock-alt"],["type","button",1,"btn","mt-4",3,"disabled","click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),c._uU(3,"Sign Up"),c.qZA(),c.TgZ(4,"form",3)(5,"div",4),c._UZ(6,"input",5),c.TgZ(7,"div",6),c._uU(8),c.qZA()(),c.TgZ(9,"div",7),c._UZ(10,"input",8)(11,"i",9),c.TgZ(12,"div",6),c._uU(13),c.qZA()(),c.TgZ(14,"div",7),c._UZ(15,"input",10)(16,"i",11),c.TgZ(17,"div",6),c._uU(18),c.qZA()(),c.TgZ(19,"button",12),c.NdJ("click",function(){return i.onRegistrar()}),c._uU(20,"Sign Up"),c.qZA()()()()),2&e&&(c.xp6(4),c.Q6J("formGroup",i.regisForm),c.xp6(2),c.Q6J("ngClass",c.WLB(8,SA,i.isNotValidField("username"),!i.isNotValidField("username")&&i.f.username.touched)),c.xp6(2),c.hij(" ",i.getErrorMessage("username")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(11,SA,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),c.xp6(3),c.hij(" ",i.getErrorMessage("email")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(14,SA,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),c.xp6(3),c.hij(" ",i.getErrorMessage("password")," "),c.xp6(1),c.Q6J("disabled",i.regisForm.invalid))},directives:[bA,oA,lw,iw,sA,dD,Jr],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})(),OB=(()=>{class n{constructor(){this.click=!1}ngOnInit(){}onClick(){this.click=!this.click}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login-register"]],decls:18,vars:0,consts:[[1,"centrar"],[1,"section"],[1,"container"],[1,"row","full-height","justify-content-center"],[1,"col-12","text-center","align-self-center","py-5"],[1,"section","pb-5","pt-5","pt-sm-2","text-center"],[1,"mb-0","pb-3"],["type","checkbox","id","reg-log","name","reg-log",1,"checkbox"],["for","reg-log"],[1,"card-3d-wrap","mx-auto"],[1,"card-3d-wrapper"],[1,"card-back"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6)(7,"span"),c._uU(8,"Log In "),c.qZA(),c.TgZ(9,"span"),c._uU(10,"Sign Up"),c.qZA()(),c._UZ(11,"input",7)(12,"label",8),c.TgZ(13,"div",9)(14,"div",10),c._UZ(15,"app-login"),c.TgZ(16,"div",11),c._UZ(17,"app-register"),c.qZA()()()()()()()()())},directives:[xB,NB],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900";body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:300;font-size:15px;line-height:1.7;color:#c4c3ca;background-color:#1f2029;overflow-x:hidden}a[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s linear}a[_ngcontent-%COMP%]:hover{text-decoration:none}.link[_ngcontent-%COMP%]{color:#c4c3ca}.link[_ngcontent-%COMP%]:hover{color:#ffeba7}p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:1.7}h4[_ngcontent-%COMP%]{font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-weight:700}.section[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.full-height[_ngcontent-%COMP%]{min-height:100vh}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;display:block;text-align:center;width:60px;height:16px;border-radius:8px;padding:0;margin:10px auto;cursor:pointer;background-color:#ffeba7}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, .checkbox[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{position:absolute;display:block;width:36px;height:36px;border-radius:50%;color:#ffeba7;background-color:#102770;font-family:unicons;content:"\\eb4f";z-index:20;top:-10px;left:-10px;line-height:36px;text-align:center;font-size:24px;transition:all .5s ease}.checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{transform:translate(44px) rotate(-270deg)}.card-3d-wrap[_ngcontent-%COMP%]{position:relative;width:440px;max-width:100%;height:400px;transform-style:preserve-3d;perspective:800px;margin-top:60px}.card-3d-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:all .6s ease-out}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#2a2b38;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-position:bottom center;background-repeat:no-repeat;background-size:300%;position:absolute;border-radius:6px;left:0;top:0;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.checkbox[_ngcontent-%COMP%]:checked ~ .card-3d-wrap[_ngcontent-%COMP%]   .card-3d-wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.center-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;padding:0 35px;top:50%;left:0;transform:translate3d(0,-50%,35px) perspective(100px);z-index:20;display:block}.form-group[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:0}.form-style[_ngcontent-%COMP%]{padding:13px 20px 13px 55px;height:48px;width:100%;font-weight:500;border-radius:4px;font-size:14px;line-height:22px;letter-spacing:.5px;outline:none;color:#c4c3ca;background-color:#1f2029;border:none;transition:all .2s linear;box-shadow:0 4px 8px #15151533}.form-style[_ngcontent-%COMP%]:focus, .form-style[_ngcontent-%COMP%]:active{border:none;outline:none;box-shadow:0 4px 8px #15151533}.input-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:18px;height:48px;font-size:24px;line-height:48px;text-align:left;color:#ffeba7;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c4c3ca;opacity:.7;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#c4c3ca;opacity:.7;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c3ca;opacity:.7;-webkit-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0;-ms-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:-moz-placeholder{opacity:0;-moz-transition:all .2s linear;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0;-webkit-transition:all .2s linear;transition:all .2s linear}.btn[_ngcontent-%COMP%]{border-radius:4px;height:44px;font-size:13px;font-weight:600;text-transform:uppercase;transition:all .2s linear;padding:0 30px;letter-spacing:1px;display:inline-flex;-moz-align-items:center;-ms-align-items:center;align-items:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;-ms-flex-pack:center;text-align:center;border:none;background-color:#ffeba7;color:#102770;box-shadow:0 8px 24px #ffeba733}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.btn[_ngcontent-%COMP%]:hover{background-color:#102770;color:#ffeba7;box-shadow:0 8px 24px #10277033}.logo[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;display:block;z-index:100;transition:all .25s linear}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;width:auto;display:block}']}),n})(),fD=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoggedIn$=this.authService.isLoggedIn}canActivate(e,i){return this.isLoggedIn$.subscribe(r=>{r||this.router.navigateByUrl("Login")}),!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(tw),c.LFG(Or))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kB=[{path:"",component:RL,canActivate:[fD]},{path:"Login",component:OB},{path:"Snake",component:dL,canActivate:[fD]},{path:"HigherOrLower",component:uT,canActivate:[fD]},{path:"Trivia",component:xL},{path:"HangMan",component:jw},{path:"AboutMe",component:cT,canActivate:[fD]}];let RB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bp.forRoot(kB)],bp]}),n})();function Lc(n){return null!=n&&"false"!=`${n}`}function QO(n,t=0){return function PB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ey(n){return n instanceof c.SBq?n.nativeElement:n}var FB=V(1144);const LB=["addListener","removeListener"],BB=["addEventListener","removeEventListener"],VB=["on","off"];function ls(n,t,e,i){if((0,es.m)(e)&&(i=e,e=void 0),i)return ls(n,t,e).pipe(Zu(i));const[r,a]=function HB(n){return(0,es.m)(n.addEventListener)&&(0,es.m)(n.removeEventListener)}(n)?BB.map(u=>f=>n[u](t,f,e)):function UB(n){return(0,es.m)(n.addListener)&&(0,es.m)(n.removeListener)}(n)?LB.map(XO(n,t)):function jB(n){return(0,es.m)(n.on)&&(0,es.m)(n.off)}(n)?VB.map(XO(n,t)):[];if(!r&&(0,FB.z)(n))return(0,Jn.z)(u=>ls(u,t,e))((0,zr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new E.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function XO(n,t){return e=>i=>n[e](t,i)}var ek=V(4408);const cw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Ca.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=cw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var tk=V(7565);new class $B extends tk.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class GB extends ek.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(cw.cancelAnimationFrame(e),t._scheduled=void 0)}});let IA,qB=1;const pD={};function nk(n){return n in pD&&(delete pD[n],!0)}const WB={setImmediate(n){const t=qB++;return pD[t]=!0,IA||(IA=Promise.resolve()),IA.then(()=>nk(t)&&n()),t},clearImmediate(n){nk(n)}},{setImmediate:ZB,clearImmediate:KB}=WB,gD={setImmediate(...n){const{delegate:t}=gD;return((null==t?void 0:t.setImmediate)||ZB)(...n)},clearImmediate(n){const{delegate:t}=gD;return((null==t?void 0:t.clearImmediate)||KB)(n)},delegate:void 0};new class JB extends tk.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class YB extends ek.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(gD.clearImmediate(e),t._scheduled=void 0)}});var eV=V(3532);function mD(n=0,t,e=Bh.P){let i=-1;return null!=t&&((0,eV.K)(t)?e=t:i=t),new E.y(r=>{let a=function tV(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function ik(n,t=Bh.z){return function XB(n){return(0,Ci.e)((t,e)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{a=null,u&&e.complete()};t.subscribe((0,Nn.x)(e,b=>{i=!0,r=b,a||(0,zr.Xf)(n(b)).subscribe(a=(0,Nn.x)(e,f,_))},()=>{u=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>mD(n,t))}var _D=V(5032);function jn(n){return(0,Ci.e)((t,e)=>{(0,zr.Xf)(n).subscribe((0,Nn.x)(e,()=>e.complete(),_D.Z)),!e.closed&&t.subscribe(e)})}let AA;try{AA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){AA=!1}let uw,vD,zg,MA,Rf=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ji(n){return n===Vs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yD(n){return function nV(){if(null==uw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uw=!0}))}finally{uw=uw||!1}return uw}()?n:!!n.capture}function dw(){if("object"!=typeof document||!document)return 0;if(null==vD){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),vD=0,0===n.scrollLeft&&(n.scrollLeft=1,vD=0===n.scrollLeft?1:2),n.remove()}return vD}function hw(n){return n.composedPath?n.composedPath()[0]:n.target}const aV=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function lV(){return(0,c.f3M)(le)}}),cV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sk=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function uV(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?cV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(aV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),xA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new qt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new E.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(ik(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Un(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ey(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ls(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Rf),c.LFG(le,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fw=(()=>{class n{constructor(e,i,r,a){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new qt.x,this._elementScrolled=new E.y(u=>this.ngZone.runOutsideAngular(()=>ls(this.elementRef.nativeElement,"scroll").pipe(jn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=dw()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==dw()?e.left=e.right:1==dw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function iV(){if(null==zg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zg=!1,zg;if("scrollBehavior"in document.documentElement.style)zg=!0;else{const n=Element.prototype.scrollTo;zg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zg}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==dw()?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==dw()?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(xA),c.Y36(c.R0b),c.Y36(sk,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fV=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new qt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ik(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rf),c.LFG(c.R0b),c.LFG(le,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ak=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let hk=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function DV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function EV(n){try{return n.frameElement}catch(t){return null}}(function OV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===pk(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),a=pk(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function xV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function NV(n){return!function SV(n){return function AV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function TV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function IV(n){return function MV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fk(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function pk(n){if(!fk(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class kV{constructor(t,e,i,r,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,ti.q)(1)).subscribe(t)}}let RV=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new kV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hk),c.LFG(c.R0b),c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function mk(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const PV=new c.OlP("cdk-input-modality-detector-options"),FV={ignoreKeys:[18,17,224,91,16]},Ty=yD({passive:!0,capture:!0});let LV=(()=>{class n{constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Sn(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=hw(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gk(u)?"keyboard":"mouse"),this._mostRecentTarget=hw(u))},this._onTouchstart=u=>{mk(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hw(u))},this._options=Object.assign(Object.assign({},FV),a),this.modalityDetected=this._modality.pipe(function ck(n){return Un((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Vh()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ty),r.addEventListener("mousedown",this._onMousedown,Ty),r.addEventListener("touchstart",this._onTouchstart,Ty)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ty),document.removeEventListener("mousedown",this._onMousedown,Ty),document.removeEventListener("touchstart",this._onTouchstart,Ty))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rf),c.LFG(c.R0b),c.LFG(le),c.LFG(PV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VV=new c.OlP("cdk-focus-monitor-default-options"),bD=yD({passive:!0,capture:!0});let yk=(()=>{class n{constructor(e,i,r,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qt.x,this._rootNodeFocusAndBlurListener=f=>{const _=hw(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)b.call(this,f,I)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Ey(e);if(!this._platform.isBrowser||1!==r.nodeType)return yt(null);const a=function sV(n){if(function rV(){if(null==MA){const n="undefined"!=typeof document?document.head:null;MA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return MA}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new qt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Ey(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=Ey(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=hw(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,bD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,bD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(jn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Rf),c.LFG(LV),c.LFG(le,8),c.LFG(VV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vk="cdk-high-contrast-black-on-white",bk="cdk-high-contrast-white-on-black",NA="cdk-high-contrast-active";let UV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(NA),e.remove(vk),e.remove(bk),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(NA),e.add(vk)):2===i&&(e.add(NA),e.add(bk))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rf),c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wk{}const ah="*";function Ck(n,t){return{type:7,name:n,definitions:t,options:{}}}function OA(n,t=null){return{type:4,styles:t,timings:n}}function Ek(n,t=null){return{type:2,steps:n,options:t}}function Sy(n){return{type:6,styles:n,offset:null}}function kA(n,t,e){return{type:0,name:n,styles:t,options:e}}function RA(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Dk(n){Promise.resolve(null).then(n)}class pw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Dk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Tk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?Dk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Tn=!1;function Sk(n){return new c.vHH(3e3,Tn)}function wU(){return"undefined"!=typeof window&&void 0!==window.document}function FA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pf(n){switch(n.length){case 0:return new pw;case 1:return n[0];default:return new Tk(n)}}function Ik(n,t,e,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(I=>{const x=I.offset,F=x==_,U=F&&b||{};Object.keys(I).forEach(q=>{let ee=q,De=I[q];if("offset"!==q)switch(ee=t.normalizePropertyName(ee,u),De){case"!":De=r[q];break;case ah:De=a[q];break;default:De=t.normalizeStyleValue(q,ee,De,u)}U[ee]=De}),F||f.push(U),b=U,_=x}),u.length)throw function uU(n){return new c.vHH(3502,Tn)}();return f}function LA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&BA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&BA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&BA(e,"destroy",n)))}}function BA(n,t,e){const i=e.totalTime,a=VA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function VA(n,t,e,i,r="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function $a(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Ak(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let UA=(n,t)=>!1,Mk=(n,t,e)=>[],xk=null;function jA(n){const t=n.parentNode||n.host;return t===xk?null:t}(FA()||"undefined"!=typeof Element)&&(wU()?(xk=(()=>document.documentElement)(),UA=(n,t)=>{for(;t;){if(t===n)return!0;t=jA(t)}return!1}):UA=(n,t)=>n.contains(t),Mk=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let qg=null,Nk=!1;function Ok(n){qg||(qg=function EU(){return"undefined"!=typeof document?document.body:null}()||{},Nk=!!qg.style&&"WebkitAppearance"in qg.style);let t=!0;return qg.style&&!function CU(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in qg.style,!t&&Nk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in qg.style)),t}const kk=UA,Rk=Mk;let Pk=(()=>{class n{validateStyleProperty(e){return Ok(e)}matchesElement(e,i){return!1}containsElement(e,i){return kk(e,i)}getParentElement(e){return jA(e)}query(e,i,r){return Rk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,u,f=[],_){return new pw(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),HA=(()=>{class n{}return n.NOOP=new Pk,n})();const GA="ng-enter",CD="ng-leave",ED="ng-trigger",DD=".ng-trigger",Lk="ng-animating",$A=".ng-animating";function Wg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zA(parseFloat(t[1]),t[2])}function zA(n,t){return"s"===t?1e3*n:n}function TD(n,t,e){return n.hasOwnProperty("duration")?n:function SU(n,t,e){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(Sk()),{duration:0,delay:0,easing:""};r=zA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=zA(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function HV(){return new c.vHH(3100,Tn)}()),f=!0),a<0&&(t.push(function GV(){return new c.vHH(3101,Tn)}()),f=!0),f&&t.splice(_,0,Sk())}return{duration:r,delay:a,easing:u}}(n,t,e)}function Iy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ff(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Iy(n,e);return e}function Vk(n,t,e){return e?t+":"+e+";":""}function Uk(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Vk(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Vk(0,MU(e),n.style[e]));n.setAttribute("style",t)}function ju(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=WA(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),FA()&&Uk(n))}function Zg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=WA(e);n.style[i]=""}),FA()&&Uk(n))}function gw(n){return Array.isArray(n)?1==n.length?n[0]:Ek(n):n}const qA=new RegExp("{{\\s*(.+?)\\s*}}","g");function jk(n){let t=[];if("string"==typeof n){let e;for(;e=qA.exec(n);)t.push(e[1]);qA.lastIndex=0}return t}function SD(n,t,e){const i=n.toString(),r=i.replace(qA,(a,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(function zV(n){return new c.vHH(3003,Tn)}()),f=""),f.toString()});return r==i?n:r}function ID(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const AU=/-+([a-z0-9])/g;function WA(n){return n.replace(AU,(...t)=>t[1].toUpperCase())}function MU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function za(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function qV(n){return new c.vHH(3004,Tn)}()}}function Hk(n,t){return window.getComputedStyle(n)[t]}function PU(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function FU(n,t,e){if(":"==n[0]){const _=function LU(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function oU(n){return new c.vHH(3016,Tn)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function sU(n){return new c.vHH(3015,Tn)}()),t;const r=i[1],a=i[2],u=i[3];t.push(Gk(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&t.push(Gk(u,r))}(i,e,t)):e.push(n),e}const ND=new Set(["true","1"]),OD=new Set(["false","0"]);function Gk(n,t){const e=ND.has(n)||OD.has(n),i=ND.has(t)||OD.has(t);return(r,a)=>{let u="*"==n||n==r,f="*"==t||t==a;return!u&&e&&"boolean"==typeof r&&(u=r?ND.has(n):OD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?ND.has(t):OD.has(t)),u&&f}}const BU=new RegExp("s*:selfs*,?","g");function ZA(n,t,e,i){return new VU(n).build(t,e,i)}class VU{constructor(t){this._driver=t}build(t,e,i){const r=new HU(e);this._resetContextStyleTimingState(r);const a=za(this,gw(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function ZV(){return new c.vHH(3006,Tn)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,e))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function KV(){return new c.vHH(3007,Tn)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(kD(f)){const _=f;Object.keys(_).forEach(b=>{jk(_[b]).forEach(I=>{u.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(ID(a.values()),e.errors.push(function YV(n,t){return new c.vHH(3008,Tn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=za(this,gw(t.animation),e);return{type:1,matchers:PU(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Kg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>za(this,i,e)),options:Kg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(u=>{e.currentTime=i;const f=za(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:a,options:Kg(t.options)}}visitAnimate(t,e){const i=function $U(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return KA(TD(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=KA(0,0,"");return a.dynamic=!0,a.strValue=i,a}return e=e||TD(i,t),KA(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:Sy({});if(5==a.type)r=this.visitKeyframes(a,e);else{let u=t.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=Sy(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==ah?i.push(u):e.errors.push(function JV(n){return new c.vHH(3002,Tn)}()):i.push(u)}):i.push(t.styles);let r=!1,a=null;return i.forEach(u=>{if(kD(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],b=_[f];let I=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(e.errors.push(function QV(n,t,e,i,r){return new c.vHH(3010,Tn)}()),I=!1),a=b.startTime),I&&(_[f]={startTime:a,endTime:r}),e.options&&function IU(n,t,e){const i=t.params||{},r=jk(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function $V(n){return new c.vHH(3001,Tn)}())})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function XV(){return new c.vHH(3011,Tn)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const I=t.steps.map(je=>{const Oe=this._makeStyleAst(je,e);let dt=null!=Oe.offset?Oe.offset:function GU(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(kD(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(kD(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Oe.styles),He=0;return null!=dt&&(a++,He=Oe.offset=dt),_=_||He<0||He>1,f=f||He<b,b=He,u.push(He),Oe});_&&e.errors.push(function eU(){return new c.vHH(3012,Tn)}()),f&&e.errors.push(function tU(){return new c.vHH(3200,Tn)}());const x=t.steps.length;let F=0;a>0&&a<x?e.errors.push(function nU(){return new c.vHH(3202,Tn)}()):0==a&&(F=1/(x-1));const U=x-1,q=e.currentTime,ee=e.currentAnimateTimings,De=ee.duration;return I.forEach((je,Oe)=>{const dt=F>0?Oe==U?1:F*Oe:u[Oe],He=dt*De;e.currentTime=q+ee.delay+He,ee.duration=He,this._validateStyleAst(je,e),je.offset=dt,i.styles.push(je)}),i}visitReference(t,e){return{type:8,animation:za(this,gw(t.animation),e),options:Kg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Kg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Kg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function UU(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(BU,"")),n=n.replace(/@\*/g,DD).replace(/@\w+/g,e=>DD+"-"+e.substr(1)).replace(/:animating/g,$A),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,$a(e.collectedStyles,e.currentQuerySelector,{});const f=za(this,gw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:Kg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function iU(){return new c.vHH(3013,Tn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:TD(t.timings,e.errors,!0);return{type:12,animation:za(this,gw(t.animation),e),timings:i,options:null}}}class HU{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kD(n){return!Array.isArray(n)&&"object"==typeof n}function Kg(n){return n?(n=Iy(n)).params&&(n.params=function jU(n){return n?Iy(n):null}(n.params)):n={},n}function KA(n,t,e){return{duration:n,delay:t,easing:e}}function YA(n,t,e,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class RD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const WU=new RegExp(":enter","g"),KU=new RegExp(":leave","g");function JA(n,t,e,i,r,a={},u={},f,_,b=[]){return(new YU).buildKeyframes(n,t,e,i,r,a,u,f,_,b)}class YU{buildKeyframes(t,e,i,r,a,u,f,_,b,I=[]){b=b||new RD;const x=new QA(t,e,b,r,a,I,[]);x.options=_,x.currentTimeline.setStyles([u],null,x.errors,_),za(this,i,x);const F=x.timelines.filter(U=>U.containsAnimation());if(Object.keys(f).length){let U;for(let q=F.length-1;q>=0;q--){const ee=F[q];if(ee.element===e){U=ee;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,x.errors,_)}return F.length?F.map(U=>U.buildKeyframes()):[YA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?Wg(i.duration):null,f=null!=i.delay?Wg(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),za(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=PD);const u=Wg(a.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>za(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Wg(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),za(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return TD(e.params?SD(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?Wg(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=PD);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{e.currentQueryIndex=I;const x=e.createSubContext(t.options,b);a&&x.delayNextStep(a),b===e.element&&(_=x.currentTimeline),za(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),f=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=e.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;za(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const PD={};class QA{constructor(t,e,i,r,a,u,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new FD(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Wg(i.duration)),null!=i.delay&&(r.delay=Wg(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=SD(a[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new QA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=PD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},a=new JU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(WU,"."+this._enterClassName)).replace(KU,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function rU(n){return new c.vHH(3014,Tn)}()),f}}class FD{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new FD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ah,this._currentKeyframe[e]=ah}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const a=r&&r.params||{},u=function QU(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(a=>{e[a]=ah})):Ff(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=SD(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ah),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Ff(f,!0);Object.keys(b).forEach(I=>{const x=b[I];"!"==x?t.add(I):x==ah&&e.add(I)}),i||(b.offset=_/this.duration),r.push(b)});const a=t.size?ID(t.values()):[],u=e.size?ID(e.values()):[];if(i){const f=r[0],_=Iy(f);f.offset=0,_.offset=1,r=[f,_]}return YA(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class JU extends FD{constructor(t,e,i,r,a,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,f=e/u,_=Ff(t[0],!1);_.offset=0,a.push(_);const b=Ff(t[0],!1);b.offset=qk(f),a.push(b);const I=t.length-1;for(let x=1;x<=I;x++){let F=Ff(t[x],!1);F.offset=qk((e+F.offset*i)/u),a.push(F)}i=u,e=0,r="",t=a}return YA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function qk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class XA{}class XU extends XA{normalizePropertyName(t,e){return WA(t)}normalizeStyleValue(t,e,i,r){let a="";const u=i.toString().trim();if(ej[e]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function WV(n,t){return new c.vHH(3005,Tn)}())}return u+a}}const ej=(()=>function tj(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wk(n,t,e,i,r,a,u,f,_,b,I,x,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:x,errors:F}}const eM={};class Zk{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function nj(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],a=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return a?a.buildStyles(e,i):u}build(t,e,i,r,a,u,f,_,b,I){const x=[],F=this.ast.options&&this.ast.options.params||eM,q=this.buildStyles(i,f&&f.params||eM,x),ee=_&&_.params||eM,De=this.buildStyles(r,ee,x),je=new Set,Oe=new Map,dt=new Map,He="void"===r,rt={params:Object.assign(Object.assign({},F),ee)},et=I?[]:JA(t,e,this.ast.animation,a,u,q,De,rt,b,x);let Pt=0;if(et.forEach(In=>{Pt=Math.max(In.duration+In.delay,Pt)}),x.length)return Wk(e,this._triggerName,i,r,He,q,De,[],[],Oe,dt,Pt,x);et.forEach(In=>{const Xt=In.element,Wt=$a(Oe,Xt,{});In.preStyleProps.forEach(Dr=>Wt[Dr]=!0);const Li=$a(dt,Xt,{});In.postStyleProps.forEach(Dr=>Li[Dr]=!0),Xt!==e&&je.add(Xt)});const jt=ID(je.values());return Wk(e,this._triggerName,i,r,He,q,De,et,jt,Oe,dt,Pt)}}class ij{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Iy(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=SD(_,r,e));const b=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,b,_,e),i[b]=_})}}),i}}class sj{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new ij(r.style,r.options&&r.options.params||{},i)}),Kk(this.states,"true","1"),Kk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Zk(t,r,this.states))}),this.fallbackTransition=function oj(n,t,e){return new Zk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Kk(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const aj=new RD;class lj{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],a=ZA(this._driver,e,i,[]);if(i.length)throw function dU(n){return new c.vHH(3503,Tn)}();this._animations[t]=a}_buildPlayer(t,e,i){const r=t.element,a=Ik(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations[t];let u;const f=new Map;if(a?(u=JA(this._driver,e,a,GA,CD,{},{},i,aj,r),u.forEach(I=>{const x=$a(f,I.element,{});I.postStyleProps.forEach(F=>x[F]=null)})):(r.push(function hU(){return new c.vHH(3300,Tn)}()),u=[]),r.length)throw function fU(n){return new c.vHH(3504,Tn)}();f.forEach((I,x)=>{Object.keys(I).forEach(F=>{I[F]=this._driver.computeStyle(x,F,ah)})});const b=Pf(u.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function pU(n){return new c.vHH(3301,Tn)}();return e}listen(t,e,i,r){const a=VA(e,"","","");return LA(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Yk="ng-animate-queued",tM="ng-animate-disabled",fj=[],Jk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kl="__ng_removed";class nM{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function yj(n){return null!=n?n:null}(i?t.value:t),i){const a=Iy(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const mw="void",iM=new nM(mw);class gj{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function gU(n,t){return new c.vHH(3302,Tn)}();if(null==i||0==i.length)throw function mU(n){return new c.vHH(3303,Tn)}();if(!function vj(n){return"start"==n||"done"==n}(i))throw function _U(n,t){return new c.vHH(3400,Tn)}();const a=$a(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};a.push(u);const f=$a(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(Rl(t,ED),Rl(t,ED+"-"+e),f[e]=iM),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function yU(n){return new c.vHH(3401,Tn)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),u=new rM(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Rl(t,ED),Rl(t,ED+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const b=new nM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[e]=b,_||(_=iM),b.value!==mw&&_.value===b.value){if(!function Cj(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(_.params,b.params)){const ee=[],De=a.matchStyles(_.value,_.params,ee),je=a.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Zg(t,De),ju(t,je)})}return}const F=$a(this._engine.playersByElement,t,[]);F.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let U=a.matchTransition(_.value,b.value,t,b.params),q=!1;if(!U){if(!r)return;U=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:_,toState:b,player:u,isFallbackTransition:q}),q||(Rl(t,Yk),u.onStart(()=>{Ay(t,Yk)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const De=this._engine.playersByElement.get(t);if(De){let je=De.indexOf(u);je>=0&&De.splice(je,1)}}),this.players.push(u),F.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,DD,!0);i.forEach(r=>{if(r[kl])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(t,_,mw,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Pf(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||iM,I=new nM(mw),x=new rM(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[kl];(!a||a===Jk)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Rl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=VA(a,i.triggerName,i.fromState.value,i.toState.value);_._data=t,LA(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class mj{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,e)){i.splice(f+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(LD(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!LD(e))return;const a=e[kl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rl(t,tM)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ay(t,tM))}removeNode(t,e,i,r){if(LD(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[kl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return LD(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,DD,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$A,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[kl];if(i&&i.setForRemoval){if(t[kl]=Jk,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(tM))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Rl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Pf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function vU(n){return new c.vHH(3402,Tn)}()}_flushAnimations(t,e){const i=new RD,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(ct=>{I.add(ct);const Ct=this.driver.query(ct,".ng-animate-queued",!0);for(let Ht=0;Ht<Ct.length;Ht++)I.add(Ct[Ht])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),U=eR(F,this.collectedEnterElements),q=new Map;let ee=0;U.forEach((ct,Ct)=>{const Ht=GA+ee++;q.set(Ct,Ht),ct.forEach(gn=>Rl(gn,Ht))});const De=[],je=new Set,Oe=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const Ct=this.collectedLeaveElements[ct],Ht=Ct[kl];Ht&&Ht.setForRemoval&&(De.push(Ct),je.add(Ct),Ht.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(gn=>je.add(gn)):Oe.add(Ct))}const dt=new Map,He=eR(F,Array.from(je));He.forEach((ct,Ct)=>{const Ht=CD+ee++;dt.set(Ct,Ht),ct.forEach(gn=>Rl(gn,Ht))}),t.push(()=>{U.forEach((ct,Ct)=>{const Ht=q.get(Ct);ct.forEach(gn=>Ay(gn,Ht))}),He.forEach((ct,Ct)=>{const Ht=dt.get(Ct);ct.forEach(gn=>Ay(gn,Ht))}),De.forEach(ct=>{this.processLeaveNode(ct)})});const rt=[],et=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(e).forEach(Ht=>{const gn=Ht.player,Ji=Ht.element;if(rt.push(gn),this.collectedEnterElements.length){const Fr=Ji[kl];if(Fr&&Fr.setForMove){if(Fr.previousTriggersValues&&Fr.previousTriggersValues.has(Ht.triggerName)){const Ro=Fr.previousTriggersValues.get(Ht.triggerName),Ll=this.statesByElement.get(Ht.element);Ll&&Ll[Ht.triggerName]&&(Ll[Ht.triggerName].value=Ro)}return void gn.destroy()}}const ra=!x||!this.driver.containsElement(x,Ji),Yr=dt.get(Ji),qa=q.get(Ji),Hn=this._buildInstruction(Ht,i,qa,Yr,ra);if(Hn.errors&&Hn.errors.length)return void et.push(Hn);if(ra)return gn.onStart(()=>Zg(Ji,Hn.fromStyles)),gn.onDestroy(()=>ju(Ji,Hn.toStyles)),void r.push(gn);if(Ht.isFallbackTransition)return gn.onStart(()=>Zg(Ji,Hn.fromStyles)),gn.onDestroy(()=>ju(Ji,Hn.toStyles)),void r.push(gn);const Hc=[];Hn.timelines.forEach(Fr=>{Fr.stretchStartingKeyframe=!0,this.disabledNodes.has(Fr.element)||Hc.push(Fr)}),Hn.timelines=Hc,i.append(Ji,Hn.timelines),u.push({instruction:Hn,player:gn,element:Ji}),Hn.queriedElements.forEach(Fr=>$a(f,Fr,[]).push(gn)),Hn.preStyleProps.forEach((Fr,Ro)=>{const Ll=Object.keys(Fr);if(Ll.length){let dh=_.get(Ro);dh||_.set(Ro,dh=new Set),Ll.forEach(rm=>dh.add(rm))}}),Hn.postStyleProps.forEach((Fr,Ro)=>{const Ll=Object.keys(Fr);let dh=b.get(Ro);dh||b.set(Ro,dh=new Set),Ll.forEach(rm=>dh.add(rm))})});if(et.length){const ct=[];et.forEach(Ct=>{ct.push(function bU(n,t){return new c.vHH(3505,Tn)}())}),rt.forEach(Ct=>Ct.destroy()),this.reportError(ct)}const Pt=new Map,jt=new Map;u.forEach(ct=>{const Ct=ct.element;i.has(Ct)&&(jt.set(Ct,Ct),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,Pt))}),r.forEach(ct=>{const Ct=ct.element;this._getPreviousPlayers(Ct,!1,ct.namespaceId,ct.triggerName,null).forEach(gn=>{$a(Pt,Ct,[]).push(gn),gn.destroy()})});const In=De.filter(ct=>nR(ct,_,b)),Xt=new Map;Xk(Xt,this.driver,Oe,b,ah).forEach(ct=>{nR(ct,_,b)&&In.push(ct)});const Li=new Map;U.forEach((ct,Ct)=>{Xk(Li,this.driver,new Set(ct),_,"!")}),In.forEach(ct=>{const Ct=Xt.get(ct),Ht=Li.get(ct);Xt.set(ct,Object.assign(Object.assign({},Ct),Ht))});const Dr=[],Vf=[],Uf={};u.forEach(ct=>{const{element:Ct,player:Ht,instruction:gn}=ct;if(i.has(Ct)){if(I.has(Ct))return Ht.onDestroy(()=>ju(Ct,gn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(gn.totalTime),void r.push(Ht);let Ji=Uf;if(jt.size>1){let Yr=Ct;const qa=[];for(;Yr=Yr.parentNode;){const Hn=jt.get(Yr);if(Hn){Ji=Hn;break}qa.push(Yr)}qa.forEach(Hn=>jt.set(Hn,Ji))}const ra=this._buildAnimation(Ht.namespaceId,gn,Pt,a,Li,Xt);if(Ht.setRealPlayer(ra),Ji===Uf)Dr.push(Ht);else{const Yr=this.playersByElement.get(Ji);Yr&&Yr.length&&(Ht.parentPlayer=Pf(Yr)),r.push(Ht)}}else Zg(Ct,gn.fromStyles),Ht.onDestroy(()=>ju(Ct,gn.toStyles)),Vf.push(Ht),I.has(Ct)&&r.push(Ht)}),Vf.forEach(ct=>{const Ct=a.get(ct.element);if(Ct&&Ct.length){const Ht=Pf(Ct);ct.setRealPlayer(Ht)}}),r.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<De.length;ct++){const Ct=De[ct],Ht=Ct[kl];if(Ay(Ct,CD),Ht&&Ht.hasAnimation)continue;let gn=[];if(f.size){let ra=f.get(Ct);ra&&ra.length&&gn.push(...ra);let Yr=this.driver.query(Ct,$A,!0);for(let qa=0;qa<Yr.length;qa++){let Hn=f.get(Yr[qa]);Hn&&Hn.length&&gn.push(...Hn)}}const Ji=gn.filter(ra=>!ra.destroyed);Ji.length?bj(this,Ct,Ji):this.processLeaveNode(Ct)}return De.length=0,Dr.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const Ct=this.players.indexOf(ct);this.players.splice(Ct,1)}),ct.play()}),Dr}elementContainsData(t,e){let i=!1;const r=e[kl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const _=!a||a==mw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,I=b!==a,x=$a(i,b,[]);this._getPreviousPlayers(b,I,u,f,e.toState).forEach(U=>{const q=U.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),U.destroy(),x.push(U)})}Zg(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,u){const f=e.triggerName,_=e.element,b=[],I=new Set,x=new Set,F=e.timelines.map(q=>{const ee=q.element;I.add(ee);const De=ee[kl];if(De&&De.removedBeforeQueried)return new pw(q.duration,q.delay);const je=ee!==_,Oe=function wj(n){const t=[];return tR(n,t),t}((i.get(ee)||fj).map(Pt=>Pt.getRealPlayer())).filter(Pt=>!!Pt.element&&Pt.element===ee),dt=a.get(ee),He=u.get(ee),rt=Ik(0,this._normalizer,0,q.keyframes,dt,He),et=this._buildPlayer(q,rt,Oe);if(q.subTimeline&&r&&x.add(ee),je){const Pt=new rM(t,f,ee);Pt.setRealPlayer(et),b.push(Pt)}return et});b.forEach(q=>{$a(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function _j(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,q.element,q))}),I.forEach(q=>Rl(q,Lk));const U=Pf(F);return U.onDestroy(()=>{I.forEach(q=>Ay(q,Lk)),ju(_,e.toStyles)}),x.forEach(q=>{$a(r,q,[]).push(U)}),U}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new pw(t.duration,t.delay)}}class rM{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new pw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>LA(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){$a(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function LD(n){return n&&1===n.nodeType}function Qk(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Xk(n,t,e,i,r){const a=[];e.forEach(_=>a.push(Qk(_)));const u=[];i.forEach((_,b)=>{const I={};_.forEach(x=>{const F=I[x]=t.computeStyle(b,x,r);(!F||0==F.length)&&(b[kl]=pj,u.push(b))}),n.set(b,I)});let f=0;return e.forEach(_=>Qk(_,a[f++])),u}function eR(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return t.forEach(f=>{const _=u(f);1!==_&&e.get(_).push(f)}),e}function Rl(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ay(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function bj(n,t,e){Pf(e).onDone(()=>n.processLeaveNode(t))}function tR(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Tk?tR(i.players,t):t.push(i)}}function nR(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class BD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new mj(t,e,i),this._timelineEngine=new lj(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=ZA(this._driver,a,_,[]);if(_.length)throw function cU(n,t){return new c.vHH(3404,Tn)}();f=function rj(n,t,e){return new sj(n,t,e)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,u]=Ak(i);this._timelineEngine.command(a,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[u,f]=Ak(i);return this._timelineEngine.listen(u,e,f,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Dj=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ju(this._element,this._initialStyles),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zg(this._element,this._endStyles),this._endStyles=null),ju(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sM(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Tj(r)&&(t=t||{},t[r]=n[r])}return t}function Tj(n){return"display"===n||"position"===n}class iR{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Hk(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Sj{validateStyleProperty(t){return Ok(t)}matchesElement(t,e){return!1}containsElement(t,e){return kk(t,e)}getParentElement(t){return jA(t)}query(t,e,i){return Rk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},I=u.filter(F=>F instanceof iR);(function xU(n,t){return 0===n||0===t})(i,r)&&I.forEach(F=>{let U=F.currentSnapshot;Object.keys(U).forEach(q=>b[q]=U[q])}),e=function NU(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let a=t[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(_){f[_]=Hk(n,_)})}}return t}(t,e=e.map(F=>Ff(F,!1)),b);const x=function Ej(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=sM(t[0]),t.length>1&&(i=sM(t[t.length-1]))):t&&(e=sM(t)),e||i?new Dj(n,e,i):null}(t,e);return new iR(t,e,_,x)}}let Ij=(()=>{class n extends wk{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Ek(e):e;return rR(this._renderer,null,i,"register",[r]),new Aj(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Aj extends class jV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mj(this._id,t,e||{},this._renderer)}}class Mj{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function rR(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const sR="@.disabled";let xj=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new oR("",a,this.engine),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,e,I.name,I)};return i.data.animation.forEach(_),new Nj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(BD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class oR{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==sR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nj extends oR{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sR?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Oj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function kj(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let Rj=(()=>{class n extends BD{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(HA),c.LFG(XA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _w=new c.OlP("AnimationModuleType"),aR=[{provide:wk,useClass:Ij},{provide:XA,useFactory:function Pj(){return new XU}},{provide:BD,useClass:Rj},{provide:c.FYo,useFactory:function Fj(n,t,e){return new xj(n,t,e)},deps:[Fn,BD,c.R0b]}],lR=[{provide:HA,useFactory:()=>new Sj},{provide:_w,useValue:"BrowserAnimations"},...aR],Lj=[{provide:HA,useClass:Pk},{provide:_w,useValue:"NoopAnimations"},...aR];let Bj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Lj:lR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:lR,imports:[jo]}),n})();const Uj=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Vj(){return!0}});let Oo=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function oV(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(UV),c.LFG(Uj,8),c.LFG(le))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ok],ok]}),n})();function jj(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Lc(t)}}}function uR(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Hj(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Lc(t)}}}let $j=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zj{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dR={enterDuration:225,exitDuration:150},oM=yD({passive:!0}),hR=["mousedown","touchstart"],fR=["mouseup","mouseleave","touchend","touchcancel"];class Wj{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ey(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},dR),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Kj(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,_=e-r.top,b=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I),function Zj(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const x=new zj(this,I,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const F=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!F||!this._isPointerDown)&&x.fadeOut()},b),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},dR),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ey(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(hR))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fR),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=gk(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!mk(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,oM)})})}_removeTriggerEvents(){this._triggerElement&&(hR.forEach(t=>{this._triggerElement.removeEventListener(t,this,oM)}),this._pointerUpEventsRegistered&&fR.forEach(t=>{this._triggerElement.removeEventListener(t,this,oM)}))}}const Yj=new c.OlP("mat-ripple-global-options");let pR=(()=>{class n{constructor(e,i,r,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Wj(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Rf),c.Y36(Yj,8),c.Y36(_w,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Oo],Oo]}),n})();function aM(n){return(0,it.U)(()=>n)}const UD=["*"],Xj=["content"];function e3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(e),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function t3(n,t){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const n3=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],r3=["mat-drawer","mat-drawer-content","*"];function s3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(e),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function o3(n,t){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const a3=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],l3=["mat-sidenav","mat-sidenav-content","*"],gR={transformDrawer:Ck("transform",[kA("open, open-instant",Sy({transform:"none",visibility:"visible"})),kA("void",Sy({"box-shadow":"none",visibility:"hidden"})),RA("void => open-instant",OA("0ms")),RA("void <=> open, open-instant => void",OA("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},u3=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function d3(){return!1}}),lM=new c.OlP("MAT_DRAWER_CONTAINER");let jD=(()=>{class n extends fw{constructor(e,i,r,a,u){super(r,a,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>_R)),c.Y36(c.SBq),c.Y36(xA),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:fw,useExisting:n}]),c.qOj],ngContentSelectors:UD,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),mR=(()=>{class n{constructor(e,i,r,a,u,f,_,b){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new qt.x,this._animationEnd=new qt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Un(I=>I),(0,it.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Un(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),aM(void 0)),this._closedStream=this.openedChange.pipe(Un(I=>!I),(0,it.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Un(I=>I.fromState!==I.toState&&"void"===I.toState),aM(void 0)),this._destroyed=new qt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new qt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ls(this._elementRef.nativeElement,"keydown").pipe(Un(I=>27===I.keyCode&&!this.disableClose&&!function bV(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),jn(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Vh((I,x)=>I.fromState===x.fromState&&I.toState===x.toState)).subscribe(I=>{const{fromState:x,toState:F}=I;(0===F.indexOf("open")&&"void"===x||"void"===F&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Lc(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Lc(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Lc(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,ti.q)(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(RV),c.Y36(yk),c.Y36(Rf),c.Y36(c.R0b),c.Y36(hk),c.Y36(le,8),c.Y36(lM,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&c.Gf(Xj,5),2&e){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&e&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:UD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[fw],encapsulation:2,data:{animation:[gR.transformDrawer]},changeDetection:0}),n})(),_R=(()=>{class n{constructor(e,i,r,a,u,f=!1,_){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new qt.x,this._doCheckSubject=new qt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new qt.x,e&&e.change.pipe(jn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(jn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Lc(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Lc(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(nr(this._allDrawers),jn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(nr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function Qj(n,t=Bh.z){return(0,Ci.e)((e,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,I=t.now();if(I<b)return r=this.schedule(void 0,b-I),void i.add(r);f()}e.subscribe((0,Nn.x)(i,b=>{a=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),jn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Un(i=>i.fromState!==i.toState),jn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(jn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(jn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,ti.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(jn((0,Gx.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(sk,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(fV),c.Y36(u3),c.Y36(_w,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,jD,5),c.Suo(r,mR,5)),2&e){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(e,i){if(1&e&&c.Gf(jD,5),2&e){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:lM,useExisting:n}])],ngContentSelectors:r3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(n3),c.YNc(0,e3,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,t3,2,0,"mat-drawer-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[jD,Qn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),cM=(()=>{class n extends jD{constructor(e,i,r,a,u){super(e,i,r,a,u)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>yR)),c.Y36(c.SBq),c.Y36(xA),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:fw,useExisting:n}]),c.qOj],ngContentSelectors:UD,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),uM=(()=>{class n extends mR{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Lc(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=QO(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=QO(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:UD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[fw],encapsulation:2,data:{animation:[gR.transformDrawer]},changeDetection:0}),n})(),yR=(()=>{class n extends _R{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,cM,5),c.Suo(r,uM,5)),2&e){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:lM,useExisting:n}]),c.qOj],ngContentSelectors:l3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(a3),c.YNc(0,s3,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,o3,2,0,"mat-sidenav-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[cM,Qn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn,Oo,ak],ak,Oo]}),n})();const f3=["mat-button",""],p3=["*"],m3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_3=uR(jj(Hj(class{constructor(n){this._elementRef=n}})));let y3=(()=>{class n extends _3{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of m3)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(yk),c.Y36(_w,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(pR,5),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:f3,ngContentSelectors:p3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[pR],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Jj,Oo],Oo]}),n})();const b3=["*"];let HD;function vw(n){var t;return(null===(t=function w3(){if(void 0===HD&&(HD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(HD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return HD}())||void 0===t?void 0:t.createHTML(n))||n}function vR(n){return Error(`Unable to find icon with the name "${n}"`)}function bR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Yg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let GD=(()=>{class n{constructor(e,i,r,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,a){return this._addSvgIconConfig(e,i,new Yg(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw wR(r);const f=vw(u);return this._addSvgIconConfig(e,i,new Yg("",f,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Yg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw wR(i);const u=vw(a);return this._addSvgIconSetConfig(e,new Yg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw bR(e);const r=this._cachedIconsByUrl.get(i);return r?yt($D(r)):this._loadSvgIconFromConfig(new Yg(e,null)).pipe((0,xi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,it.U)(a=>$D(a)))}getNamedSvgIcon(e,i=""){const r=CR(i,e);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):vs(vR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?yt($D(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,it.U)(i=>$D(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?yt(r):HN(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Cs(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),yt(null)})))).pipe((0,it.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw vR(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,e,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,xi.b)(i=>e.svgText=i),(0,it.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?yt(null):this._fetchIcon(e).pipe((0,xi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(vw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(vw("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:a}=e,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function C3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw bR(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,it.U)(I=>vw(I)),Gf(()=>this._inProgressUrlFetches.delete(f)),(0,$x.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(CR(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,e);if(a)return D3(a)?new Yg(a.url,null,a.options):new Yg(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(XE,8),c.LFG($i),c.LFG(le,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $D(n){return n.cloneNode(!0)}function CR(n,t){return n+":"+t}function D3(n){return!(!n.url||!n.options)}const T3=uR(class{constructor(n){this._elementRef=n}}),S3=new c.OlP("mat-icon-location",{providedIn:"root",factory:function I3(){const n=(0,c.f3M)(le),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ER=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A3=ER.map(n=>`[${n}]`).join(", "),M3=/^url\(['"]?#(.*?)['"]?\)$/;let x3=(()=>{class n extends T3{constructor(e,i,r,a,u){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Ca.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Lc(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(A3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)ER.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(M3):null;if(b){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ti.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(GD),c.$8M("aria-hidden"),c.Y36(S3),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:b3,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Oo],Oo]}),n})(),O3=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Lc(e)}get inset(){return this._inset}set inset(e){this._inset=Lc(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),k3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Oo],Oo]}),n})();function R3(n,t){1&n&&(c.TgZ(0,"mat-icon"),c._uU(1," menu "),c.qZA())}function P3(n,t){1&n&&(c.TgZ(0,"mat-icon"),c._uU(1," close "),c.qZA())}function F3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(e),c.oxw(),c.MAs(8).toggle()}),c.YNc(1,R3,2,0,"mat-icon",18),c.YNc(2,P3,2,0,"mat-icon",18),c.qZA()}if(2&n){c.oxw();const e=c.MAs(8);c.xp6(1),c.Q6J("ngIf",!e.opened),c.xp6(1),c.Q6J("ngIf",e.opened)}}const L3=function(){return["/Games"]},B3=function(){return["/AboutMe"]};let V3=(()=>{class n{constructor(e){this.authService=e,this.isLoggedIn$=this.authService.isLoggedIn,this.username$=this.authService.username}ngAfterViewInit(){}onLogout(){this.authService.logout().then(()=>{this.authService.loggedIn.next(!1),this.sidenav.toggle()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(tw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(1&e&&c.Gf(uM,5),2&e){let r;c.iGM(r=c.CRH())&&(i.sidenav=r.first)}},decls:38,vars:10,consts:[[1,"site-header","sticky-top","py-1"],[1,"container"],[1,"row"],[1,"col"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["sidenav","matSidenav"],["src","../../../assets/imagenes/playroom.jfif",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button",3,"routerLink"],[1,"rotate"],["mat-button","",1,"menu-button",3,"click"],[1,"showcase"],[1,"video-container"],["id","video-background","width","100%","height","100%","src","../assets/videos/Game.mp4","autoplay","autoplay","loop","true","muted",""],[1,"content"],["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(e,i){if(1&e&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3),c.YNc(4,F3,3,2,"button",4),c.ALo(5,"async"),c.qZA()()()(),c.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",5,6),c._UZ(9,"img",7),c.TgZ(10,"h4",8),c._uU(11),c.ALo(12,"async"),c.qZA(),c.TgZ(13,"p",9),c._uU(14,"Welcome"),c.qZA(),c._UZ(15,"mat-divider"),c.TgZ(16,"button",10)(17,"mat-icon",11),c._uU(18,"home"),c.qZA(),c.TgZ(19,"span"),c._uU(20,"Games"),c.qZA()(),c.TgZ(21,"button",10)(22,"mat-icon"),c._uU(23,"info"),c.qZA(),c.TgZ(24,"span"),c._uU(25,"About me"),c.qZA()(),c._UZ(26,"mat-divider"),c.TgZ(27,"button",12),c.NdJ("click",function(){return i.onLogout()}),c.TgZ(28,"mat-icon"),c._uU(29,"launch"),c.qZA(),c.TgZ(30,"span"),c._uU(31,"Log Out"),c.qZA()()(),c.TgZ(32,"mat-sidenav-content")(33,"section",13)(34,"div",14),c._UZ(35,"video",15),c.qZA(),c.TgZ(36,"div",16),c._UZ(37,"router-outlet"),c.qZA()()()()),2&e){const r=c.MAs(8);c.xp6(4),c.Q6J("ngIf","over"===r.mode&&c.lcZ(5,4,i.isLoggedIn$)),c.xp6(7),c.Oqu(c.lcZ(12,6,i.username$)),c.xp6(5),c.Q6J("routerLink",c.DdM(8,L3)),c.xp6(5),c.Q6J("routerLink",c.DdM(9,B3))}},directives:[Qn,y3,x3,yR,uM,O3,vp,cM,hd],pipes:[Ka],styles:["#video-background[_ngcontent-%COMP%]{height:100%;position:fixed;width:100%}[_ngcontent-%COMP%]:root{--primary-color: #3a4052}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.showcase[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;padding:0 20px}.video-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{min-width:100%;min-height:100%;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover}.content[_ngcontent-%COMP%]{z-index:1}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:rgba(194,29,166,.85);color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 16px 16px 32px;font-size:2rem;color:#d3d3d3}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.site-header[_ngcontent-%COMP%]{background-color:#c21da6d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e1f1;transition:ease-in-out color .15s;text-decoration:none}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.rotate[_ngcontent-%COMP%]{transition:all 1s}.rotate[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}"]}),n})(),U3=(()=>{class n{constructor(){this.title="TP-SalaDeJuegos"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"app-dashboard")},directives:[V3],styles:[""]}),n})();const{isArray:j3}=Array;function DR(n){return 1===n.length&&j3(n[0])?n[0]:n}function zD(...n){const t=(0,Bn.jO)(n),e=DR(n);return e.length?new E.y(i=>{let r=e.map(()=>[]),a=e.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<e.length;u++)(0,zr.Xf)(e[u]).subscribe((0,Nn.x)(i,f=>{if(r[u].push(f),r.every(_=>_.length)){const _=r.map(b=>b.shift());i.next(t?t(..._):_),r.some((b,I)=>!b.length&&a[I])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):qo.E}function dM(...n){const t=(0,Bn.jO)(n);return(0,Ci.e)((e,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,zr.Xf)(n[_]).subscribe((0,Nn.x)(i,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(Vn.y))&&(u=null))},_D.Z));e.subscribe((0,Nn.x)(i,_=>{if(f){const b=[_,...a];i.next(t?t(...b):b)}}))})}new E.y(_D.Z),Math,Math,Math;const eG=["*"],yG=["dialog"];function Qg(n){return null!=n}function Ry(n){return(n||document.body).getBoundingClientRect()}const GR={animation:!0,transitionTimerDelayMs:5},f5=()=>{},{transitionTimerDelayMs:p5}=GR,Sw=new Map,ko=(n,t,e,i)=>{let r=i.context||{};const a=Sw.get(t);if(a)switch(i.runningTransition){case"continue":return qo.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Sw.delete(t)}const u=e(t,i.animation,r)||f5;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),yt(void 0).pipe(function d5(n){return t=>new E.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const f=new qt.x,_=new qt.x,b=f.pipe(function G3(...n){return t=>iu(t,yt(...n))}(!0));Sw.set(t,{transition$:f,complete:()=>{_.next(),_.complete()},context:r});const I=function h5(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=ls(t,"transitionend").pipe(jn(b),Un(({target:U})=>U===t));(function TR(...n){return 1===(n=DR(n)).length?(0,zr.Xf)(n[0]):new E.y(function H3(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,zr.Xf)(n[i]).subscribe((0,Nn.x)(t,r=>{if(e){for(let a=0;a<e.length;a++)a!==i&&e[a].unsubscribe();e=null}t.next(r)})))}}(n))})(mD(I+p5).pipe(jn(b)),x,_).pipe(jn(b)).subscribe(()=>{Sw.delete(t),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let JD=(()=>{class n{constructor(){this.animation=GR.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Kr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Kr||(Kr={})),Kr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sP(n){const t=Array.from(n.querySelectorAll(rP)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let fP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn,ZO]]}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class nm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let o$=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ti.q)(1)).subscribe(()=>{ko(this._zone,this._el.nativeElement,(e,i)=>{i&&Ry(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ko(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class yP{close(t){}dismiss(t){}}class a${constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new qt.x,this._dismissed=new qt.x,this._hidden=new qt.x,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(jn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(jn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function c5(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():yt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zD(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var xw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(xw||(xw={})),xw))();let l$=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new qt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new qt.x,this.hidden=new qt.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ti.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=zD(ko(this._zone,e,()=>e.classList.remove("show"),i),ko(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};zD(ko(this._zone,this._elRef.nativeElement,(a,u)=>{u&&Ry(a),a.classList.add("show")},e),ko(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ls(e,"keydown").pipe(jn(this._closed$),Un(r=>r.which===Kr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(xw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ls(this._dialogEl.nativeElement,"mousedown").pipe(jn(this._closed$),(0,xi.b)(()=>i=!1),ei(()=>ls(e,"mouseup").pipe(jn(this._closed$),(0,ti.q)(1))),Un(({target:r})=>e===r)).subscribe(()=>{i=!0}),ls(e,"click").pipe(jn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(xw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=sP(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ko(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(le),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&c.Gf(yG,7),2&e){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eG,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&e&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),c$=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:u}=r;if(e>0){const f=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${f+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=a}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u$=(()=>{class n{constructor(e,i,r,a,u,f){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new qt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ls(t,"focusin").pipe(jn(e),(0,it.U)(a=>a.target));ls(t,"keydown").pipe(jn(e),Un(a=>a.which===Kr.Tab),dM(r)).subscribe(([a,u])=>{const[f,_]=sP(t);(u===f||u===t)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),i&&ls(t,"click").pipe(jn(e),dM(r),(0,it.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r,a){const u=a.container instanceof HTMLElement?a.container:Qg(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null),_=()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new yP,I=this._getContentRef(e,a.injector||i,r,b,a);let x=!1!==a.backdrop?this._attachBackdrop(e,u):void 0,F=this._attachWindowComponent(e,u,I),U=new a$(F,I,x,a.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(F),U.result.then(_,_),b.close=q=>{U.close(q)},b.dismiss=q=>{U.dismiss(q)},this._applyWindowOptions(F.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),x&&x.instance&&(this._applyBackdropOptions(x.instance,a),x.changeDetectorRef.detectChanges()),F.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let a=e.resolveComponentFactory(o$).create(this._injector);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(e,i,r){let u=e.resolveComponentFactory(l$).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Qg(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Qg(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,a,u){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,a):function HR(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,a,u):new nm([])}_createFromTemplateRef(e,i){const a=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new nm([a.rootNodes],a)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new nm([[i]])}_createFromComponent(e,i,r,a,u){const f=e.resolveComponentFactory(r),_=c.zs3.create({providers:[{provide:yP,useValue:a}],parent:i}),b=f.create(_),I=b.location.nativeElement;return u.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new nm([[I]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(le),c.LFG(c$),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d$=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(JD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h$=(()=>{class n{constructor(e,i,r,a){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=a}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(u$),c.LFG(d$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[h$]}),n})(),EP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),RP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),PP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function T$(){return 100}});let VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn]]}),n})();const S$=[KR,YR,QR,tP,nP,fP,_P,vP,EP,NP,kP,RP,PP,FP,LP,BP,VP];let I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[S$,KR,YR,QR,tP,nP,fP,_P,vP,EP,NP,kP,RP,PP,FP,LP,BP,VP]}),n})();const UP_firebaseConfig={apiKey:"AIzaSyDh5br--eUK4STYRGPHjLaQeZhxApIamjI",authDomain:"tp-sala-de-juegos-92c8a.firebaseapp.com",databaseURL:"https://tp-sala-de-juegos-92c8a.firebaseio.com",projectId:"tp-sala-de-juegos-92c8a",storageBucket:"tp-sala-de-juegos-92c8a.appspot.com",messagingSenderId:"438502520653",appId:"1:438502520653:web:c474ed7aba055c54e22904",measurementId:"G-WX23KT33S7"};let A$=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[A$]}),n})(),OM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wn,Oo,M$],Oo]}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$j],imports:[[jP,OM,Oo],jP,OM]}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Oo],Oo]}),n})(),F$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[U3]}),n.\u0275inj=c.cJS({providers:[],imports:[[jo,RB,ZO,KO,I$,zi.hO.initializeApp(UP_firebaseConfig),q2,Bj,OM,R$,P$,h3,v3,N3,k3,SL]]}),n})();(0,c.G48)(),al().bootstrapModule(F$).catch(n=>console.error(n))},5867:(wt,xe,V)=>{"use strict";V.d(xe,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(wt,xe,V)=>{"use strict";V.d(xe,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(wt,xe,V)=>{"use strict";V.r(xe);var c=V(5861),ne=V(3942),B=V(2090),fe=V(9681),ae=V(655),Te=V(1877),le=V(4859);const Ge=function Je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new Te.Yd("@firebase/auth");function lt(y,...p){ht.logLevel<=Te.in.ERROR&&ht.error(`Auth (${fe.SDK_VERSION}): ${y}`,...p)}function Pe(y,...p){throw Ke(y,...p)}function Ie(y,...p){return Ke(y,...p)}function Me(y,p,m){const w=Object.assign(Object.assign({},We()),{[p]:m});return new B.LL("auth","Firebase",w).create(p,{appName:y.name})}function Xe(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Pe(y,"argument-error"),Me(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return be.create(y,...p)}function H(y,p,...m){if(!y)throw Ke(p,...m)}function ie(y){const p="INTERNAL ASSERTION FAILED: "+y;throw lt(p),new Error(p)}function ce(y,p){y||ie(p)}const we=new Map;function ue(y){ce(y instanceof Function,"Expected a class definition");let p=we.get(y);return p?(ce(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,we.set(y,p),p)}function Vt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function hn(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class rn{constructor(p,m){this.shortDelay=p,this.longDelay=m,ce(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Et(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(y,p){ce(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Lr{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bi=new rn(3e4,6e4);function cn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function an(y,p,m,w){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(y,p,m,w,N={}){return Qi(y,N,(0,c.Z)(function*(){let L={},X={};w&&("GET"===p?X=w:L={body:JSON.stringify(w)});const ge=(0,B.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Ye=yield y._getAdditionalHeaders();return Ye["Content-Type"]="application/json",y.languageCode&&(Ye["X-Firebase-Locale"]=y.languageCode),Lr.fetch()(mi(y,y.config.apiHost,m,ge),Object.assign({method:p,headers:Ye,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Qi(y,p,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},fn),p);try{const N=new cs(y),L=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw Xi(y,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const ge=L.ok?X.errorMessage:X.error.message,[Ye,_t]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw Xi(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ye)throw Xi(y,"email-already-in-use",X);const Lt=w[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw Me(y,Lt,_t);Pe(y,Lt)}}catch(N){if(N instanceof B.ZR)throw N;Pe(y,"network-request-failed")}})).apply(this,arguments)}function Ti(y,p,m,w){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(y,p,m,w,N={}){const L=yield an(y,p,m,w,N);return"mfaPendingCredential"in L&&Pe(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function mi(y,p,m,w){const N=`${p}${m}?${w}`;return y.config.emulator?ln(y.config,N):`${y.config.apiScheme}://${N}`}class cs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ie(this.auth,"network-request-failed")),Bi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xi(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const N=Ie(y,p,w);return N.customData._tokenResponse=m,N}function $n(){return($n=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function _i(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function er(y,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function kn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Sr(){return(Sr=(0,c.Z)(function*(y,p=!1){const m=(0,B.m9)(y),w=yield m.getIdToken(p),N=tt(w);H(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const L="object"==typeof N.firebase?N.firebase:void 0,X=null==L?void 0:L.sign_in_provider;return{claims:N,token:w,authTime:kn(en(N.auth_time)),issuedAtTime:kn(en(N.iat)),expirationTime:kn(en(N.exp)),signInProvider:X||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function en(y){return 1e3*Number(y)}function tt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(m);return N?JSON.parse(N):(lt("Failed to decode base64 JWT payload"),null)}catch(N){return lt("Caught error parsing JWT payload as JSON",N),null}}function vi(y,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&Ft(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ft({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class io{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Si{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bi(y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),N=yield vi(y,er(m,{idToken:w}));H(null==N?void 0:N.users.length,m,"internal-error");const L=N.users[0];y._notifyReloadListener(L);const X=(null===(p=L.providerUserInfo)||void 0===p?void 0:p.length)?he(L.providerUserInfo):[],ge=ut(y.providerData,X),Lt=!!y.isAnonymous&&!(y.email&&L.passwordHash||(null==ge?void 0:ge.length)),St={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ge,metadata:new Si(L.createdAt,L.lastLoginAt),isAnonymous:Lt};Object.assign(y,St)})).apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y){const p=(0,B.m9)(y);yield bi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ut(y,p){return[...y.filter(w=>!p.some(N=>N.providerId===w.providerId)),...p]}function he(y){return y.map(p=>{var{providerId:m}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function At(){return(At=(0,c.Z)(function*(y,p){const m=yield Qi(y,{},(0,c.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:L}=y.config,X=mi(y,N,"/v1/token",`key=${L}`),ge=yield y._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Lr.fetch()(X,{method:"POST",headers:ge,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(void 0!==p.idToken,"internal-error"),H(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function mt(y){const p=tt(y);return H(p,"internal-error"),H(void 0!==p.exp,"internal-error"),H(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return H(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:N,refreshToken:L,expiresIn:X}=yield function ft(y,p){return At.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(N,L,Number(X))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:N,expirationTime:L}=m,X=new on;return w&&(H("string"==typeof w,"internal-error",{appName:p}),X.refreshToken=w),N&&(H("string"==typeof N,"internal-error",{appName:p}),X.accessToken=N),L&&(H("number"==typeof L,"internal-error",{appName:p}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return ie("not implemented")}}function nn(y,p){H("string"==typeof y||void 0===y,"internal-error",{appName:p})}class K{constructor(p){var{uid:m,auth:w,stsTokenManager:N}=p,L=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Si(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield vi(m,m.stsTokenManager.getToken(m.auth,p));return H(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function yi(y){return Sr.apply(this,arguments)}(this,p)}reload(){return function Vi(y){return tn.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new K(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let N=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield bi(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield vi(p,function ot(y,p){return $n.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,N,L,X,ge,Ye,_t,Lt;const St=null!==(w=m.displayName)&&void 0!==w?w:void 0,di=null!==(N=m.email)&&void 0!==N?N:void 0,Xs=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,vd=null!==(X=m.photoURL)&&void 0!==X?X:void 0,du=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,hu=null!==(Ye=m._redirectEventId)&&void 0!==Ye?Ye:void 0,mp=null!==(_t=m.createdAt)&&void 0!==_t?_t:void 0,av=null!==(Lt=m.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:yl,emailVerified:kh,isAnonymous:Rh,providerData:_p,stsTokenManager:Ph}=m;H(yl&&Ph,p,"internal-error");const Or=on.fromJSON(this.name,Ph);H("string"==typeof yl,p,"internal-error"),nn(St,p.name),nn(di,p.name),H("boolean"==typeof kh,p,"internal-error"),H("boolean"==typeof Rh,p,"internal-error"),nn(Xs,p.name),nn(vd,p.name),nn(du,p.name),nn(hu,p.name),nn(mp,p.name),nn(av,p.name);const yp=new K({uid:yl,auth:p,email:di,emailVerified:kh,displayName:St,isAnonymous:Rh,photoURL:vd,phoneNumber:Xs,tenantId:du,stsTokenManager:Or,createdAt:mp,lastLoginAt:av});return _p&&Array.isArray(_p)&&(yp.providerData=_p.map(Tm=>Object.assign({},Tm))),hu&&(yp._redirectEventId=hu),yp}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const N=new on;N.updateFromServerResponse(m);const L=new K({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:w});return yield bi(L),L})()}}const Q=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var N=this;return(0,c.Z)(function*(){N.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const N=w.storage[m];return void 0===N?null:N})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function ye(y,p,m){return`firebase:${y}:${p}:${m}`}class se{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:N,name:L}=this.auth;this.fullUserKey=ye(this.userKey,N.apiKey,L),this.fullPersistenceKey=ye("persistence",N.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?K._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new se(ue(Q),p,w);const N=(yield Promise.all(m.map(function(){var _t=(0,c.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let L=N[0]||ue(Q);const X=ye(w,p.config.apiKey,p.name);let ge=null;for(const _t of m)try{const Lt=yield _t._get(X);if(Lt){const St=K._fromJSON(p,Lt);_t!==L&&(ge=St),L=_t;break}}catch(Lt){}const Ye=N.filter(_t=>_t._shouldAllowMigration);return L._shouldAllowMigration&&Ye.length?(L=Ye[0],ge&&(yield L._set(X,ge.toJSON())),yield Promise.all(m.map(function(){var _t=(0,c.Z)(function*(Lt){if(Lt!==L)try{yield Lt._remove(X)}catch(St){}});return function(Lt){return _t.apply(this,arguments)}}())),new se(L,p,w)):new se(L,p,w)})()}}function Ze(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(dn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(kt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Zt(p))return"Blackberry";if(An(p))return"Webos";if(un(p))return"Safari";if((p.includes("chrome/")||Ui(p))&&!p.includes("edge/"))return"Chrome";if(Rn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function kt(y=(0,B.z$)()){return/firefox\//i.test(y)}function un(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ui(y=(0,B.z$)()){return/crios\//i.test(y)}function dn(y=(0,B.z$)()){return/iemobile/i.test(y)}function Rn(y=(0,B.z$)()){return/android/i.test(y)}function Zt(y=(0,B.z$)()){return/blackberry/i.test(y)}function An(y=(0,B.z$)()){return/webos/i.test(y)}function wi(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function us(y=(0,B.z$)()){return wi(y)||Rn(y)||An(y)||Zt(y)||/windows phone/i.test(y)||dn(y)}function oa(y,p=[]){let m;switch(y){case"Browser":m=Ze((0,B.z$)());break;case"Worker":m=`${Ze((0,B.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${fe.SDK_VERSION}/${w}`}class Nt{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jt(this),this.idTokenSubscription=new Jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ue(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var N,L;if(!w._deleted&&(w.persistenceManager=yield se.create(w,p),!w._deleted)){if(null===(N=w._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(X){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;let N=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const L=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,X=null==N?void 0:N._redirectEventId,ge=yield m.tryRedirectSignIn(p);(!L||L===X)&&(null==ge?void 0:ge.user)&&(N=ge.user)}return N?N._redirectEventId?(H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)):m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(N){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield bi(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function It(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&H(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&H(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ue(p)||m._popupRedirectResolver;H(w,m,"argument-error"),m.redirectPersistenceManager=yield se.create(m,[ue(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,N;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,N){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return H(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof m?p.addObserver(m,w,N):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=oa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(w["X-Firebase-Client"]=N),w})()}}function $e(y){return(0,B.m9)(y)}class Jt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function oi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class mn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ie("not implemented")}_getIdTokenResponse(p){return ie("not implemented")}_linkToIdToken(p,m){return ie("not implemented")}_getReauthenticationResolver(p){return ie("not implemented")}}function zn(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:resetPassword",cn(y,p))})).apply(this,arguments)}function Tt(y,p){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jr(y,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",cn(y,p))})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithPassword",cn(y,p))})).apply(this,arguments)}function ds(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:sendOobCode",cn(y,p))})).apply(this,arguments)}function Qn(y,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(y,p){return ds(y,p)})).apply(this,arguments)}function Wa(y,p){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,p){return ds(y,p)})).apply(this,arguments)}function Vr(y,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,p){return ds(y,p)})).apply(this,arguments)}function Gc(y,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,p){return ds(y,p)})).apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,p))})).apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,p))})).apply(this,arguments)}class fs extends mn{constructor(p,m,w,N=null){super("password",w),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new fs(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new fs(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Ps(y,p){return qn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Za(y,p){return ur.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Pe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Tt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function $c(y,p){return oo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Pe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ai(y,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithIdp",cn(y,p))})).apply(this,arguments)}class ps extends mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ps(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N}=m,L=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!N)return null;const X=new ps(w,N);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(p){return ai(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ai(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ai(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function hh(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:sendVerificationCode",cn(y,p))})).apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,p))})).apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(y,p){const m=yield Ti(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,p));if(m.temporaryProof)throw Xi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ph={USER_NOT_FOUND:"user-not-found"};function Ul(){return(Ul=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ph)})).apply(this,arguments)}class Lo extends mn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Lo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Lo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Vl(y,p){return Ls.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function fh(y,p){return zc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Fo(y,p){return Ul.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:L}=p;return w||m||N||L?new Lo({verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:L}):null}}class ao{constructor(p){var m,w,N,L,X,ge;const Ye=(0,B.zd)((0,B.pd)(p)),_t=null!==(m=Ye.apiKey)&&void 0!==m?m:null,Lt=null!==(w=Ye.oobCode)&&void 0!==w?w:null,St=function jf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Ye.mode)&&void 0!==N?N:null);H(_t&&Lt&&St,"argument-error"),this.apiKey=_t,this.operation=St,this.code=Lt,this.continueUrl=null!==(L=Ye.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=Ye.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ge=Ye.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const m=function Ya(y){const p=(0,B.zd)((0,B.pd)(y)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||p||y}(p);try{return new ao(m)}catch(w){return null}}}let jl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return fs._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const N=ao.parseLink(w);return H(N,"argument-error"),fs._fromEmailAndCode(m,N.code,N.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class dr extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Bo extends dr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return H("providerId"in m&&"signInMethod"in m,"argument-error"),ps._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Bo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Bo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:L,nonce:X,providerId:ge}=p;if(!w&&!N&&!m&&!L||!ge)return null;try{return new Bo(ge)._credential({idToken:m,accessToken:w,nonce:X,pendingToken:L})}catch(Ye){return null}}}let lo=(()=>{class y extends dr{constructor(){super("facebook.com")}static credential(m){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ca=(()=>{class y extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:N}=m;if(!w&&!N)return null;try{return y.credential(w,N)}catch(L){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),qc=(()=>{class y extends dr{constructor(){super("github.com")}static credential(m){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wn extends mn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ai(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ai(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ai(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N,pendingToken:L}=m;return w&&N&&L&&w===N?new Wn(w,L):null}static _create(p,m){return new Wn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends Bs{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return hr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return hr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Wn.fromJSON(p);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Wn._create(w,m)}catch(N){return null}}}let Ja=(()=>{class y extends dr{constructor(){super("twitter.com")}static credential(m,w){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=m;if(!w||!N)return null;try{return y.credential(w,N)}catch(L){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Qa(y,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signUp",cn(y,p))})).apply(this,arguments)}class Zn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,N=!1){return(0,c.Z)(function*(){const L=yield K._fromIdTokenResponse(p,w,N),X=Wu(w);return new Zn({user:L,providerId:X,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const N=Wu(w);return new Zn({user:p,providerId:N,_tokenResponse:w,operationType:m})})()}}function Wu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wc(){return(Wc=(0,c.Z)(function*(y){var p;const m=$e(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Zn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Qa(m,{returnSecureToken:!0}),N=yield Zn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class el extends B.ZR{constructor(p,m,w,N){var L;super(m.code,m.message),this.operationType=w,this.user=N,Object.setPrototypeOf(this,el.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,N){return new el(p,m,w,N)}}function tl(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?el._fromErrorAndOperation(y,L,p,w):L})}function gs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Hl(){return(Hl=(0,c.Z)(function*(y,p){const m=(0,B.m9)(y);yield ms(!0,m,p);const{providerUserInfo:w}=yield _i(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=gs(w||[]);return m.providerData=m.providerData.filter(L=>N.has(L.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function xn(y,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,p,m=!1){const w=yield vi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Zn._forOperation(y,"link",w)})).apply(this,arguments)}function ms(y,p,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(y,p,m){yield bi(p);const N=!1===y?"provider-already-linked":"no-such-provider";H(gs(p.providerData).has(m)===y,p.auth,N)})).apply(this,arguments)}function Zc(y,p){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,p,m=!1){const{auth:w}=y,N="reauthenticate";try{const L=yield vi(y,tl(w,N,p,y),m);H(L.idToken,w,"internal-error");const X=tt(L.idToken);H(X,w,"internal-error");const{sub:ge}=X;return H(y.uid===ge,w,"user-mismatch"),Zn._forOperation(y,N,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Pe(w,"user-mismatch"),L}})).apply(this,arguments)}function Ur(y,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(y,p,m=!1){const w="signIn",N=yield tl(y,w,p),L=yield Zn._fromIdTokenResponse(y,w,N);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Kn(y,p){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(y,p){return Ur($e(y),p)})).apply(this,arguments)}function jr(y,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(y,p){const m=(0,B.m9)(y);return yield ms(!1,m,p.providerId),xn(m,p)})).apply(this,arguments)}function js(y,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(y,p){return Zc((0,B.m9)(y),p)})).apply(this,arguments)}function ha(y,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(y,p){return Ti(y,"POST","/v1/accounts:signInWithCustomToken",cn(y,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(y,p){const m=$e(y),w=yield ha(m,{token:p,returnSecureToken:!0}),N=yield Zn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Mt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?nl._fromServerResponse(p,m):Pe(p,"internal-error")}}class nl extends Mt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new nl(m)}}function fa(y,p,m){var w;H((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),H(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function il(){return(il=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y),N={requestType:"PASSWORD_RESET",email:p};m&&fa(w,N,m),yield Wa(w,N)})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y,p,m){yield zn((0,B.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(y,p){yield Jr((0,B.m9)(y),{oobCode:p})})).apply(this,arguments)}function $t(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(y,p){const m=(0,B.m9)(y),w=yield zn(m,{oobCode:p}),N=w.requestType;switch(H(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,m,"internal-error");default:H(w.email,m,"internal-error")}let L=null;return w.mfaInfo&&(L=Mt._fromServerResponse($e(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:N}})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(y,p){const{data:m}=yield $t((0,B.m9)(y),p);return m.email})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(y,p,m){const w=$e(y),N=yield Qa(w,{returnSecureToken:!0,email:p,password:m}),L=yield Zn._fromIdTokenResponse(w,"signIn",N);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y),N={requestType:"EMAIL_SIGNIN",email:p};H(m.handleCodeInApp,w,"argument-error"),m&&fa(w,N,m),yield Vr(w,N)})).apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y),N=jl.credentialWithLink(p,m||Vt());return H(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Kn(w,N)})).apply(this,arguments)}function Mi(y,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:createAuthUri",cn(y,p))})).apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:hn()?Vt():"http://localhost"},{signinMethods:N}=yield Mi((0,B.m9)(y),w);return N||[]})).apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(y,p){const m=(0,B.m9)(y),N={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&fa(m.auth,N,p);const{email:L}=yield Qn(m.auth,N);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&fa(w.auth,L,m);const{email:X}=yield Gc(w.auth,L);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function al(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,B.m9)(y),L={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},X=yield vi(w,al(w.auth,L));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const ge=w.providerData.find(({providerId:Ye})=>"password"===Ye);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function _a(y,p,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,p,m){const{auth:w}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(L.email=p),m&&(L.password=m);const X=yield vi(y,Tt(w,L));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class _s{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Jc extends _s{constructor(p,m,w,N){super(p,m,w),this.username=N}}class Qc extends _s{constructor(p,m){super(p,"facebook.com",m)}}class fo extends Jc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class $r extends _s{constructor(p,m){super(p,"google.com",m)}}class Jl extends Jc{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Gi(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Yl(y){var p,m;if(!y)return null;const{providerId:w}=y,N=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const X=null===(m=null===(p=tt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new _s(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new Qc(L,N);case"github.com":return new fo(L,N);case"google.com":return new $r(L,N);case"twitter.com":return new Jl(L,N,y.screenName||null);case"custom":case"anonymous":return new _s(L,null);default:return new _s(L,w,N)}}(m)}class Qr{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Qr("enroll",p)}static _fromMfaPendingCredential(p){return new Qr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Qr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Qr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ya{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=$e(p),N=m.customData._serverResponse,L=(N.mfaInfo||[]).map(ge=>Mt._fromServerResponse(w,ge));H(N.mfaPendingCredential,w,"internal-error");const X=Qr._fromMfaPendingCredential(N.mfaPendingCredential);return new ya(X,L,function(){var ge=(0,c.Z)(function*(Ye){const _t=yield Ye._process(w,X);delete N.mfaInfo,delete N.mfaPendingCredential;const Lt=Object.assign(Object.assign({},N),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(m.operationType){case"signIn":const St=yield Zn._fromIdTokenResponse(w,m.operationType,Lt);return yield w._updateCurrentUser(St.user),St;case"reauthenticate":return H(m.user,w,"internal-error"),Zn._forOperation(m.user,m.operationType,Lt);default:Pe(w,"internal-error")}});return function(Ye){return ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function li(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:start",cn(y,p))}class ys{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Mt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ys(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Qr._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const N=p,L=yield w.getSession(),X=yield vi(w.user,N._process(w.user.auth,L,m));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,N=yield m.user.getIdToken(),L=yield vi(m.user,function eu(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(y,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:X})=>X!==w),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Ho=new WeakMap,va="__sak";class $i{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bn=(()=>{class y extends $i{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ec(){const y=(0,B.z$)();return un(y)||wi(y)}()&&function pi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=us(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),L=this.localCache[w];N!==L&&m(w,L,N)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ge,Ye,_t)=>{this.notifyListeners(ge,_t)});const N=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(N);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!w)return}const L=()=>{const ge=this.storage.getItem(N);!w&&this.localCache[N]===ge||this.notifyListeners(N,ge)},X=this.storage.getItem(N);!function sa(){return(0,B.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const L of Array.from(N))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var N=()=>super._set,L=this;return(0,c.Z)(function*(){yield N().call(L,m,w),L.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,N=this;return(0,c.Z)(function*(){const L=yield w().call(N,m);return N.localCache[m]=JSON.stringify(L),L})()}_remove(m){var w=()=>super._remove,N=this;return(0,c.Z)(function*(){yield w().call(N,m),delete N.localCache[m]})()}}return y.type="LOCAL",y})(),qt=(()=>{class y extends $i{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let E=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(L=>L.isListeningto(m));if(w)return w;const N=new y(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const N=m,{eventId:L,eventType:X,data:ge}=N.data,Ye=w.handlersMap[X];if(!(null==Ye?void 0:Ye.size))return;N.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const _t=Array.from(Ye).map(function(){var St=(0,c.Z)(function*(di){return di(N.origin,ge)});return function(di){return St.apply(this,arguments)}}()),Lt=yield function Sn(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(_t);N.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:Lt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function D(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class k{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var N=this;return(0,c.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,ge;return new Promise((Ye,_t)=>{const Lt=D("",20);L.port1.start();const St=setTimeout(()=>{_t(new Error("unsupported_event"))},w);ge={messageChannel:L,onMessage(di){const Xs=di;if(Xs.data.eventId===Lt)switch(Xs.data.status){case"ack":clearTimeout(St),X=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ye(Xs.data.response);break;default:clearTimeout(St),clearTimeout(X),_t(new Error("invalid_response"))}}},N.handlers.add(ge),L.port1.addEventListener("message",ge.onMessage),N.target.postMessage({eventType:p,eventId:Lt,data:m},[L.port2])}).finally(()=>{ge&&N.removeMessageHandler(ge)})})()}}function G(){return window}function at(){return void 0!==G().WorkerGlobalScope&&"function"==typeof G().importScripts}function Vn(){return(Vn=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ba="firebaseLocalStorageDb",wa="firebaseLocalStorage",Nn="fbase_key";class go{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Go(y,p){return y.transaction([wa],p?"readwrite":"readonly").objectStore(wa)}function $o(){const y=indexedDB.open(ba,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(wa,{keyPath:Nn})}catch(N){m(N)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(wa)?p(w):(w.close(),yield function Xr(){const y=indexedDB.deleteDatabase(ba);return new go(y).toPromise()}(),p(yield $o()))}))})}function es(y,p,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,p,m){const w=Go(y,!0).put({[Nn]:p,value:m});return new go(w).toPromise()})).apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(y,p){const m=Go(y,!1).get(p),w=yield new go(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Zs(y,p){const m=Go(y,!0).delete(p);return new go(m).toPromise()}const bs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield $o()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let N=0;for(;;)try{const L=yield w._openDb();return yield m(L)}catch(L){if(N++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return at()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=E._getInstance(function po(){return at()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(N,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(N,L){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(N,L){return["keyChanged"]});return function(N,L){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,N;if(m.activeServiceWorker=yield function Ln(){return Vn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new k(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(w=L[0])||void 0===w?void 0:w.fulfilled)&&(null===(N=L[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function it(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield $o();return yield es(m,va,"1"),yield Zs(m,va),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var N=this;return(0,c.Z)(function*(){return N._withPendingWrite((0,c.Z)(function*(){return yield N._withRetries(L=>es(L,m,w)),N.localCache[m]=w,N.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const N=yield w._withRetries(L=>function Ku(y,p){return zo.apply(this,arguments)}(L,m));return w.localCache[m]=N,N})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(N=>Zs(N,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(X=>{const ge=Go(X,!1).getAll();return new go(ge).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const N=[],L=new Set;for(const{fbase_key:X,value:ge}of w)L.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(ge)&&(m.notifyListeners(X,ge),N.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!L.has(X)&&(m.notifyListeners(X,null),N.push(X));return N})()}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const L of Array.from(N))L(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function qo(y,p){return an(y,"POST","/v2/accounts/mfaSignIn:start",cn(y,p))}function ws(){return(ws=(0,c.Z)(function*(y){return(yield an(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ei(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=N=>{const L=Ie("internal-error");L.customData=N,m(L)},w.type="text/javascript",w.charset="UTF-8",function _h(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function ti(y){return`__${y}${Math.floor(1e6*Math.random())}`}const pr=1e12;class Un{constructor(p){this.auth=p,this.counter=pr,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Cs(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||pr;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||pr))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||pr))||void 0===w||w.execute(),""})()}}class Cs{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;H(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jn(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mo=ti("rcb"),yh=new rn(3e4,6e4);class lm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!G().grecaptcha}load(p,m=""){return H(function cm(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(G().grecaptcha):new Promise((w,N)=>{const L=G().setTimeout(()=>{N(Ie(p,"network-request-failed"))},yh.get());G()[mo]=()=>{G().clearTimeout(L),delete G()[mo];const ge=G().grecaptcha;if(!ge)return void N(Ie(p,"internal-error"));const Ye=ge.render;ge.render=(_t,Lt)=>{const St=Ye(_t,Lt);return this.counter++,St},this.hostLanguage=m,w(ge)},ei(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:mo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),N(Ie(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!G().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class um{load(p){return(0,c.Z)(function*(){return new Un(p)})()}clearedOneInstance(){}}const Wo="recaptcha",xi={theme:"light",type:"image"};class Gf{constructor(p,m=Object.assign({},xi),w){this.parameters=m,this.type=Wo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(w),this.isInvisible="invisible"===this.parameters.size,H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;H(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new um:new lm,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(L=>{const X=ge=>{!ge||(p.tokenChangeListeners.delete(X),L(ge))};p.tokenChangeListeners.add(X),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=G()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){H(hn()&&!at(),p.auth,"internal-error"),yield function Zo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ci(y){return ws.apply(this,arguments)}(p.auth);H(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Lo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ni(){return(ni=(0,c.Z)(function*(y,p,m){const w=$e(y),N=yield gr(w,p,(0,B.m9)(m));return new _o(N,L=>Kn(w,L))})).apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y);yield ms(!1,w,"phone");const N=yield gr(w.auth,p,(0,B.m9)(m));return new _o(N,L=>jr(w,L))})).apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y),N=yield gr(w.auth,p,(0,B.m9)(m));return new _o(N,L=>js(w,L))})).apply(this,arguments)}function gr(y,p,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(y,p,m){var w;const N=yield m.verify();try{let L;if(H("string"==typeof N,y,"argument-error"),H(m.type===Wo,y,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const X=L.session;if("phoneNumber"in L)return H("enroll"===X.type,y,"internal-error"),(yield li(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{H("signin"===X.type,y,"internal-error");const ge=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return H(ge,y,"missing-multi-factor-info"),(yield qo(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield hh(y,{phoneNumber:L.phoneNumber,recaptchaToken:N});return X}}finally{m._reset()}})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(y,p){yield xn((0,B.m9)(y),p)})).apply(this,arguments)}let Es=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=$e(m)}verifyPhoneNumber(m,w){return gr(this.auth,m,(0,B.m9)(w))}static credential(m,w){return Lo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:N}=m;return w&&N?Lo._fromTokenResponse(w,N):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ks(y,p){return p?ue(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class tc extends mn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ai(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ai(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ai(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ed(y){return Ur(y.auth,new tc(y),y.bypassAuthState)}function td(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Zc(m,new tc(y),y.bypassAuthState)}function sn(y){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),xn(m,new tc(y),y.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(p,m,w,N,L=!1){this.auth=p,this.resolver=w,this.user=N,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,N){p.pendingPromise={resolve:w,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(w,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:L,tenantId:X,error:ge,type:Ye}=p;if(ge)return void m.reject(ge);const _t={auth:m.auth,requestUri:w,sessionId:N,tenantId:X||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ye)(_t))}catch(Lt){m.reject(Lt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ed;case"linkViaPopup":case"linkViaRedirect":return sn;case"reauthViaPopup":case"reauthViaRedirect":return td;default:Pe(this.auth,"internal-error")}}resolve(p){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const id=new rn(2e3,1e4);function vh(){return(vh=(0,c.Z)(function*(y,p,m){const w=$e(y);Xe(y,p,Bs);const N=Ks(w,m);return new Js(w,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y);Xe(w.auth,p,Bs);const N=Ks(w.auth,m);return new Js(w.auth,"reauthViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y);Xe(w.auth,p,Bs);const N=Ks(w.auth,m);return new Js(w.auth,"linkViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}let Js=(()=>{class y extends Ni{constructor(m,w,N,L,X){super(m,w,L,X),this.provider=N,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return H(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){ce(1===m.filter.length,"Popup operations only handle one event");const w=D();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(Ie(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,N;this.pollId=(null===(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,id.get())};m()}}return y.currentPopupAction=null,y})();const Qs=new Map;class Oi extends Ni{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=Qs.get(m.auth._key());if(!w){try{const L=(yield function ns(y,p){return rd.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(L)}catch(N){w=()=>Promise.reject(N)}Qs.set(m.auth._key(),w)}return m.bypassAuthState||Qs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const N=yield w.auth._redirectUserForId(p.eventId);if(N)return w.user=N,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function rd(){return(rd=(0,c.Z)(function*(y,p){const m=M(p),w=S(y);if(!(yield w._isAvailable()))return!1;const N="true"===(yield w._get(m));return yield w._remove(m),N})).apply(this,arguments)}function Da(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(y,p){return S(y)._set(M(p),"true")})).apply(this,arguments)}function S(y){return ue(y._redirectPersistence)}function M(y){return ye("pendingRedirect",y.config.apiKey,y.name)}function re(){return(re=(0,c.Z)(function*(y,p,m){const w=$e(y);Xe(y,p,Bs);const N=Ks(w,m);return yield Da(N,w),N._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y);Xe(w.auth,p,Bs);const N=Ks(w.auth,m);yield Da(N,w.auth);const L=yield Ta(w);return N._openRedirect(w.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(y,p,m){const w=(0,B.m9)(y);Xe(w.auth,p,Bs);const N=Ks(w.auth,m);yield ms(!1,w,p.providerId),yield Da(N,w.auth);const L=yield Ta(w);return N._openRedirect(w.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(y,p){return yield $e(y)._initializationPromise,ui(y,p,!1)})).apply(this,arguments)}function ui(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(y,p,m=!1){const w=$e(y),N=Ks(w,p),X=yield new Oi(w,N,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,p)),X})).apply(this,arguments)}function Ta(y){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(y){const p=D(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ds{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function sd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wh(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!wh(p)){const N=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ie(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(p))}saveEventToCache(p){this.cachedEventUids.add(Sa(p)),this.lastProcessedEventTime=Date.now()}}function Sa(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function wh({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function od(y){return nc.apply(this,arguments)}function nc(){return(nc=(0,c.Z)(function*(y,p={}){return an(y,"GET","/v1/projects",p)})).apply(this,arguments)}const hm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fy=/^https?/;function vo(){return(vo=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield od(y);for(const m of p)try{if(ad(m))return}catch(w){}Pe(y,"unauthorized-domain")})).apply(this,arguments)}function ad(y){const p=Vt(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===w}if(!Fy.test(m))return!1;if(hm.test(y))return w===y;const N=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const By=new rn(3e4,6e4);function Vy(){const y=G().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Ch=null;function Uy(y){return Ch=Ch||function fm(y){return new Promise((p,m)=>{var w,N,L;function X(){Vy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Vy(),m(Ie(y,"network-request-failed"))},timeout:By.get()})}if(null===(N=null===(w=G().gapi)||void 0===w?void 0:w.iframes)||void 0===N?void 0:N.Iframe)p(gapi.iframes.getContext());else{if(!(null===(L=G().gapi)||void 0===L?void 0:L.load)){const ge=ti("iframefcb");return G()[ge]=()=>{gapi.load?X():m(Ie(y,"network-request-failed"))},ei(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ye=>m(Ye))}X()}}).catch(p=>{throw Ch=null,p})}(y),Ch}const $f=new rn(5e3,15e3),Aa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?ln(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:fe.SDK_VERSION},N=Eh.get(y.config.apiHost);N&&(w.eid=N);const L=y._getFrameworks();return L.length&&(w.fw=L.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function gl(){return gl=(0,c.Z)(function*(y){const p=yield Uy(y),m=G().gapi;return H(m,y,"internal-error"),p.open({where:document.body,url:ic(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aa,dontclear:!0},w=>new Promise(function(){var N=(0,c.Z)(function*(L,X){yield w.restyle({setHideOnLeave:!1});const ge=Ie(y,"network-request-failed"),Ye=G().setTimeout(()=>{X(ge)},$f.get());function _t(){G().clearTimeout(Ye),L(w)}w.ping(_t).then(_t,()=>{X(ge)})});return function(L,X){return N.apply(this,arguments)}}()))}),gl.apply(this,arguments)}const Hy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Zf(y,p,m,w,N,L){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:fe.SDK_VERSION,eventId:N};if(p instanceof Bs){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ye,_t]of Object.entries(L||{}))X[Ye]=_t}if(p instanceof dr){const Ye=p.getScopes().filter(_t=>""!==_t);Ye.length>0&&(X.scopes=Ye.join(","))}y.tenantId&&(X.tid=y.tenantId);const ge=X;for(const Ye of Object.keys(ge))void 0===ge[Ye]&&delete ge[Ye];return`${function $y({config:y}){return y.emulator?ln(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(ge).slice(1)}`}const bo="webStorageSupport";class Ih extends class Kf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ih(p)}_finalizeEnroll(p,m,w){return function Xl(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:finalize",cn(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Ca(y,p){return an(y,"POST","/v2/accounts/mfaSignIn:finalize",cn(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pm=(()=>{class y{constructor(){}static assertion(m){return Ih._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var gm="@firebase/auth",Ah="0.19.11";class mm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var N;p((null===(N=w)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yo(){return window}function sc(){return(sc=(0,c.Z)(function*(y,p,m){var w;const{BuildInfo:N}=Yo();ce(p.sessionId,"AuthEvent did not contain a session ID");const L=yield oc(p.sessionId),X={};return wi()?X.ibi=N.packageName:Rn()?X.apn=N.packageName:Pe(y,"operation-not-supported-in-this-environment"),N.displayName&&(X.appDisplayName=N.displayName),X.sessionId=L,Zf(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,X)})).apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(y){const{BuildInfo:p}=Yo(),m={};wi()?m.iosBundleId=p.packageName:Rn()?m.androidPackageName=p.packageName:Pe(y,"operation-not-supported-in-this-environment"),yield od(y,m)})).apply(this,arguments)}function Mh(){return(Mh=(0,c.Z)(function*(y,p,m){const{cordova:w}=Yo();let N=()=>{};try{yield new Promise((L,X)=>{let ge=null;function Ye(){var St;L();const di=null===(St=w.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof di&&di(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function _t(){ge||(ge=window.setTimeout(()=>{X(Ie(y,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===(null==document?void 0:document.visibilityState)&&_t()}p.addPassiveListener(Ye),document.addEventListener("resume",_t,!1),Rn()&&document.addEventListener("visibilitychange",Lt,!1),N=()=>{p.removePassiveListener(Ye),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",Lt,!1),ge&&window.clearTimeout(ge)}})}finally{N()}})).apply(this,arguments)}function oc(y){return ym.apply(this,arguments)}function ym(){return(ym=(0,c.Z)(function*(y){const p=cu(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cu(y){if(ce(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function qy(y){(0,fe._registerComponent)(new le.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:L,authDomain:X}=w.options;return((ge,Ye)=>{H(L&&!L.includes(":"),"invalid-api-key",{appName:ge.name}),H(!(null==X?void 0:X.includes(":")),"argument-error",{appName:ge.name});const _t={apiKey:L,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oa(y)},Lt=new Nt(ge,Ye,_t);return function pe(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ue);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Lt,m),Lt})(w,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new le.wA("auth-internal",p=>{const m=$e(p.getProvider("auth").getImmediate());return new mm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(gm,Ah,function zy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,fe.registerVersion)(gm,Ah,"esm2017")}("Browser");class Xf extends Ds{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function ud(y){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(y){const p=yield hd()._get(tp(y));return p&&(yield hd()._remove(tp(y))),p})).apply(this,arguments)}function dd(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function hd(){return ue(Bn)}function tp(y){return ye("authEvent",y.config.apiKey,y.name)}function pd(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,B.zd)(m.join("?"))}function sp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function Nh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function bm(y=(0,B.z$)()){return!("file:"!==Nh()&&"ionic:"!==Nh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){try{const y=self.localStorage,p=D();if(y)return y.setItem(p,"1"),y.removeItem(p),!function _l(y=(0,B.z$)()){return function Jy(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qy(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return Na()&&(0,B.hl)()}return!1}function Na(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function md(){return(function Yy(){return"http:"===Nh()||"https:"===Nh()}()||(0,B.ru)()||bm())&&!function Oh(){return(0,B.b$)()||(0,B.UG)()}()&&mr()&&!Na()}function op(){return bm()&&"undefined"!=typeof document}function ac(){return(ac=(0,c.Z)(function*(){return!!op()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ss={LOCAL:"local",NONE:"none",SESSION:"session"},lc=H,lp="persistence";function cc(y){return cp.apply(this,arguments)}function cp(){return(cp=(0,c.Z)(function*(y){yield y._initializationPromise;const p=_d(),m=ye(lp,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function _d(){var y;try{return(null===(y=function ap(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Xy=H;class rs{constructor(){this.browserResolver=ue(class xa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qt,this._completeRedirectFn=ui}_openPopup(p,m,w,N){var L=this;return(0,c.Z)(function*(){var X;ce(null===(X=L.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ge=Zf(p,m,w,Vt(),N);return function Ma(y,p,m,w=500,N=600){const L=Math.max((window.screen.availHeight-N)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const Ye=Object.assign(Object.assign({},Hy),{width:w.toString(),height:N.toString(),top:L,left:X}),_t=(0,B.z$)().toLowerCase();m&&(ge=Ui(_t)?"_blank":m),kt(_t)&&(p=p||"http://localhost",Ye.scrollbars="yes");const Lt=Object.entries(Ye).reduce((di,[Xs,vd])=>`${di}${Xs}=${vd},`,"");if(function Po(y=(0,B.z$)()){var p;return wi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(_t)&&"_self"!==ge)return function Wf(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ge),new Sh(null);const St=window.open(p||"",ge,Lt);H(St,y,"popup-blocked");try{St.focus()}catch(di){}return new Sh(St)}(p,ge,D())})()}_openRedirect(p,m,w,N){var L=this;return(0,c.Z)(function*(){return yield L._originValidation(p),function Re(y){G().location.href=y}(Zf(p,m,w,Vt(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:L}=this.eventManagers[m];return N?Promise.resolve(N):(ce(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function jy(y){return gl.apply(this,arguments)}(p),N=new Ds(p);return w.register("authEvent",L=>(H(null==L?void 0:L.authEvent,p,"invalid-auth-event"),{status:N.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=w,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(bo,{type:bo},N=>{var L;const X=null===(L=null==N?void 0:N[0])||void 0===L?void 0:L[bo];void 0!==X&&m(!!X),Pe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ly(y){return vo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return us()||un()||wi()}}),this.cordovaResolver=ue(class rp{constructor(){this._redirectPersistence=qt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ui}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let N=m.eventManagers.get(w);return N||(N=new Xf(p),m.eventManagers.set(w,N),m.attachCallbackListeners(p,N)),N})()}_openPopup(p){Pe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,N){var L=this;return(0,c.Z)(function*(){!function xh(y){var p,m,w,N,L,X,ge,Ye,_t,Lt;const St=Yo();H("function"==typeof(null===(p=null==St?void 0:St.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(void 0!==(null===(m=null==St?void 0:St.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(L=null===(N=null===(w=null==St?void 0:St.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ye=null===(ge=null===(X=null==St?void 0:St.cordova)||void 0===X?void 0:X.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Ye?void 0:Ye.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Lt=null===(_t=null==St?void 0:St.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===Lt?void 0:Lt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield L._initialize(p);yield X.initialized(),X.resetRedirect(),function au(){Qs.clear()}(),yield L._originValidation(p);const ge=function ep(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:dd(),postBody:null,tenantId:y.tenantId,error:Ie(y,"no-auth-event")}}(p,w,N);yield function Ow(y,p){return hd()._set(tp(y),p)}(p,ge);const Ye=yield function Yf(y,p,m){return sc.apply(this,arguments)}(p,ge,m),_t=yield function cd(y){const{cordova:p}=Yo();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let N=null;w?p.plugins.browsertab.openUrl(y):N=p.InAppBrowser.open(y,function ro(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(N)})})}(Ye);return function _m(y,p,m){return Mh.apply(this,arguments)}(p,X,_t)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Jf(y){return Ts.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:N,BuildInfo:L}=Yo(),X=setTimeout((0,c.Z)(function*(){yield ud(p),m.onEvent(sp())}),500),ge=function(){var Lt=(0,c.Z)(function*(St){clearTimeout(X);const di=yield ud(p);let Xs=null;di&&(null==St?void 0:St.url)&&(Xs=function Zy(y,p){var m,w;const N=function fd(y){const p=pd(y),m=p.link?decodeURIComponent(p.link):void 0,w=pd(m).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return pd(N).link||N||w||m||y}(p);if(N.includes("/__/auth/callback")){const L=pd(N),X=L.firebaseError?function np(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(L.firebaseError)):null,ge=null===(w=null===(m=null==X?void 0:X.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ye=ge?Ie(ge):null;return Ye?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ye,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:N,postBody:null}}return null}(di,St.url)),m.onEvent(Xs||sp())});return function(di){return Lt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ge);const Ye=N,_t=`${L.packageName.toLowerCase()}://`;Yo().handleOpenURL=function(){var Lt=(0,c.Z)(function*(St){if(St.toLowerCase().startsWith(_t)&&ge({url:St}),"function"==typeof Ye)try{Ye(St)}catch(di){console.error(di)}});return function(St){return Lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=qt,this._completeRedirectFn=ui}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,N){var L=this;return(0,c.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,m,w,N)})()}_openRedirect(p,m,w,N){var L=this;return(0,c.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,m,w,N)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return op()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Nr(){return ac.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Em(y){return y.unwrap()}function uc(y){return Dm(y)}function Dm(y){const{_tokenResponse:p}=y instanceof B.ZR?y.customData:y;if(!p)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Es.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ca;break;case"facebook.com":w=lo;break;case"github.com":w=qc;break;case"twitter.com":w=Ja;break;default:const{oauthIdToken:N,oauthAccessToken:L,oauthTokenSecret:X,pendingToken:ge,nonce:Ye}=p;return L||X||N||ge?ge?m.startsWith("saml.")?Wn._create(m,ge):ps._fromParams({providerId:m,signInMethod:m,pendingToken:ge,idToken:N,accessToken:L}):new Bo(m).credential({idToken:N,accessToken:L,rawNonce:Ye}):null}return y instanceof B.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function _r(y,p){return p.catch(m=>{throw m instanceof B.ZR&&function tv(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new nv(y,function ul(y,p){var m;const w=(0,B.m9)(y),N=p;return H(p.customData.operationType,w,"argument-error"),H(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ya._fromError(w,N)}(y,p));else if(w){const N=Dm(p),L=p;N&&(L.credential=N,L.tenantId=w.tenantId||void 0,L.email=w.email||void 0,L.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const N=m.user;return{operationType:m.operationType,credential:uc(m),additionalUserInfo:Gi(m),user:Oa.getOrCreate(N)}})}function up(y,p){return dp.apply(this,arguments)}function dp(){return(dp=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>_r(y,m.confirm(w))}})).apply(this,arguments)}class nv{constructor(p,m){this.resolver=m,this.auth=function ev(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return _r(Em(this.auth),this.resolver.resolveSignIn(p))}}class Oa{constructor(p){this._delegate=p,this.multiFactor=function tu(y){const p=(0,B.m9)(y);return Ho.has(p)||Ho.set(p,ys._fromUser(p)),Ho.get(p)}(p)}static getOrCreate(p){return Oa.USER_MAP.has(p)||Oa.USER_MAP.set(p,new Oa(p)),Oa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return _r(m.auth,jr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return up(w.auth,function Ju(y,p,m){return hl.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return _r(m.auth,function Ys(y,p,m){return ou.apply(this,arguments)}(m._delegate,p,rs))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield cc($e(m.auth)),function pt(y,p,m){return function Gt(y,p,m){return Qt.apply(this,arguments)}(y,p,m)}(m._delegate,p,rs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return _r(m.auth,js(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return up(this.auth,function dm(y,p,m){return Qu.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return _r(this.auth,function Ea(y,p,m){return su.apply(this,arguments)}(this._delegate,p,rs))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield cc($e(m.auth)),function de(y,p,m){return function Be(y,p,m){return Ve.apply(this,arguments)}(y,p,m)}(m._delegate,p,rs)})()}sendEmailVerification(p){return function Gr(y,p){return Zl.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function ua(y,p){return Hl.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ll(y,p){return _a((0,B.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Yc(y,p){return _a((0,B.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Xu(y,p){return yo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function jo(y,p){return Kl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function ga(y,p,m){return Uo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oa.USER_MAP=new WeakMap;const yd=H;let hp=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=m.options;yd(N,"invalid-api-key",{appName:m.name}),yd(N,"invalid-api-key",{appName:m.name});const L="undefined"!=typeof window?rs:void 0;this._delegate=w.initialize({options:{persistence:iv(N,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Mn(y,p,m){const w=$e(y);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const N=!!(null==m?void 0:m.disableWarnings),L=Ii(p),{host:X,port:ge}=function Rs(y){const p=Ii(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const L=N[1];return{host:L,port:oi(w.substr(L.length+1))}}{const[L,X]=w.split(":");return{host:L,port:oi(X)}}}(p);w.config.emulator={url:`${L}//${X}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:ge,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Ir(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function $l(y,p){return ke.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return $t(this._delegate,m)}confirmPasswordReset(m,w){return function uo(y,p,m){return Gl.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var N=this;return(0,c.Z)(function*(){return _r(N._delegate,function ho(y,p,m){return tr.apply(this,arguments)}(N._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ol(y,p){return zs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Wl(y,p){const m=ao.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){yd(md(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function zt(y,p){return Ei.apply(this,arguments)}(m._delegate,rs);return w?_r(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function vm(y,p){$e(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,N){const{next:L,error:X,complete:ge}=fp(m,w,N);return this._delegate.onAuthStateChanged(L,X,ge)}onIdTokenChanged(m,w,N){const{next:L,error:X,complete:ge}=fp(m,w,N);return this._delegate.onIdTokenChanged(L,X,ge)}sendSignInLinkToEmail(m,w){return function ql(y,p,m){return Kc.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function pa(y,p,m){return il.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let N;switch(function wm(y,p){lc(Object.values(Ss).includes(p),y,"invalid-persistence-type"),(0,B.b$)()?lc(p!==Ss.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?lc(p===Ss.NONE,y,"unsupported-persistence-type"):Na()?lc(p===Ss.NONE||p===Ss.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):lc(p===Ss.NONE||mr(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Ss.SESSION:N=qt;break;case Ss.LOCAL:N=(yield ue(bs)._isAvailable())?bs:Bn;break;case Ss.NONE:N=Q;break;default:return Pe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return _r(this._delegate,function Xa(y){return Wc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return _r(this._delegate,Kn(this._delegate,m))}signInWithCustomToken(m){return _r(this._delegate,function Hs(y,p){return Gs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return _r(this._delegate,function rl(y,p,m){return Kn((0,B.m9)(y),jl.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return _r(this._delegate,function sl(y,p,m){return $s.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return up(this._delegate,function ru(y,p,m){return ni.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return yd(md(),w._delegate,"operation-not-supported-in-this-environment"),_r(w._delegate,function Ko(y,p,m){return vh.apply(this,arguments)}(w._delegate,m,rs))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return yd(md(),w._delegate,"operation-not-supported-in-this-environment"),yield cc(w._delegate),function P(y,p,m){return function $(y,p,m){return re.apply(this,arguments)}(y,p,m)}(w._delegate,m,rs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Fn(y,p){return Vo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ss,y})();function fp(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const N=w;return{next:X=>N(X&&Oa.getOrCreate(X)),error:p,complete:m}}function iv(y,p){const m=function Cm(y,p){const m=_d();if(!m)return[];const w=ye(lp,y,p);switch(m.getItem(w)){case Ss.NONE:return[Q];case Ss.LOCAL:return[bs,qt];case Ss.SESSION:return[qt];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(bs)&&m.push(bs),"undefined"!=typeof window)for(const w of[Bn,qt])m.includes(w)||m.push(w);return m.includes(Q)||m.push(Q),m}class pp{constructor(){this.providerId="phone",this._delegate=new Es(Em(ne.Z.auth()))}static credential(p,m){return Es.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}pp.PHONE_SIGN_IN_METHOD=Es.PHONE_SIGN_IN_METHOD,pp.PROVIDER_ID=Es.PROVIDER_ID;const rv=H;class sv{constructor(p,m,w=ne.Z.app()){var N;rv(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Gf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gp(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new hp(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:jl,FacebookAuthProvider:lo,GithubAuthProvider:qc,GoogleAuthProvider:ca,OAuthProvider:Bo,SAMLAuthProvider:hr,PhoneAuthProvider:pp,PhoneMultiFactorGenerator:pm,RecaptchaVerifier:sv,TwitterAuthProvider:Ja,Auth:hp,AuthCredential:mn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(ne.Z)},8306:(wt,xe,V)=>{"use strict";V.d(xe,{y:()=>Y});var c=V(930),ne=V(727),B=V(8822),fe=V(4671);var le=V(2416),_e=V(576),me=V(2806);let Y=(()=>{class Le{constructor(We){We&&(this._subscribe=We)}lift(We){const be=new Le;return be.source=this,be.operator=We,be}subscribe(We,be,Ne){const ht=function Je(Le){return Le&&Le instanceof c.Lv||function oe(Le){return Le&&(0,_e.m)(Le.next)&&(0,_e.m)(Le.error)&&(0,_e.m)(Le.complete)}(Le)&&(0,ne.Nn)(Le)}(We)?We:new c.Hp(We,be,Ne);return(0,me.x)(()=>{const{operator:lt,source:Pe}=this;ht.add(lt?lt.call(ht,Pe):Pe?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(We){try{return this._subscribe(We)}catch(be){We.error(be)}}forEach(We,be){return new(be=J(be))((Ne,ht)=>{const lt=new c.Hp({next:Pe=>{try{We(Pe)}catch(Ie){ht(Ie),lt.unsubscribe()}},error:ht,complete:Ne});this.subscribe(lt)})}_subscribe(We){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(We)}[B.L](){return this}pipe(...We){return function Te(Le){return 0===Le.length?fe.y:1===Le.length?Le[0]:function(We){return Le.reduce((be,Ne)=>Ne(be),We)}}(We)(this)}toPromise(We){return new(We=J(We))((be,Ne)=>{let ht;this.subscribe(lt=>ht=lt,lt=>Ne(lt),()=>be(ht))})}}return Le.create=Ge=>new Le(Ge),Le})();function J(Le){var Ge;return null!==(Ge=null!=Le?Le:le.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(wt,xe,V)=>{"use strict";V.d(xe,{x:()=>le});var c=V(8306),ne=V(727);const fe=(0,V(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),Te=V(2806);let le=(()=>{class me extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const oe=new _e(this,this);return oe.operator=J,oe}_throwIfClosed(){if(this.closed)throw new fe}next(J){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(J)}})}error(J){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:oe}=this;for(;oe.length;)oe.shift().error(J)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:oe,isStopped:Je,observers:Le}=this;return oe||Je?ne.Lc:(this.currentObservers=null,Le.push(J),new ne.w0(()=>{this.currentObservers=null,(0,ae.P)(Le,J)}))}_checkFinalizedStatuses(J){const{hasError:oe,thrownError:Je,isStopped:Le}=this;oe?J.error(Je):Le&&J.complete()}asObservable(){const J=new c.y;return J.source=this,J}}return me.create=(Y,J)=>new _e(Y,J),me})();class _e extends le{constructor(Y,J){super(),this.destination=Y,this.source=J}next(Y){var J,oe;null===(oe=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===oe||oe.call(J,Y)}error(Y){var J,oe;null===(oe=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===oe||oe.call(J,Y)}complete(){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===J||J.call(Y)}_subscribe(Y){var J,oe;return null!==(oe=null===(J=this.source)||void 0===J?void 0:J.subscribe(Y))&&void 0!==oe?oe:ne.Lc}}},930:(wt,xe,V)=>{"use strict";V.d(xe,{Hp:()=>We,Lv:()=>oe});var c=V(576),ne=V(727),B=V(2416),fe=V(7849),ae=V(5032);const Te=me("C",void 0,void 0);function me(Pe,Ie,Me){return{kind:Pe,value:Ie,error:Me}}var Y=V(3410),J=V(2806);class oe extends ne.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,ne.Nn)(Ie)&&Ie.add(this)):this.destination=lt}static create(Ie,Me,Xe){return new We(Ie,Me,Xe)}next(Ie){this.isStopped?ht(function _e(Pe){return me("N",Pe,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?ht(function le(Pe){return me("E",void 0,Pe)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?ht(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Le(Pe,Ie){return Je.call(Pe,Ie)}class Ge{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Ie)}catch(Xe){be(Xe)}}error(Ie){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Ie)}catch(Xe){be(Xe)}else be(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Me){be(Me)}}}class We extends oe{constructor(Ie,Me,Xe){let Ke;if(super(),(0,c.m)(Ie)||!Ie)Ke={next:null!=Ie?Ie:void 0,error:null!=Me?Me:void 0,complete:null!=Xe?Xe:void 0};else{let H;this&&B.v.useDeprecatedNextContext?(H=Object.create(Ie),H.unsubscribe=()=>this.unsubscribe(),Ke={next:Ie.next&&Le(Ie.next,H),error:Ie.error&&Le(Ie.error,H),complete:Ie.complete&&Le(Ie.complete,H)}):Ke=Ie}this.destination=new Ge(Ke)}}function be(Pe){B.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Pe):(0,fe.h)(Pe)}function ht(Pe,Ie){const{onStoppedNotification:Me}=B.v;Me&&Y.z.setTimeout(()=>Me(Pe,Ie))}const lt={closed:!0,next:ae.Z,error:function Ne(Pe){throw Pe},complete:ae.Z}},727:(wt,xe,V)=>{"use strict";V.d(xe,{Lc:()=>Te,w0:()=>ae,Nn:()=>le});var c=V(576);const B=(0,V(3888).d)(me=>function(J){me(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((oe,Je)=>`${Je+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var fe=V(8737);class ae{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Le of J)Le.remove(this);else J.remove(this);const{initialTeardown:oe}=this;if((0,c.m)(oe))try{oe()}catch(Le){Y=Le instanceof B?Le.errors:[Le]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Le of Je)try{_e(Le)}catch(Ge){Y=null!=Y?Y:[],Ge instanceof B?Y=[...Y,...Ge.errors]:Y.push(Ge)}}if(Y)throw new B(Y)}}add(Y){var J;if(Y&&Y!==this)if(this.closed)_e(Y);else{if(Y instanceof ae){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(Y)}}_hasParent(Y){const{_parentage:J}=this;return J===Y||Array.isArray(J)&&J.includes(Y)}_addParent(Y){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(Y),J):J?[J,Y]:Y}_removeParent(Y){const{_parentage:J}=this;J===Y?this._parentage=null:Array.isArray(J)&&(0,fe.P)(J,Y)}remove(Y){const{_finalizers:J}=this;J&&(0,fe.P)(J,Y),Y instanceof ae&&Y._removeParent(this)}}ae.EMPTY=(()=>{const me=new ae;return me.closed=!0,me})();const Te=ae.EMPTY;function le(me){return me instanceof ae||me&&"closed"in me&&(0,c.m)(me.remove)&&(0,c.m)(me.add)&&(0,c.m)(me.unsubscribe)}function _e(me){(0,c.m)(me)?me():me.unsubscribe()}},2416:(wt,xe,V)=>{"use strict";V.d(xe,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,xe,V)=>{"use strict";V.d(xe,{E:()=>ne});const ne=new(V(8306).y)(ae=>ae.complete())},8996:(wt,xe,V)=>{"use strict";V.d(xe,{D:()=>Ie});var c=V(8421),ne=V(5363),B=V(9468),Te=V(8306),_e=V(2202),me=V(576),Y=V(9672);function oe(Me,Xe){if(!Me)throw new Error("Iterable cannot be null");return new Te.y(Ke=>{(0,Y.f)(Ke,Xe,()=>{const H=Me[Symbol.asyncIterator]();(0,Y.f)(Ke,Xe,()=>{H.next().then(ie=>{ie.done?Ke.complete():Ke.next(ie.value)})},0,!0)})})}var Je=V(3670),Le=V(8239),Ge=V(1144),We=V(6495),be=V(2206),Ne=V(4532),ht=V(3260);function Ie(Me,Xe){return Xe?function Pe(Me,Xe){if(null!=Me){if((0,Je.c)(Me))return function fe(Me,Xe){return(0,c.Xf)(Me).pipe((0,B.R)(Xe),(0,ne.Q)(Xe))}(Me,Xe);if((0,Ge.z)(Me))return function le(Me,Xe){return new Te.y(Ke=>{let H=0;return Xe.schedule(function(){H===Me.length?Ke.complete():(Ke.next(Me[H++]),Ke.closed||this.schedule())})})}(Me,Xe);if((0,Le.t)(Me))return function ae(Me,Xe){return(0,c.Xf)(Me).pipe((0,B.R)(Xe),(0,ne.Q)(Xe))}(Me,Xe);if((0,be.D)(Me))return oe(Me,Xe);if((0,We.T)(Me))return function J(Me,Xe){return new Te.y(Ke=>{let H;return(0,Y.f)(Ke,Xe,()=>{H=Me[_e.h](),(0,Y.f)(Ke,Xe,()=>{let ie,ce;try{({value:ie,done:ce}=H.next())}catch(we){return void Ke.error(we)}ce?Ke.complete():Ke.next(ie)},0,!0)}),()=>(0,me.m)(null==H?void 0:H.return)&&H.return()})}(Me,Xe);if((0,ht.L)(Me))return function lt(Me,Xe){return oe((0,ht.Q)(Me),Xe)}(Me,Xe)}throw(0,Ne.z)(Me)}(Me,Xe):(0,c.Xf)(Me)}},8421:(wt,xe,V)=>{"use strict";V.d(xe,{Xf:()=>Je});var c=V(655),ne=V(1144),B=V(8239),fe=V(8306),ae=V(3670),Te=V(2206),le=V(4532),_e=V(6495),me=V(3260),Y=V(576),J=V(7849),oe=V(8822);function Je(Pe){if(Pe instanceof fe.y)return Pe;if(null!=Pe){if((0,ae.c)(Pe))return function Le(Pe){return new fe.y(Ie=>{const Me=Pe[oe.L]();if((0,Y.m)(Me.subscribe))return Me.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,ne.z)(Pe))return function Ge(Pe){return new fe.y(Ie=>{for(let Me=0;Me<Pe.length&&!Ie.closed;Me++)Ie.next(Pe[Me]);Ie.complete()})}(Pe);if((0,B.t)(Pe))return function We(Pe){return new fe.y(Ie=>{Pe.then(Me=>{Ie.closed||(Ie.next(Me),Ie.complete())},Me=>Ie.error(Me)).then(null,J.h)})}(Pe);if((0,Te.D)(Pe))return Ne(Pe);if((0,_e.T)(Pe))return function be(Pe){return new fe.y(Ie=>{for(const Me of Pe)if(Ie.next(Me),Ie.closed)return;Ie.complete()})}(Pe);if((0,me.L)(Pe))return function ht(Pe){return Ne((0,me.Q)(Pe))}(Pe)}throw(0,le.z)(Pe)}function Ne(Pe){return new fe.y(Ie=>{(function lt(Pe,Ie){var Me,Xe,Ke,H;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Me=(0,c.KL)(Pe);!(Xe=yield Me.next()).done;)if(Ie.next(Xe.value),Ie.closed)return}catch(ie){Ke={error:ie}}finally{try{Xe&&!Xe.done&&(H=Me.return)&&(yield H.call(Me))}finally{if(Ke)throw Ke.error}}Ie.complete()})})(Pe,Ie).catch(Me=>Ie.error(Me))})}},6451:(wt,xe,V)=>{"use strict";V.d(xe,{T:()=>Te});var c=V(8189),ne=V(8421),B=V(515),fe=V(3269),ae=V(8996);function Te(...le){const _e=(0,fe.yG)(le),me=(0,fe._6)(le,1/0),Y=le;return Y.length?1===Y.length?(0,ne.Xf)(Y[0]):(0,c.J)(me)((0,ae.D)(Y,_e)):B.E}},5403:(wt,xe,V)=>{"use strict";V.d(xe,{x:()=>ne});var c=V(930);function ne(fe,ae,Te,le,_e){return new B(fe,ae,Te,le,_e)}class B extends c.Lv{constructor(ae,Te,le,_e,me,Y){super(ae),this.onFinalize=me,this.shouldUnsubscribe=Y,this._next=Te?function(J){try{Te(J)}catch(oe){ae.error(oe)}}:super._next,this._error=_e?function(J){try{_e(J)}catch(oe){ae.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(J){ae.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(wt,xe,V)=>{"use strict";V.d(xe,{U:()=>B});var c=V(4482),ne=V(5403);function B(fe,ae){return(0,c.e)((Te,le)=>{let _e=0;Te.subscribe((0,ne.x)(le,me=>{le.next(fe.call(ae,me,_e++))}))})}},8189:(wt,xe,V)=>{"use strict";V.d(xe,{J:()=>B});var c=V(5577),ne=V(4671);function B(fe=1/0){return(0,c.z)(ne.y,fe)}},5577:(wt,xe,V)=>{"use strict";V.d(xe,{z:()=>_e});var c=V(4004),ne=V(8421),B=V(4482),fe=V(9672),ae=V(5403),le=V(576);function _e(me,Y,J=1/0){return(0,le.m)(Y)?_e((oe,Je)=>(0,c.U)((Le,Ge)=>Y(oe,Le,Je,Ge))((0,ne.Xf)(me(oe,Je))),J):("number"==typeof Y&&(J=Y),(0,B.e)((oe,Je)=>function Te(me,Y,J,oe,Je,Le,Ge,We){const be=[];let Ne=0,ht=0,lt=!1;const Pe=()=>{lt&&!be.length&&!Ne&&Y.complete()},Ie=Xe=>Ne<oe?Me(Xe):be.push(Xe),Me=Xe=>{Le&&Y.next(Xe),Ne++;let Ke=!1;(0,ne.Xf)(J(Xe,ht++)).subscribe((0,ae.x)(Y,H=>{null==Je||Je(H),Le?Ie(H):Y.next(H)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(Ne--;be.length&&Ne<oe;){const H=be.shift();Ge?(0,fe.f)(Y,Ge,()=>Me(H)):Me(H)}Pe()}catch(H){Y.error(H)}}))};return me.subscribe((0,ae.x)(Y,Ie,()=>{lt=!0,Pe()})),()=>{null==We||We()}}(oe,Je,me,J)))}},5363:(wt,xe,V)=>{"use strict";V.d(xe,{Q:()=>fe});var c=V(9672),ne=V(4482),B=V(5403);function fe(ae,Te=0){return(0,ne.e)((le,_e)=>{le.subscribe((0,B.x)(_e,me=>(0,c.f)(_e,ae,()=>_e.next(me),Te),()=>(0,c.f)(_e,ae,()=>_e.complete(),Te),me=>(0,c.f)(_e,ae,()=>_e.error(me),Te)))})}},3099:(wt,xe,V)=>{"use strict";V.d(xe,{B:()=>Te});var c=V(8996),ne=V(5698),B=V(7579),fe=V(930),ae=V(4482);function Te(_e={}){const{connector:me=(()=>new B.x),resetOnError:Y=!0,resetOnComplete:J=!0,resetOnRefCountZero:oe=!0}=_e;return Je=>{let Le=null,Ge=null,We=null,be=0,Ne=!1,ht=!1;const lt=()=>{null==Ge||Ge.unsubscribe(),Ge=null},Pe=()=>{lt(),Le=We=null,Ne=ht=!1},Ie=()=>{const Me=Le;Pe(),null==Me||Me.unsubscribe()};return(0,ae.e)((Me,Xe)=>{be++,!ht&&!Ne&&lt();const Ke=We=null!=We?We:me();Xe.add(()=>{be--,0===be&&!ht&&!Ne&&(Ge=le(Ie,oe))}),Ke.subscribe(Xe),Le||(Le=new fe.Hp({next:H=>Ke.next(H),error:H=>{ht=!0,lt(),Ge=le(Pe,Y,H),Ke.error(H)},complete:()=>{Ne=!0,lt(),Ge=le(Pe,J),Ke.complete()}}),(0,c.D)(Me).subscribe(Le))})(Je)}}function le(_e,me,...Y){return!0===me?(_e(),null):!1===me?null:me(...Y).pipe((0,ne.q)(1)).subscribe(()=>_e())}},9468:(wt,xe,V)=>{"use strict";V.d(xe,{R:()=>ne});var c=V(4482);function ne(B,fe=0){return(0,c.e)((ae,Te)=>{Te.add(B.schedule(()=>ae.subscribe(Te),fe))})}},5698:(wt,xe,V)=>{"use strict";V.d(xe,{q:()=>fe});var c=V(515),ne=V(4482),B=V(5403);function fe(ae){return ae<=0?()=>c.E:(0,ne.e)((Te,le)=>{let _e=0;Te.subscribe((0,B.x)(le,me=>{++_e<=ae&&(le.next(me),ae<=_e&&le.complete())}))})}},8505:(wt,xe,V)=>{"use strict";V.d(xe,{b:()=>ae});var c=V(576),ne=V(4482),B=V(5403),fe=V(4671);function ae(Te,le,_e){const me=(0,c.m)(Te)||le||_e?{next:Te,error:le,complete:_e}:Te;return me?(0,ne.e)((Y,J)=>{var oe;null===(oe=me.subscribe)||void 0===oe||oe.call(me);let Je=!0;Y.subscribe((0,B.x)(J,Le=>{var Ge;null===(Ge=me.next)||void 0===Ge||Ge.call(me,Le),J.next(Le)},()=>{var Le;Je=!1,null===(Le=me.complete)||void 0===Le||Le.call(me),J.complete()},Le=>{var Ge;Je=!1,null===(Ge=me.error)||void 0===Ge||Ge.call(me,Le),J.error(Le)},()=>{var Le,Ge;Je&&(null===(Le=me.unsubscribe)||void 0===Le||Le.call(me)),null===(Ge=me.finalize)||void 0===Ge||Ge.call(me)}))}):fe.y}},4408:(wt,xe,V)=>{"use strict";V.d(xe,{o:()=>ae});var c=V(727);class ne extends c.w0{constructor(le,_e){super()}schedule(le,_e=0){return this}}const B={setInterval(Te,le,..._e){const{delegate:me}=B;return(null==me?void 0:me.setInterval)?me.setInterval(Te,le,..._e):setInterval(Te,le,..._e)},clearInterval(Te){const{delegate:le}=B;return((null==le?void 0:le.clearInterval)||clearInterval)(Te)},delegate:void 0};var fe=V(8737);class ae extends ne{constructor(le,_e){super(le,_e),this.scheduler=le,this.work=_e,this.pending=!1}schedule(le,_e=0){if(this.closed)return this;this.state=le;const me=this.id,Y=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Y,me,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(Y,this.id,_e),this}requestAsyncId(le,_e,me=0){return B.setInterval(le.flush.bind(le,this),me)}recycleAsyncId(le,_e,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return _e;B.clearInterval(_e)}execute(le,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(le,_e);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,_e){let Y,me=!1;try{this.work(le)}catch(J){me=!0,Y=J||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:le,scheduler:_e}=this,{actions:me}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(me,this),null!=le&&(this.id=this.recycleAsyncId(_e,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,xe,V)=>{"use strict";V.d(xe,{v:()=>B});var c=V(6063);class ne{constructor(ae,Te=ne.now){this.schedulerActionCtor=ae,this.now=Te}schedule(ae,Te=0,le){return new this.schedulerActionCtor(this,ae).schedule(le,Te)}}ne.now=c.l.now;class B extends ne{constructor(ae,Te=ne.now){super(ae,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:Te}=this;if(this._active)return void Te.push(ae);let le;this._active=!0;do{if(le=ae.execute(ae.state,ae.delay))break}while(ae=Te.shift());if(this._active=!1,le){for(;ae=Te.shift();)ae.unsubscribe();throw le}}}},4986:(wt,xe,V)=>{"use strict";V.d(xe,{P:()=>fe,z:()=>B});var c=V(4408);const B=new(V(7565).v)(c.o),fe=B},6063:(wt,xe,V)=>{"use strict";V.d(xe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(wt,xe,V)=>{"use strict";V.d(xe,{z:()=>c});const c={setTimeout(ne,B,...fe){const{delegate:ae}=c;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(ne,B,...fe):setTimeout(ne,B,...fe)},clearTimeout(ne){const{delegate:B}=c;return((null==B?void 0:B.clearTimeout)||clearTimeout)(ne)},delegate:void 0}},2202:(wt,xe,V)=>{"use strict";V.d(xe,{h:()=>ne});const ne=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,xe,V)=>{"use strict";V.d(xe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,xe,V)=>{"use strict";V.d(xe,{_6:()=>Te,jO:()=>fe,yG:()=>ae});var c=V(576),ne=V(3532);function B(le){return le[le.length-1]}function fe(le){return(0,c.m)(B(le))?le.pop():void 0}function ae(le){return(0,ne.K)(B(le))?le.pop():void 0}function Te(le,_e){return"number"==typeof B(le)?le.pop():_e}},8737:(wt,xe,V)=>{"use strict";function c(ne,B){if(ne){const fe=ne.indexOf(B);0<=fe&&ne.splice(fe,1)}}V.d(xe,{P:()=>c})},3888:(wt,xe,V)=>{"use strict";function c(ne){const fe=ne(ae=>{Error.call(ae),ae.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}V.d(xe,{d:()=>c})},2806:(wt,xe,V)=>{"use strict";V.d(xe,{O:()=>fe,x:()=>B});var c=V(2416);let ne=null;function B(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!ne;if(Te&&(ne={errorThrown:!1,error:null}),ae(),Te){const{errorThrown:le,error:_e}=ne;if(ne=null,le)throw _e}}else ae()}function fe(ae){c.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ae)}},9672:(wt,xe,V)=>{"use strict";function c(ne,B,fe,ae=0,Te=!1){const le=B.schedule(function(){fe(),Te?ne.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ne.add(le),!Te)return le}V.d(xe,{f:()=>c})},4671:(wt,xe,V)=>{"use strict";function c(ne){return ne}V.d(xe,{y:()=>c})},1144:(wt,xe,V)=>{"use strict";V.d(xe,{z:()=>c});const c=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(wt,xe,V)=>{"use strict";V.d(xe,{D:()=>ne});var c=V(576);function ne(B){return Symbol.asyncIterator&&(0,c.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(wt,xe,V)=>{"use strict";function c(ne){return"function"==typeof ne}V.d(xe,{m:()=>c})},3670:(wt,xe,V)=>{"use strict";V.d(xe,{c:()=>B});var c=V(8822),ne=V(576);function B(fe){return(0,ne.m)(fe[c.L])}},6495:(wt,xe,V)=>{"use strict";V.d(xe,{T:()=>B});var c=V(2202),ne=V(576);function B(fe){return(0,ne.m)(null==fe?void 0:fe[c.h])}},8239:(wt,xe,V)=>{"use strict";V.d(xe,{t:()=>ne});var c=V(576);function ne(B){return(0,c.m)(null==B?void 0:B.then)}},3260:(wt,xe,V)=>{"use strict";V.d(xe,{L:()=>fe,Q:()=>B});var c=V(655),ne=V(576);function B(ae){return(0,c.FC)(this,arguments,function*(){const le=ae.getReader();try{for(;;){const{value:_e,done:me}=yield(0,c.qq)(le.read());if(me)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(_e)}}finally{le.releaseLock()}})}function fe(ae){return(0,ne.m)(null==ae?void 0:ae.getReader)}},3532:(wt,xe,V)=>{"use strict";V.d(xe,{K:()=>ne});var c=V(576);function ne(B){return B&&(0,c.m)(B.schedule)}},4482:(wt,xe,V)=>{"use strict";V.d(xe,{A:()=>ne,e:()=>B});var c=V(576);function ne(fe){return(0,c.m)(null==fe?void 0:fe.lift)}function B(fe){return ae=>{if(ne(ae))return ae.lift(function(Te){try{return fe(Te,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,xe,V)=>{"use strict";function c(){}V.d(xe,{Z:()=>c})},7849:(wt,xe,V)=>{"use strict";V.d(xe,{h:()=>B});var c=V(2416),ne=V(3410);function B(fe){ne.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw fe;ae(fe)})}},4532:(wt,xe,V)=>{"use strict";function c(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(xe,{z:()=>c})},5226:function(wt){wt.exports=function(){"use strict";const xe="SweetAlert2:",c=E=>E.charAt(0).toUpperCase()+E.slice(1),ne=E=>Array.prototype.slice.call(E),B=E=>{console.warn("".concat(xe," ").concat("object"==typeof E?E.join(" "):E))},fe=E=>{console.error("".concat(xe," ").concat(E))},ae=[],le=(E,D)=>{(E=>{ae.includes(E)||(ae.push(E),B(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},_e=E=>"function"==typeof E?E():E,me=E=>E&&"function"==typeof E.toPromise,Y=E=>me(E)?E.toPromise():Promise.resolve(E),J=E=>E&&Promise.resolve(E)===E,Je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Le=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ge={},We=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],be=E=>Object.prototype.hasOwnProperty.call(Je,E),Ne=E=>-1!==Le.indexOf(E),ht=E=>Ge[E],lt=E=>{be(E)||B('Unknown parameter "'.concat(E,'"'))},Pe=E=>{We.includes(E)&&B('The parameter "'.concat(E,'" is incompatible with toasts'))},Ie=E=>{ht(E)&&le(E,ht(E))},Ke=E=>{const D={};for(const k in E)D[E[k]]="swal2-"+E[k];return D},H=Ke(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),ie=Ke(["success","warning","info","question","error"]),ce=()=>document.body.querySelector(".".concat(H.container)),we=E=>{const D=ce();return D?D.querySelector(E):null},ue=E=>we(".".concat(E)),Se=()=>ue(H.popup),pe=()=>ue(H.icon),Vt=()=>ue(H.title),hn=()=>ue(H["html-container"]),Gn=()=>ue(H.image),Et=()=>ue(H["progress-steps"]),It=()=>ue(H["validation-message"]),rn=()=>we(".".concat(H.actions," .").concat(H.confirm)),ln=()=>we(".".concat(H.actions," .").concat(H.deny)),fn=()=>we(".".concat(H.loader)),Bi=()=>we(".".concat(H.actions," .").concat(H.cancel)),cn=()=>ue(H.actions),an=()=>ue(H.footer),si=()=>ue(H["timer-progress-bar"]),Qi=()=>ue(H.close),Ti=()=>{const E=ne(Se().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((k,G)=>{const Re=parseInt(k.getAttribute("tabindex")),at=parseInt(G.getAttribute("tabindex"));return Re>at?1:Re<at?-1:0}),D=ne(Se().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(k=>"-1"!==k.getAttribute("tabindex"));return(E=>{const D=[];for(let k=0;k<E.length;k++)-1===D.indexOf(E[k])&&D.push(E[k]);return D})(E.concat(D)).filter(k=>Ft(k))},Tr=()=>$n(document.body,H.shown)&&!$n(document.body,H["toast-shown"])&&!$n(document.body,H["no-backdrop"]),mi=()=>Se()&&$n(Se(),H.toast),Xi={previousBodyPadding:null},ot=(E,D)=>{if(E.textContent="",D){const G=(new DOMParser).parseFromString(D,"text/html");ne(G.querySelector("head").childNodes).forEach(Re=>{E.appendChild(Re)}),ne(G.querySelector("body").childNodes).forEach(Re=>{E.appendChild(Re)})}},$n=(E,D)=>{if(!D)return!1;const k=D.split(/\s+/);for(let G=0;G<k.length;G++)if(!E.classList.contains(k[G]))return!1;return!0},bn=(E,D,k)=>{if(((E,D)=>{ne(E.classList).forEach(k=>{!Object.values(H).includes(k)&&!Object.values(ie).includes(k)&&!Object.values(D.showClass).includes(k)&&E.classList.remove(k)})})(E,D),D.customClass&&D.customClass[k]){if("string"!=typeof D.customClass[k]&&!D.customClass[k].forEach)return B("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(typeof D.customClass[k],'"'));xt(E,D.customClass[k])}},er=(E,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return E.querySelector(".".concat(H.popup," > .").concat(H[D]));case"checkbox":return E.querySelector(".".concat(H.popup," > .").concat(H.checkbox," input"));case"radio":return E.querySelector(".".concat(H.popup," > .").concat(H.radio," input:checked"))||E.querySelector(".".concat(H.popup," > .").concat(H.radio," input:first-child"));case"range":return E.querySelector(".".concat(H.popup," > .").concat(H.range," input"));default:return E.querySelector(".".concat(H.popup," > .").concat(H.input))}},ks=E=>{if(E.focus(),"file"!==E.type){const D=E.value;E.value="",E.value=D}},kn=(E,D,k)=>{!E||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(G=>{Array.isArray(E)?E.forEach(Re=>{k?Re.classList.add(G):Re.classList.remove(G)}):k?E.classList.add(G):E.classList.remove(G)}))},xt=(E,D)=>{kn(E,D,!0)},yi=(E,D)=>{kn(E,D,!1)},Sr=(E,D)=>{const k=ne(E.childNodes);for(let G=0;G<k.length;G++)if($n(k[G],D))return k[G]},en=(E,D,k)=>{k==="".concat(parseInt(k))&&(k=parseInt(k)),k||0===parseInt(k)?E.style[D]="number"==typeof k?"".concat(k,"px"):k:E.style.removeProperty(D)},tt=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},mt=E=>{E.style.display="none"},vi=(E,D,k,G)=>{const Re=E.querySelector(D);Re&&(Re.style[k]=G)},cr=(E,D,k)=>{D?tt(E,k):mt(E)},Ft=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),Si=E=>E.scrollHeight>E.clientHeight,bi=E=>{const D=window.getComputedStyle(E),k=parseFloat(D.getPropertyValue("animation-duration")||"0"),G=parseFloat(D.getPropertyValue("transition-duration")||"0");return k>0||G>0},Dt=function(E){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=si();Ft(k)&&(D&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition="width ".concat(E/1e3,"s linear"),k.style.width="0%"},10))},tn=()=>"undefined"==typeof window||"undefined"==typeof document,he={},At=E=>new Promise(D=>{if(!E)return D();const k=window.scrollX,G=window.scrollY;he.restoreFocusTimeout=setTimeout(()=>{he.previousActiveElement&&he.previousActiveElement.focus?(he.previousActiveElement.focus(),he.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(k,G)}),on='\n <div aria-labelledby="'.concat(H.title,'" aria-describedby="').concat(H["html-container"],'" class="').concat(H.popup,'" tabindex="-1">\n   <button type="button" class="').concat(H.close,'"></button>\n   <ul class="').concat(H["progress-steps"],'"></ul>\n   <div class="').concat(H.icon,'"></div>\n   <img class="').concat(H.image,'" />\n   <h2 class="').concat(H.title,'" id="').concat(H.title,'"></h2>\n   <div class="').concat(H["html-container"],'" id="').concat(H["html-container"],'"></div>\n   <input class="').concat(H.input,'" />\n   <input type="file" class="').concat(H.file,'" />\n   <div class="').concat(H.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(H.select,'"></select>\n   <div class="').concat(H.radio,'"></div>\n   <label for="').concat(H.checkbox,'" class="').concat(H.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(H.label,'"></span>\n   </label>\n   <textarea class="').concat(H.textarea,'"></textarea>\n   <div class="').concat(H["validation-message"],'" id="').concat(H["validation-message"],'"></div>\n   <div class="').concat(H.actions,'">\n     <div class="').concat(H.loader,'"></div>\n     <button type="button" class="').concat(H.confirm,'"></button>\n     <button type="button" class="').concat(H.deny,'"></button>\n     <button type="button" class="').concat(H.cancel,'"></button>\n   </div>\n   <div class="').concat(H.footer,'"></div>\n   <div class="').concat(H["timer-progress-bar-container"],'">\n     <div class="').concat(H["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),K=()=>{he.currentInstance.resetValidationMessage()},Ze=E=>{const D=(()=>{const E=ce();return!!E&&(E.remove(),yi([document.documentElement,document.body],[H["no-backdrop"],H["toast-shown"],H["has-column"]]),!0)})();if(tn())return void fe("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=H.container,D&&xt(k,H["no-transition"]),ot(k,on);const G=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);G.appendChild(k),(E=>{const D=Se();D.setAttribute("role",E.toast?"alert":"dialog"),D.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||D.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&xt(ce(),H.rtl)})(G),(()=>{const E=Se(),D=Sr(E,H.input),k=Sr(E,H.file),G=E.querySelector(".".concat(H.range," input")),Re=E.querySelector(".".concat(H.range," output")),at=Sr(E,H.select),Ln=E.querySelector(".".concat(H.checkbox," input")),Vn=Sr(E,H.textarea);D.oninput=K,k.onchange=K,at.onchange=K,Ln.onchange=K,Vn.oninput=K,G.oninput=()=>{K(),Re.value=G.value},G.onchange=()=>{K(),G.nextSibling.value=G.value}})(),kt(k,E)},kt=(E,D)=>{if(D.toast)return;const k=(E=>E[Math.floor(Math.random()*E.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const G=document.createElement("div");G.className=H["no-war"],ot(G,'<a href="https://www.youtube.com/watch?v='.concat(k.youtubeId,'" target="_blank">').concat(k.text,"</a>")),E.appendChild(G),E.style.paddingTop="4em"}},un=(E,D)=>{E instanceof HTMLElement?D.appendChild(E):"object"==typeof E?Ui(E,D):E&&ot(D,E)},Ui=(E,D)=>{E.jquery?dn(D,E):ot(D,E.toString())},dn=(E,D)=>{if(E.textContent="",0 in D)for(let k=0;k in D;k++)E.appendChild(D[k].cloneNode(!0));else E.appendChild(D.cloneNode(!0))},Rn=(()=>{if(tn())return!1;const E=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in D)if(Object.prototype.hasOwnProperty.call(D,k)&&void 0!==E.style[k])return D[k];return!1})(),An=(E,D)=>{const k=cn(),G=fn();D.showConfirmButton||D.showDenyButton||D.showCancelButton?tt(k):mt(k),bn(k,D,"actions"),function wi(E,D,k){const G=rn(),Re=ln(),at=Bi();Po(G,"confirm",k),Po(Re,"deny",k),Po(at,"cancel",k),function ro(E,D,k,G){if(!G.buttonsStyling)return yi([E,D,k],H.styled);xt([E,D,k],H.styled),G.confirmButtonColor&&(E.style.backgroundColor=G.confirmButtonColor,xt(E,H["default-outline"])),G.denyButtonColor&&(D.style.backgroundColor=G.denyButtonColor,xt(D,H["default-outline"])),G.cancelButtonColor&&(k.style.backgroundColor=G.cancelButtonColor,xt(k,H["default-outline"]))}(G,Re,at,k),k.reverseButtons&&(k.toast?(E.insertBefore(at,G),E.insertBefore(Re,G)):(E.insertBefore(at,D),E.insertBefore(Re,D),E.insertBefore(G,D)))}(k,G,D),ot(G,D.loaderHtml),bn(G,D,"loader")};function Po(E,D,k){cr(E,k["show".concat(c(D),"Button")],"inline-block"),ot(E,k["".concat(D,"ButtonText")]),E.setAttribute("aria-label",k["".concat(D,"ButtonAriaLabel")]),E.className=H[D],bn(E,k,"".concat(D,"Button")),xt(E,k["".concat(D,"ButtonClass")])}const oa=(E,D)=>{const k=ce();!k||(function sa(E,D){"string"==typeof D?E.style.background=D:D||xt([document.documentElement,document.body],H["no-backdrop"])}(k,D.backdrop),function us(E,D){D in H?xt(E,H[D]):(B('The "position" parameter is not valid, defaulting to "center"'),xt(E,H.center))}(k,D.position),function pi(E,D){if(D&&"string"==typeof D){const k="grow-".concat(D);k in H&&xt(E,H[k])}}(k,D.grow),bn(k,D,"container"))};var Nt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $e=["input","file","range","select","radio","checkbox","textarea"],Mn=E=>{if(!Tt[E.input])return fe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const D=zn(E.input),k=Tt[E.input](D,E);tt(D),setTimeout(()=>{ks(k)})},Rs=(E,D)=>{const k=er(Se(),E);if(k){(E=>{for(let D=0;D<E.attributes.length;D++){const k=E.attributes[D].name;["type","value","style"].includes(k)||E.removeAttribute(k)}})(k);for(const G in D)k.setAttribute(G,D[G])}},oi=E=>{const D=zn(E.input);"object"==typeof E.customClass&&xt(D,E.customClass.input)},Ir=(E,D)=>{(!E.placeholder||D.inputPlaceholder)&&(E.placeholder=D.inputPlaceholder)},mn=(E,D,k)=>{if(k.inputLabel){E.id=H.input;const G=document.createElement("label"),Re=H["input-label"];G.setAttribute("for",E.id),G.className=Re,"object"==typeof k.customClass&&xt(G,k.customClass.inputLabel),G.innerText=k.inputLabel,D.insertAdjacentElement("beforebegin",G)}},zn=E=>Sr(Se(),H[E]||H.input),Br=(E,D)=>{["string","number"].includes(typeof D)?E.value="".concat(D):J(D)||B('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D,'"'))},Tt={};Tt.text=Tt.email=Tt.password=Tt.number=Tt.tel=Tt.url=(E,D)=>(Br(E,D.inputValue),mn(E,E,D),Ir(E,D),E.type=D.input,E),Tt.file=(E,D)=>(mn(E,E,D),Ir(E,D),E),Tt.range=(E,D)=>{const k=E.querySelector("input"),G=E.querySelector("output");return Br(k,D.inputValue),k.type=D.input,Br(G,D.inputValue),mn(k,E,D),E},Tt.select=(E,D)=>{if(E.textContent="",D.inputPlaceholder){const k=document.createElement("option");ot(k,D.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,E.appendChild(k)}return mn(E,E,D),E},Tt.radio=E=>(E.textContent="",E),Tt.checkbox=(E,D)=>{const k=er(Se(),"checkbox");k.value="1",k.id=H.checkbox,k.checked=Boolean(D.inputValue);const G=E.querySelector("span");return ot(G,D.inputPlaceholder),k},Tt.textarea=(E,D)=>{Br(E,D.inputValue),Ir(E,D),mn(E,E,D);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(Se()).width);new MutationObserver(()=>{const at=E.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(E);Se().style.width=at>G?"".concat(at,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const so=(E,D)=>{const k=hn();bn(k,D,"htmlContainer"),D.html?(un(D.html,k),tt(k,"block")):D.text?(k.textContent=D.text,tt(k,"block")):mt(k),((E,D)=>{const k=Se(),G=Nt.innerParams.get(E),Re=!G||D.input!==G.input;$e.forEach(at=>{const Ln=Sr(k,H[at]);Rs(at,D.inputAttributes),Ln.className=H[at],Re&&mt(Ln)}),D.input&&(Re&&Mn(D),oi(D))})(E,D)},qn=(E,D)=>{for(const k in ie)D.icon!==k&&yi(E,ie[k]);xt(E,ie[D.icon]),Wa(E,D),ds(),bn(E,D,"icon")},ds=()=>{const E=Se(),D=window.getComputedStyle(E).getPropertyValue("background-color"),k=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<k.length;G++)k[G].style.backgroundColor=D},wn=(E,D)=>{E.textContent="",ot(E,D.iconHtml?la(D.iconHtml):"success"===D.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':la({question:"?",warning:"!",info:"i"}[D.icon]))},Wa=(E,D)=>{if(D.iconColor){E.style.color=D.iconColor,E.style.borderColor=D.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])vi(E,k,"backgroundColor",D.iconColor);vi(E,".swal2-success-ring","borderColor",D.iconColor)}},la=E=>'<div class="'.concat(H["icon-content"],'">').concat(E,"</div>"),Fs=(E,D)=>{const k=Et();if(!D.progressSteps||0===D.progressSteps.length)return mt(k);tt(k),k.textContent="",D.currentProgressStep>=D.progressSteps.length&&B("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((G,Re)=>{const at=(E=>{const D=document.createElement("li");return xt(D,H["progress-step"]),ot(D,E),D})(G);if(k.appendChild(at),Re===D.currentProgressStep&&xt(at,H["active-progress-step"]),Re!==D.progressSteps.length-1){const Ln=(E=>{const D=document.createElement("li");return xt(D,H["progress-step-line"]),E.progressStepsDistance&&(D.style.width=E.progressStepsDistance),D})(D);k.appendChild(Ln)}})},$c=(E,D)=>{E.className="".concat(H.popup," ").concat(Ft(E)?D.showClass.popup:""),D.toast?(xt([document.documentElement,document.body],H["toast-shown"]),xt(E,H.toast)):xt(E,H.modal),bn(E,D,"popup"),"string"==typeof D.customClass&&xt(E,D.customClass),D.icon&&xt(E,H["icon-".concat(D.icon)])},oo=(E,D)=>{((E,D)=>{const k=ce(),G=Se();D.toast?(en(k,"width",D.width),G.style.width="100%",G.insertBefore(fn(),pe())):en(G,"width",D.width),en(G,"padding",D.padding),D.color&&(G.style.color=D.color),D.background&&(G.style.background=D.background),mt(It()),$c(G,D)})(0,D),oa(0,D),Fs(0,D),((E,D)=>{const k=Nt.innerParams.get(E),G=pe();k&&D.icon===k.icon?(wn(G,D),qn(G,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(ie).indexOf(D.icon)?(fe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),mt(G)):(tt(G),wn(G,D),qn(G,D),xt(G,D.showClass.icon)):mt(G)})(E,D),((E,D)=>{const k=Gn();if(!D.imageUrl)return mt(k);tt(k,""),k.setAttribute("src",D.imageUrl),k.setAttribute("alt",D.imageAlt),en(k,"width",D.imageWidth),en(k,"height",D.imageHeight),k.className=H.image,bn(k,D,"image")})(0,D),((E,D)=>{const k=Vt();cr(k,D.title||D.titleText,"block"),D.title&&un(D.title,k),D.titleText&&(k.innerText=D.titleText),bn(k,D,"title")})(0,D),((E,D)=>{const k=Qi();ot(k,D.closeButtonHtml),bn(k,D,"closeButton"),cr(k,D.showCloseButton),k.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),so(E,D),An(0,D),((E,D)=>{const k=an();cr(k,D.footer),D.footer&&un(D.footer,k),bn(k,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(Se())},fs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Bl=()=>{ne(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},zu=["swal-title","swal-html","swal-footer"],hh=E=>{const D={};return ne(E.querySelectorAll("swal-param")).forEach(k=>{Fo(k,["name","value"]);const G=k.getAttribute("name"),Re=k.getAttribute("value");"boolean"==typeof Je[G]&&"false"===Re&&(D[G]=!1),"object"==typeof Je[G]&&(D[G]=JSON.parse(Re))}),D},Ka=E=>{const D={};return ne(E.querySelectorAll("swal-button")).forEach(k=>{Fo(k,["type","color","aria-label"]);const G=k.getAttribute("type");D["".concat(G,"ButtonText")]=k.innerHTML,D["show".concat(c(G),"Button")]=!0,k.hasAttribute("color")&&(D["".concat(G,"ButtonColor")]=k.getAttribute("color")),k.hasAttribute("aria-label")&&(D["".concat(G,"ButtonAriaLabel")]=k.getAttribute("aria-label"))}),D},Vl=E=>{const D={},k=E.querySelector("swal-image");return k&&(Fo(k,["src","width","height","alt"]),k.hasAttribute("src")&&(D.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(D.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(D.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(D.imageAlt=k.getAttribute("alt"))),D},Ls=E=>{const D={},k=E.querySelector("swal-icon");return k&&(Fo(k,["type","color"]),k.hasAttribute("type")&&(D.icon=k.getAttribute("type")),k.hasAttribute("color")&&(D.iconColor=k.getAttribute("color")),D.iconHtml=k.innerHTML),D},fh=E=>{const D={},k=E.querySelector("swal-input");k&&(Fo(k,["type","label","placeholder","value"]),D.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(D.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(D.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(D.inputValue=k.getAttribute("value")));const G=E.querySelectorAll("swal-input-option");return G.length&&(D.inputOptions={},ne(G).forEach(Re=>{Fo(Re,["value"]);const at=Re.getAttribute("value");D.inputOptions[at]=Re.innerHTML})),D},zc=(E,D)=>{const k={};for(const G in D){const Re=D[G],at=E.querySelector(Re);at&&(Fo(at,[]),k[Re.replace(/^swal-/,"")]=at.innerHTML.trim())}return k},ph=E=>{const D=zu.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ne(E.children).forEach(k=>{const G=k.tagName.toLowerCase();-1===D.indexOf(G)&&B("Unrecognized element <".concat(G,">"))})},Fo=(E,D)=>{ne(E.attributes).forEach(k=>{-1===D.indexOf(k.name)&&B(['Unrecognized attribute "'.concat(k.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var Ul={email:(E,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(E,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function Ya(E){(function Lo(E){E.inputValidator||Object.keys(Ul).forEach(D=>{E.input===D&&(E.inputValidator=Ul[D])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&B("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function jf(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(B('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),Ze(E)}class ao{constructor(D,k){this.callback=D,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const k=this.running;return k&&this.stop(),this.remaining+=D,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qu=()=>{null===Xi.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Xi.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Xi.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=H["scrollbar-measure"],document.body.appendChild(E);const D=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),D})(),"px"))},dr=()=>{const E=navigator.userAgent,D=!!E.match(/iPad/i)||!!E.match(/iPhone/i),k=!!E.match(/WebKit/i);D&&k&&!E.match(/CriOS/i)&&Se().scrollHeight>window.innerHeight-44&&(ce().style.paddingBottom="".concat(44,"px"))},Bo=()=>{const E=ce();let D;E.ontouchstart=k=>{D=lo(k)},E.ontouchmove=k=>{D&&(k.preventDefault(),k.stopPropagation())}},lo=E=>{const D=E.target,k=ce();return!(ca(E)||qc(E)||D!==k&&(Si(k)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||Si(hn())&&hn().contains(D)))},ca=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,qc=E=>E.touches&&E.touches.length>1,Vs=E=>{const D=ce(),k=Se();"function"==typeof E.willOpen&&E.willOpen(k);const Re=window.getComputedStyle(document.body).overflowY;ji(D,k,E),setTimeout(()=>{Ja(D,k)},10),Tr()&&(Qa(D,E.scrollbarPadding,Re),ne(document.body.children).forEach(D=>{D===ce()||D.contains(ce())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!mi()&&!he.previousActiveElement&&(he.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(k)),yi(D,H["no-transition"])},hr=E=>{const D=Se();if(E.target!==D)return;const k=ce();D.removeEventListener(Rn,hr),k.style.overflowY="auto"},Ja=(E,D)=>{Rn&&bi(D)?(E.style.overflowY="hidden",D.addEventListener(Rn,hr)):E.style.overflowY="auto"},Qa=(E,D,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!$n(document.body,H.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),xt(document.body,H.iosfix),Bo(),dr()}})(),D&&"hidden"!==k&&qu(),setTimeout(()=>{E.scrollTop=0})},ji=(E,D,k)=>{xt(E,k.showClass.backdrop),D.style.setProperty("opacity","0","important"),tt(D,"grid"),setTimeout(()=>{xt(D,k.showClass.popup),D.style.removeProperty("opacity")},10),xt([document.documentElement,document.body],H.shown),k.heightAuto&&k.backdrop&&!k.toast&&xt([document.documentElement,document.body],H["height-auto"])},Zn=E=>{let D=Se();D||new Sn,D=Se();const k=fn();mi()?mt(pe()):Wu(D,E),tt(k),D.setAttribute("data-loading",!0),D.setAttribute("aria-busy",!0),D.focus()},Wu=(E,D)=>{const k=cn(),G=fn();!D&&Ft(rn())&&(D=rn()),tt(k),D&&(mt(D),G.setAttribute("data-button-to-replace",D.className)),G.parentNode.insertBefore(G,D),xt([E,k],H.loading)},el=E=>E.checked?1:0,tl=E=>E.checked?E.value:null,gs=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,ua=(E,D)=>{const k=Se(),G=Re=>xn[D.input](k,Us(Re),D);me(D.inputOptions)||J(D.inputOptions)?(Zn(rn()),Y(D.inputOptions).then(Re=>{E.hideLoading(),G(Re)})):"object"==typeof D.inputOptions?G(D.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},Hl=(E,D)=>{const k=E.getInput();mt(k),Y(D.inputValue).then(G=>{k.value="number"===D.input?parseFloat(G)||0:"".concat(G),tt(k),k.focus(),E.hideLoading()}).catch(G=>{fe("Error in inputValue promise: ".concat(G)),k.value="",tt(k),k.focus(),E.hideLoading()})},xn={select:(E,D,k)=>{const G=Sr(E,H.select),Re=(at,Ln,Vn)=>{const it=document.createElement("option");it.value=Vn,ot(it,Ln),it.selected=ms(Vn,k.inputValue),at.appendChild(it)};D.forEach(at=>{const Ln=at[0],Vn=at[1];if(Array.isArray(Vn)){const it=document.createElement("optgroup");it.label=Ln,it.disabled=!1,G.appendChild(it),Vn.forEach(po=>Re(it,po[1],po[0]))}else Re(G,Vn,Ln)}),G.focus()},radio:(E,D,k)=>{const G=Sr(E,H.radio);D.forEach(at=>{const Ln=at[0],Vn=at[1],it=document.createElement("input"),po=document.createElement("label");it.type="radio",it.name=H.radio,it.value=Ln,ms(Ln,k.inputValue)&&(it.checked=!0);const ba=document.createElement("span");ot(ba,Vn),ba.className=H.label,po.appendChild(it),po.appendChild(ba),G.appendChild(po)});const Re=G.querySelectorAll("input");Re.length&&Re[0].focus()}},Us=E=>{const D=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((k,G)=>{let Re=k;"object"==typeof Re&&(Re=Us(Re)),D.push([G,Re])}):Object.keys(E).forEach(k=>{let G=E[k];"object"==typeof G&&(G=Us(G)),D.push([k,G])}),D},ms=(E,D)=>D&&D.toString()===E.toString();function Cn(){const E=Nt.innerParams.get(this);if(!E)return;const D=Nt.domCache.get(this);mt(D.loader),mi()?E.icon&&tt(pe()):Zc(D),yi([D.popup,D.actions],H.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const Zc=E=>{const D=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));D.length?tt(D[0],"inline-block"):!Ft(rn())&&!Ft(ln())&&!Ft(Bi())&&mt(E.actions)};var Ur={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Kn=()=>rn()&&rn().click(),Ai=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Hr=(E,D,k)=>{const G=Ti();if(G.length)return(D+=k)===G.length?D=0:-1===D&&(D=G.length-1),G[D].focus();Se().focus()},ha=["ArrowRight","ArrowDown"],fr=["ArrowLeft","ArrowUp"],Hs=(E,D,k)=>{const G=Nt.innerParams.get(E);!G||D.isComposing||229===D.keyCode||(G.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?Gs(E,D,G):"Tab"===D.key?Mt(D,G):[...ha,...fr].includes(D.key)?nl(D.key):"Escape"===D.key&&fa(D,G,k))},Gs=(E,D,k)=>{if(_e(k.allowEnterKey)&&D.target&&E.getInput()&&D.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;Kn(),D.preventDefault()}},Mt=(E,D)=>{const k=E.target,G=Ti();let Re=-1;for(let at=0;at<G.length;at++)if(k===G[at]){Re=at;break}Hr(0,Re,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},nl=E=>{if(![rn(),ln(),Bi()].includes(document.activeElement))return;const Re=ha.includes(E)?"nextElementSibling":"previousElementSibling";let at=document.activeElement;for(let Ln=0;Ln<cn().children.length;Ln++){if(at=at[Re],!at)return;if(Ft(at)&&at instanceof HTMLButtonElement)break}at instanceof HTMLButtonElement&&at.focus()},fa=(E,D,k)=>{_e(D.allowEscapeKey)&&(E.preventDefault(),k(fs.esc))};function pa(E,D,k,G){mi()?ho(E,G):(At(k).then(()=>ho(E,G)),Ai(he)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),Tr()&&(null!==Xi.previousBodyPadding&&(document.body.style.paddingRight="".concat(Xi.previousBodyPadding,"px"),Xi.previousBodyPadding=null),(()=>{if($n(document.body,H.iosfix)){const E=parseInt(document.body.style.top,10);yi(document.body,H.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Bl()),function il(){yi([document.documentElement,document.body],[H.shown,H["height-auto"],H["no-backdrop"],H["toast-shown"]])}()}function uo(E){E=zl(E);const D=Ur.swalPromiseResolve.get(this),k=$l(this);this.isAwaitingPromise()?E.isDismissed||($t(this),D(E)):k&&D(E)}const $l=E=>{const D=Se();if(!D)return!1;const k=Nt.innerParams.get(E);if(!k||$n(D,k.hideClass.popup))return!1;yi(D,k.showClass.popup),xt(D,k.hideClass.popup);const G=ce();return yi(G,k.showClass.backdrop),xt(G,k.hideClass.backdrop),Fn(E,D,k),!0};const $t=E=>{E.isAwaitingPromise()&&(Nt.awaitingPromise.delete(E),Nt.innerParams.get(E)||E._destroy())},zl=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),Fn=(E,D,k)=>{const G=ce(),Re=Rn&&bi(D);"function"==typeof k.willClose&&k.willClose(D),Re?Vo(E,D,G,k.returnFocus,k.didClose):pa(E,G,k.returnFocus,k.didClose)},Vo=(E,D,k,G,Re)=>{he.swalCloseEventFinishedCallback=pa.bind(null,E,k,G,Re),D.addEventListener(Rn,function(at){at.target===D&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback)})},ho=(E,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(E.params)(),E._destroy()})};function tr(E,D,k){const G=Nt.domCache.get(E);D.forEach(Re=>{G[Re].disabled=k})}function rl(E,D){if(!E)return!1;if("radio"===E.type){const G=E.parentNode.parentNode.querySelectorAll("input");for(let Re=0;Re<G.length;Re++)G[Re].disabled=D}else E.disabled=D}const zs=E=>{const D={};return Object.keys(E).forEach(k=>{Ne(k)?D[k]=E[k]:B("Invalid parameter to update: ".concat(k))}),D};const Zl=E=>{ga(E),delete E.params,delete he.keydownHandler,delete he.keydownTarget,delete he.currentInstance},ga=E=>{E.isAwaitingPromise()?(Uo(Nt,E),Nt.awaitingPromise.set(E,!0)):(Uo(Ur,E),Uo(Nt,E))},Uo=(E,D)=>{for(const k in E)E[k].delete(D)};var al=Object.freeze({hideLoading:Cn,disableLoading:Cn,getInput:function co(E){const D=Nt.innerParams.get(E||this),k=Nt.domCache.get(E||this);return k?er(k.popup,D.input):null},close:uo,isAwaitingPromise:function Gl(){return!!Nt.awaitingPromise.get(this)},rejectPromise:function ke(E){const D=Ur.swalPromiseReject.get(this);$t(this),D&&D(E)},handleAwaitingPromise:$t,closePopup:uo,closeModal:uo,closeToast:uo,enableButtons:function ql(){tr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Kc(){tr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Wl(){return rl(this.getInput(),!1)},disableInput:function sl(){return rl(this.getInput(),!0)},showValidationMessage:function $s(E){const D=Nt.domCache.get(this),k=Nt.innerParams.get(this);ot(D.validationMessage,E),D.validationMessage.className=H["validation-message"],k.customClass&&k.customClass.validationMessage&&xt(D.validationMessage,k.customClass.validationMessage),tt(D.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",H["validation-message"]),ks(G),xt(G,H.inputerror))},resetValidationMessage:function Mi(){const E=Nt.domCache.get(this);E.validationMessage&&mt(E.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),yi(D,H.inputerror))},getProgressSteps:function Mr(){return Nt.domCache.get(this).progressSteps},update:function ol(E){const D=Se(),k=Nt.innerParams.get(this);if(!D||$n(D,k.hideClass.popup))return B("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=zs(E),Re=Object.assign({},k,G);oo(this,Re),Nt.innerParams.set(this,Re),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function Gr(){const E=Nt.domCache.get(this),D=Nt.innerParams.get(this);D?(E.popup&&he.swalCloseEventFinishedCallback&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback),he.deferDisposalTimer&&(clearTimeout(he.deferDisposalTimer),delete he.deferDisposalTimer),"function"==typeof D.didDestroy&&D.didDestroy(),Zl(this)):ga(this)}});const ll=(E,D)=>{const k=Nt.innerParams.get(E);if(!k.input)return fe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(D)));const G=((E,D)=>{const k=E.getInput();if(!k)return null;switch(D.input){case"checkbox":return el(k);case"radio":return tl(k);case"file":return gs(k);default:return D.inputAutoTrim?k.value.trim():k.value}})(E,k);k.inputValidator?Yc(E,G,D):E.getInput().checkValidity()?"deny"===D?_a(E,G):_s(E,G):(E.enableButtons(),E.showValidationMessage(k.validationMessage))},Yc=(E,D,k)=>{const G=Nt.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Y(G.inputValidator(D,G.validationMessage))).then(at=>{E.enableButtons(),E.enableInput(),at?E.showValidationMessage(at):"deny"===k?_a(E,D):_s(E,D)})},_a=(E,D)=>{const k=Nt.innerParams.get(E||void 0);k.showLoaderOnDeny&&Zn(ln()),k.preDeny?(Nt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Y(k.preDeny(D,k.validationMessage))).then(Re=>{!1===Re?(E.hideLoading(),$t(E)):E.closePopup({isDenied:!0,value:void 0===Re?D:Re})}).catch(Re=>Yl(E||void 0,Re))):E.closePopup({isDenied:!0,value:D})},qs=(E,D)=>{E.closePopup({isConfirmed:!0,value:D})},Yl=(E,D)=>{E.rejectPromise(D)},_s=(E,D)=>{const k=Nt.innerParams.get(E||void 0);k.showLoaderOnConfirm&&Zn(),k.preConfirm?(E.resetValidationMessage(),Nt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Y(k.preConfirm(D,k.validationMessage))).then(Re=>{Ft(It())||!1===Re?(E.hideLoading(),$t(E)):qs(E,void 0===Re?D:Re)}).catch(Re=>Yl(E||void 0,Re))):qs(E,D)},Qc=(E,D,k)=>{D.popup.onclick=()=>{const G=Nt.innerParams.get(E);G&&(fo(G)||G.timer||G.input)||k(fs.close)}},fo=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let $r=!1;const Jl=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(D){E.container.onmouseup=void 0,D.target===E.container&&($r=!0)}}},Gi=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(D){E.popup.onmouseup=void 0,(D.target===E.popup||E.popup.contains(D.target))&&($r=!0)}}},Ws=(E,D,k)=>{D.container.onclick=G=>{const Re=Nt.innerParams.get(E);$r?$r=!1:G.target===D.container&&_e(Re.allowOutsideClick)&&k(fs.backdrop)}},Xc=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const cl=()=>{if(he.timeout)return(()=>{const E=si(),D=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const G=D/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(G,"%")})(),he.timeout.stop()},Qr=()=>{if(he.timeout){const E=he.timeout.start();return Dt(E),E}};let Xl=!1;const eu={};const Ho=E=>{for(let D=E.target;D&&D!==document;D=D.parentNode)for(const k in eu){const G=D.getAttribute(k);if(G)return void eu[k].fire({template:G})}};var tu=Object.freeze({isValidParameter:be,isUpdatableParameter:Ne,isDeprecatedParameter:ht,argsToParams:E=>{const D={};return"object"!=typeof E[0]||Xc(E[0])?["title","html","icon"].forEach((k,G)=>{const Re=E[G];"string"==typeof Re||Xc(Re)?D[k]=Re:void 0!==Re&&fe("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(typeof Re))}):Object.assign(D,E[0]),D},isVisible:()=>Ft(Se()),clickConfirm:Kn,clickDeny:()=>ln()&&ln().click(),clickCancel:()=>Bi()&&Bi().click(),getContainer:ce,getPopup:Se,getTitle:Vt,getHtmlContainer:hn,getImage:Gn,getIcon:pe,getInputLabel:()=>ue(H["input-label"]),getCloseButton:Qi,getActions:cn,getConfirmButton:rn,getDenyButton:ln,getCancelButton:Bi,getLoader:fn,getFooter:an,getTimerProgressBar:si,getFocusableElements:Ti,getValidationMessage:It,isLoading:()=>Se().hasAttribute("data-loading"),fire:function am(){const E=this;for(var D=arguments.length,k=new Array(D),G=0;G<D;G++)k[G]=arguments[G];return new E(...k)},mixin:function Ql(E){return class D extends(this){_main(G,Re){return super._main(G,Object.assign({},E,Re))}}},showLoading:Zn,enableLoading:Zn,getTimerLeft:()=>he.timeout&&he.timeout.getTimerLeft(),stopTimer:cl,resumeTimer:Qr,toggleTimer:()=>{const E=he.timeout;return E&&(E.running?cl():Qr())},increaseTimer:E=>{if(he.timeout){const D=he.timeout.increase(E);return Dt(D,!0),D}},isTimerRunning:()=>he.timeout&&he.timeout.isRunning(),bindClickHandler:function ys(){eu[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xl||(document.body.addEventListener("click",Ho),Xl=!0)}});let va;class $i{constructor(){if("undefined"==typeof window)return;va=this;for(var D=arguments.length,k=new Array(D),G=0;G<D;G++)k[G]=arguments[G];const Re=Object.freeze(this.constructor.argsToParams(k));Object.defineProperties(this,{params:{value:Re,writable:!1,enumerable:!0,configurable:!0}});const at=this._main(this.params);Nt.promise.set(this,at)}_main(D){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&B('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in E)lt(D),E.toast&&Pe(D),Ie(D)})(Object.assign({},k,D)),he.currentInstance&&(he.currentInstance._destroy(),Tr()&&Bl()),he.currentInstance=this;const G=nu(D,k);Ya(G),Object.freeze(G),he.timeout&&(he.timeout.stop(),delete he.timeout),clearTimeout(he.restoreFocusTimeout);const Re=mh(this);return oo(this,G),Nt.innerParams.set(this,G),ec(this,Re,G)}then(D){return Nt.promise.get(this).then(D)}finally(D){return Nt.promise.get(this).finally(D)}}const ec=(E,D,k)=>new Promise((G,Re)=>{const at=Ln=>{E.closePopup({isDismissed:!0,dismiss:Ln})};Ur.swalPromiseResolve.set(E,G),Ur.swalPromiseReject.set(E,Re),D.confirmButton.onclick=()=>(E=>{const D=Nt.innerParams.get(E);E.disableButtons(),D.input?ll(E,"confirm"):_s(E,!0)})(E),D.denyButton.onclick=()=>(E=>{const D=Nt.innerParams.get(E);E.disableButtons(),D.returnInputValueOnDeny?ll(E,"deny"):_a(E,!1)})(E),D.cancelButton.onclick=()=>((E,D)=>{E.disableButtons(),D(fs.cancel)})(E,at),D.closeButton.onclick=()=>at(fs.close),((E,D,k)=>{Nt.innerParams.get(E).toast?Qc(E,D,k):(Jl(D),Gi(D),Ws(E,D,k))})(E,D,at),((E,D,k,G)=>{Ai(D),k.toast||(D.keydownHandler=Re=>Hs(E,Re,G),D.keydownTarget=k.keydownListenerCapture?window:Se(),D.keydownListenerCapture=k.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(E,he,k,at),((E,D)=>{"select"===D.input||"radio"===D.input?ua(E,D):["text","email","number","tel","textarea"].includes(D.input)&&(me(D.inputValue)||J(D.inputValue))&&(Zn(rn()),Hl(E,D))})(E,k),Vs(k),Xn(he,k,at),Bn(D,k),setTimeout(()=>{D.container.scrollTop=0})}),nu=(E,D)=>{const k=(E=>{const D="string"==typeof E.template?document.querySelector(E.template):E.template;if(!D)return{};const k=D.content;return ph(k),Object.assign(hh(k),Ka(k),Vl(k),Ls(k),fh(k),zc(k,zu))})(E),G=Object.assign({},Je,D,k,E);return G.showClass=Object.assign({},Je.showClass,G.showClass),G.hideClass=Object.assign({},Je.hideClass,G.hideClass),G},mh=E=>{const D={popup:Se(),container:ce(),actions:cn(),confirmButton:rn(),denyButton:ln(),cancelButton:Bi(),loader:fn(),closeButton:Qi(),validationMessage:It(),progressSteps:Et()};return Nt.domCache.set(E,D),D},Xn=(E,D,k)=>{const G=si();mt(G),D.timer&&(E.timeout=new ao(()=>{k("timer"),delete E.timeout},D.timer),D.timerProgressBar&&(tt(G),bn(G,D,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&Dt(D.timer)})))},Bn=(E,D)=>{if(!D.toast){if(!_e(D.allowEnterKey))return qt();yt(E,D)||Hr(0,-1,1)}},yt=(E,D)=>D.focusDeny&&Ft(E.denyButton)?(E.denyButton.focus(),!0):D.focusCancel&&Ft(E.cancelButton)?(E.cancelButton.focus(),!0):!(!D.focusConfirm||!Ft(E.confirmButton)||(E.confirmButton.focus(),0)),qt=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign($i.prototype,al),Object.assign($i,tu),Object.keys(al).forEach(E=>{$i[E]=function(){if(va)return va[E](...arguments)}}),$i.DismissReason=fs,$i.version="11.4.13";const Sn=$i;return Sn.default=Sn,Sn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(xe,V){var c=xe.createElement("style");if(xe.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=V);else try{c.innerHTML=V}catch(ne){c.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(wt,xe,V)=>{"use strict";function fe(ie,ce){var we={};for(var ue in ie)Object.prototype.hasOwnProperty.call(ie,ue)&&ce.indexOf(ue)<0&&(we[ue]=ie[ue]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(ue=Object.getOwnPropertySymbols(ie);Se<ue.length;Se++)ce.indexOf(ue[Se])<0&&Object.prototype.propertyIsEnumerable.call(ie,ue[Se])&&(we[ue[Se]]=ie[ue[Se]])}return we}function _e(ie,ce,we,ue){return new(we||(we=Promise))(function(pe,Vt){function hn(It){try{Et(ue.next(It))}catch(rn){Vt(rn)}}function Gn(It){try{Et(ue.throw(It))}catch(rn){Vt(rn)}}function Et(It){It.done?pe(It.value):function Se(pe){return pe instanceof we?pe:new we(function(Vt){Vt(pe)})}(It.value).then(hn,Gn)}Et((ue=ue.apply(ie,ce||[])).next())})}function be(ie){return this instanceof be?(this.v=ie,this):new be(ie)}function Ne(ie,ce,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ue=we.apply(ie,ce||[]),pe=[];return Se={},Vt("next"),Vt("throw"),Vt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function Vt(ln){ue[ln]&&(Se[ln]=function(Lr){return new Promise(function(fn,Bi){pe.push([ln,Lr,fn,Bi])>1||hn(ln,Lr)})})}function hn(ln,Lr){try{!function Gn(ln){ln.value instanceof be?Promise.resolve(ln.value.v).then(Et,It):rn(pe[0][2],ln)}(ue[ln](Lr))}catch(fn){rn(pe[0][3],fn)}}function Et(ln){hn("next",ln)}function It(ln){hn("throw",ln)}function rn(ln,Lr){ln(Lr),pe.shift(),pe.length&&hn(pe[0][0],pe[0][1])}}function lt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ce=ie[Symbol.asyncIterator];return ce?ce.call(ie):(ie=function oe(ie){var ce="function"==typeof Symbol&&Symbol.iterator,we=ce&&ie[ce],ue=0;if(we)return we.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ue>=ie.length&&(ie=void 0),{value:ie&&ie[ue++],done:!ie}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),we={},ue("next"),ue("throw"),ue("return"),we[Symbol.asyncIterator]=function(){return this},we);function ue(pe){we[pe]=ie[pe]&&function(Vt){return new Promise(function(hn,Gn){!function Se(pe,Vt,hn,Gn){Promise.resolve(Gn).then(function(Et){pe({value:Et,done:hn})},Vt)}(hn,Gn,(Vt=ie[pe](Vt)).done,Vt.value)})}}}V.d(xe,{FC:()=>Ne,KL:()=>lt,_T:()=>fe,mG:()=>_e,qq:()=>be})},5e3:(wt,xe,V)=>{"use strict";V.d(xe,{$8M:()=>ti,$Z:()=>u0,AFp:()=>X_,ALo:()=>FC,AaK:()=>_e,CHM:()=>zl,CRH:()=>ZC,CZH:()=>mb,CqO:()=>h0,DdM:()=>_g,EJc:()=>vb,EiD:()=>pd,EpF:()=>Di,F$t:()=>p0,F4k:()=>o_,FYo:()=>U0,FiY:()=>is,G48:()=>mE,Gf:()=>j_,GfV:()=>G0,Gpc:()=>J,Hsn:()=>Au,Ikx:()=>y_,JOm:()=>ge,JVY:()=>Kf,L6k:()=>Ih,LAX:()=>gm,LFG:()=>pt,LSH:()=>uu,Lbi:()=>yb,MAs:()=>Ld,MGl:()=>Mu,NdJ:()=>Bd,OlP:()=>ci,Oqu:()=>tg,PXZ:()=>Mb,Q6J:()=>Cc,QGY:()=>Dc,Qsj:()=>j0,QtT:()=>Ee,R0b:()=>Ha,RDi:()=>gs,Rgc:()=>Jd,SBq:()=>Va,SDv:()=>TC,Sil:()=>XS,Suo:()=>WC,TTD:()=>lo,TgZ:()=>yn,Tol:()=>Xp,Udp:()=>Ic,VKq:()=>O_,VLi:()=>rI,W1O:()=>JC,WFA:()=>f0,WLB:()=>Z0,X6Q:()=>Df,XFs:()=>ot,Xpm:()=>nn,Y36:()=>Rt,YKP:()=>x_,YNc:()=>a0,Yjl:()=>Ui,Yz7:()=>fn,ZZ4:()=>gy,_Bn:()=>Cr,_UZ:()=>or,_Vd:()=>fg,_c5:()=>Hb,_uU:()=>f_,aQg:()=>Rg,c2e:()=>ny,cJS:()=>cn,cg1:()=>sg,d8E:()=>zd,dDg:()=>Db,deG:()=>lm,dqk:()=>Ft,eBb:()=>pm,eFA:()=>ry,ekj:()=>v0,evT:()=>gp,f3M:()=>Qt,g9A:()=>ey,h0i:()=>pf,hGG:()=>Sf,hij:()=>ef,iGM:()=>qC,ifc:()=>en,ip1:()=>Q_,kEZ:()=>kc,kL8:()=>Ki,lG2:()=>un,lcZ:()=>yg,mCW:()=>sc,n5z:()=>_h,n_E:()=>bg,oAB:()=>se,oxw:()=>Qe,pB0:()=>Ah,pQV:()=>T_,q3G:()=>Dn,q4F:()=>$0,qLn:()=>_r,qOj:()=>xd,qZA:()=>s_,qzn:()=>xa,s9C:()=>ea,sBO:()=>Pc,sIi:()=>Kh,s_b:()=>F_,soG:()=>xl,tBr:()=>xr,tb:()=>ty,tp0:()=>Sa,uIk:()=>zp,vHH:()=>Ge,vpe:()=>ja,wAp:()=>Bt,xp6:()=>Yt,yhl:()=>rc,z2F:()=>Ob,z3N:()=>bo,zSh:()=>Fp,zs3:()=>Qo});var c=V(7579),ne=V(727),B=V(8306),fe=V(6451),ae=V(3099);function Te(s){for(let o in s)if(s[o]===Te)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Y=Te({__forward_ref__:Te});function J(s){return s.__forward_ref__=J,s.toString=function(){return _e(this())},s}function oe(s){return Je(s)?s():s}function Je(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===J}class Ge extends Error{constructor(o,l){super(function We(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function Ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}function Ie(s,o){const l=o?` in ${o}`:"";throw new Ge(-201,`No provider for ${Ne(s)} found${l}`)}function It(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function an(s){return si(s,Tr)||si(s,cs)}function si(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ti(s){return s&&(s.hasOwnProperty(mi)||s.hasOwnProperty(Xi))?s[mi]:null}const Tr=Te({\u0275prov:Te}),mi=Te({\u0275inj:Te}),cs=Te({ngInjectableDef:Te}),Xi=Te({ngInjectorDef:Te});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let $n;function bn(s){const o=$n;return $n=s,o}function er(s,o,l){const d=an(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ot.Optional?null:void 0!==o?o:void Ie(_e(s),"Injector")}function kn(s){return{toString:s}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),en=(()=>{return(s=en||(en={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",en;var s})();const tt="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,vi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=tt||"undefined"!=typeof global&&global||mt||vi,bi={},Dt=[],Vi=Te({\u0275cmp:Te}),tn=Te({\u0275dir:Te}),ut=Te({\u0275pipe:Te}),he=Te({\u0275mod:Te}),ft=Te({\u0275fac:Te}),At=Te({__NG_ELEMENT_ID__:Te});let on=0;function nn(s){return kn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||en.Emulated,id:"c",styles:s.styles||Dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return d.id+=on++,d.inputs=kt(s.inputs,l),d.outputs=kt(s.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(z):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Q):null,d})}function z(s){return dn(s)||function Rn(s){return s[tn]||null}(s)}function Q(s){return function Zt(s){return s[ut]||null}(s)}const ye={};function se(s){return kn(()=>{const o={type:s.type,bootstrap:s.bootstrap||Dt,declarations:s.declarations||Dt,imports:s.imports||Dt,exports:s.exports||Dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ye[s.id]=s.type),o})}function kt(s,o){if(null==s)return bi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const un=nn;function Ui(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function dn(s){return s[Vi]||null}function An(s,o){const l=s[he]||null;if(!l&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return l}function Vr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ar(s){return Array.isArray(s)&&!0===s[1]}function Gc(s){return 0!=(8&s.flags)}function Fs(s){return 2==(2&s.flags)}function Za(s){return 1==(1&s.flags)}function ur(s){return null!==s.template}function $c(s){return 0!=(512&s[2])}function dr(s,o){return s.hasOwnProperty(ft)?s[ft]:null}class Bo{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function lo(){return ca}function ca(s){return s.type.prototype.ngOnChanges&&(s.setInput=gh),qc}function qc(){const s=Vs(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===bi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function gh(s,o,l,d){const h=Vs(s)||function hr(s,o){return s[Wn]=o}(s,{previous:bi,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],T=v[C];g[C]=new Bo(T&&T.currentValue,o,v===bi),s[d]=o}lo.ngInherit=!0;const Wn="__ngSimpleChanges__";function Vs(s){return s[Wn]||null}let tl;function gs(s){tl=s}function ua(){return void 0!==tl?tl:"undefined"!=typeof document?document:void 0}function xn(s){return!!s.listen}const Us={createRenderer:(s,o)=>ua()};function Cn(s){for(;Array.isArray(s);)s=s[0];return s}function Ur(s,o){return Cn(o[s])}function Hi(s,o){return Cn(o[s.index])}function da(s,o){return s.data[o]}function jr(s,o){return s[o]}function Ai(s,o){const l=o[s];return Vr(l)?l:l[0]}function js(s){return 4==(4&s[2])}function Hr(s){return 128==(128&s[2])}function fr(s,o){return null==o?null:s[o]}function Hs(s){s[18]=0}function Gs(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Mt={lFrame:_s(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uo(){return Mt.bindingsEnabled}function ke(){return Mt.lFrame.lView}function $t(){return Mt.lFrame.tView}function zl(s){return Mt.lFrame.contextLView=s,s[8]}function Fn(){let s=Vo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Vo(){return Mt.lFrame.currentTNode}function ho(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function tr(s,o){const l=Mt.lFrame;l.currentTNode=s,l.isParent=o}function rl(){return Mt.lFrame.isParent}function ql(){Mt.lFrame.isParent=!1}function sl(){return Mt.isInCheckNoChangesMode}function $s(s){Mt.isInCheckNoChangesMode=s}function Mi(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function zs(){return Mt.lFrame.bindingIndex++}function Gr(s){const o=Mt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ga(s){Mt.lFrame.inI18n=s}function Uo(s,o){const l=Mt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ma(o)}function ma(s){Mt.lFrame.currentDirectiveIndex=s}function jo(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Kl(){return Mt.lFrame.currentQueryIndex}function ll(s){Mt.lFrame.currentQueryIndex=s}function Yc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function _a(s,o,l){if(l&ot.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&ot.Host||(h=Yc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Mt.lFrame=Yl();return d.currentTNode=o,d.lView=s,!0}function qs(s){const o=Yl(),l=s[1];Mt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Yl(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?_s(s):o}function _s(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Jc(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Qc=Jc;function fo(){const s=Jc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gi(){return Mt.lFrame.selectedIndex}function Ws(s){Mt.lFrame.selectedIndex=s}function Yn(){const s=Mt.lFrame;return da(s.tView,s.selectedIndex)}function Qr(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:R}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),T&&(s.viewHooks||(s.viewHooks=[])).push(-l,T),O&&((s.viewHooks||(s.viewHooks=[])).push(l,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,O)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function ya(s,o,l){Xl(s,o,3,l)}function ul(s,o,l,d){(3&s[2])===l&&Xl(s,o,l,d)}function li(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Xl(s,o,l,d){const g=null!=d?d:-1,v=o.length-1;let C=0;for(let T=void 0!==d?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(C=o[T],null!=d&&C>=d)break}else o[T]<0&&(s[18]+=65536),(C<g||-1==g)&&(eu(s,l,o,T),s[18]=(4294901760&s[18])+T+2),T++}function eu(s,o,l,d){const h=l[d]<0,g=l[d+1],C=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ho{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function yt(s,o,l){const d=xn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],C=l[h++],T=l[h++];d?s.setAttribute(o,C,T,v):o.setAttributeNS(v,C,T)}else{const v=g,C=l[++h];Sn(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),h++}}return h}function qt(s){return 3===s||4===s||6===s}function Sn(s){return 64===s.charCodeAt(0)}function E(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||D(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function D(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function k(s){return-1!==s}function G(s){return 32767&s}function at(s,o){let l=function Re(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Ln=!0;function Vn(s){const o=Ln;return Ln=s,o}let Zu=0;function Nn(s,o){const l=Go(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,go(d.data,s),go(o,null),go(d.blueprint,null));const h=Xr(s,o),g=s.injectorIndex;if(k(h)){const v=G(h),C=at(h,o),T=C[1].data;for(let O=0;O<8;O++)o[g+O]=C[v+O]|T[v+O]}return o[g+8]=h,g}function go(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Go(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Xr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function $o(s,o,l){!function wa(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(At)&&(d=l[At]),null==d&&(d=l[At]=Zu++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function vs(s,o,l){if(l&ot.Optional)return s;Ie(o,"NodeInjector")}function Ku(s,o,l,d){if(l&ot.Optional&&void 0===d&&(d=null),0==(l&(ot.Self|ot.Host))){const h=s[9],g=bn(void 0);try{return h?h.get(o,d,l&ot.Optional):er(o,d,l&ot.Optional)}finally{bn(g)}}return vs(d,o,l)}function zo(s,o,l,d=ot.Default,h){if(null!==s){const g=function qo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(At)?s[At]:void 0;return"number"==typeof o?o>=0?255&o:Yu:o}(l);if("function"==typeof g){if(!_a(o,s,d))return d&ot.Host?vs(h,l,d):Ku(o,l,d,h);try{const v=g(d);if(null!=v||d&ot.Optional)return v;Ie(l)}finally{Qc()}}else if("number"==typeof g){let v=null,C=Go(s,o),T=-1,O=d&ot.Host?o[16][6]:null;for((-1===C||d&ot.SkipSelf)&&(T=-1===C?Xr(s,o):o[C+8],-1!==T&&Ci(d,!1)?(v=o[1],C=G(T),o=at(T,o)):C=-1);-1!==C;){const R=o[1];if(Ca(g,C,R.data)){const j=iu(C,o,l,v,d,O);if(j!==Zs)return j}T=o[C+8],-1!==T&&Ci(d,o[1].data[C+8]===O)&&Ca(g,C,o)?(v=R,C=G(T),o=at(T,o)):C=-1}}}return Ku(o,l,d,h)}const Zs={};function Yu(){return new ws(Fn(),ke())}function iu(s,o,l,d,h,g){const v=o[1],C=v.data[s+8],R=zr(C,v,l,null==d?Fs(C)&&Ln:d!=v&&0!=(3&C.type),h&ot.Host&&g===C);return null!==R?bs(o,v,R,C):Zs}function zr(s,o,l,d,h){const g=s.providerIndexes,v=o.data,C=1048575&g,T=s.directiveStart,R=g>>20,W=h?C+R:s.directiveEnd;for(let te=d?C:C+R;te<W;te++){const Ce=v[te];if(te<T&&l===Ce||te>=T&&Ce.type===l)return te}if(h){const te=v[T];if(te&&ur(te)&&te.type===l)return T}return null}function bs(s,o,l,d){let h=s[l];const g=o.data;if(function tu(s){return s instanceof Ho}(h)){const v=h;v.resolving&&function ht(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ne(g[l]));const C=Vn(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?bn(v.injectImpl):null;_a(s,d,ot.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function cl(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=ca(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==T&&bn(T),Vn(C),v.resolving=!1,Qc()}}return h}function Ca(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Ci(s,o){return!(s&ot.Self||s&ot.Host&&o)}class ws{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return zo(this._tNode,this._lView,o,d,l)}}function _h(s){return kn(()=>{const o=s.prototype.constructor,l=o[ft]||ei(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ft]||ei(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function ei(s){return Je(s)?()=>{const o=ei(oe(s));return o&&o()}:dr(s)}function ti(s){return function es(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(qt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Fn(),s)}const dl="__parameters__";function Jn(s,o,l){return kn(()=>{const d=function Cs(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(T,O,R){const j=T.hasOwnProperty(dl)?T[dl]:Object.defineProperty(T,dl,{value:[]})[dl];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(v),T}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class ci{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=fn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lm=new ci("AnalyzeForEntryComponents");function gr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),gr(d,o)):o!==s&&o.push(d)}return o}function ts(s,o){s.forEach(l=>Array.isArray(l)?ts(l,o):o(l))}function Xu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function yo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Es(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Ni(s,o,l){let d=Ko(s,o);return d>=0?s[1|d]=l:(d=~d,function ed(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function id(s,o){const l=Ko(s,o);if(l>=0)return s[1|l]}function Ko(s,o){return function Ea(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const Da={},fl="__NG_DI_FLAG__",au="ngTempTokenPath",M=/\n/gm,$="__source",re=Te({provide:String,useValue:Te});let de;function Be(s){const o=de;return de=s,o}function Ve(s,o=ot.Default){if(void 0===de)throw new Ge(203,"");return null===de?er(s,void 0,o):de.get(s,o&ot.Optional?null:void 0,o)}function pt(s,o=ot.Default){return(function _i(){return $n}()||Ve)(oe(s),o)}const Qt=pt;function zt(s){const o=[];for(let l=0;l<s.length;l++){const d=oe(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ge(900,"");let h,g=ot.Default;for(let v=0;v<d.length;v++){const C=d[v],T=ui(C);"number"==typeof T?-1===T?h=C.token:g|=T:h=C}o.push(pt(h,g))}else o.push(pt(d))}return o}function Ei(s,o){return s[fl]=o,s.prototype[fl]=o,s}function ui(s){return s[fl]}const xr=Ei(Jn("Inject",s=>({token:s})),-1),is=Ei(Jn("Optional"),8),Sa=Ei(Jn("SkipSelf"),4);let Aa;function ic(s){var o;return(null===(o=function Eh(){if(void 0===Aa&&(Aa=null,Ft.trustedTypes))try{Aa=Ft.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Aa}())||void 0===o?void 0:o.createHTML(s))||s}class Ma{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wf extends Ma{getTypeName(){return"HTML"}}class Gy extends Ma{getTypeName(){return"Style"}}class ld extends Ma{getTypeName(){return"Script"}}class Zf extends Ma{getTypeName(){return"URL"}}class $y extends Ma{getTypeName(){return"ResourceURL"}}function bo(s){return s instanceof Ma?s.changingThisBreaksApplicationSecurity:s}function xa(s,o){const l=rc(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function rc(s){return s instanceof Ma&&s.getTypeName()||null}function Kf(s){return new Wf(s)}function Ih(s){return new Gy(s)}function pm(s){return new ld(s)}function gm(s){return new Zf(s)}function Ah(s){return new $y(s)}function mm(s){const o=new qy(s);return function Wy(){try{return!!(new window.DOMParser).parseFromString(ic(""),"text/html")}catch(s){return!1}}()?new zy(o):o}class zy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ic(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class qy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ic(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=ic(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Yo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sc(s){return(s=String(s)).match(Yo)||s.match(Yf)?s:"unsafe:"+s}function Jf(s){return(s=String(s)).split(",").map(o=>sc(o.trim())).join(", ")}function Ts(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function cd(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const _m=Ts("area,br,col,hr,img,wbr"),Mh=Ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xh=Ts("rp,rt"),Qf=cd(_m,cd(Mh,Ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cd(xh,Ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cd(xh,Mh)),Xf=Ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ep=Ts("srcset"),ml=cd(Xf,ep,Ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zy=Ts("script,style,template");class dd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Qf.hasOwnProperty(l))return this.sanitizedSomething=!0,!Zy.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,C=v.toLowerCase();if(!ml.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=g.value;Xf[C]&&(T=sc(T)),ep[C]&&(T=Jf(T)),this.buf.push(" ",v,'="',np(T),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Qf.hasOwnProperty(l)&&!_m.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(np(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const hd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tp=/([^\#-~ |!])/g;function np(s){return s.replace(/&/g,"&amp;").replace(hd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(tp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fd;function pd(s,o){let l=null;try{fd=fd||mm(s);let d=o?String(o):"";l=fd.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=fd.getInertBodyElement(d)}while(d!==g);return ic((new dd).sanitizeChildren(ip(l)||l))}finally{if(l){const d=ip(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ip(s){return"content"in s&&function rp(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function uu(s){const o=function _l(){const s=ke();return s&&s[12]}();return o?o.sanitize(Dn.URL,s)||"":xa(s,"URL")?bo(s):sc(be(s))}const op="__ngContext__";function Nr(s,o){s[op]=o}function ap(s){const o=function ac(s){return s[op]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function uc(s){return s.ngOriginalError}function Dm(s,...o){s.error(...o)}class _r{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function tv(s){return s&&s.ngErrorLogger||Dm}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&uc(o);for(;l&&uc(l);)l=uc(l);return l||null}}const nv=/^>|^->|<!--|-->|--!>|<!-$/g,Oa=/(<|>)/;const sv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function gp(s){return s.ownerDocument}function m(s){return s instanceof Function?s():s}var ge=(()=>((ge=ge||{})[ge.Important=1]="Important",ge[ge.DashCase=2]="DashCase",ge))();let Ye;function _t(s,o){return Ye(s,o)}function di(s){const o=s[3];return Ar(o)?o[3]:o}function du(s){return mp(s[13])}function hu(s){return mp(s[4])}function mp(s){for(;null!==s&&!Ar(s);)s=s[4];return s}function yl(s,o,l,d,h){if(null!=d){let g,v=!1;Ar(d)?g=d:Vr(d)&&(v=!0,d=d[0]);const C=Cn(d);0===s&&null!==l?null==h?hv(o,l,C):wo(o,l,C,h||null,!0):1===s&&null!==l?wo(o,l,C,h||null,!0):2===s?mv(o,C,v):3===s&&o.destroyNode(C),null!=g&&function uT(s,o,l,d,h){const g=l[7];g!==Cn(l)&&yl(o,s,d,g,h);for(let C=10;C<l.length;C++){const T=l[C];Am(T[1],T,s,o,d,g)}}(o,s,g,l,h)}}function kh(s,o){return xn(s)?s.createText(o):s.createTextNode(o)}function Rh(s,o,l){xn(s)?s.setValue(o,l):o.textContent=l}function _p(s,o){return s.createComment(function hp(s){return s.replace(nv,o=>o.replace(Oa,"\u200b$1\u200b"))}(o))}function Ph(s,o,l){if(xn(s))return s.createElement(o,l);{const d=null!==l?function el(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function kw(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Gs(h,-1)),l.splice(d,1)}function cv(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&kw(h,d),o>0&&(s[l-1][4]=d[4]);const g=yo(s,10+o);!function Or(s,o){Am(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function uv(s,o){if(!(256&o[2])){const l=o[11];xn(l)&&l.destroyNode&&Am(s,o,l,3,null,null),function vp(s){let o=s[13];if(!o)return dv(s[1],s);for(;o;){let l=null;if(Vr(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Vr(o)&&dv(o[1],o),o=o[3];null===o&&(o=s),Vr(o)&&dv(o[1],o),l=o&&o[4]}o=l}}(o)}}function dv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Pw(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Ho)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Rw(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(o):Cn(o[v]),T=d[h=l[g+2]],O=l[g+3];"boolean"==typeof O?C.removeEventListener(l[g],T,O):O>=0?d[h=O]():d[h=-O].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&xn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Ar(o[3])){l!==o[3]&&kw(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Sm(s,o,l){return oT(s,o.parent,l)}function oT(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===en.None||h===en.Emulated)return null}return Hi(d,l)}function wo(s,o,l,d,h){xn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function hv(s,o,l){xn(s)?s.appendChild(o,l):o.appendChild(l)}function Fw(s,o,l,d,h){null!==d?wo(s,o,l,d,h):hv(s,o,l)}function bp(s,o){return xn(s)?s.parentNode(o):o.parentNode}function Lw(s,o,l){return fv(s,o,l)}function Bw(s,o,l){return 40&s.type?Hi(s,l):null}let pv,fv=Bw;function Vw(s,o){fv=s,pv=o}function Im(s,o,l,d){const h=Sm(s,d,o),g=o[11],C=Lw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let T=0;T<l.length;T++)Fw(g,h,l[T],C,!1);else Fw(g,h,l,C,!1);void 0!==pv&&pv(g,d,o,l,h)}function Lh(s,o){if(null!==o){const l=o.type;if(3&l)return Hi(o,s);if(4&l)return gv(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Lh(s,d);{const h=s[o.index];return Ar(h)?gv(-1,h):Cn(h)}}if(32&l)return _t(o,s)()||Cn(s[o.index]);{const d=Uw(s,o);return null!==d?Array.isArray(d)?d[0]:Lh(di(s[16]),d):Lh(s,o.next)}}return null}function Uw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function gv(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Lh(d,h)}return o[7]}function mv(s,o,l){const d=bp(s,o);d&&function aT(s,o,l,d){xn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}function _v(s,o,l,d,h,g,v){for(;null!=l;){const C=d[l.index],T=l.type;if(v&&0===o&&(C&&Nr(Cn(C),d),l.flags|=4),64!=(64&l.flags))if(8&T)_v(s,o,l.child,d,h,g,!1),yl(o,s,h,C,g);else if(32&T){const O=_t(l,d);let R;for(;R=O();)yl(o,s,h,R,g);yl(o,s,h,C,g)}else 16&T?jw(s,o,d,l,h,g):yl(o,s,h,C,g);l=v?l.projectionNext:l.next}}function Am(s,o,l,d,h,g){_v(l,d,s.firstChild,o,h,g,!1)}function jw(s,o,l,d,h,g){const v=l[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)yl(o,s,h,T[O],g);else _v(s,o,T,v[3],h,g,!0)}function ir(s,o,l){xn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function fu(s,o,l){xn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Hw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Bh="ng-template";function qr(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Hw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Mm(s){return 4===s.type&&s.value!==Bh}function Vh(s,o,l){return o===(4!==s.type||l?s.value:Bh)}function dT(s,o,l){let d=4;const h=s.attrs||[],g=function bd(s){for(let o=0;o<s.length;o++)if(qt(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const T=o[C];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!Vh(s,T,l)||""===T&&1===o.length){if(zi(d))return!1;v=!0}}else{const O=8&d?T:o[++C];if(8&d&&null!==s.attrs){if(!qr(s.attrs,O,l)){if(zi(d))return!1;v=!0}continue}const j=PM(8&d?"class":T,h,Mm(s),l);if(-1===j){if(zi(d))return!1;v=!0;continue}if(""!==O){let W;W=j>g?"":h[j+1].toLowerCase();const te=8&d?W:null;if(te&&-1!==Hw(te,O,0)||2&d&&O!==W){if(zi(d))return!1;v=!0}}}}else{if(!v&&!zi(d)&&!zi(T))return!1;if(v&&zi(T))continue;v=!1,d=T|1&d}}return zi(d)||v}function zi(s){return 0==(1&s)}function PM(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function xm(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Gw(s,o,l=!1){for(let d=0;d<o.length;d++)if(dT(s,o[d],l))return!0;return!1}function pu(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function pn(s,o){return s?":not("+o.trim()+")":o}function hT(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!zi(v)&&(o+=pn(g,h),h=""),d=v,g=g||!zi(d);l++}return""!==h&&(o+=pn(g,h)),o}const Kt={};function Yt(s){wp($t(),ke(),Gi()+s,sl())}function wp(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ya(o,g,l)}else{const g=s.preOrderHooks;null!==g&&ul(o,g,0,l)}Ws(l)}function gu(s,o){return s<<17|o<<2}function ka(s){return s>>17&32767}function yv(s){return 2|s}function fc(s){return(131068&s)>>2}function yr(s,o){return-131069&s|o<<2}function vr(s){return 1|s}function Ap(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];ll(h),v.contentQueries(2,o[g],g)}}}function Cd(s,o,l,d,h,g,v,C,T,O){const R=o.blueprint.slice();return R[0]=h,R[2]=140|d,Hs(R),R[3]=R[15]=s,R[8]=l,R[10]=v||s&&s[10],R[11]=C||s&&s[11],R[12]=T||s&&s[12]||null,R[9]=O||s&&s[9]||null,R[6]=g,R[16]=2==o.type?s[16]:R,R}function mu(s,o,l,d,h){let g=s.data[o];if(null===g)g=Mp(s,o,l,d,h),function Zl(){return Mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=ho();g.injectorIndex=null===v?-1:v.injectorIndex}return tr(g,!0),g}function Mp(s,o,l,d,h){const g=Vo(),v=rl(),T=s.data[o]=function wT(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}function Ed(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Uh(s,o,l){qs(o);try{const d=s.viewQuery;null!==d&&Id(1,d,l);const h=s.template;null!==h&&kv(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ap(s,o),s.staticViewQueries&&Id(2,s.viewQuery,l);const g=s.components;null!==g&&function Ov(s,o){for(let l=0;l<o.length;l++)zm(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,fo()}}function jh(s,o,l,d){const h=o[2];if(256==(256&h))return;qs(o);const g=sl();try{Hs(o),function ol(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&kv(s,o,l,2,d);const v=3==(3&h);if(!g)if(v){const O=s.preOrderCheckHooks;null!==O&&ya(o,O,null)}else{const O=s.preOrderHooks;null!==O&&ul(o,O,0,null),li(o,0)}if(function Ms(s){for(let o=du(s);null!==o;o=hu(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&Gs(g,1),h[2]|=1024}}}(o),function o1(s){for(let o=du(s);null!==o;o=hu(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Hr(d)&&jh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Ap(s,o),!g)if(v){const O=s.contentCheckHooks;null!==O&&ya(o,O)}else{const O=s.contentHooks;null!==O&&ul(o,O,1),li(o,1)}!function bT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ws(~h);else{const g=h,v=l[++d],C=l[++d];Uo(v,g),C(2,o[g])}}}finally{Ws(-1)}}(s,o);const C=s.components;null!==C&&function Fm(s,o){for(let l=0;l<o.length;l++)a1(s,o[l])}(o,C);const T=s.viewQuery;if(null!==T&&Id(2,T,d),!g)if(v){const O=s.viewCheckHooks;null!==O&&ya(o,O)}else{const O=s.viewHooks;null!==O&&ul(o,O,2),li(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Gs(o[3],-1))}finally{fo()}}function Jw(s,o,l,d){const h=o[10],g=!sl(),v=js(o);try{g&&!v&&h.begin&&h.begin(),v&&Uh(s,o,d),jh(s,o,l,d)}finally{g&&!v&&h.end&&h.end()}}function kv(s,o,l,d,h){const g=Gi(),v=2&d;try{Ws(-1),v&&o.length>20&&wp(s,o,20,sl()),l(d,h)}finally{Ws(g)}}function Bm(s,o,l){!uo()||(function ET(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Nn(l,o),Nr(d,o);const v=l.initialInputs;for(let C=h;C<g;C++){const T=s.data[C],O=ur(T);O&&TT(o,l,T);const R=bs(o,s,C,l);Nr(R,o),null!==v&&s1(0,C-h,R,T,0,v),O&&(Ai(l.index,o)[8]=R)}}(s,o,l,Hi(l,o)),128==(128&l.flags)&&function Op(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,C=function al(){return Mt.lFrame.currentDirectiveIndex}();try{Ws(v);for(let T=d;T<h;T++){const O=s.data[T],R=o[T];ma(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Vv(O,R)}}finally{Ws(-1),ma(C)}}(s,o,l))}function Rv(s,o,l=Hi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?l(o,s):s[v];s[h++]=C}}}function Vm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Hh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Hh(s,o,l,d,h,g,v,C,T,O){const R=20+d,j=R+h,W=function Pv(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Kt);return l}(R,j),te="function"==typeof O?O():O;return W[1]={type:s,blueprint:W,template:l,queries:null,viewQuery:C,declTNode:o,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:te,incompleteFirstPass:!1}}function Um(s,o,l,d){const h=Km(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Rp(s).push(d,h.length-1))}function Qw(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Co(s,o,l,d,h,g,v,C){const T=Hi(o,l);let R,O=o.inputs;!C&&null!=O&&(R=O[d])?(Gv(s,l,R,d,h),Fs(o)&&function Fv(s,o){const l=Ai(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function CT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,xn(g)?g.setProperty(T,d,h):Sn(d)||(T.setProperty?T.setProperty(d,h):T[d]=h))}function Np(s,o,l,d){let h=!1;if(uo()){const g=function n1(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Gw(l,v.selectors,!1)&&(h||(h=[]),$o(Nn(l,o),s,v.type),ur(v)?(Uv(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,r1(l,s.data.length,g.length);for(let R=0;R<g.length;R++){const j=g[R];j.providersResolver&&j.providersResolver(j)}let C=!1,T=!1,O=Ed(s,o,g.length,null);for(let R=0;R<g.length;R++){const j=g[R];l.mergedAttrs=E(l.mergedAttrs,j.hostAttrs),Dd(s,l,o,O,j),DT(O,j,v),null!==j.contentQueries&&(l.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(l.flags|=128);const W=j.type.prototype;!C&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!T&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),T=!0),O++}!function Xw(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let C=null,T=null;for(let O=o.directiveStart;O<d;O++){const R=h[O],j=R.inputs,W=null===g||Mm(o)?null:$m(j,g);v.push(W),C=Qw(j,O,C),T=Qw(R.outputs,O,T)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=T}(s,l)}v&&function Gm(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Ge(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=E(l.mergedAttrs,l.attrs),h}function Hm(s,o,l,d,h,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const T=~o.index;(function t1(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=T&&C.push(T),C.push(d,h,v)}}function Vv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Uv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function DT(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;ur(o)&&(l[""]=s)}}function r1(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Dd(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=dr(h.type)),v=new Ho(g,ur(h),null);s.blueprint[d]=v,l[d]=v,Hm(s,o,0,d,Ed(s,l,h.hostVars,Kt),h)}function TT(s,o,l){const d=Hi(o,s),h=Vm(l),g=s[10],v=$h(s,Cd(s,h,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=v}function pc(s,o,l,d,h,g,v){if(null==g)xn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const C=null==v?be(g):v(g,d||"",h);xn(s)?s.setAttribute(o,h,C,l):l?o.setAttributeNS(l,h,C):o.setAttribute(h,C)}}function s1(s,o,l,d,h,g){const v=g[o];if(null!==v){const C=d.setInput;for(let T=0;T<v.length;){const O=v[T++],R=v[T++],j=v[T++];null!==C?d.setInput(l,j,O,R):l[R]=j}}}function $m(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Gh(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function a1(s,o){const l=Ai(o,s);if(Hr(l)){const d=l[1];80&l[2]?jh(d,l,d.template,l[8]):l[5]>0&&Td(l)}}function Td(s){for(let d=du(s);null!==d;d=hu(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];jh(v,g,v.template,g[8])}else g[5]>0&&Td(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Ai(l[d],s);Hr(h)&&h[5]>0&&Td(h)}}function zm(s,o){const l=Ai(o,s),d=l[1];(function l1(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Uh(d,l,l[8])}function $h(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function qm(s){for(;s;){s[2]|=64;const o=di(s);if($c(s)&&!o)return s;s=o}return null}function kp(s,o,l){const d=o[10];d.begin&&d.begin();try{jh(s,o,s.template,l)}catch(h){throw Hv(o,h),h}finally{d.end&&d.end()}}function Wm(s){!function Sd(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=ap(l),h=d[1];Jw(h,d,h.template,l)}}(s[8])}function Id(s,o,l){ll(0),o(s,l)}const AT=(()=>Promise.resolve(null))();function Km(s){return s[7]||(s[7]=[])}function Rp(s){return s.cleanup||(s.cleanup=[])}function Ym(s,o,l){return(null===s||ur(s))&&(l=function Zc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Hv(s,o){const l=s[9],d=l?l.get(_r,null):null;d&&d.handleError(o)}function Gv(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],T=o[v],O=s.data[v];null!==O.setInput?O.setInput(T,h,d,C):T[C]=h}}function Jm(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?h=me(h,C):2==g&&(d=me(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const Ad=new ci("INJECTOR",-1);class _u{get(o,l=Da){if(l===Da){const d=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw d.name="NullInjectorError",d}return l}}const Fp=new ci("Set Injector scope."),Lp={},zv={};let yu;function Qm(){return void 0===yu&&(yu=new _u),yu}function vu(s,o=null,l=null,d){const h=qv(s,o,l,d);return h._resolveInjectorDefTypes(),h}function qv(s,o=null,l=null,d){return new MT(s,l,o||Qm(),d)}class MT{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&ts(l,C=>this.processProvider(C,o,l)),ts([o],C=>this.processInjectorType(C,[],g)),this.records.set(Ad,_c(void 0,this));const v=this.records.get(Fp);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:_e(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Da,d=ot.Default){this.assertNotDestroyed();const h=Be(this),g=bn(void 0);try{if(!(d&ot.SkipSelf)){let C=this.records.get(o);if(void 0===C){const T=function NT(s){return"function"==typeof s||"object"==typeof s&&s instanceof ci}(o)&&an(o);C=T&&this.injectableDefInScope(T)?_c(gc(o),Lp):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&ot.Self?Qm():this.parent).get(o,l=d&ot.Optional&&l===Da?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[au]=v[au]||[]).unshift(_e(o)),h)throw v;return function pl(s,o,l,d){const h=s[au];throw o[$]&&h.unshift(o[$]),s.message=function Ta(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(M,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[au]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{bn(g),Be(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(_e(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processInjectorType(o,l,d){if(!(o=oe(o)))return!1;let h=Ti(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,C=-1!==d.indexOf(v);if(void 0!==g&&(h=Ti(g)),null==h)return!1;if(null!=h.imports&&!C){let R;d.push(v);try{ts(h.imports,j=>{this.processInjectorType(j,l,d)&&(void 0===R&&(R=[]),R.push(j))})}finally{}if(void 0!==R)for(let j=0;j<R.length;j++){const{ngModule:W,providers:te}=R[j];ts(te,Ce=>this.processProvider(Ce,W,te||Dt))}}this.injectorDefTypes.add(v);const T=dr(v)||(()=>new v);this.records.set(v,_c(T,Lp));const O=h.providers;if(null!=O&&!C){const R=o;ts(O,j=>this.processProvider(j,R,O))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let h=zh(o=oe(o))?o:oe(o&&o.provide);const g=function Xm(s,o,l){return Wv(s)?_c(void 0,s.useValue):_c(Bp(s),Lp)}(o);if(zh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=_c(void 0,Lp,!0),v.factory=()=>zt(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===Lp&&(l.value=zv,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Up(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=oe(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function gc(s){const o=an(s),l=null!==o?o.factory:dr(s);if(null!==l)return l;if(s instanceof ci)throw new Ge(204,!1);if(s instanceof Function)return function mc(s){const o=s.length;if(o>0)throw Es(o,"?"),new Ge(204,!1);const l=function Qi(s){const o=s&&(s[Tr]||s[cs]);if(o){const l=function Os(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ge(204,!1)}function Bp(s,o,l){let d;if(zh(s)){const h=oe(s);return dr(h)||gc(h)}if(Wv(s))d=()=>oe(s.useValue);else if(function e_(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...zt(s.deps||[]));else if(function gi(s){return!(!s||!s.useExisting)}(s))d=()=>pt(oe(s.useExisting));else{const h=oe(s&&(s.useClass||s.provide));if(!function Vp(s){return!!s.deps}(s))return dr(h)||gc(h);d=()=>new h(...zt(s.deps))}return d}function _c(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Wv(s){return null!==s&&"object"==typeof s&&re in s}function zh(s){return"function"==typeof s}let Qo=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return vu({name:""},d,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return vu({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Da,s.NULL=new _u,s.\u0275prov=fn({token:s,providedIn:"any",factory:()=>pt(Ad)}),s.__NG_ELEMENT_ID__=-1,s})();function Qv(s,o){Qr(ap(s)[1],Fn())}function xd(s){let o=function Zh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(ur(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ge(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=ki(s.inputs),v.declaredInputs=ki(s.declaredInputs),v.outputs=ki(s.outputs);const C=h.hostBindings;C&&BT(s,C);const T=h.viewQuery,O=h.contentQueries;if(T&&b1(s,T),O&&LT(s,O),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),ur(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===xd&&(l=!1)}}o=Object.getPrototypeOf(o)}!function FT(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=E(h.hostAttrs,l=E(l,h.hostAttrs))}}(d)}function ki(s){return s===bi?{}:s===Dt?[]:s}function b1(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function LT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function BT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let $p=null;function Nd(){if(!$p){const s=Ft.Symbol;if(s&&s.iterator)$p=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&($p=d)}}}return $p}function Kh(s){return!!Xv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Nd()in s)}function Xv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xo(s,o,l){return s[o]=l}function Wr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function bc(s,o,l,d){const h=Wr(s,o,l);return Wr(s,o+1,d)||h}function zp(s,o,l,d){const h=ke();return Wr(h,zs(),o)&&($t(),function bl(s,o,l,d,h,g){const v=Hi(s,o);pc(o[11],v,g,s.value,l,d,h)}(Yn(),h,s,o,l,d)),zp}function Yh(s,o,l,d){return Wr(s,zs(),l)?o+be(l)+d:Kt}function a0(s,o,l,d,h,g,v,C){const T=ke(),O=$t(),R=s+20,j=O.firstCreatePass?function Do(s,o,l,d,h,g,v,C,T){const O=o.consts,R=mu(o,s,4,v||null,fr(O,C));Np(o,l,R,fr(O,T)),Qr(o,R);const j=R.tViews=Hh(2,R,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,R),j.queries=o.queries.embeddedTView(R)),R}(R,O,T,o,l,d,h,g,v):O.data[R];tr(j,!1);const W=T[11].createComment("");Im(O,T,W,j),Nr(W,T),$h(T,T[R]=Gh(W,T,W,j)),Za(j)&&Bm(O,T,j),null!=v&&Rv(T,j,C)}function Ld(s){return jr(function Wl(){return Mt.lFrame.contextLView}(),20+s)}function Rt(s,o=ot.Default){const l=ke();return null===l?pt(s,o):zo(Fn(),l,oe(s),o)}function u0(){throw new Error("invalid")}function Cc(s,o,l){const d=ke();return Wr(d,zs(),o)&&Co($t(),Yn(),d,s,o,d[11],l,!1),Cc}function r_(s,o,l,d,h){const v=h?"class":"style";Gv(s,l,o.inputs[v],v,d)}function yn(s,o,l,d){const h=ke(),g=$t(),v=20+s,C=h[11],T=h[v]=Ph(C,o,function Hf(){return Mt.lFrame.currentNamespace}()),O=g.firstCreatePass?function Zp(s,o,l,d,h,g,v){const C=o.consts,O=mu(o,s,2,h,fr(C,g));return Np(o,l,O,fr(C,v)),null!==O.attrs&&Jm(O,O.attrs,!1),null!==O.mergedAttrs&&Jm(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(v,g,h,0,o,l,d):g.data[v];tr(O,!0);const R=O.mergedAttrs;null!==R&&yt(C,T,R);const j=O.classes;null!==j&&fu(C,T,j);const W=O.styles;return null!==W&&ir(C,T,W),64!=(64&O.flags)&&Im(g,h,T,O),0===function fa(){return Mt.lFrame.elementDepthCount}()&&Nr(T,h),function pa(){Mt.lFrame.elementDepthCount++}(),Za(O)&&(Bm(g,h,O),function Lm(s,o,l){if(Gc(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}(g,O,h)),null!==d&&Rv(h,O),yn}function s_(){let s=Fn();rl()?ql():(s=s.parent,tr(s,!1));const o=s;!function il(){Mt.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(Qr(l,s),Gc(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function nu(s){return 0!=(16&s.flags)}(o)&&r_(l,o,ke(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mh(s){return 0!=(32&s.flags)}(o)&&r_(l,o,ke(),o.stylesWithoutHost,!1),s_}function or(s,o,l,d){return yn(s,o,l,d),s_(),or}function Di(){return ke()}function Dc(s){return!!s&&"function"==typeof s.then}function o_(s){return!!s&&"function"==typeof s.subscribe}const h0=o_;function Bd(s,o,l,d){const h=ke(),g=$t(),v=Fn();return Iu(g,h,h[11],v,s,o,!!l,d),Bd}function f0(s,o){const l=Fn(),d=ke(),h=$t();return Iu(h,d,Ym(jo(h.data),l,d),l,s,o,!1),f0}function Iu(s,o,l,d,h,g,v,C){const T=Za(d),R=s.firstCreatePass&&Rp(s),j=o[8],W=Km(o);let te=!0;if(3&d.type||C){const nt=Hi(d,o),gt=C?C(nt):nt,Fe=W.length,Ot=C?vn=>C(Cn(vn[d.index])):d.index;if(xn(l)){let vn=null;if(!C&&T&&(vn=function Tc(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const C=o[7],T=h[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=g,vn.__ngLastListenerFn__=g,te=!1;else{g=a_(d,o,j,g,!1);const On=l.listen(gt,h,g);W.push(g,On),R&&R.push(h,Ot,Fe,Fe+1)}}else g=a_(d,o,j,g,!0),gt.addEventListener(h,g,v),W.push(g),R&&R.push(h,Ot,Fe,v)}else g=a_(d,o,j,g,!1);const Ce=d.outputs;let ze;if(te&&null!==Ce&&(ze=Ce[h])){const nt=ze.length;if(nt)for(let gt=0;gt<nt;gt+=2){const Io=o[ze[gt]][ze[gt+1]].subscribe(g),nh=W.length;W.push(g,Io),R&&R.push(h,d.index,nh,-(nh+1))}}}function Qh(s,o,l,d){try{return!1!==l(d)}catch(h){return Hv(s,h),!1}}function a_(s,o,l,d,h){return function g(v){if(v===Function)return d;const C=2&s.flags?Ai(s.index,o):o;0==(32&o[2])&&qm(C);let T=Qh(o,0,d,v),O=g.__ngNextListenerFn__;for(;O;)T=Qh(o,0,O,v)&&T,O=O.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Qe(s=1){return function $r(s){return(Mt.lFrame.contextLView=function Jl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function P1(s,o){let l=null;const d=function Ae(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Gw(s,g,!0):pu(d,g))return h}else l=h}return l}function p0(s){const o=ke()[16][6];if(!o.projection){const d=o.projection=Es(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?P1(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Au(s,o=0,l){const d=ke(),h=$t(),g=mu(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),ql(),64!=(64&g.flags)&&function cT(s,o,l){jw(o[11],0,o,l,Sm(s,l,o),Lw(l.parent||o[6],l,o))}(h,d,g)}function ea(s,o,l){return Mu(s,"",o,"",l),ea}function Mu(s,o,l,d,h){const g=ke(),v=Yh(g,o,l,d);return v!==Kt&&Co($t(),Yn(),g,s,v,g[11],h,!1),Mu}function _0(s,o,l,d,h){const g=s[l+1],v=null===o;let C=d?ka(g):fc(g),T=!1;for(;0!==C&&(!1===T||v);){const R=s[C+1];F1(s[C],o)&&(T=!0,s[C+1]=d?vr(R):yv(R)),C=d?ka(R):fc(R)}T&&(s[l+1]=d?yv(g):vr(g))}function F1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ko(s,o)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zr(s){return s.substring(ar.key,ar.keyEnd)}function Jp(s,o){const l=ar.textEnd;return l===o?-1:(o=ar.keyEnd=function B1(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ar.key=o,l),El(s,o,l))}function El(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Ic(s,o,l){return Pa(s,o,l,!1),Ic}function v0(s,o){return Pa(s,o,null,!0),v0}function Xp(s){!function Fa(s,o,l,d){const h=$t(),g=Gr(2);h.firstUpdatePass&&b0(h,null,g,d);const v=ke();if(l!==Kt&&Wr(v,g,l)){const C=h.data[Gi()];if(eg(C,d)&&!U1(h,g)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(l=me(T,l||"")),r_(h,C,v,l,d)}else!function j1(s,o,l,d,h,g,v,C){h===Kt&&(h=Dt);let T=0,O=0,R=0<h.length?h[0]:null,j=0<g.length?g[0]:null;for(;null!==R||null!==j;){const W=T<h.length?h[T+1]:void 0,te=O<g.length?g[O+1]:void 0;let ze,Ce=null;R===j?(T+=2,O+=2,W!==te&&(Ce=j,ze=te)):null===j||null!==R&&R<j?(T+=2,Ce=R):(O+=2,Ce=j,ze=te),null!==Ce&&Il(s,o,l,d,Ce,ze,v,C),R=T<h.length?h[T]:null,j=O<g.length?g[O]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function rS(s,o,l){if(null==l||""===l)return Dt;const d=[],h=bo(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(Ni,ii,s,!0)}function ii(s,o){for(let l=function hi(s){return function Qp(s){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=s.length}(s),Jp(s,El(s,0,ar.textEnd))}(o);l>=0;l=Jp(o,l))Ni(s,Zr(o),!0)}function Pa(s,o,l,d){const h=ke(),g=$t(),v=Gr(2);g.firstUpdatePass&&b0(g,s,v,d),o!==Kt&&Wr(h,v,o)&&Il(g,g.data[Gi()],h,h[11],s,h[v+1]=function h_(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(bo(s)))),s}(o,l),d,v)}function U1(s,o){return o>=s.expandoStartIndex}function b0(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Gi()],v=U1(s,l);eg(g,d)&&null===o&&!v&&(o=!1),o=function eS(s,o,l,d){const h=jo(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Sl(l=Tl(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Tl(h,s,o,l,d),null===g){let T=function tS(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==fc(d))return s[ka(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=Tl(null,s,o,T[1],d),T=Sl(T,o.attrs,d),function nS(s,o,l,d){s[ka(l?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function iS(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Sl(d,s[g].hostAttrs,l);return Sl(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function u_(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,C=ka(v),T=fc(v);s[d]=l;let R,O=!1;if(Array.isArray(l)){const j=l;R=j[1],(null===R||Ko(j,R)>0)&&(O=!0)}else R=l;if(h)if(0!==T){const W=ka(s[C+1]);s[d+1]=gu(W,C),0!==W&&(s[W+1]=yr(s[W+1],d)),s[C+1]=function fT(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=gu(C,0),0!==C&&(s[C+1]=yr(s[C+1],d)),C=d;else s[d+1]=gu(T,0),0===C?C=d:s[T+1]=yr(s[T+1],d),T=d;O&&(s[d+1]=yv(s[d+1])),_0(s,R,d,!0),_0(s,R,d,!1),function Yp(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ko(g,o)>=0&&(l[d+1]=vr(l[d+1]))}(o,R,s,d,g),v=gu(C,T),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function Tl(s,o,l,d,h){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=o[C],d=Sl(d,g.hostAttrs,h),g!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Sl(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ni(s,v,!!l||o[++g]))}return void 0===s?null:s}function Il(s,o,l,d,h,g,v,C){if(!(3&o.type))return;const T=s.data,O=T[C+1];Ac(function Cp(s){return 1==(1&s)}(O)?C0(T,o,l,h,fc(O),v):void 0)||(Ac(g)||function Om(s){return 2==(2&s)}(O)&&(g=C0(T,null,l,h,C,v)),function dc(s,o,l,d,h){const g=xn(s);if(o)h?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ge.DashCase;if(null==h)g?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=ge.Important),g?s.setStyle(l,d,h,v):l.style.setProperty(d,h,C?"important":"")}}}(d,v,Ur(Gi(),l),h,g))}function C0(s,o,l,d,h,g){const v=null===o;let C;for(;h>0;){const T=s[h],O=Array.isArray(T),R=O?T[1]:T,j=null===R;let W=l[h+1];W===Kt&&(W=j?Dt:void 0);let te=j?id(W,d):R===d?W:void 0;if(O&&!Ac(te)&&(te=id(T,d)),Ac(te)&&(C=te,v))return C;const Ce=s[h+1];h=v?ka(Ce):fc(Ce)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(C=id(T,d))}return C}function Ac(s){return void 0!==s}function eg(s,o){return 0!=(s.flags&(o?16:32))}function f_(s,o=""){const l=ke(),d=$t(),h=s+20,g=d.firstCreatePass?mu(d,h,1,o,null):d.data[h],v=l[h]=kh(l[11],o);Im(d,l,v,g),tr(g,!1)}function tg(s){return ef("",s,""),tg}function ef(s,o,l){const d=ke(),h=Yh(d,s,o,l);return h!==Kt&&function wl(s,o,l){const d=Ur(o,s);Rh(s[11],d,l)}(d,Gi(),h),ef}function y_(s,o,l){const d=ke();return Wr(d,zs(),o)&&Co($t(),Yn(),d,s,o,d[11],l,!0),y_}function zd(s,o,l){const d=ke();if(Wr(d,zs(),o)){const g=$t(),v=Yn();Co(g,v,d,s,o,Ym(jo(g.data),v,d),l,!0)}return zd}const So=void 0;var nC=["en",[["a","p"],["AM","PM"],So],[["AM","PM"],So,So],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],So,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],So,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",So,"{1} 'at' {0}",So],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tC(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let qd={};function sg(s){const o=function xu(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=En(o);if(l)return l;const d=o.split("-")[0];if(l=En(d),l)return l;if("en"===d)return nC;throw new Error(`Missing locale data for the locale "${s}".`)}function Ki(s){return sg(s)[Bt.PluralCase]}function En(s){return s in qd||(qd[s]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[s]),qd[s]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const Yi=["zero","one","two","few","many"],lr="en-US",og={marker:"element"},Mc={marker:"ICU"};var Ri=(()=>((Ri=Ri||{})[Ri.SHIFT=2]="SHIFT",Ri[Ri.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ri[Ri.COMMENT=2]="COMMENT",Ri))();let iC=lr;function rC(s,o,l){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Bw(s,0,l):Cn(l[h])}function sC(s,o,l,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,C=null;if(3&o.type||(C=v,v=h),null!==v&&0==(2&o.flags))for(let T=1;T<g.length;T++)wo(s,v,l[g[T]],C,!1)}}function Pn(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];oC(d)||w_(d,o)&&null===lg(d)&&cg(d,o.index)}}function oC(s){return!(64&s.type)}function w_(s,o){return oC(o)||s.index>o.index}function lg(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function cg(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Vw(rC,sC),s.insertBeforeIndex=o)}function Nu(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function cC(s,o,l){const d=Mp(s,l,64,null,null);return Pn(o,d),d}function C_(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function A0(s){return s>>>17}function M0(s){return(131070&s)>>>1}let ug=0,xc=0;function E_(s,o,l,d){const h=l[11];let v,g=null;for(let C=0;C<o.length;C++){const T=o[C];if("string"==typeof T){const O=o[++C];null===l[O]&&(l[O]=kh(h,T))}else if("number"==typeof T)switch(1&T){case 0:const O=A0(T);let R,j;if(null===g&&(g=O,v=bp(h,d)),O===g?(R=d,j=v):(R=null,j=Cn(l[O])),null!==j){const ze=M0(T);wo(h,j,l[ze],R,!1);const gt=Nu(s,ze);if(null!==gt&&"object"==typeof gt){const Fe=C_(gt,l);null!==Fe&&E_(s,gt.create[Fe],l,l[gt.anchorIdx])}}break;case 1:const te=o[++C],Ce=o[++C];pc(h,Ur(T>>>1,l),null,null,te,Ce,null)}else switch(T){case Mc:const O=o[++C],R=o[++C];null===l[R]&&Nr(l[R]=_p(h,O),l);break;case og:const j=o[++C],W=o[++C];null===l[W]&&Nr(l[W]=Ph(h,j,null),l)}}}function x0(s,o,l,d,h){for(let g=0;g<l.length;g++){const v=l[g],C=l[++g];if(v&h){let T="";for(let O=g+1;O<=g+C;O++){const R=l[O];if("string"==typeof R)T+=R;else if("number"==typeof R)if(R<0)T+=be(o[d-R]);else{const j=R>>>2;switch(3&R){case 1:const W=l[++O],te=l[++O],Ce=s.data[j];"string"==typeof Ce?pc(o[11],o[j],null,Ce,W,T,te):Co(s,Ce,o,W,T,o[11],te,!1);break;case 0:const ze=o[j];null!==ze&&Rh(o[11],ze,T);break;case 2:Al(s,Nu(s,j),o,T);break;case 3:sf(s,Nu(s,j),d,o)}}}}else{const T=l[g+1];if(T>0&&3==(3&T)){const R=Nu(s,T>>>2);o[R.currentCaseLViewIndex]<0&&sf(s,R,d,o)}}g+=C}}function sf(s,o,l,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=ug;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),x0(s,d,o.update[h],l,g)}}function Al(s,o,l,d){const h=function hC(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function b_(s,o){const l=Ki(o)(parseInt(s,10)),d=Yi[l];return void 0!==d?d:"other"}(o,function ag(){return iC}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(C_(o,l)!==h&&(D_(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=l[o.anchorIdx];v&&E_(s,o.create[h],l,v)}}function D_(s,o,l){let d=C_(o,l);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const C=Ur(v,l);null!==C&&mv(l[11],C)}else D_(s,Nu(s,~v),l)}}}function dg(){const s=[];let l,d,o=-1;function g(C,T){o=0;const O=C_(C,T);d=null!==O?C.remove[O]:Dt}function v(){if(o<d.length){const C=d[o++];return C>0?l[C]:(s.push(o,d),g(l[1].data[~C],l),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(C,T){for(l=T;s.length;)s.pop();return g(C.value,T),v}}const Ou=/\ufffd(\d+):?\d*\ufffd/gi,pS=/\ufffd(\d+)\ufffd/,O0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,gS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,gC=/\uE500/g;function Wd(s,o,l,d,h,g,v){const C=Ed(s,d,1,null);let T=C<<Ri.SHIFT,O=ho();o===O&&(O=null),null===O&&(T|=Ri.APPEND_EAGERLY),v&&(T|=Ri.COMMENT,function Lt(s){void 0===Ye&&(Ye=s())}(dg)),h.push(T,null===g?"":g);const R=Mp(s,C,v?32:1,null===g?"":g,null);Pn(l,R);const j=R.index;return tr(R,!1),null!==O&&o!==O&&function lC(s,o){let l=s.insertBeforeIndex;null===l?(Vw(rC,sC),l=s.insertBeforeIndex=[null,o]):(function ie(s,o,l){s!=o&&It(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(O,j),R}function lf(s,o,l,d,h,g,v){const C=v.match(Ou),T=Wd(s,o,l,g,d,C?null:v,!1);C&&cf(h,v,T.index,null,0,null)}function cf(s,o,l,d,h,g){const v=s.length,C=v+1;s.push(null,null);const T=v+2,O=o.split(Ou);let R=0;for(let j=0;j<O.length;j++){const W=O[j];if(1&j){const te=h+parseInt(W,10);s.push(-1-te),R|=k0(te)}else""!==W&&s.push(W)}return s.push(l<<2|(d?1:0)),d&&s.push(d,g),s[v]=R,s[C]=s.length-T,R}function k0(s){return 1<<Math.min(s,31)}function mC(s){let o,g,l="",d=0,h=!1;for(;null!==(o=pC.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(l+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return l+=s.substr(d),l}function ta(s,o,l,d,h,g){let v=0;const C={type:h.type,currentCaseLViewIndex:Ed(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function wS(s,o,l){s.push(k0(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,g),function aC(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,g,C);const T=h.values;for(let O=0;O<T.length;O++){const R=T[O],j=[];for(let W=0;W<R.length;W++){const te=R[W];if("string"!=typeof te){const Ce=j.push(te)-1;R[W]=`\x3c!--\ufffd${Ce}\ufffd--\x3e`}}v=vC(s,C,o,l,d,h.cases[O],R.join(""),j)|v}v&&function CS(s,o,l){s.push(o,1,l<<2|3)}(l,v,g)}function yC(s){const o=[],l=[];let d=1,h=0;const g=uf(s=s.replace(O0,function(v,C,T){return d="select"===T?0:1,h=parseInt(C.substr(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===d&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const T=uf(g[v++]);o.length>l.length&&l.push(T)}return{type:d,mainBinding:h,cases:o,values:l}}function uf(s){if(!s)return[];let o=0;const l=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const C=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const T=s.substring(o,C);O0.test(T)?d.push(yC(T)):d.push(T),o=C+1}}else{if(0==l.length){const T=s.substring(o,C);d.push(T),o=C+1}l.push("{")}}const v=s.substring(o);return d.push(v),d}function vC(s,o,l,d,h,g,v,C){const T=[],O=[],R=[];o.cases.push(g),o.create.push(T),o.remove.push(O),o.update.push(R);const W=mm(ua()).getInertBodyElement(v),te=ip(W)||W;return te?bC(s,o,l,d,T,O,R,te,h,C,0):0}function bC(s,o,l,d,h,g,v,C,T,O,R){let j=0,W=C.firstChild;for(;W;){const te=Ed(s,l,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const Ce=W,ze=Ce.tagName.toLowerCase();if(Qf.hasOwnProperty(ze)){R0(h,og,ze,T,te),s.data[te]=ze;const Ot=Ce.attributes;for(let vn=0;vn<Ot.length;vn++){const On=Ot.item(vn),Io=On.name.toLowerCase();On.value.match(Ou)?ml.hasOwnProperty(Io)&&cf(v,On.value,te,On.name,0,Xf[Io]?sc:ep[Io]?Jf:null):ES(h,te,On)}j=bC(s,o,l,d,h,g,v,W,te,O,R+1)|j,wC(g,te,R)}break;case Node.TEXT_NODE:const nt=W.textContent||"",gt=nt.match(Ou);R0(h,null,gt?"":nt,T,te),wC(g,te,R),gt&&(j=cf(v,nt,te,null,0,null)|j);break;case Node.COMMENT_NODE:const Fe=pS.exec(W.textContent||"");if(Fe){const vn=O[parseInt(Fe[1],10)];R0(h,Mc,"",T,te),ta(s,l,d,T,vn,te),bS(g,te,R)}}W=W.nextSibling}return j}function wC(s,o,l){0===l&&s.push(o)}function bS(s,o,l){0===l&&(s.push(~o),s.push(o))}function R0(s,o,l,d,h){null!==o&&s.push(o),s.push(l,h,function cS(s,o,l){return s|o<<17|l<<1}(0,d,h))}function ES(s,o,l){s.push(o<<1|1,l.name,l.value)}function DC(s,o,l=-1){const d=$t(),h=ke(),g=20+s,v=fr(d.consts,o),C=ho();d.firstCreatePass&&function _S(s,o,l,d,h,g){const v=ho(),C=[],T=[],O=[[]];h=function _C(s,o){if(function Rr(s){return-1===s}(o))return mC(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return mC(s.substring(l,d))}}(h,g);const R=function mS(s){return s.replace(gC," ")}(h).split(gS);for(let j=0;j<R.length;j++){let W=R[j];if(0==(1&j)){const te=uf(W);for(let Ce=0;Ce<te.length;Ce++){let ze=te[Ce];if(0==(1&Ce)){const nt=ze;""!==nt&&lf(s,v,O[0],C,T,l,nt)}else{const nt=ze;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ta(s,l,T,o,nt,Wd(s,v,O[0],l,C,"",!0).index)}}}else{const te=47===W.charCodeAt(0),ze=(W.charCodeAt(te?1:0),20+Number.parseInt(W.substring(te?2:1)));if(te)O.shift(),tr(ho(),!1);else{const nt=cC(s,O[0],ze);O.unshift([]),tr(nt,!0)}}}s.data[d]={create:C,update:T}}(d,null===C?0:C.index,h,g,v,l);const T=d.data[g],R=oT(d,C===h[6]?null:C,h);(function kr(s,o,l,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],C=o[g],T=(v&Ri.COMMENT)===Ri.COMMENT,O=(v&Ri.APPEND_EAGERLY)===Ri.APPEND_EAGERLY,R=v>>>Ri.SHIFT;let j=s[R];null===j&&(j=s[R]=T?h.createComment(C):kh(h,C)),O&&null!==l&&wo(h,l,j,d,!1)}})(h,T.create,R,C&&8&C.type?h[C.index]:null),ga(!0)}function TC(s,o,l){DC(s,o,l),function P0(){ga(!1)}()}function T_(s){return function dC(s){s&&(ug|=1<<Math.min(xc,31)),xc++}(Wr(ke(),zs(),s)),T_}function Ee(s){!function uS(s,o,l){if(xc>0){const d=s.data[l];x0(s,o,Array.isArray(d)?d:d.update,function Mr(){return Mt.lFrame.bindingIndex}()-xc-1,ug)}ug=0,xc=0}($t(),ke(),s+20)}function F0(s,o,l,d,h){if(s=oe(s),Array.isArray(s))for(let g=0;g<s.length;g++)F0(s[g],o,l,d,h);else{const g=$t(),v=ke();let C=zh(s)?s:oe(s.provide),T=Bp(s);const O=Fn(),R=1048575&O.providerIndexes,j=O.directiveStart,W=O.providerIndexes>>20;if(zh(s)||!s.multi){const te=new Ho(T,h,Rt),Ce=L0(C,o,h?R:R+W,j);-1===Ce?($o(Nn(O,v),g,C),Zd(g,s,o.length),o.push(C),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),l.push(te),v.push(te)):(l[Ce]=te,v[Ce]=te)}else{const te=L0(C,o,R+W,j),Ce=L0(C,o,R,R+W),ze=te>=0&&l[te],nt=Ce>=0&&l[Ce];if(h&&!nt||!h&&!ze){$o(Nn(O,v),g,C);const gt=function AC(s,o,l,d,h){const g=new Ho(s,l,Rt);return g.multi=[],g.index=o,g.componentProviders=0,ku(g,h,d&&!l),g}(h?IC:Kd,l.length,h,d,T);!h&&nt&&(l[Ce].providerFactory=gt),Zd(g,s,o.length,0),o.push(C),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),l.push(gt),v.push(gt)}else Zd(g,s,te>-1?te:Ce,ku(l[h?Ce:te],T,!h&&d));!h&&d&&nt&&l[Ce].componentProviders++}}}function Zd(s,o,l,d){const h=zh(o),g=function xT(s){return!!s.useClass}(o);if(h||g){const T=(g?oe(o.useClass):o).prototype.ngOnDestroy;if(T){const O=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=O.indexOf(l);-1===R?O.push(l,[d,T]):O[R+1].push(d,T)}else O.push(l,T)}}}function ku(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function L0(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function Kd(s,o,l,d){return hg(this.multi,[])}function IC(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=bs(l,l[1],this.providerFactory.index,d);g=C.slice(0,v),hg(h,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],hg(h,g);return g}function hg(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Cr(s,o=[]){return l=>{l.providersResolver=(d,h)=>function Ba(s,o,l){const d=$t();if(d.firstCreatePass){const h=ur(s);F0(l,d.data,d.blueprint,h,!0),F0(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class I_{}class OS{resolveComponentFactory(o){throw function V0(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let fg=(()=>{class s{}return s.NULL=new OS,s})();function A_(){return na(Fn(),ke())}function na(s,o){return new Va(Hi(s,o))}let Va=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=A_,s})();function df(s){return s instanceof Va?s.nativeElement:s}class U0{}let j0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function MC(){const s=ke(),l=Ai(Fn().index,s);return function H0(s){return s[11]}(Vr(l)?l:s)}(),s})(),kS=(()=>{class s{}return s.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null}),s})();class G0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const $0=new G0("13.3.1"),pg={};function Ru(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Cn(g)),Ar(g))for(let C=10;C<g.length;C++){const T=g[C],O=T[1].firstChild;null!==O&&Ru(T[1],T,O,d)}const v=l.type;if(8&v)Ru(s,o,l.child,d);else if(32&v){const C=_t(l,o);let T;for(;T=C();)d.push(T)}else if(16&v){const C=Uw(o,l);if(Array.isArray(C))d.push(...C);else{const T=di(o[16]);Ru(T[1],T,C,d,!0)}}l=h?l.projectionNext:l.next}return d}class Ml{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Ru(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ar(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(cv(o,d),yo(l,d))}this._attachedToViewContainer=!1}uv(this._lView[1],this._lView)}onDestroy(o){Um(this._lView[1],this._lView,null,o)}markForCheck(){qm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jv(s,o,l){$s(!0);try{kp(s,o,l)}finally{$s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tm(s,o){Am(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ge(902,"");this._appRef=o}}class RS extends Ml{constructor(o){super(o),this._view=o}detectChanges(){Wm(this._view)}checkNoChanges(){!function Zm(s){$s(!0);try{Wm(s)}finally{$s(!1)}}(this._view)}get context(){return null}}class z0 extends fg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=dn(o);return new hf(l,this.ngModule)}}function xC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class hf extends I_{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function hc(s){return s.map(hT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return xC(this.componentDef.inputs)}get outputs(){return xC(this.componentDef.outputs)}create(o,l,d,h){const g=(h=h||this.ngModule)?function FS(s,o){return{get:(l,d,h)=>{const g=s.get(l,pg,h);return g!==pg||d===pg?g:o.get(l,d,h)}}}(o,h.injector):o,v=g.get(U0,Us),C=g.get(kS,null),T=v.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",R=d?function xp(s,o,l){if(xn(s))return s.selectRootElement(o,l===en.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Ph(v.createRenderer(null,this.componentDef),O,function PS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),j=this.componentDef.onPush?576:528,W=function Gp(s,o){return{components:[],scheduler:s||sv,clean:AT,playerHandler:o||null,flags:0}}(),te=Hh(0,null,null,1,0,null,null,null,null,null),Ce=Cd(null,te,W,j,null,null,v,T,C,g);let ze,nt;qs(Ce);try{const gt=function Hp(s,o,l,d,h,g){const v=l[1];l[20]=s;const T=mu(v,20,2,"#host",null),O=T.mergedAttrs=o.hostAttrs;null!==O&&(Jm(T,O,!0),null!==s&&(yt(h,s,O),null!==T.classes&&fu(h,s,T.classes),null!==T.styles&&ir(h,s,T.styles)));const R=d.createRenderer(s,o),j=Cd(l,Vm(o),null,o.onPush?64:16,l[20],T,d,R,g||null,null);return v.firstCreatePass&&($o(Nn(T,l),v,o.type),Uv(v,T),r1(T,l.length,1)),$h(l,j),l[20]=j}(R,this.componentDef,Ce,v,T);if(R)if(d)yt(T,R,["ng-version",$0.full]);else{const{attrs:Fe,classes:Ot}=function vt(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!zi(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Fe&&yt(T,R,Fe),Ot&&Ot.length>0&&fu(T,R,Ot.join(" "))}if(nt=da(te,20),void 0!==l){const Fe=nt.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const vn=l[Ot];Fe.push(null!=vn?Array.from(vn):null)}}ze=function Wh(s,o,l,d,h){const g=l[1],v=function jm(s,o,l){const d=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Dd(s,d,o,Ed(s,o,1,null),l));const h=bs(o,s,d.directiveStart,d);Nr(h,o);const g=Hi(d,o);return g&&Nr(g,o),h}(g,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(T=>T(v,o)),o.contentQueries){const T=Fn();o.contentQueries(1,v,T.directiveStart)}const C=Fn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ws(C.index),Hm(l[1],C,0,C.directiveStart,C.directiveEnd,o),Vv(o,v)),v}(gt,this.componentDef,Ce,W,[Qv]),Uh(te,Ce,null)}finally{fo()}return new NC(this.componentType,ze,na(nt,Ce),Ce,nt)}}class NC extends class B0{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new RS(h),this.componentType=o}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class pf{}class x_{}const Oc=new Map;class xs extends pf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new z0(this);const d=An(o);this._bootstrapComponents=m(d.bootstrap),this._r3Injector=qv(o,l,[{provide:pf,useValue:this},{provide:fg,useValue:this.componentFactoryResolver}],_e(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Qo.THROW_IF_NOT_FOUND,d=ot.Default){return o===Qo||o===pf||o===Ad?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class N_ extends x_{constructor(o){super(),this.moduleType=o,null!==An(o)&&function gg(s){const o=new Set;!function l(d){const h=An(d,!0),g=h.id;null!==g&&(function q0(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${_e(o)} vs ${_e(o.name)}`)}(g,Oc.get(g),d),Oc.set(g,d));const v=m(h.imports);for(const C of v)o.has(C)||(o.add(C),l(C))}(s)}(o)}create(o){return new xs(this.moduleType,o)}}function _g(s,o,l){const d=Mi()+s,h=ke();return h[d]===Kt?Xo(h,d,l?o.call(l):o()):function vc(s,o){return s[o]}(h,d)}function O_(s,o,l,d){return Fu(ke(),Mi(),s,o,l,d)}function Z0(s,o,l,d,h){return function k_(s,o,l,d,h,g,v){const C=o+l;return bc(s,C,h,g)?Xo(s,C+2,v?d.call(v,h,g):d(h,g)):ia(s,C+2)}(ke(),Mi(),s,o,l,d,h)}function kc(s,o,l,d,h,g){return function K0(s,o,l,d,h,g,v,C){const T=o+l;return function Od(s,o,l,d,h){const g=bc(s,o,l,d);return Wr(s,o+2,h)||g}(s,T,h,g,v)?Xo(s,T+3,C?d.call(C,h,g,v):d(h,g,v)):ia(s,T+3)}(ke(),Mi(),s,o,l,d,h,g)}function ia(s,o){const l=s[o];return l===Kt?void 0:l}function Fu(s,o,l,d,h,g){const v=o+l;return Wr(s,v,h)?Xo(s,v+1,g?d.call(g,h):d(h)):ia(s,v+1)}function FC(s,o){const l=$t();let d;const h=s+20;l.firstCreatePass?(d=function US(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=dr(d.type)),v=bn(Rt);try{const C=Vn(!1),T=g();return Vn(C),function E1(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,ke(),h,T),T}finally{bn(v)}}function yg(s,o,l){const d=s+20,h=ke(),g=jr(h,d);return function Ua(s,o){return s[1].data[o].pure}(h,d)?Fu(h,Mi(),o,g.transform,l,g):g.transform(l)}function R_(s){return o=>{setTimeout(s,void 0,o)}}const ja=class vg extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,g,v;let C=o,T=l||(()=>null),O=d;if(o&&"object"==typeof o){const j=o;C=null===(h=j.next)||void 0===h?void 0:h.bind(j),T=null===(g=j.error)||void 0===g?void 0:g.bind(j),O=null===(v=j.complete)||void 0===v?void 0:v.bind(j)}this.__isAsync&&(T=R_(T),C&&(C=R_(C)),O&&(O=R_(O)));const R=super.subscribe({next:C,error:T,complete:O});return o instanceof ne.w0&&o.add(R),R}};function GS(){return this._results[Nd()]()}class bg{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Nd(),d=bg.prototype;d[l]||(d[l]=GS)}get changes(){return this._changes||(this._changes=new ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=gr(o);(this._changesDetected=!function Qu(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Jd=(()=>{class s{}return s.__NG_ELEMENT_ID__=P_,s})();const Y0=Jd,wg=class extends Y0{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Cd(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Uh(l,d,o),new Ml(d)}};function P_(){return _f(Fn(),ke())}function _f(s,o){return 4&s.type?new wg(o,s,na(s,o)):null}let F_=(()=>{class s{}return s.__NG_ELEMENT_ID__=J0,s})();function J0(){return B_(Fn(),ke())}const VC=F_,UC=class extends VC{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const o=Xr(this._hostTNode,this._hostLView);if(k(o)){const l=at(o,this._hostLView),d=G(o);return new ws(l[1].data[d+8],l)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Q0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,g){const v=o&&!function hl(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const j=l||{};C=j.index,d=j.injector,h=j.projectableNodes,g=j.ngModuleRef}const T=v?o:new hf(dn(o)),O=d||this.parentInjector;if(!g&&null==T.ngModule){const W=(v?O:this.parentInjector).get(pf,null);W&&(g=W)}const R=T.create(O,h,void 0,g);return this.insert(R.hostView,C),R}insert(o,l){const d=o._lView,h=d[1];if(function ha(s){return Ar(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const j=d[3],W=new UC(j,j[6],j[3]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function lv(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],Xu(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Fh(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,d,v,g);const C=gv(g,v),T=d[11],O=bp(T,v[7]);return null!==O&&function yp(s,o,l,d,h,g){d[0]=h,d[6]=o,Am(s,d,l,1,h,g)}(h,v[6],T,d,O,C),o.attachToViewContainerRef(),Xu(L_(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Q0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=cv(this._lContainer,l);d&&(yo(L_(this._lContainer),l),uv(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=cv(this._lContainer,l);return d&&null!=yo(L_(this._lContainer),l)?new Ml(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Q0(s){return s[8]}function L_(s){return s[8]||(s[8]=[])}function B_(s,o){let l;const d=o[s.index];if(Ar(d))l=d;else{let h;if(8&s.type)h=Cn(d);else{const g=o[11];h=g.createComment("");const v=Hi(s,o);wo(g,bp(g,v),h,function lT(s,o){return xn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=Gh(d,o,h,s),$h(o,l)}return new UC(l,s,o)}class V_{constructor(o){this.queryList=o,this.matches=null}clone(){return new V_(this.queryList)}setDirty(){this.queryList.setDirty()}}class X0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new X0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==YC(o,l).matches&&this.queries[l].setDirty()}}class Qd{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Lu{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Lu(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Cg{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Cg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,U_(l,g)),this.matchTNodeWithReadOption(o,l,zr(l,o,g,!1,!1))}else d===Jd?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,zr(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Va||h===F_||h===Jd&&4&l.type)this.addMatch(l.index,-2);else{const g=zr(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function U_(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function GC(s,o,l,d){return-1===l?function HC(s,o){return 11&s.type?na(s,o):4&s.type?_f(s,o):null}(o,s):-2===l?function $C(s,o,l){return l===Va?na(o,s):l===Jd?_f(o,s):l===F_?B_(o,s):void 0}(s,o,d):bs(s,s[1],l,o)}function zC(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,C=[];for(let T=0;T<v.length;T+=2){const O=v[T];C.push(O<0?null:GC(o,g[O],v[T+1],l.metadata.read))}h.matches=C}return h.matches}function Eg(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=zC(s,o,h,l);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)d.push(v[C/2]);else{const O=g[C+1],R=o[-T];for(let j=10;j<R.length;j++){const W=R[j];W[17]===W[3]&&Eg(W[1],W,O,d)}if(null!==R[9]){const j=R[9];for(let W=0;W<j.length;W++){const te=j[W];Eg(te[1],te,O,d)}}}}}return d}function qC(s){const o=ke(),l=$t(),d=Kl();ll(d+1);const h=YC(l,d);if(s.dirty&&js(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Eg(l,o,d,[]):zC(l,o,h,d);s.reset(g,df),s.notifyOnChanges()}return!0}return!1}function j_(s,o,l){const d=$t();d.firstCreatePass&&(KC(d,new Qd(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Er(d,ke(),o)}function WC(s,o,l,d){const h=$t();if(h.firstCreatePass){const g=Fn();KC(h,new Qd(o,l,d),g.index),function zS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Er(h,ke(),l)}function ZC(){return function eb(s,o){return s[19].queries[o].queryList}(ke(),Kl())}function Er(s,o,l){const d=new bg(4==(4&l));Um(s,o,d,d.destroy),null===o[19]&&(o[19]=new X0),o[19].queries.push(new V_(d))}function KC(s,o,l){null===s.queries&&(s.queries=new Lu),s.queries.track(new Cg(o,l))}function YC(s,o){return s.queries.getByIndex(o)}function JC(s,o){return _f(s,o)}function Ig(...s){}const Q_=new ci("Application Initializer");let mb=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Ig,this.reject=Ig,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Dc(g))l.push(g);else if(h0(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(pt(Q_,8))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const X_=new ci("AppId",{providedIn:"root",factory:function rE(){return`${_b()}${_b()}${_b()}`}});function _b(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ey=new ci("Platform Initializer"),yb=new ci("Platform ID"),ty=new ci("appBootstrapListener");let ny=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const xl=new ci("LocaleId",{providedIn:"root",factory:()=>Qt(xl,ot.Optional|ot.SkipSelf)||function Cf(){return"undefined"!=typeof $localize&&$localize.locale||lr}()}),vb=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ef{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let XS=(()=>{class s{compileModuleSync(l){return new N_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=m(An(l).declarations).reduce((v,C)=>{const T=dn(C);return T&&v.push(new hf(T)),v},[]);return new Ef(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bb=(()=>Promise.resolve(0))();function xg(s){"undefined"==typeof Zone?bb.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ha{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wb(){let s=Ft.requestAnimationFrame,o=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function nI(s){const o=()=>{!function Cb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ft,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,iy(s),s.isCheckStableRunning=!0,Ng(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),iy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,C)=>{try{return lE(s),l.invokeTask(h,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Eb(s)}},onInvoke:(l,d,h,g,v,C,T)=>{try{return lE(s),l.invoke(h,g,v,C,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),Eb(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,iy(s),Ng(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ha.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ha.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,tI,Ig,Ig);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const tI={};function Ng(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function iy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Eb(s){s._nesting--,Ng(s)}class cE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let Db=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ha.assertNotInAngularZone(),xg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(pt(Ha))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})(),Tb=(()=>{class s{constructor(){this._applications=new Map,Sb.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Sb.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();class iI{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function rI(s){Sb=s}let Ga,Sb=new iI;const dE=new ci("AllowMultipleToken");class Mb{constructor(o,l){this.name=o,this.token=l}}function ry(s,o,l=[]){const d=`Platform: ${o}`,h=new ci(d);return(g=[])=>{let v=xb();if(!v||v.injector.get(dE,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const C=l.concat(g).concat({provide:h,useValue:!0},{provide:Fp,useValue:"platform"});!function sI(s){if(Ga&&!Ga.destroyed&&!Ga.injector.get(dE,!1))throw new Ge(400,"");Ga=s.get(pE);const o=s.get(ey,null);o&&o.forEach(l=>l())}(Qo.create({providers:C,name:d}))}return function hE(s){const o=xb();if(!o)throw new Ge(401,"");return o}()}}function xb(){return Ga&&!Ga.destroyed?Ga:null}let pE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const C=function Nb(s,o){let l;return l="noop"===s?new cE:("zone.js"===s?void 0:s)||new Ha({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Ha,useValue:C}];return C.run(()=>{const O=Qo.create({providers:T,parent:this.injector,name:l.moduleType.name}),R=l.create(O),j=R.injector.get(_r,null);if(!j)throw new Ge(402,"");return C.runOutsideAngular(()=>{const W=C.onError.subscribe({next:te=>{j.handleError(te)}});R.onDestroy(()=>{Og(this._modules,R),W.unsubscribe()})}),function oI(s,o,l){try{const d=l();return Dc(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(j,C,()=>{const W=R.injector.get(mb);return W.runInitializers(),W.donePromise.then(()=>(function I0(s){(function Et(s,o){null==s&&It(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(iC=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(xl,lr)||lr),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,d=[]){const h=sy({},d);return function Ib(s,o,l){const d=new N_(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Ob);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ge(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(pt(Qo))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function sy(s,o){return Array.isArray(o)?o.reduce(sy,s):Object.assign(Object.assign({},s),o)}let Ob=(()=>{class s{constructor(l,d,h,g,v){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new B.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),T=new B.y(O=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Ha.assertNotInAngularZone(),xg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{R.unsubscribe(),j.unsubscribe()}});this.isStable=(0,fe.T)(C,T.pipe((0,ae.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ge(405,"");let h;h=l instanceof I_?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function Ab(s){return s.isBoundToModule}(h)?void 0:this._injector.get(pf),C=h.create(Qo.NULL,[],d||h.selector,g),T=C.location.nativeElement,O=C.injector.get(Db,null),R=O&&C.injector.get(Tb);return O&&R&&R.registerApplication(T,O),C.onDestroy(()=>{this.detachView(C.hostView),Og(this.components,C),R&&R.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ge(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Og(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(ty,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(pt(Ha),pt(Qo),pt(_r),pt(fg),pt(mb))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Og(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let oy=!0,ay=!1;function Df(){return ay=!0,oy}function mE(){if(ay)throw new Error("Cannot enable prod mode after platform setup.");oy=!1}let Pc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rb,s})();function Rb(s){return function aI(s,o,l){if(Fs(s)&&!l){const d=Ai(s.index,o);return new Ml(d,d)}return 47&s.type?new Ml(o[16],o):null}(Fn(),ke(),16==(16&s))}class Vb{constructor(){}supports(o){return Kh(o)}create(o){return new Ub(o)}}const dI=(s,o)=>o;class Ub{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||dI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<DE(d,h,g)?l:d,C=DE(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const O=C-h,R=T-h;if(O!=R){for(let W=0;W<O;W++){const te=W<g.length?g[W]:g[W]=0,Ce=te+W;R<=Ce&&Ce<O&&(g[W]=te+1)}g[v.previousIndex]=R-O}}C!==T&&o(v,C,T)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Kh(o))throw new Ge(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),d=!0),l=l._next}else h=0,function C1(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Nd()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new CE(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new EE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class CE{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class EE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new fy,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DE(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class TE{constructor(){}supports(o){return o instanceof Map||Xv(o)}create(){return new hI}}class hI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Xv(o)))throw new Ge(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new SE(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class SE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function py(){return new gy([new Vb])}let gy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||py()),deps:[[s,new Sa,new is]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ge(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:py}),s})();function my(){return new Rg([new TE])}let Rg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||my()),deps:[[s,new Sa,new is]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Ge(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:my}),s})();const Hb=ry(null,"core",[{provide:yb,useValue:"unknown"},{provide:pE,deps:[Qo]},{provide:Tb,deps:[]},{provide:ny,deps:[]}]);let Sf=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(pt(Ob))},s.\u0275mod=se({type:s}),s.\u0275inj=cn({}),s})()},3942:(wt,xe,V)=>{"use strict";V.d(xe,{Z:()=>Ge});var c=V(2090),ne=V(4859),B=V(9681),fe=V(1877);class ae{constructor(be,Ne){this._delegate=be,this.firebase=Ne,(0,B._addComponent)(be,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(be,Ne=B._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(be);return!lt.isInitialized()&&"EXPLICIT"===(null===(ht=lt.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:Ne})}_removeServiceInstance(be,Ne=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ne)}_addComponent(be){(0,B._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,B._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function me(){const We=function _e(We){const be={},Ne={__esModule:!0,initializeApp:function Pe(Ke,H={}){const ie=B.initializeApp(Ke,H);if((0,c.r3)(be,ie.name))return be[ie.name];const ce=new We(ie,Ne);return be[ie.name]=ce,ce},app:lt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Me(Ke){const H=Ke.name,ie=H.replace("-compat","");if(B._registerComponent(Ke)&&"PUBLIC"===Ke.type){const ce=(we=lt())=>{if("function"!=typeof we[ie])throw le.create("invalid-app-argument",{appName:H});return we[ie]()};void 0!==Ke.serviceProps&&(0,c.ZB)(ce,Ke.serviceProps),Ne[ie]=ce,We.prototype[ie]=function(...we){return this._getService.bind(this,H).apply(this,Ke.multipleInstances?we:[])}}return"PUBLIC"===Ke.type?Ne[ie]:null},removeApp:function ht(Ke){delete be[Ke]},useAsService:function Xe(Ke,H){return"serverAuth"===H?null:H},modularAPIs:B}};function lt(Ke){if(!(0,c.r3)(be,Ke=Ke||B._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ke});return be[Ke]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Ie(){return Object.keys(be).map(Ke=>be[Ke])}}),lt.App=We,Ne}(ae);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function be(Ne){(0,c.ZB)(We,Ne)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),We}(),J=new fe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=Y;!function Le(We){(0,B.registerVersion)("@firebase/app-compat","0.1.21",We)}()},9681:(wt,xe,V)=>{"use strict";V.r(xe),V.d(xe,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Lr,_apps:()=>It,_clearComponents:()=>an,_components:()=>rn,_getProvider:()=>Bi,_registerComponent:()=>fn,_removeServiceInstance:()=>cn,deleteApp:()=>Xi,getApp:()=>mi,getApps:()=>cs,initializeApp:()=>Tr,onLog:()=>_i,registerVersion:()=>$n,setLogLevel:()=>bn});var c=V(5861),ne=V(4859),B=V(1877),fe=V(2090);class ae{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function Te(ut){const he=ut.getComponent();return"VERSION"===(null==he?void 0:he.type)}(ft)){const At=ft.getImmediate();return`${At.library}/${At.version}`}return null}).filter(ft=>ft).join(" ")}}const le="@firebase/app",me=new B.Yd("@firebase/app"),Gn="[DEFAULT]",Et={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,rn=new Map;function ln(ut,he){try{ut.container.addComponent(he)}catch(ft){me.debug(`Component ${he.name} failed to register with FirebaseApp ${ut.name}`,ft)}}function Lr(ut,he){ut.container.addOrOverwriteComponent(he)}function fn(ut){const he=ut.name;if(rn.has(he))return me.debug(`There were multiple attempts to register component ${he}.`),!1;rn.set(he,ut);for(const ft of It.values())ln(ft,ut);return!0}function Bi(ut,he){const ft=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),ut.container.getProvider(he)}function cn(ut,he,ft=Gn){Bi(ut,he).clearInstance(ft)}function an(){rn.clear()}const Qi=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Os{constructor(he,ft,At){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const Ti="9.6.10";function Tr(ut,he={}){"object"!=typeof he&&(he={name:he});const ft=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},he),At=ft.name;if("string"!=typeof At||!At)throw Qi.create("bad-app-name",{appName:String(At)});const on=It.get(At);if(on){if((0,fe.vZ)(ut,on.options)&&(0,fe.vZ)(ft,on.config))return on;throw Qi.create("duplicate-app",{appName:At})}const nn=new ne.H0(At);for(const z of rn.values())nn.addComponent(z);const K=new Os(ut,ft,nn);return It.set(At,K),K}function mi(ut=Gn){const he=It.get(ut);if(!he)throw Qi.create("no-app",{appName:ut});return he}function cs(){return Array.from(It.values())}function Xi(ut){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(ut){const he=ut.name;It.has(he)&&(It.delete(he),yield Promise.all(ut.container.getProviders().map(ft=>ft.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function $n(ut,he,ft){var At;let on=null!==(At=Et[ut])&&void 0!==At?At:ut;ft&&(on+=`-${ft}`);const nn=on.match(/\s|\//),K=he.match(/\s|\//);if(nn||K){const z=[`Unable to register library "${on}" with version "${he}":`];return nn&&z.push(`library name "${on}" contains illegal characters (whitespace or "/")`),nn&&K&&z.push("and"),K&&z.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void me.warn(z.join(" "))}fn(new ne.wA(`${on}-version`,()=>({library:on,version:he}),"VERSION"))}function _i(ut,he){if(null!==ut&&"function"!=typeof ut)throw Qi.create("invalid-log-argument");(0,B.Am)(ut,he)}function bn(ut){(0,B.Ub)(ut)}const kn="firebase-heartbeat-store";let xt=null;function yi(){return xt||(xt=(0,fe.X3)("firebase-heartbeat-database",1,(ut,he)=>{0===he&&ut.createObjectStore(kn)}).catch(ut=>{throw Qi.create("storage-open",{originalErrorMessage:ut.message})})),xt}function en(){return(en=(0,c.Z)(function*(ut){try{return(yield yi()).transaction(kn).objectStore(kn).get(vi(ut))}catch(he){throw Qi.create("storage-get",{originalErrorMessage:he.message})}})).apply(this,arguments)}function tt(ut,he){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(ut,he){try{const At=(yield yi()).transaction(kn,"readwrite");return yield At.objectStore(kn).put(he,vi(ut)),At.complete}catch(ft){throw Qi.create("storage-set",{originalErrorMessage:ft.message})}})).apply(this,arguments)}function vi(ut){return`${ut.name}!${ut.options.appId}`}class io{constructor(he){this.container=he,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new Dt(ft),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var he=this;return(0,c.Z)(function*(){const At=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=Si();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==on&&!he._heartbeatsCache.heartbeats.some(nn=>nn.date===on))return he._heartbeatsCache.heartbeats.push({date:on,agent:At}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(nn=>{const K=new Date(nn.date).valueOf();return Date.now()-K<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,c.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const ft=Si(),{heartbeatsToSend:At,unsentEntries:on}=function bi(ut,he=1024){const ft=[];let At=ut.slice();for(const on of ut){const nn=ft.find(K=>K.agent===on.agent);if(nn){if(nn.dates.push(on.date),Vi(ft)>he){nn.dates.pop();break}}else if(ft.push({agent:on.agent,dates:[on.date]}),Vi(ft)>he){ft.pop();break}At=At.slice(1)}return{heartbeatsToSend:ft,unsentEntries:At}}(he._heartbeatsCache.heartbeats),nn=(0,fe.L)(JSON.stringify({version:2,heartbeats:At}));return he._heartbeatsCache.lastSentHeartbeatDate=ft,on.length>0?(he._heartbeatsCache.heartbeats=on,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),nn})()}}function Si(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,c.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function Sr(ut){return en.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var ft=this;return(0,c.Z)(function*(){var At;if(yield ft._canUseIndexedDBPromise){const nn=yield ft.read();return tt(ft.app,{lastSentHeartbeatDate:null!==(At=he.lastSentHeartbeatDate)&&void 0!==At?At:nn.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var ft=this;return(0,c.Z)(function*(){var At;if(yield ft._canUseIndexedDBPromise){const nn=yield ft.read();return tt(ft.app,{lastSentHeartbeatDate:null!==(At=he.lastSentHeartbeatDate)&&void 0!==At?At:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...he.heartbeats]})}})()}}function Vi(ut){return(0,fe.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function tn(ut){fn(new ne.wA("platform-logger",he=>new ae(he),"PRIVATE")),fn(new ne.wA("heartbeat",he=>new io(he),"PRIVATE")),$n(le,"0.7.20",ut),$n(le,"0.7.20","esm2017"),$n("fire-js","")}("")},4859:(wt,xe,V)=>{"use strict";V.d(xe,{H0:()=>_e,wA:()=>B});var c=V(5861),ne=V(2090);class B{constructor(Y,J,oe){this.name=Y,this.instanceFactory=J,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const fe="[DEFAULT]";class ae{constructor(Y,J){this.name=Y,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const J=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(J)){const oe=new ne.BH;if(this.instancesDeferred.set(J,oe),this.isInitialized(J)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:J});Je&&oe.resolve(Je)}catch(Je){}}return this.instancesDeferred.get(J).promise}getImmediate(Y){var J;const oe=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),Je=null!==(J=null==Y?void 0:Y.optional)&&void 0!==J&&J;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Le){if(Je)return null;throw Le}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function le(me){return"EAGER"===me.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(J){}for(const[J,oe]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(J);try{const Le=this.getOrInitializeService({instanceIdentifier:Je});oe.resolve(Le)}catch(Le){}}}}clearInstance(Y=fe){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,c.Z)(function*(){const J=Array.from(Y.instances.values());yield Promise.all([...J.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...J.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=fe){return this.instances.has(Y)}getOptions(Y=fe){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:J={}}=Y,oe=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:oe,options:J});for(const[Le,Ge]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Le)&&Ge.resolve(Je);return Je}onInit(Y,J){var oe;const Je=this.normalizeInstanceIdentifier(J),Le=null!==(oe=this.onInitCallbacks.get(Je))&&void 0!==oe?oe:new Set;Le.add(Y),this.onInitCallbacks.set(Je,Le);const Ge=this.instances.get(Je);return Ge&&Y(Ge,Je),()=>{Le.delete(Y)}}invokeOnInitCallbacks(Y,J){const oe=this.onInitCallbacks.get(J);if(oe)for(const Je of oe)try{Je(Y,J)}catch(Le){}}getOrInitializeService({instanceIdentifier:Y,options:J={}}){let oe=this.instances.get(Y);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(me=Y,me===fe?void 0:me),options:J}),this.instances.set(Y,oe),this.instancesOptions.set(Y,J),this.invokeOnInitCallbacks(oe,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,oe)}catch(Je){}var me;return oe||null}normalizeInstanceIdentifier(Y=fe){return this.component?this.component.multipleInstances?Y:fe:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const J=this.getProvider(Y.name);if(J.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);J.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const J=new ae(Y,this);return this.providers.set(Y,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,xe,V)=>{"use strict";V.d(xe,{Am:()=>me,Ub:()=>_e,Yd:()=>le,in:()=>ne});const c=[];var ne=(()=>{return(Y=ne||(ne={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",ne;var Y})();const B={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},fe=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Te=(Y,J,...oe)=>{if(J<Y.logLevel)return;const Je=(new Date).toISOString(),Le=ae[J];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Le](`[${Je}]  ${Y.name}:`,...oe)};class le{constructor(J){this.name=J,this._logLevel=fe,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ne))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...J),this._logHandler(this,ne.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...J),this._logHandler(this,ne.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...J),this._logHandler(this,ne.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...J),this._logHandler(this,ne.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...J),this._logHandler(this,ne.ERROR,...J)}}function _e(Y){c.forEach(J=>{J.setLogLevel(Y)})}function me(Y,J){for(const oe of c){let Je=null;J&&J.level&&(Je=B[J.level]),oe.userLogHandler=null===Y?null:(Le,Ge,...We)=>{const be=We.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch(ht){return null}}).filter(Ne=>Ne).join(" ");Ge>=(null!=Je?Je:Le.logLevel)&&Y({level:ne[Ge].toLowerCase(),message:be,args:We,type:Le.name})}}}},5861:(wt,xe,V)=>{"use strict";function c(B,fe,ae,Te,le,_e,me){try{var Y=B[_e](me),J=Y.value}catch(oe){return void ae(oe)}Y.done?fe(J):Promise.resolve(J).then(Te,le)}function ne(B){return function(){var fe=this,ae=arguments;return new Promise(function(Te,le){var _e=B.apply(fe,ae);function me(J){c(_e,Te,le,me,Y,"next",J)}function Y(J){c(_e,Te,le,me,Y,"throw",J)}me(void 0)})}}V.d(xe,{Z:()=>ne})}},wt=>{wt(wt.s=7716)}]);